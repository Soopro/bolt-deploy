<!doctype html>
<html lang={{lang}} ng-app=boltApp ng-cloak><head><title ng-bind="_('Soopro Manager')"></title><meta http-equiv=content-type content=text/html;charset=utf-8><meta name=robots content="noindex, nofollow"><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=format-detection content=telephone=yes><meta name=X-UA-Compatible content=IE=edge><meta name=renderer content=webkit><link rel="shortcut icon" href=favicon.png?rev=5c9779d9f7><link rel=apple-touch-icon href=favicon.png?rev=5c9779d9f7><link rel=stylesheet href=app.min.css?rev=5c9779d9f7><link rel=stylesheet href=locale.min.css?rev=5c9779d9f7></head><body layout=row><script type=text/ng-template id=blueprints/404.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section class=text-center flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1>{{_('404 Not Found')}}</h1></header><div><p> {{_('We can not find the page you are looking for, ' + 'click the button below to return.')}} </p><md-button class="md-icon-button md-primary" aria-label="{{_('Back')}}" ng-href=/#/ ><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></div></section></div></div></script><script type=text/ng-template id=blueprints/app/views/apps.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Apps')}}</span></h1></header><md-card ng-show=loaded><md-subheader class=md-no-sticky> {{_('Apps (%s)', apps.length)}} </md-subheader><md-list><md-list-item class="md-2-line text-nowrap-group" ng-repeat="app in apps" ng-click=go(app)><img class="md-avatar img-bg-cover" ng-src={{image.trans}} style={{app.meta.snapshot|thumbnail|bg_img}} ng-if=app.meta.snapshot><md-icon class="md-avatar-icon md-primary" md-svg-icon={{types_map[app.type].ico}} ng-if=!app.meta.snapshot></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{app.meta.title || app.slug }}</h3><p>{{app.meta.description || _('No Description') }}</p></div><div class=md-secondary><md-button class="md-icon-button draft"><md-tooltip md-direction=left md-delay=960> {{_(types_map[app.type].name)}} - {{app.slug}} </md-tooltip><md-icon md-svg-icon=action:ic_info_24px></md-icon></md-button></div></md-list-item><md-list-item ng-if="apps.length <= 0"><div class="md-list-item-text text-center draft"> {{_('No apps created')}} </div></md-list-item><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('Extensions (%s)', exts.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="ext in exts" ng-click="launch_ext(ext, locale)" aria-label="{{_('Launch Extension')}}"><img class="md-avatar img-bg-cover" ng-src={{image.trans}} style={{ext.meta.icon|thumbnail|bg_img}} ng-if=ext.meta.icon><md-icon class=md-avatar-icon md-svg-icon=action:ic_extension_24px ng-if=!ext.meta.icon></md-icon><div class="md-list-item-text text-nowrap-group"><p>{{ext.meta.title || ext.id }}</p></div><div class=md-secondary><md-button class="md-icon-button draft"><md-tooltip md-direction=left md-delay=960> {{_('Author')}} - {{ext.meta.author}} </md-tooltip><md-icon md-svg-icon=action:ic_launch_24px></md-icon></md-button></div></md-list-item><md-list-item ng-if="exts.length <= 0"><div class="md-list-item-text md-caption draft"> {{_('No extensions available')}} </div></md-list-item><md-list-item ng-click=manage_exts()><div class="list-func-wrapper md-text md-primary"><md-icon md-svg-icon=action:ic_build_24px></md-icon><span>{{_('Manage Extensions')}}</span></div></md-list-item></md-list></md-card></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New App')}}" ng-click="create(apps, locale)" ng-show="loaded && app_limit > apps.length" ng-disabled=submitted><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=app.create.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('New App')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Create New App')}}
    </h2>

    <!-- create app -->
    <form class="md-padding"
          name="app_form"
          ng-submit="create(app, app_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="app.meta.title"
               md-maxlength="60"
               required/>
        <ng-messages for="app_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   ng-model="app.type"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="type.key"
                     ng-repeat="type in app_types"
                     ng-if="property.capability >= type.capability">
            {{_(type.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Locale')}}</label>
        <md-select name="locale"
                   ng-model="app.locale"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="loc.code"
                     ng-repeat="loc in locales">
            {{_(loc.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.locale.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('App Slug')}}</label>
        <input name="slug"
               type="text"
               ng-model="app.app_slug"
               ng-pattern="regex_pattern.slug"
               maxlength="120"/>
        <hint for="app_form.slug">
          {{_('* A unique digital mark of this app. '+
              'Use alphanumeric characters or hyphens only.')}}
        </hint>
        <ng-messages for="app_form.slug.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="create(app, app_form)"
               ng-disabled="submitted">
      {{_('Create')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/category.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _(category.name || 'Categories') }} </span></h1></header><div class=md-padding ng-if="category.allowed === false"><h4 class="md-display-1 draft"> {{_('Category is not activated.')}} </h4><hint class=help ng-click="help('category')"> {{_('* Category is active by theme, switch theme if you need it.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div><div ng-if=category.allowed><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection
                                  || terms.length >= terms_limit" ng-click=add_term(terms)> {{_('New Term')}} </md-button><span flex></span><md-button class=md-icon-button ng-click=setting(category) aria-label="{{_('Settings')}}" ng-disabled=sel.selection><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=terms.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, up to %s', terms.length, terms_limit)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Term')}}" ng-repeat="term in terms|paginator:p.paged:p.perpage" ng-class="{'selected': term._selected}" ng-hold="sel.select(term, terms)" ng-click="sel.selection?'':edit_term(term, terms)" delay=!sel.selection><img class="md-avatar img-bg-cover" ng-src={{image.trans}} ng-if=!term.parent style={{(term.meta.figure||image.lib)|thumbnail|bg_img}}><div class="md-list-item-text text-nowrap-group" ng-class="{'md-offset': term.parent}"><p ng-class="{'text-strike': !term.status,
                            'md-caption': term.parent}"> {{term.parent?'- ':''}}{{ term.meta.name || term.id }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{term._selected
                       ? 'toggle:ic_radio_button_checked_24px'
                       : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': term.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show="p.paged * p.perpage < terms.length" ng-click=p.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></div></section></div></div><script type=text/ng-template id=app.category.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Category Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Category Settings')}}
    </h2>
    <!-- category form -->
    <form class="md-padding"
          name="category_form"
          ng-submit="submit(category, category_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="category.name"
               md-maxlength="60"
               required/>
        <hint for="category_form.name">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages for="category_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(category, category_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.term.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Term Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{term._new?_('Add New Term'):_('Edit Term')}}
    </h2>
    <!-- term form -->
    <form class="md-padding"
          name="term_form"
          ng-submit="submit(term, term_form)"
          novalidate>

      <md-input-container class="static md-block"
                          ng-show="property.capability > 2">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-xs"
                 ng-click="switch_figure(term, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_16x10}}"
               style="{{(term.meta.figure||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="term.meta.name"
               md-maxlength="60"
               required/>
        <ng-messages for="term_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="term.key"
               maxlength="120"/>
        <hint>{{_('* Alphanumeric characters or hyphens.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block selector amend"
                          ng-show="property.capability > 2">
        <label>{{_('Parent')}}</label>
        <md-select name="parent"
                   ng-disabled="term._is_parent"
                   ng-model="term.parent">
          <md-option ng-value="''">
            {{_('No Parent')}}
          </md-option>
          <md-option ng-repeat="term in parents"
                     ng-value="term.key">
            {{term.meta.name || term.key}}
          </md-option>
        </md-select>
        <hint ng-if="term._is_parent">
          {{_('* Terms can only allow 2 level nested.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.capability > 2">
        <label>{{_('Priority')}}</label>
        <input name="priority"
               type="number"
               step="1"
               ng-model="term.priority" />
        <ng-messages for="term_form.priority.$error">
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch ng-class="{'draft': !term.status}"
                 ng-model="term.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Enabled')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!term._new"
               ng-click="trash(term)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(term, term_form)"
               ng-disabled="submitted">
      {{term._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_appearance.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Appearance')}}</span></h1></header><md-card ng-if="curr_theme.id === null"><md-card-title><md-card-title-text class=text-nowrap-group><span class="md-title draft text-center"> {{_('No theme activated')}} </span></md-card-title-text></md-card-title></md-card><md-card theme-id={{curr_theme.id}} theme-payload-id={{curr_theme.payload_id}} ng-if=curr_theme.id><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{curr_theme.meta.poster|now|bg_img}}><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title tagname={{curr_theme.config.tagname}}> {{_(curr_theme.meta.title) || _('Unknown Theme')}} {{curr_theme.config.ver}} </span></md-card-title-text></md-card-title><md-card-content><p class="md-caption text-nowrap" ng-if=curr_theme.meta.author> {{_('Author')}}{{_(': ')}}{{curr_theme.meta.author}} </p><p class="md-caption text-nowrap" ng-if=curr_theme.meta.description> {{curr_theme.meta.description}} </p></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Theme Options')}}" ng-show="property.capability > 2" ng-click=edit_theme_options(curr_theme)><md-icon md-svg-icon=action:ic_settings_24px></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Theme Options')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Custom Theme Styles')}}" ng-show=property.expert ng-click=edit_theme_styles(curr_theme)><md-icon md-svg-icon=image:ic_style_24px></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Custom Theme Styles')}} </md-tooltip></md-button><span flex></span><md-button class="md-icon-button md-accent" aria-label="{{_('Upgrade Theme')}}" ng-show=curr_theme.upgradeable ng-click=upgrade(curr_theme)><md-icon md-svg-icon=social:ic_notifications_active_24px></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Upgrade Theme')}} </md-tooltip></md-button><md-button class="md-icon-button md-primary" aria-label="{{_('Reload Theme')}}" ng-show=!curr_theme.upgradeable ng-click=reload(curr_theme)><md-icon md-svg-icon=nav:ic_refresh_24px></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Reload Theme')}} </md-tooltip></md-button></md-card-actions></md-card></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Free Themes')}}</span></h2></header><md-list><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-repeat="theme in themes|paginator:p.paged:p.perpage" ng-click=open(theme)><img class=md-avatar ng-src={{theme.meta.icon|now:theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _(theme.meta.title) }}</h3><p>{{ theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !theme.activated}" md-svg-icon="{{theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show="p.paged * p.perpage < themes.length" ng-click=p.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><md-list ng-show=custom_theme.status><md-subheader class=md-no-sticky> {{_('Custom Theme')}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-click="open_custom(custom_theme, curr_theme)"><img class=md-avatar ng-src={{custom_theme.meta.icon|now:custom_theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _(custom_theme.meta.title) }}</h3><p>{{ custom_theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !custom_theme.activated}" md-svg-icon="{{custom_theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item></md-list><div ng-show="custom_theme.status == 0 && property.artisan"><h4 class=md-subhead> {{_('Upload Custom Theme')}} </h4><p class=md-body-1> {{_('The custom theme must be a zip file < 6Mb. '+ 'It must be written according our theme engine. '+ 'It is forbidden to include any illegal content or '+ 'malicious code within the custom theme. '+ 'You are responsible for the content, availability, '+ 'and compatibility of your custom theme. '+ 'We cannot guarantee the custom theme always work properly, '+ 'and We have the right to delete any custom themes that. '+ 'have already been uploaded.')}} </p><div class=indent-padding><div class=uploadbox-wrapper layout=column><div class=uploadbox ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ng-file-drop ngf-drag-over-class=file-drag-over ng-click="upload_custom('.custom-theme-upload')" layout=row layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show="upload_status == 1" md-mode=indeterminate md-diameter=60></md-progress-circular><md-icon class="md-warn s48" ng-show="upload_status == 2" md-svg-icon=action:ic_report_problem_24px></md-icon><md-icon class="md-accent s48" ng-show="upload_status == 3" md-svg-icon=action:ic_done_24px></md-icon></div></div><input class="ng-hide custom-theme-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{mimetypes}}></div></div></section></div></div><script type=text/ng-template id=app.perf.theme.options.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Theme Options')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Theme Options')}}
    </h2>

    <!-- theme options -->
    <form class="md-padding"
          name="theme_options_form"
          ng-submit="save(theme_options, theme_options_form)"
          novalidate>

      <md-input-container class="md-block selector">
        <label>{{_('Sort By')}}</label>
        <md-select name="sortby"
                   ng-model="theme_options.sortby">
          <md-option ng-value="type.key"
                     ng-repeat="type in sortby_types">
            {{_(type.name)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Perpage Number')}}</label>
        <md-select name="perpage"
                   ng-model="theme_options.perpage">
          <md-option ng-value="val"
                     ng-repeat="val in [6, 12, 24, 48, 60, 3, 1]">
            {{val}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-input-container class="md-block selector"
                          ng-if="theme_options.palettes_scheme">
        <label>{{_('Palette')}}</label>
        <md-select name="palette"
                   ng-model="theme_options.palette">
          <md-option ng-value="''">
            {{_('Default')}}
          </md-option>
          <md-option ng-value="pal"
                     ng-repeat="pal in theme_options.palettes_scheme
                                track by $index">
            <md-icon class="s16"
                     md-svg-icon="toggle:ic_radio_button_checked_24px"
                     style="fill:{{pal}};"></md-icon>
            <span>{{pal.toUpperCase()}}</span>
          </md-option>
        </md-select>
        <ng-messages for="theme_options_form.palette.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>
  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(theme_options, theme_options_form)">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.theme.detail.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Theme Detail')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_(theme_detail.meta.title)}}
    </h2>
    <div class="md-caption text-center">
      {{theme_detail.latest}}
    </div>
    <div class="md-padding">
      <div ng-show="theme_detail.meta.poster">
        <img class="img-bg-cover md-whiteframe-1dp"
             ng-src="{{image.trans_16x10}}"
             style="{{theme_detail.meta.poster
                      |now:theme_detail.updated|bg_img}}" />
      </div>
      <article>
        <p ng-show="theme_detail.meta.author">
          {{_('Author')}}{{_(': ')}}{{theme_detail.meta.author}}
        </p>
        <p class="md-caption text-nowrap"
           ng-if="theme_detail.meta.description">
          {{theme_detail.meta.description}}
        </p>
      </article>
    </div>

    <md-divider></md-divider>

    <div class="md-padding">
      <h2 class="md-title text-center">
        {{_('Previews')}}
      </h2>
      <div class="md-margin"
           ng-repeat="preview in theme_detail.meta.previews">
        <img class="md-whiteframe-1dp"
             ng-src="{{preview|now:theme_detail.updated}}"/>
      </div>
      <p class="md-caption draft text-center"
         ng-if="theme_detail.meta.previews.length <= 0">
        {{_('No Preview Image')}}
      </p>
    </div>
  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
                     aria-label="{{_('Remove Theme')}}"
                     ng-show="theme_detail.customized
                              && property.capability > 2"
                     ng-click="trash(theme_detail)"
                     ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>

    <span flex></span>

    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="theme_detail.activated"
               ng-click="activate(theme_detail)">
      {{theme_detail.activated?_('Activated'):_('Activate')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_options.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('General Options')}}</span></h1></header><form name=app_form ng-submit="save(app, app_form)" novalidate><div layout=row><md-input-container class="md-block static" flex><label>{{_('Logo')}}</label><md-card class=thumbnail ng-click="switch_logo(app, $event)"><img ng-class="{'img-bg-contain': app.meta.logo,
                              'img-bg-lg': !app.meta.logo}" ng-src={{image.trans}} style={{(app.meta.logo||image.default)|bg_img}}><md-tooltip md-delay=960>.png, .jpg</md-tooltip></md-card></md-input-container><md-input-container class="md-block static" flex><label>{{_('Favicon')}}</label><md-card class=thumbnail ng-click="switch_favicon(app, $event)"><img ng-class="{'img-bg-contain': app.meta.favicon,
                              'img-bg-lg': !app.meta.favicon}" ng-src={{image.trans}} style={{(app.meta.favicon||image.default)|bg_img}}><md-tooltip md-delay=960>.png</md-tooltip></md-card></md-input-container></div><md-input-container class="md-block selector"><label>{{_('Locale')}}</label><md-select name=locale ng-model=app.locale ng-disabled=submitted required><md-option ng-value=loc.code ng-repeat="loc in locales"> {{_(loc.name)}} </md-option></md-select><ng-messages for=app_form.locale.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=app.meta.title md-maxlength=60 required><ng-messages for=app_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=app.meta.description md-maxlength=360></textarea><ng-messages for=app_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Keywords')}}</label><md-chips name=tags ng-model=app.tags placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{app.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12 md-add-on-blur></md-chips></div><md-input-container class=md-block><label>{{_('Copyright')}}</label><textarea name=copyright ng-model=app.meta.copyright maxlength=600></textarea><ng-messages for=app_form.copyright.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('License')}}</label><textarea name=license ng-model=app.meta.license maxlength=600></textarea><ng-messages for=app_form.license.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button ng-if=property.expert ng-click=hardcore(app) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button><span flex></span><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-click=destroy(app) ng-disabled=submitted><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Advanced Options')}}</span></h2></header><form name=adv_form ng-submit="save_adv(app, adv_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Site URL')}}</label><md-icon md-svg-icon=action:ic_home_24px></md-icon><input name=site_url type=url ng-model=app.site_url md-maxlength=360><hint class=help for=adv_form.site_url ng-click="help('site_url')"><span> {{_('* A publicly accessible HTTP(s) URL.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=adv_form.site_url.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Additional Head Metadata')}}</label><md-icon md-svg-icon=action:ic_code_24px></md-icon><textarea name=head_metadata ng-model=app.meta.head_metadata maxlength=960></textarea><hint> {{_('* Add custom HTML head metadata (Allow Multiple lines).')}} </hint></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Deploy Key')}}</label><md-icon md-svg-icon=comm:ic_vpn_key_24px></md-icon><input name=deploy_key type=text ng-model=app.deploy_key ng-disabled=!property.expert maxlength=64><md-icon class=md-primary ng-click=refresh_deploy_key(app) md-svg-icon=nav:ic_refresh_24px></md-icon><hint> {{_('* A key used to deploy app.')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class=md-raised type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button ng-class="{'md-warn': app.status,
                                'md-accent': !app.status}" ng-click=toggle_status(app) ng-disabled=submitted><md-icon md-svg-icon=av:ic_stop_24px ng-if=app.status></md-icon><md-icon md-svg-icon=av:ic_play_arrow_24px ng-if=!app.status></md-icon><md-tooltip md-delay=960> {{_(app.status ? 'Stop Running': 'Start Running')}} </md-tooltip></md-button></div></form><div class=space-lg></div><div class=space-margin><h3 class="md-caption md-text md-primary"> {{_('Mutli-Languages')}} </h3><md-list><md-list-item ng-repeat="lang in app.meta.languages" ng-click="edit_lang(lang, app.meta.languages,
                                            $index)"><p class="md-body-1 text-nowrap"> {{ lang.key }} - {{ lang.name }} </p></md-list-item><md-list-item aria-label="{{_('New Language')}}" ng-click="edit_lang(null, app.meta.languages)"><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class=space-margin><h3 class="md-caption md-text md-primary"> {{_('Socials')}} </h3><md-list><md-list-item ng-repeat="social in app.meta.socials" ng-click="edit_social(social, app.meta.socials,
                                              $index)"><p class="md-body-1 text-nowrap"> {{ social.key }} - {{ social.name }} </p></md-list-item><md-list-item aria-label="{{_('New Social Media')}}" ng-click="edit_social(null, app.meta.socials)"><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class=space-margin><h3 class="md-caption md-text md-primary"> {{_('Custom Metas')}} </h3><md-list><md-list-item ng-repeat="(k, v) in app.meta.custom" ng-click="edit_custom(k, app.meta.custom)"><p class="md-body-1 text-nowrap"> {{ k }}{{_(': ')}}{{ v }} </p></md-list-item><md-list-item aria-label="{{_('New Custom Meta')}}" ng-click="edit_custom(null, app.meta.custom)"><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><md-divider></md-divider><div class=md-margin><hint> {{_('* Those composite metas is depend on theme supports.')}} </hint></div></section></div></div><script type=text/ng-template id=app.perf.options.lang.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Language')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{lang._new?_('Add New Language'):_('Edit Language')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="lang_form"
          ng-submit="submit(lang, lang_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="lang.name"
               md-maxlength="60"
               required/>
        <ng-messages for="lang_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector amend">
        <label>{{_('Code')}}</label>
        <md-select name="code"
                   ng-model="lang.key"
                   placeholder="{{_('Select a lang code')}}"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="locale.code"
                     ng-repeat="locale in locales">
            {{locale.code}}
          </md-option>
        </md-select>
        <hint for="lang_form.code">
          {{_('* International standard language code.')}}
        </hint>
        <ng-messages for="lang_form.code.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="lang.url"
               md-maxlength="240" />
        <ng-messages for="lang_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(lang)"
               ng-show="!lang._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(lang, lang_form)">
      {{lang._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.social.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Social')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{social._new?_('Add New Social Media'):_('Edit Social Media')}}
    </h2>

    <!-- soical form -->
    <form class="md-padding"
          name="social_form"
          ng-submit="submit(social, social_form)"
          novalidate>

      <md-input-container class="md-block selector">
        <label>{{_('Social Media')}}</label>
        <md-select name="key"
                   ng-model="social.key"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="so_media.code"
                     ng-repeat="so_media in social_medias">
            {{_(so_media.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="social.name"
               md-maxlength="60"
               required/>
        <ng-messages for="social_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="social.url"
               md-maxlength="240" />
        <hint for="social_form.url">
          {{_('* URL of the social media.')}}
        </hint>
        <ng-messages for="social_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block static">
        <label>{{_('Poster')}}</label>
        <md-card ng-click="switch_figure(social, $event)">
          <img class="img-bg-contain"
               ng-src="{{image.trans_16x10}}"
               style="{{(social.figure||image.default)|bg_img}}">
        </md-card>
        <hint>
          {{_('* Use to social media poster or qr code.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.expert">
        <label>{{_('Script')}}</label>
        <textarea name="script"
                  ng-model="social.scirpt"
                  maxlength="1200"></textarea>
        <hint>
          {{_('* Script is provide by the social media. (Optional)')}}
        </hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(social)"
               ng-show="!social._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(social, social_form)">
      {{social._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.custom.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Custom Meta')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Custom Meta')}}
    </h2>

    <!-- meta form -->
    <form class="md-padding"
          name="meta_form"
          ng-submit="submit(meta, meta_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Meta Key')}}</label>
        <input name="key"
               type="text"
               ng-model="meta.key"
               md-maxlength="60"
               required />
        <ng-messages for="meta_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Value')}}</label>
        <input name="value"
               type="text"
               ng-model="meta.value"
               md-maxlength="600"
               required />
        <ng-messages for="meta_form.value.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(meta)"
               ng-show="!meta._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(meta, meta_form)">
      {{meta._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_verify_file.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _('Verify Files') }} </span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=sel.selection ng-click=add(verify_files)> {{_('Add New')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=verify_files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s verify files in list', verify_files.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Verify File')}}" ng-repeat="verify_file in verify_files" ng-class="{'selected': verify_file._selected}" ng-hold="sel.select(verify_file, verify_files)" ng-click="sel.selection ? ''
                                : edit(verify_file, verify_files)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><h3>{{ verify_file.key }}</h3><p>{{ verify_file.value }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{verify_file._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary md-svg-icon=editor:ic_insert_drive_file_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint class=help ng-click="help('verify_file')"> {{_('* For third-party services verification.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></section></div></div><script type=text/ng-template id=app.perf.verify.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Verify File')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Verify File')}}
    </h2>

    <form class="md-padding"
          name="verify_file_form"
          ng-submit="submit(verify_file, verify_file_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('File Name')}}</label>
        <input name="key"
               type="text"
               ng-model="verify_file.key"
               ng-disabled="!verify_file._new"
               md-maxlength="360"
               required />
        <hint for="verify_file_form.key">
          {{_('* Type the file name exactly.')}}
        </hint>
        <ng-messages for="verify_file_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('File Content')}}</label>
        <textarea name="value"
                  ng-model="verify_file.value"
                  maxlength="1200"
                  rows="3"
                  required></textarea>
        <hint for="verify_file_form.value">
          {{_('* Type the file content exactly.')}}
        </hint>
        <ng-messages for="verify_file_form.value.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(verify_file)"
               ng-show="!verify_file._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(verify_file, verify_file_form)">
      {{verify_file._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/slot.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _('Widget Slots') }} </span></h1></header><div ng-if=!is_empty><md-subheader class=md-no-sticky> {{_('%s slots in list', slots.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="slot in slots" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-click="edit(slot, slots)" flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-primary': slot.status,
                                      'draft': !slot.status}" md-svg-icon=device:ic_now_widgets_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !slot.status}"> {{ slot.key }} </span><span class=md-subhead> {{slot.status ? _('Activated') : _('Deactivated')}} </span></md-card-header-text></md-card-header></md-card></div></div></div><div class=md-padding ng-if=is_empty><h4 class="md-display-1 draft"> {{_('None widget slot available.')}} </h4><hint class=help ng-click="help('widget_slot')"> {{_('* Widget is created by theme, switch theme if you need it.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></section></div></div></script><script type=text/ng-template id=blueprints/crm/views/activities.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Activities')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(activities, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=activities.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s in list, up to %s', activities.length, limit)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="activity in activities" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': activity._selected}" ng-click="sel.selection?'':edit(activity)" flex><md-card-header ng-hold="sel.select(activity, activities)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-accent': activity._selected,
                         'md-primary':activity.status&&!activity._selected}" md-svg-icon="{{ activity._selected
                         ? 'action:ic_done_24px'
                         : 'action:ic_event_24px' }}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{activity.name}} </span><span class=md-subhead> {{_('Appt. %s', activity.count)}} </span></md-card-header-text></md-card-header></md-card></div></div><div class="md-padding text-center draft" ng-if="loaded && !activities.length"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_event_24px></md-icon></div><p class=md-caption> {{_('Click the button bottom right to add a new one.')}} </p></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Activity')}}" ng-click=create() ng-show="!sel.selection && activities.length < limit"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/crm/views/activity_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap"><md-icon ng-class="{'md-primary': activity.status}" ng-if=activity.id md-svg-icon=action:ic_event_24px></md-icon><span> {{activity._new?_('New Activity'):activity.name}} <span></h1></header><form name=activity_form ng-submit="save(activity, activity_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Name')}}</label><input name=name type=text ng-model=activity.name md-maxlength=60 required><hint for=activity_form.name> {{_('* Name can be modify when add to bulletin.')}} </hint><ng-messages for=activity_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Caption')}}</label><textarea name=caption type=text ng-model=activity.caption md-maxlength=360></textarea><hint for=activity_form.caption> {{_('* Please write details on the content page.')}} </hint><ng-messages for=activity_form.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class=field-container><label>{{_('Rules')}}</label><md-list><md-list-item><md-icon md-svg-icon=action:ic_done_all_24px></md-icon><p ng-class="{'draft': !activity.rule.auto_accept}"> {{_('Auto accept')}} </p><md-switch class=md-secondary ng-model=activity.rule.auto_accept></md-switch></md-list-item><md-list-item><md-icon md-svg-icon=action:ic_schedule_24px></md-icon><p ng-class="{'draft': !activity.rule.schedule}"> {{_('Determine a schedule')}} </p><md-switch class=md-secondary ng-model=activity.rule.schedule></md-switch></md-list-item><md-list-item><md-icon md-svg-icon=action:ic_subject_24px></md-icon><p ng-class="{'draft': !activity.rule.demand}"> {{_('Make a demand')}} </p><md-switch class=md-secondary ng-model=activity.rule.demand></md-switch></md-list-item><md-list-item><md-icon md-svg-icon=comm:ic_call_24px></md-icon><p ng-class="{'draft': !activity.rule.contact}"> {{_('Provide contact information')}} </p><md-switch class=md-secondary ng-model=activity.rule.contact></md-switch></md-list-item></md-list></div><div><div layout=row layout-align="center center"><md-button ng-class="{'md-accent': activity.is_adv_mode}" ng-click=toggle_adv_mode()><span>{{_('Advanced Options')}}</span><md-icon class=toggle-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': adv_mode}"></md-icon></md-button></div><div class=anim-show-hide ng-show=adv_mode><md-input-container class="md-block selector"><label>{{_('Allow Specific Member Roles')}}</label><md-select name=roles ng-model=activity.roles ng-disabled=submitted multiple><md-option ng-value=role.slug ng-repeat="role in roles"> {{_(role.name)}} </md-option></md-select><hint> {{_('* Select member roles allow to join this activity. '+ 'Select nothing for all members.')}} </hint></md-input-container><div class="field-container amend"><label>{{_('Case Options')}}</label><div class=space-margin ng-repeat="case in activity.cases"><md-input-container class="tight md-block" md-no-float flex><input type=text ng-model=case.value placeholder="{{_('Empty')}}" maxlength=120><md-icon ng-click="remove_case(activity.cases, $index)" md-svg-icon=content:ic_clear_24px></md-icon></md-input-container></div><div class="md-margin md-padding" ng-if=!activity.cases.length><hint> {{_('* Allowed make demand from cases.')}} </hint></div><md-button class="md-primary anim-show-hide" ng-show="activity.cases.length < cases_limit" ng-click=add_case(activity.cases)> {{_('Add Case')}} {{activity.cases.length}}/{{cases_limit}} </md-button></div></div></div><md-input-container class="md-block amend"><label>{{_('Memo')}}</label><textarea name=memo ng-model=discount.memo md-maxlength=600></textarea><hint>{{_('* Memo is only for yourself to read.')}}</hint><ng-messages for=discount_form.memo.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !activity.status}" ng-model=activity.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=activity.id ng-click=trash(activity)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h2 class="md-headline text-nowrap"><span>{{_('Search Appointments')}}</span></h2></header><div class="md-padding text-center draft" ng-if="loaded && !activity.id"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_date_range_24px></md-icon><p class=md-caption ng-if=!activity.id> {{_('The activity is not created, '+ 'of course nobody made an appointment.')}} </p></div></div><div class="md-padding text-center draft" ng-if="loaded && activity.id && !activity.count"><div class=md-padding><md-icon class="s96 md-primary" ng-click="add(appointments, activity)" md-svg-icon=action:ic_alarm_add_24px></md-icon></div><p class=md-caption ng-if=activity.id> {{_('No appointment at all.')}} </p></div><form name=search_appts_form ng-submit="search(appointments, activity, search_cond)" ng-if="loaded && activity.count" novalidate><md-input-container class="md-block selector amend"><label>{{_('Status')}}</label><md-select name=status ng-model=search_cond.status><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-repeat="st in appt_status" ng-value=st.key> {{_(st.label)}} </md-option></md-select><hint>{{_('* Please prioritize pending appointments.')}}</hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Member Account')}}</label><input name=member_login type=text ng-model=search_cond.member_login maxlength=60><hint>{{_('* Must be the correct member account.')}}</hint></md-input-container><div layout=row><md-button class="md-raised md-primary" type=submit> {{_('Search')}} </md-button><span flex></span><md-button class=md-icon-button aria-label="{{_('Clear')}}" ng-show="activity.count && property.capability > 2" ng-click=cleanup(activity)><md-icon md-svg-icon=content:ic_delete_sweep_24px></md-icon></md-button><md-button class=md-icon-button ng-click="print(activity, search_cond)" ng-show="activity.count && property.capability > 2" aria-label="{{_('Print')}}"><md-icon md-svg-icon=action:ic_print_24px></md-icon></md-button></div></form><div class=space-padding ng-show=queried><div layout=row layout-align="start center"><p class="md-caption indent-padding draft"> {{_('%s remaining', activity.remaining)}} </p><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('New Appointment')}}" ng-disabled="activity.remaining <= 0" ng-click="add(appointments, activity)"><md-icon md-svg-icon=action:ic_alarm_add_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', appointments.length, total_results)}} </md-subheader><md-list-item aria-label="{{_('Open Appointment')}}" ng-class="{'selected': appt._selected}" ng-repeat="appt in appointments" ng-click="open(appt, appointments)"><p ng-class="{'text-strike': appt.status == 2}"> {{ appt.subject }} </p><div class="md-secondary anim-show"><md-icon ng-class="{'md-primary': appt.status == 1}" md-svg-icon={{icon_map[appt.status]}}></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(appointments)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></div></section></div></div><script type=text/ng-template id=crm.appointment.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Appointment Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{appt._new ? _('New Appointment') : _('Appointment')}}
    </h2>
    <!-- appointment form -->
    <form class="md-padding"
          name="appt_form"
          ng-submit="submit(appt, appt_form)"
          novalidate>

      <md-input-container class="md-block selector">
        <label>{{_('Status')}}</label>
        <md-select name="status"
                   placeholder="{{_('Status')}}"
                   ng-model="appt.status">
          <md-option ng-repeat="st in appt_status"
                     ng-value="st.key">
            {{_(st.label)}}
          </md-option>
        </md-select>
      </md-input-container>

      <div class="md-margin text-center"
           ng-if="member">
        <p class="md-body-2 md-text md-warn text-nowrap">
          {{_(member.name)}}
        </p>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Appointment Subject')}}</label>
        <input name="subject"
               type="text"
               ng-model="appt.subject"
               md-maxlength="60"
               ng-disabled="appt.id"
               required/>
        <ng-messages for="appt_form.subject.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-if="!appt.id">
        <label>{{_('Member Account')}}</label>
        <input name="member_login"
               type="text"
               ng-model="appt.member_login"
               required />
        <ng-messages for="appt_form.member.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="field-container amend">
        <md-datepicker name="date"
                       md-placeholder="{{_('Enter date')}}"
                       ng-model="date"
                       ng-disabled="appt.id"
                       md-open-on-focus></md-datepicker>
        <ng-messages for="appt_form.date.$error">
          <ng-message when="valid">
            {{ _('Must be a date.') }}
          </ng-message>
        </ng-messages>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Contact')}}</label>
        <input name="contact"
               type="text"
               ng-model="appt.contact"
               ng-disabled="appt.id"
               md-maxlength="120"/>
        <ng-messages for="appt_form.contact.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Demand')}}</label>
        <textarea name="demand"
                  ng-model="appt.demand"
                  ng-disabled="appt.id"
                  md-maxlength="600"></textarea>
        <ng-messages for="appt_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="appt.memo"
                  md-maxlength="600"></textarea>
        <hint>{{_('* Memo is only for yourself to read.')}}</hint>
        <ng-messages for="appt_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button md-primary"
               aria-label="{{_('Accept')}}"
               ng-click="accept(appt)"
               ng-show="is_pending"
               ng-disabled="submitted">
      <md-icon md-svg-icon="notify:ic_event_available_24px"></md-icon>
    </md-button>
    <md-button class="md-icon-button md-primary"
               aria-label="{{_('Reject')}}"
               ng-click="reject(appt)"
               ng-show="is_pending"
               ng-disabled="submitted">
      <md-icon md-svg-icon="notify:ic_event_busy_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(appt, appt_form)"
               ng-disabled="submitted">
      {{appt._new ? _('Create') : _('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/members.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=50 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Members')}}</span></h1></header><form name=search_member_form ng-submit="search(members, search_cond)" novalidate><md-input-container class="md-block selector"><label>{{_('Member Role')}}</label><md-select name=type ng-model=search_cond.role><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-repeat="role in roles" ng-value=role.slug> {{role.name || role.slug}} </md-option></md-select></md-input-container><md-input-container class="md-block amend"><label>{{_('Member Account')}}</label><input name=member_login type=text ng-model=search_cond.member_login maxlength=600><hint> {{_('* Specify member login ID to narrow the search.')}} </hint></md-input-container><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Search')}} </md-button></form><div ng-show=queried><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', members.length, total_count)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Member')}}" ng-repeat="member in members" ng-click="edit(member, members, roles)"><div class="md-list-item-text text-nowrap-group"><p>{{ member.meta.name || member.login }}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon="{{member.status
                       ?'social:ic_person_24px'
                       :'social:ic_person_outline_24px'}}"></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(members, search_cond)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></div></section><section flex-gt-sm=30 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Member Roles')}}</span></h2></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="roles.length >= role_limit" ng-click=add_role(roles)> {{_('New Member Role')}} ({{roles.length || 0}}/{{role_limit}}) </md-button></div><md-card ng-repeat="role in roles" ng-click="edit_role(role, roles)"><md-card-header><md-card-avatar><md-icon class=md-avatar-icon md-svg-icon=social:ic_group_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group layout-align="start center" layout=row><span class=md-title> {{role.name}} </span><md-tooltip md-delay=960 md-direction=top> {{role.slug}} </md-tooltip></md-card-header-text></md-card-header></md-card><div class=md-margin><hint> {{_('* You can create member roles to group up members.')}} </hint></div></section></div></div><script type=text/ng-template id=crm.member.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{member._new?_('Add New Member'):_('Member Detail')}}
    </h2>
    <!-- member form -->
    <form class="md-padding"
          name="member_form"
          ng-submit="submit(member, member_form)"
          novalidate>

      <div layout="row"
           layout-align="start center">
        <div>
          <img class="s60 md-avatar img-bg-cover"
               ng-src="{{image.trans}}"
               style="{{(member.meta.avatar||image.avatar)|bg_img}}">
        </div>
        <div class="indent-padding" flex>
          <p class="text-nowrap md-text md-primary">
            <md-icon md-svg-icon="{{ member.meta.gender == 0
                     ? 'custom:ic_gender_female_24px'
                     : member.meta.gender == 1 ? 'custom:ic_gender_male_24px'
                     : 'action:ic_help_24px'}}"></md-icon>
            <span>{{member.meta.name || _('Unknow')}}</span>
          </p>
        </div>
      </div>

      <div class="space-lg"></div>

      <md-input-container class="md-block">
        <label>{{_('Member Account')}}</label>
        <input name="login"
               type="text"
               ng-model="member.login"
               maxlength="60"
               disabled/>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Points')}}</label>
        <input name="credit"
               type="number"
               step="1"
               ng-disabled="!editing_credit"
               ng-model="member.credit"/>
        <md-icon ng-click="toggle_editing_credit()"
                 md-svg-icon="{{editing_credit ? 'action:ic_lock_open_24px'
                                : 'action:ic_lock_24px'}}"></md-icon>
        <hint for="member_form.credit">
          {{_('* Manually modify member points, use it with caution!!')}}
        </hint>
        <ng-messages for="member_form.credit.$error">
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Member Role')}}</label>
        <md-select name="role"
                   ng-model="member.role"
                   ng-disabled="submitted">
          <md-option ng-value="''">
            {{_('Default')}}
          </md-option>
          <md-option ng-value="role.slug"
                     ng-repeat="role in roles">
            {{_(role.name)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-switch ng-class="{'draft': !member.status}"
                 ng-model="member.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Activation')}}
      </md-switch>

      <div class="space-sm"></div>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="member.memo"
                  md-maxlength="600"></textarea>
        <hint>{{_('* Memo is only for yourself to read.')}}</hint>
        <ng-messages for="member_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

    <div class="indent-padding">
      <h3 class="md-caption">
        {{_('Member Activities')}} ({{appointments.length}})
      </h3>

      <md-list>
        <md-list-item ng-repeat="appt in appointments">
          <md-icon class="md-avatar-icon"
                   ng-class="{'md-accent': appt.status == 1,
                              'draft': appt.status == 2}"
                   aria-label="{{_('Appointment')}}"
                   md-svg-icon="{{ !appt.status ? 'notify:ic_event_note_24px'
                   : appt.status == 1 ? 'notify:ic_event_available_24px'
                   : 'notify:ic_event_busy_24px'}}"></md-icon>
          <p class="text-nowrap"
             ng-class="{'draft': appt.status == 2 || appt.status == 3}">
            {{appt.subject}}
          </p>
        <md-list-item>
      </md-list>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(member)"
               ng-show="!member._new"
               ng-disabled="member.status||submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(member, member_form)"
               ng-disabled="submitted">
      {{member._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=crm.member.role.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Role Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center"
        created="{{role.creation|dateformat}}"
        modified="{{role.updated|dateformat}}">
      {{role._new ? _('New Member Role') : _('Edit Member Role')}}
    </h2>
    <!-- member role form -->
    <form class="md-padding"
          name="role_form"
          ng-submit="submit(role, role_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="role.name"
               md-maxlength="24"
               required />
        <ng-messages for="role_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               maxlength="120"
               ng-model="role.slug"/>
        <hint>{{_('* Used for friendly URLs and SEO.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(role)"
               ng-show="!role._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(role, role_form)"
               ng-disabled="submitted">
      {{role._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/erp/views/commodities.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Commodities')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(commodities, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=commodities.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s in list, up to %s', commodities.length, limit)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="commodity in commodities" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': commodity._selected}" ng-click="sel.selection?'':edit(commodity)" flex><md-card-header ng-hold="sel.select(commodity, commodities)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-accent': commodity._selected,
                         'md-primary':commodity.status&&!commodity._selected}" md-svg-icon="{{ commodity._selected
                         ? 'action:ic_done_24px'
                         : 'action:ic_shopping_basket_24px' }}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{commodity.name}} </span><span class=md-subhead> {{_('Sales Volume')}} {{commodity.volume}} </span></md-card-header-text></md-card-header></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click="get_more(commodities, sel_status)" flex><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-card></div></div><div class="md-padding text-center draft" ng-if="loaded && !commodities.length"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Click the button bottom right to add a new one.')}} </p></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Commodity')}}" ng-click=create() ng-show="!sel.selection && commodities.length < limit"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/erp/views/commodity_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5 ng-class="{'prevent-interaction': sel.selection}"><header><h1 class="md-headline text-nowrap"><md-icon ng-if=commodity.id ng-class="{'md-primary': commodity.status}" md-svg-icon=action:ic_shopping_basket_24px></md-icon><span> {{commodity._new?_('New Commodity'):commodity.name}} <span></h1></header><form name=commodity_form ng-submit="save(commodity, commodity_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Name')}}</label><input name=name type=text ng-model=commodity.name md-maxlength=60 required><hint for=commodity_form.name> {{_('* Name can be modify when add to shelf.')}} </hint><ng-messages for=commodity_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Sales Volume')}}</label><input name=volume type=number step=1 min=0 ng-disabled=!editing_volume ng-model=commodity.volume><md-icon class=md-primary ng-click=toggle_editing_volume() md-svg-icon="{{editing_volume ? 'action:ic_lock_open_24px'
                                : 'action:ic_lock_24px'}}"></md-icon><hint for=commodity_form.volume> {{_('* Manually modify sales volume, use it with caution!!')}} </hint><ng-messages for=commodity_form.volume.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message><ng-message when=min> {{ _('The number is too small.') }} </ng-message></ng-messages></md-input-container><div class="field-row amend"><div layout=row><md-input-container flex><label>{{_('Min. Price')}}</label><input name=min_price type=number min=0 ng-model=min_price></md-input-container><md-input-container flex><label>{{_('Max. Price')}}</label><input name=max_price type=number min=0 ng-model=max_price></md-input-container><md-icon class=md-primary aria-label="{{_('Calculate')}}" ng-click="get_price_between(commodity, sku_list)" ng-disabled=!sku_list.length md-svg-icon=custom:ic_calculate_24px></md-icon></div><hint> {{_('* The Min. and Max. Price can be calculated '+ 'after SKU is entered.')}} </hint></div><div class="field-container amend"><label>{{_('Spec. Options')}}</label><md-card ng-repeat="item in commodity.spec" ng-click="edit_spec(item, commodity.spec, $index)"><md-card-content><span class="md-body-2 text-nowrap" key={{item.key}}> {{item.label}} </span><div class=space-padding layout=row layout-wrap><div ng-repeat="opt in item.options" flex=25><div class=card-wrap-item layout=column layout-align="center center"><div class="plain-text md-caption text-nowrap" ng-if=!opt.src> {{opt.value}} </div><img class=img-bg-cover ng-if=opt.src ng-src={{image.trans}} style={{opt.src|bg_img}}><md-tooltip ng-if=opt.src md-delay=600> {{opt.value}} </md-tooltip></div></div></div></md-card-content></md-card><md-button class="md-primary anim-show-hide" ng-click=add_spec(commodity.spec) ng-show="commodity.spec.length < spec_limit"><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><span> {{_('New Spec. Option')}} {{commodity.spec.length}}/{{spec_limit}} </span></md-button><div><hint class="md-text md-warn" ng-if=missing_specs> {{_('At least one Spec.')}} </hint></div></div><md-input-container class="md-block amend"><label>{{_('Memo')}}</label><textarea name=memo ng-model=commodity.memo md-maxlength=600></textarea><hint>{{_('* Memo is only for yourself to read.')}}</hint><ng-messages for=commodity_form.memo.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !commodity.status}" ng-model=commodity.status ng-true-value=1 ng-false-value=0> {{_('Put on sale')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="submitted || sel.selection" type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=commodity.id ng-disabled=sel.selection ng-click=trash(commodity)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span> {{_('Stock Management')}} <span></h2></header><div class="md-padding text-center draft" ng-if="loaded && !commodity.allow_sku"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Manage stock units after finish the Commodity Spec. setted.')}} </p></div><div ng-if="loaded && commodity.allow_sku"><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection
                     || (sku_limit <= sku_list.length && commodity.is_various)
                     || (sku_list.length >= 1 && !commodity.is_various)" ng-click="add_sku(commodity, sku_list)"> {{_('New SKU')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-disabled=!commodity.id ng-show=sku_list.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{commodity.is_various ? _('%s / %s', sku_list.length, sku_limit) : _('Only one SKU is allowed')}} </md-subheader><div class="md-padding text-center" ng-if="!sku_list.length && commodity.is_various"><md-icon class="s60 draft" md-svg-icon=action:ic_add_shopping_cart_24px ng-click="batch_add_sku(commodity, sku_list)" ng-disabled=sel.selection></md-icon><div class="md-margin md-caption md-text draft"> {{_('Click here to batch generate SKU')}} </div></div><md-list-item class="md-3-line text-nowrap-group" aria-label="{{_('Manage SKU')}}" ng-class="{'selected': sku._selected}" ng-repeat="sku in sku_list" ng-hold="sel.select(sku, sku_list)" ng-click="sel.selection
                        ? '' : edit_sku(sku, commodity, sku_list)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><h3>{{ sku.detail }}</h3><h4> {{ _('Unit Price')}} {{ sku.price|price }} </h4><p> {{ _('Quantity') }} {{ sku.qty }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{sku._selected
                       ? 'toggle:ic_radio_button_checked_24px'
                       : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-if=!sku.status md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon><md-icon class=md-primary ng-if=sku.status md-svg-icon=action:ic_shopping_cart_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* You must to set multiple spec. options to add various '+ 'stock unit, otherwise the commodity can only have one '+ 'stock unit. When you modified the commodity spec. options, '+ 'you must save the commodity then change all SKU as well. '+ 'SKU will be offline when it is unavailable or duplicated.')}} </hint></div></div></section></div></div><script type=text/ng-template id=erp.commodity.specitem.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Commodity Spec. Option')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ _('Commodity Spec. Option')}}
    </h2>

    <!-- commodity specitem form -->
    <form class="md-padding"
          name="commodity_specitem_form"
          ng-submit="submit(specitem, commodity_specitem_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Label')}}</label>
        <input name="label"
               type="text"
               ng-model="specitem.label"
               md-maxlength="24"
               required />
        <ng-messages for="commodity_specitem_form.label.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="field-container amend">
        <label>{{_('Option Tabs')}}</label>

        <div class="space-margin"
             ng-repeat="opt in specitem.options"
             layout="row"
             layout-align="start center">
          <div class="md-padding short">
            <img class="s48 safe-media-bg img-bg-cover"
                 ng-src="{{image.trans}}"
                 ng-click="select_item_figure(opt, $event)"
                 ng-if="opt.src"
                 style="{{opt.src|bg_img}}"/>
            <md-icon class="s48 md-primary"
                     ng-if="!opt.src"
                     ng-click="select_item_figure(opt, $event)"
                     md-svg-icon="image:ic_photo_24px"></md-icon>
          </div>
          <md-input-container class="tight md-block"
                              md-no-float
                              flex>
            <input type="text"
                   ng-model="opt.value"
                   placeholder="{{_('Empty')}}"
                   maxlength="24"/>
            <md-icon ng-click="remove_item_option(specitem.options, $index)"
                     md-svg-icon="content:ic_clear_24px"></md-icon>
          </md-input-container>
        </div>
        <div class="md-margin"
             ng-if="missing_options">
          <hint class="md-text md-warn">
            {{_('At least one option.')}}
          </hint>
        </div>
        <md-button class="md-primary anim-show-hide"
                   ng-show="specitem.options.length < opt_limit"
                   ng-click="add_item_option(specitem.options)">
          {{_('Add Option')}}
          {{specitem.options.length}}/{{opt_limit}}
        </md-button>
      </div>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               maxlength="120"
               ng-model="specitem.key"/>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="specitem._index"
               required />
        <ng-messages for="commodity_specitem_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(specitem)"
               ng-show="!specitem._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(specitem, commodity_specitem_form)">
      {{ specitem._new?_('Add'):_('Confirm')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=erp.sku.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage SKU')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{sku._new ? _('New SKU') : _('Edit SKU')}}
    </h2>
    <!-- sku form -->
    <form class="md-padding"
          name="sku_form"
          ng-submit="submit(sku, sku_form)"
          novalidate>

      <md-input-container class="md-block selector"
                          ng-repeat="specitem in commodity.spec">
        <label>{{specitem.label}}</label>
        <md-select name="{{specitem.key}}"
                   ng-model="sku.attrs[specitem.key]"
                   required>
          <md-option ng-value="opt.value"
                     ng-repeat="opt in specitem.options">
            {{_(opt.value)}}
          </md-option>
        </md-select>
        <ng-messages for="sku_form[specitem.key].$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Unit Price')}}</label>
        <input name="price"
               type="number"
               ng-model="price"
               min="0"
               required />
        <hint for="sku_form.price">
          {{_('* A Currency, e.g. `16.61`')}}
        </hint>
        <ng-messages for="sku_form.price.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Quantity')}}</label>
        <input name="qty"
               type="number"
               step="1"
               ng-model="sku.qty"
               min="0"
               required />
        <ng-messages for="sku_form.qty.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(sku)"
               ng-show="!sku._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(sku, sku_form)"
               ng-disabled="submitted">
      {{sku._new ? _('Create') : _('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=erp.sku.batch.tmpl.html>
<md-dialog class="max-size-md"
           ng-class="{'max-size-lg': sku_list.length}"
           aria-label="{{_('SKU Batch Generation')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('SKU Batch Generation')}}
    </h2>
    <!-- batch sku form -->
    <form class="md-padding"
          name="batch_sku_form"
          ng-submit="generate(price, qty, sku_list, batch_sku_form)"
          ng-if="!sku_list.length"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Unit Price')}}</label>
        <input name="price"
               type="number"
               ng-model="price"
               min="0"
               required />
        <hint for="batch_sku_form.price">
          {{_('* A Currency, e.g. `16.61`')}}
        </hint>
        <ng-messages for="batch_sku_form.price.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Quantity')}}</label>
        <input name="qty"
               type="number"
               step="1"
               ng-model="qty"
               min="0"
               required />
        <ng-messages for="batch_sku_form.qty.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-button class="md-primary"
                 ng-click="generate(price, qty, sku_list, batch_sku_form)">
        {{_('Generate SKU by all spec. options')}}
      </md-button>
    </form>

    <div class="md-margin"
         ng-if="sku_list.length">
      <hint>{{_('* When the total numbers of SKU is reched the limit, '+
                'it will be generate with the maximum limit.')}}</hint>
    </div>
    <div class="bordered dotted rounded md-padding md-margin"
         layout="row"
         layout-align="center center"
         ng-repeat="sku in sku_list">
      <div class="md-padding text-break"
           flex>
        <span ng-repeat="(k, v) in sku.attrs">{{v}}{{$last?'':'/'}}</span>
      </div>
      <md-input-container class="nonerr"
                          flex="20">
        <label>{{_('Price')}}</label>
        <input ng-model="sku.price"
               type="number"
               min="0">
      </md-input-container>
      <md-input-container class="nonerr"
                          flex="20">
        <label>{{_('Quantity')}}</label>
        <input ng-model="sku.qty"
               type="number"
               step="1"
               min="0">
      </md-input-container>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(sku_list)"
               ng-disabled="submitted || !sku_list.length">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/erp/views/discount_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap"><md-icon ng-class="{'md-primary': discount.status}" ng-if=discount.id md-svg-icon={{icon_map[discount.type]}}></md-icon><span> {{discount._new?_('New Discount'): discount.tagname}} <span></h1></header><form name=discount_form ng-submit="save(discount, links, discount_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Tagname')}}</label><input name=tagname type=text ng-model=discount.tagname md-maxlength=60 required><md-icon md-svg-icon=maps:ic_layers_24px ng-click=edit_tag_alias(discount)></md-icon><hint for=discount_form.tagname> {{_('* Use to display with commoidty.')}} </hint><ng-messages for=discount_form.tagname.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Type')}}</label><md-select name=type placeholder="{{_('Type')}}" ng-model=discount.type required><md-option ng-repeat="type in types" ng-value=type.key> {{_(type.label)}} </md-option></md-select><hint class=help for=discount_form.type ng-click="help('discounts')"> {{_('* Discount will affect prices in several ways.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=discount_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div ng-if="discount.type=='coupon' || discount.type=='bargain'"><div class="field-container amend"><label>{{discount.type == 'coupon' ? _('Discount Rate') : _('Bargain Range') }} {{discount.rate}}%</label><md-slider-container><md-slider min=5 max=95 step=5 ng-model=discount.rate aria-label="{{discount.type == 'coupon'
                                       ? _('Discount Rate')
                                       : _('Bargain Range') }}" md-discrete></md-slider></md-slider-container><hint> {{discount.type == 'coupon' ? _('* For commodity price % off.') : _('* The range of bargaining.')}} </hint></div></div><div ng-if="discount.type == 'voucher'"><div class="field-row amend"><div layout=row><md-input-container class=nonerr flex><label>{{_('Voucher Worth')}}</label><input name=worth type=number min=0 ng-model=worth><ng-messages for=discount_form.worth_rate.$error><ng-message when=min,number></ng-message></ng-messages></md-input-container><md-input-container flex><label>{{_('Spend reached to')}}</label><input name=spend type=number min=0 ng-model=spend></md-input-container></div><hint> {{_('* For payment discount when spend reached.')}} </hint></div></div><div ng-if="discount.type == 'redeem'"><div class="field-row amend"><div layout=row><md-input-container class="selector nonerr" flex><label>{{_('Discount Scale')}}</label><md-select name=sacle ng-model=discount.scale required><md-option ng-repeat="stype in redeem_scale_types" ng-value=stype.val> {{_(stype.label)}} </md-option></md-select><ng-messages for=discount_form.sacle.$error><ng-message when=required></ng-message></ng-messages></md-input-container><md-input-container class=nonerr flex><label>{{_('Redeem Code')}}</label><input name=code type=text maxlength=12 ng-model=discount.code><ng-messages for=discount_form.code.$error><ng-message when=maxlength></ng-message></ng-messages></md-input-container></div><hint> {{_('* Use redeem code to get discount by unit price.')}} </hint></div></div><md-input-container class="md-block amend"><label>{{_('Memo')}}</label><textarea name=memo ng-model=discount.memo md-maxlength=600></textarea><hint>{{_('* Memo is only for yourself to read.')}}</hint><ng-messages for=discount_form.memo.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !discount.status}" ng-model=discount.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=discount.id ng-click=trash(discount)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span> {{_('Discounted Commodities')}} <span></h2></header><div class="md-padding text-center draft" ng-if="loaded && !discount.id"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Manage discounted commodities after Discount setted.')}} </p></div><div ng-if="loaded && discount.id"><div class="md-padding text-center draft" ng-if=!links.length><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_add_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Please add some commodities before set the Discount.')}} </p></div><div ng-if=links.length><div layout=row layout-align="space-between center"><md-button class=md-raised ng-click=toggle_select_all(links)><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon><span>{{_('Toggle Select All')}}</span></md-button></div><md-list><md-list-item class=text-nowrap-group aria-label="{{_('Manage SKU')}}" ng-repeat="link in links"><md-checkbox ng-change="linked_change(link, links)" ng-model=link.linked></md-checkbox><p>{{ link.name }}</p><md-icon class=md-secondary ng-class="{'md-primary': link.status}" md-svg-icon="{{link.status
                       ? 'action:ic_shopping_cart_24px'
                       : 'action:ic_remove_shopping_cart_24px'}}"></md-icon></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* Please choose Commodity to join the discount. '+ 'If the same commodity joined various discounts, '+ 'only the most favorable discount will be triggered '+ 'at the time of purchase.')}} </hint></div></div></div></section></div></div><script type=text/ng-template id=erp.discount.tag.alias.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Tagname Alias')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Tagname Alias')}}
    </h2>
    <div class="md-box text-center">
      <hint>
        {{_('Use tagname alias if you need distinguish locales.')}}
      </hint>
    </div>
    <form class="md-padding"
          name="tag_alias_form"
          ng-submit="save(tag_alias_map, tag_alias_form)"
          novalidate>

      <md-input-container class="md-block"
                          ng-repeat="loc in locales">
        <label>{{loc.name}}</label>
        <input name="{{loc.code}}"
               type="text"
               ng-model="tag_alias_map[loc.code]"
               md-maxlength="60" />
        <ng-messages for="tag_alias_form[loc.code].$error">
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Remove')}}"
               ng-click="remove()">
      <md-icon md-svg-icon="content:ic_remove_circle_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(tag_alias_map, tag_alias_form)">
      {{_('Confirm')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/erp/views/discounts.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Discounts')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_type ng-disabled=sel.selection ng-change="change_status(discounts, sel_type)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-repeat="type in types" ng-value=type.key> {{_(type.label)}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=discounts.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s in list, up to %s', discounts.length, limit)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="discount in discounts" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': discount._selected}" ng-click="sel.selection?'':edit(discount)" flex><md-card-header ng-hold="sel.select(discount, discounts)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-accent': discount._selected,
                         'md-primary': discount.status&&!discount._selected}" md-svg-icon="{{ discount._selected
                         ? 'action:ic_done_24px'
                         : icon_map[discount.type] }}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{discount.tagname}} </span><span class=md-subhead ng-if="discount.type == 'coupon'"> {{_('%s% OFF', discount.rate)}} </span><span class=md-subhead ng-if="discount.type == 'bargain'"> {{_('Bargain %s%', discount.rate)}} </span><span class=md-subhead ng-if="discount.type == 'voucher'"> {{_('Spend %s, -%s', discount.spend|price, discount.worth|price)}} </span><span class=md-subhead ng-if="discount.type == 'redeem'"> {{_('%s% Redemption', discount.scale)}} </span></md-card-header-text></md-card-header></md-card></div></div><div class="md-padding text-center draft" ng-if="loaded && !discounts.length"><div class=md-padding><md-icon class=s96 md-svg-icon=maps:ic_local_play_24px></md-icon></div><p class=md-caption> {{_('Click the button bottom right to add a new one.')}} </p></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Discount')}}" ng-click=create() ng-show="!sel.selection && discounts.length < limit"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/erp/views/orders.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Orders')}}</span></h1></header><form name=search_order_form ng-submit="search(orders, search_cond)" novalidate><div layout-gt-sm=row><div flex-gt-sm=45><md-input-container class="md-block selector"><label>{{_('Status')}}</label><md-select name=status ng-model=search_cond.status ng-disabled=search_specified><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-repeat="st in order_status" ng-if=!st.skip_select ng-value=st.key> {{_(st.label)}} </md-option></md-select></md-input-container><div layout=row><div class=field-container flex><label>{{_('Start Date')}}</label><md-datepicker name=start_date ng-model=start_date ng-change=change_date(search_cond) ng-disabled=search_specified md-max-date=max_date md-placeholder="{{_('Start Date')}}" md-open-on-focus></md-datepicker></div><div class=field-container flex><label>{{_('End Date')}}</label><md-datepicker name=end_date ng-model=end_date ng-change=change_date(search_cond) ng-disabled=search_specified md-max-date=max_date md-placeholder="{{_('End Date')}}" md-open-on-focus></md-datepicker></div></div><div class=space-padding><hint class=md-text ng-class="{'md-warn': error_time_between}"> {{_('* Up to %s days between start and end dates. '+ 'Type and Date option will be skipped when Trade ID '+ 'or Transaction ID is given.', days_between)}} </hint></div></div><div flex-gt-sm=45 flex-offset-gt-sm=10><md-input-container class="md-block amend"><label>{{_('Trade ID')}}</label><input name=name type=text ng-model=search_cond.trade_id maxlength=600><hint> {{_('* Trade ID is automatically generated when make order. '+ 'It can usually be found in store apps.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Transaction ID')}}</label><input name=name type=text ng-model=search_cond.transaction_id maxlength=600><hint> {{_('* Transaction ID is generated by the payment service. '+ 'It can usually be found in payment history.')}} </hint></md-input-container></div></div><div layout-gt-xs=row><md-button class="md-raised md-primary" type=submit> {{_('Search')}} </md-button><md-button class=md-raised ng-click="list_delivery_orders(orders, search_cond)"> {{_('Orders to be delivery')}} </md-button><span flex></span><md-button class=md-icon-button ng-click=print(search_cond) ng-show="property.capability > 2" aria-label="{{_('Print')}}"><md-icon md-svg-icon=action:ic_print_24px></md-icon></md-button></div></form><div class=space-padding ng-show=queried><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s in list, %s total', orders.length, total_results)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="order in orders" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-click="open(order, orders)" flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-accent': order._modified,
                           'md-warn': order.status == -1 && !order._modified,
                           'md-primary': order.status && !order._modified}" md-svg-icon="{{ icon_map[order.status] }}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{order.name}} </span><span class=md-subhead> {{order.trade_id}} </span></md-card-header-text></md-card-header></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click=get_more(orders) flex><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-card></div></div></div></section></div></div><script type=text/ng-template id=erp.order.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Order')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <div layout="row">
      <div class="s24"></div>
      <h2 class="md-title text-center text-upper select-text"
          flex>
        NO.{{order.trade_id}}
      </h2>
      <div>
        <md-icon class="md-primary"
                 md-svg-icon="content:ic_content_copy_24px"
                 ng-clipboard="clipboard(order)"></md-icon>
      </div>
    </div>

    <!-- order form -->
    <form class="md-padding"
          name="order_form"
          ng-submit="submit(order, order_form)"
          novalidate>
      <md-input-container class="md-block selector">
        <label>{{_('Status')}}</label>
        <md-select name="status"
                   ng-model="order.status">
          <md-option ng-repeat="st in order_status"
                     ng-disabled="st.skip_select"
                     ng-value="st.key">
            {{_(st.label)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-if="order.status == 2">
        <label>{{_('Delivery Number')}}</label>
        <input name="delivery"
               ng-model="order.delivery"
               maxlength="600"
               required />
        <ng-messages for="order_form.delivery.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="order.status == 4">
        <label>{{_('Refund ID')}}</label>
        <input name="refund_id"
               ng-model="order.refund_id"
               maxlength="600"
               required />
        <hint for="order_form.refund_id">
          {{_('* You must operate a refund on the payment platform.')}}
        </hint>
        <ng-messages for="order_form.refund_id.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <!-- order info -->
      <div class="field-container">
        <label>{{_('Merchant')}}</label>
        <div class="indent-padding">
          <p class="md-caption select-text">
            {{order.method}} - {{order.merchant_id}}
          </p>
        </div>
      </div>

      <div class="field-container">
        <label>{{_('Transaction')}}</label>
        <div class="indent-padding">
          <p class="md-text md-primary">{{order.payment|price}}</p>
          <p class="md-caption select-text md-text"
             ng-class="{'md-warn': !order.transaction_id}">
            {{order.transaction_id || _('Unknown transaction')}}
          </p>
          <p class="md-caption">{{order.creation|dateformat}}</p>
        </div>
      </div>

      <div class="field-container"
           ng-if="member.id">
        <label>{{_('Member')}}</label>
        <div class="indent-padding">
          <p class="md-text md-primary">{{member.meta.name}}</p>
          <p class="md-caption">{{member.login}}</p>
          <p class="md-caption md-text md-accent">
            {{_('Use %s points.', order.credit_payment)}}
          </p>
        </div>
      </div>

      <div class="field-container">
        <label>{{_('Delivery')}}</label>
        <div class="indent-padding">
          <p class="md-caption">{{order.recipient}}</p>
          <p class="md-caption">{{order.delivery || '-'}}</p>
          <p class="md-caption">{{order.courier_fee|price}}</p>
        </div>
      </div>

      <div class="field-container">
        <label>{{_('Note')}}</label>
        <div class="indent-padding">
          <p class="md-caption">{{order.note || '-'}}</p>
        </div>
      </div>

      <div class="field-container amend">
        <label>{{_('Commodities')}}</label>
        <div class="indent-padding"
             ng-repeat="item in order.items">
          <p class="md-caption">
            [{{item.amount}}] {{item.name}}
            - {{item.detail}}
            - {{item.price|price}}
          </p>
          <p class="md-caption"
             ng-if="item.discounts.length">
            &lt; {{item.discounts.join(' | ')}} &gt;
          </p>
          <md-divider></md-divider>
        </div>
      </div>

      <div class="field-container">
        <label>{{_('Preferential')}}</label>
        <div class="indent-padding">
          <p class="md-caption"
             ng-if="order.voucher_payment">
            {{_('Points')}}
            {{order.credit_payment|price}}
          </p>
          <p class="md-caption"
             ng-if="order.voucher_payment">
            {{_('Voucher')}}
            {{order.voucher_payment|price}}
          </p>
          <p class="md-caption"
             ng-if="order.bargain_payment">
            {{_('Bargain')}}
            {{order.bargain_payment|price}}
          </p>
          <p class="md-caption"
             ng-if="order.redeem_payment">
            {{_('Redeem')}}
            {{order.redeem_payment|price}} [{{order.redeem_code}}]
          </p>
        </div>
      </div>

      <md-input-container class="md-block amend">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="order.memo"
                  md-maxlength="600"></textarea>
        <hint>{{_('* Memo is only for yourself to read.')}}</hint>
        <ng-messages for="order_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

    </form>

  </md-dialog-content>
  <md-dialog-actions layout="end center">
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(order, order_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/extension/views/extensions.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Manage Extensions')}}</span></h1></header><div class=md-padding ng-if=is_empty><h4 class="md-headline draft text-center"> {{_('No extensions available')}} </h4></div><md-list><md-list-item class="text-nowrap-group anim-enter" ng-repeat="ext in extensions"><img class=md-avatar ng-src={{ext.meta.icon||image.default}}><div class="md-list-item-text text-nowrap-group"><h4>{{ext.meta.title || _('Unknow')}}</h4></div><md-menu class=md-secondary><md-button class=md-icon-button ng-class="{'md-primary': ext.status}" aria-label="{{_('Manage Extension')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_extension_24px></md-icon></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-disabled=!ext.status ng-click="launch_ext(ext, locale)"> {{_('Launch Extension')}} </md-button></md-menu-item><md-menu-item><md-button ng-href={{ext.site_url}} target=_blank> {{_('Detail')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=toggle_ext(ext)> {{ext.status?_('Deactivate'):_('Activate')}} </md-button></md-menu-item><md-menu-item><md-button class=md-warn ng-click="uninstall(ext, extensions)" ng-disabled=submitted> {{_('Uninstall')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item><div ng-if=ext_instls.length><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('Free extension installation')}} </md-subheader><md-list-item class="text-nowrap-group anim-enter" ng-repeat="instl in ext_instls"><img class=md-avatar ng-src={{instl.meta.icon||image.default}}><div class="md-list-item-text text-nowrap-group"><h4>{{instl.meta.title || _('Unknow')}}</h4></div><md-menu class=md-secondary><md-button class="md-icon-button md-accent" aria-label="{{_('Manage Extension')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=content:ic_unarchive_24px></md-icon></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-href={{instl.site_url}} target=_blank> {{_('Detail')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-accent ng-click=install(instl)> {{_('Install')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></div></md-list></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Install Extension')}}</span></h2></header><article ng-if="lang == 'en'"><p> Extensions are designed for unique and simple features. We provide several extensions are free for everyone to use. When using extension, it may read data that you have been authorized. You can terminate your authorization at any time. </p><p> We allow user to upload custom extensions. But, You must be fully responsible for the unpredictable consequences of installing custom extensions. </p></article><article ng-if="lang == 'zh'"><p> 扩展插件是为了满足各种独特的简单功能而设计的。 我们将开发一些常用的扩展插件免费供大家安装使用。 扩展插件可能会读取你授权的数据， 你可以随时停止授权或者停用插件来终止插件读取这类数据。 </p><p> 我们允许用户上传自定义扩展插件。 但是，你必须要自行承担因此带来的各种不可以预计的后果。 </p></article><md-divider class=dotted></md-divider><div><h3 class=md-body-2> {{_('Upload Custom Extension')}} </h3><article ng-if="lang == 'en'"></article><article ng-if="lang == 'zh'"></article><div class=uploadbox-wrapper layout=column><div class=uploadbox ng-class="{'draft': extensions.length >= exts_limit}" ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ng-file-drop ngf-drag-over-class=file-drag-over ng-click="upload_ext('.ext-installation-upload')" layout=row layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show="upload_status == 1" md-mode=indeterminate md-diameter=60></md-progress-circular><md-icon class="md-warn s48" ng-show="upload_status == 2" md-svg-icon=action:ic_report_problem_24px></md-icon><md-icon class="md-accent s48" ng-show="upload_status == 3" md-svg-icon=action:ic_done_24px></md-icon></div></div><input class="ng-hide ext-installation-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{mimetypes}}></div></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/login.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><md-icon class=logo md-svg-src=logo.svg></md-icon></header><form name=auth_form ng-submit="login(auth, auth_form)" novalidate><md-input-container class=md-block><label>{{_('Account')}}</label><input name=login type=email ng-model=auth.login required><ng-messages for=auth_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Password')}}</label><input name=passwd type=password ng-model=auth.passwd ng-pattern=regex_pattern.passwd required><ng-messages for=auth_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Login')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/recovery> {{_('Forget password?')}} </md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/recovery.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Recovery')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(rec, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=rec.login ng-disiabled=checked required><ng-messages for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><form name=rec_form layout=column ng-show=step==1 ng-submit="recovery(rec, rec_form)" novalidate><div><p> {{_('An Recovery captcha has been sent to %s.', rec.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Recovery captcha')}}</label><input name=captcha type=text ng-model=rec.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(rec)></md-icon><ng-messages for=rec_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=rec.passwd maxlength=50 ng-pattern=regex_pattern.passwd required><hint for=rec_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=rec_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password maxlength=50 ng-model=rec.passwd2 password-verify=rec.passwd required><ng-messages for=rec_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Recovery')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been recovered.', rec.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class=md-raised ng-disabled=submitted ng-href=/#/gate/login> {{_('Go Login')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/register.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Register')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(reg, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=reg.login ng-disiabled=checked required><ng-messages for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Invitation Code')}}</label><input name=code type=text ng-model=reg.code maxlength=100 ng-required=invite_required><ng-messages for=check_form.code.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><form name=reg_form ng-show="step == 1" ng-submit="register(reg, reg_form)" novalidate><div><p> {{_('A Register captcha has been sent to %s.', reg.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Register captcha')}}</label><input name=captcha type=text ng-model=reg.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(reg)></md-icon><ng-messages for=reg_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=slug type=text ng-model=reg.slug ng-pattern=regex_pattern.slug md-maxlength=24 required><hint for=reg_form.slug> {{_('* Alphanumeric characters or hyphens.')}} </hint><ng-messages for=reg_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('Set Password')}}</label><input name=passwd type=password ng-model=reg.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=reg_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=reg_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=reg.passwd2 password-verify=reg.passwd maxlength=60 required><ng-messages for=reg_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Create')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been registered.', reg.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class="btn md-raised" ng-disabled=submitted ng-href=/#/ > {{_('Enter')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/info/views/info.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header layout-align-gt-xs="start center" layout-align="center center" ng-click=activate()><md-icon class=logo ng-class="{'md-accent': property.expert}" md-svg-src=logo.svg></md-icon></header><article ng-if="lang == 'en'"><p> Soopro is a cloud based multi-channel marketing software. </p><p> We can help you eaiser manage online contents and business. such as Brand Website, WeChat Buzz, Mobile Showreel and Mini Store. It is a wise choose for your online business. </p></article><article ng-if="lang == 'zh'"><p> 速铺是一个云端多渠道市场营销应用软件。 </p><p> 我们可以帮助你轻松的管理得管理多个线上发布渠道的内容。 例如，品牌网站、微信公众号、移动展示、小程序商店等。 这是你迈出线上业务第一步的好帮手。 </p></article><md-divider></md-divider><div><p class=md-caption> {{_('R.I.P: %s', project.rip.join(', '))}} </p><p class=md-caption> {{_('Version: %s %s', project.name, project.version)}} </p><p class=md-caption> {{_('Creators: %s', project.creator.join(', '))}} </p></div></section></div></div></script><script type=text/ng-template id=blueprints/media/views/media.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Media Files')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Repository')}}" ng-model=sel_repo ng-disabled="sel.selection || isolated" ng-change="change_repo(mediafiles, sel_repo)"><md-optgroup label="{{_('Generic')}}" ng-if=!isolated><md-option ng-value="'g'"> {{_('Composite')}} </md-option></md-optgroup><md-optgroup label="{{_('Apps')}}"><md-option ng-repeat="repo in repositories" ng-value=repo.slug> {{repo.meta.title || repo.slug}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=mediafiles.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', mediafiles.length, storage.used)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Media')}}" ng-repeat="media in mediafiles" ng-class="{'selected': media._selected}" ng-hold="sel.select(media, mediafiles)" ng-click="sel.selection?'':edit(media, mediafiles)" delay=!sel.selection><img class="md-avatar img-bg-cover" ng-if="media.type == 'image'" ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}><md-icon class=md-avatar-icon md-svg-icon={{media_icons[media.type]}} ng-if="media.type != 'image'"></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ media.filename || '-' }}</h3><p>&nbsp;- {{ media.mimetype }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{media._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary md-svg-icon=image:ic_crop_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(mediafiles, sel_repo)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=media.edit.tmpl.html>
<md-dialog aria-label="{{_('Media Edit')}}"
           flex>
  <md-toolbar class="bg-trans md-hue-3">
    <div class="md-toolbar-tools">
      <span>
        {{_('Media Edit')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('URL')}}"
                 ng-click="open_url(media.src)">
        <md-icon md-svg-icon="content:ic_link_24px"></md-icon>
      </md-button>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content layout="row"
                     flex>
    <!-- edit area -->
    <div class="media-preview"
         ng-if="!editable_media"
         layout="column"
         layout-align="center center"
         flex>
      <img ng-src="{{media.src}}"
           ng-if="media.type == 'image'"
           flex />
      <video ng-src="{{media.src}}"
             ng-if="media.type == 'video'"
             controls></video>
      <audio ng-src="{{media.src}}"
             ng-if="media.type == 'audio'"
             controls></audio>
      <md-icon class="s96"
               md-svg-icon="{{media_icons[media.type]}}"
               ng-if="media.type == 'application'"></md-icon>
    </div>
    <div ng-if="editable_media && media.src"
         layout="column"
         layout-align="center center"
         flex>
      <div class="media-editor md-accent"
           flex="80">
        <div bagua-image-editor
             img-src="media.original"
             img-recipe="media.recipe">
        </div>
      </div>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(media)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="submitted"
               ng-click="save(media)">
      {{editable_media ? _('Save') : _('Refresh')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/station/views/modern.html><div class=station layout=row flex><div class=editor-sidebar layout=column ng-class="{'mobile': is_mobile}" ng-show=sidebar_opened><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Back') }}" ng-click=back()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Back')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group show-gt-sm hide><md-button class=md-icon-button aria-label="{{ _('Desktop') }}" ng-disabled="device == 'desktop'" ng-click="select_device('desktop')"><md-icon md-svg-icon=hardware:ic_computer_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Desktop')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Tablet') }}" ng-disabled="device == 'tablet'" ng-click="select_device('tablet')"><md-icon md-svg-icon=hardware:ic_tablet_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Tablet')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Smartphone') }}" ng-disabled="device == 'phone'" ng-click="select_device('phone')"><md-icon md-svg-icon=hardware:ic_smartphone_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Smartphone')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Preview') }}" ng-href={{file.url|now:file.updated}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Preview')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Property') }}" ng-click=property_toggle()><md-icon md-svg-icon=action:ic_assignment_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Property')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Save') }}" ng-click=save(file)><md-icon md-svg-icon=content:ic_save_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Save')}} </md-tooltip></md-button></div><md-divider></md-divider><span flex></span><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Delete') }}" ng-disabled="file.locked || file.is_reserved" ng-click=trash(file)><md-icon md-svg-icon=action:ic_delete_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Delete')}} </md-tooltip></md-button></div></div><div class=editor-body layout=row flex><div id=saw-editor-toolbar class="modern-editor-toolbar anim-show-hide md-whiteframe-1dp" ng-show=toolbar_opened><md-menu md-offset="0 -5" ng-init="text_type={
            div: 'Plain Text',
            p: 'Paragraph',
            blockquote: 'Quote',
            h2: 'Title',
            h3: 'Subtitle',
            h4: 'Heading',
            h5: 'Subhead',
         }"><md-button class=select-text-style ng-click=$mdMenu.open($event)><span>{{_(text_type[curr_text_type] || 'Text')}}</span><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button><md-menu-content class=editor-text-style-menu width=2><md-menu-item><md-button class=btn-p> {{_(text_type.p)}} </md-button></md-menu-item><md-menu-item><md-button class=btn-blockquote> {{_(text_type.blockquote)}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-h2><span class=md-headline>{{_(text_type.h2)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h3><span class=md-title>{{_(text_type.h3)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h4><span class=md-subhead>{{_(text_type.h4)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h5><span class=md-body-2>{{_(text_type.h5)}}</span></md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-div> {{_(text_type.div)}} </md-button></md-menu-item></md-menu-content></md-menu><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Font Size')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_size_24px></md-icon><md-tooltip md-delay=960>{{_('Font Size')}}</md-tooltip></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-big>{{_('Large')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-small>{{_('Small')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sub>{{_('Subscript')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sup>{{_('Superscript')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-i" aria-label="{{_('Italic')}}"><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon><md-tooltip md-delay=960>{{_('Italic')}}</md-tooltip></md-button><md-button class="md-icon-button btn-b" aria-label="{{_('Bold')}}"><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon><md-tooltip md-delay=960>{{_('Bold')}}</md-tooltip></md-button><md-button class="md-icon-button btn-strike" aria-label="{{_('Strikethrough')}}"><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon><md-tooltip md-delay=960>{{_('Strikethrough')}}</md-tooltip></md-button><md-button class="md-icon-button btn-underline" aria-label="{{_('Underline')}}"><md-icon md-svg-icon=editor:ic_format_underlined_24px></md-icon><md-tooltip md-delay=960>{{_('Underline')}}</md-tooltip></md-button><md-button class="md-icon-button btn-mark" aria-label="{{_('Mark Text')}}"><md-icon md-svg-icon=editor:ic_format_paint_24px></md-icon><md-tooltip md-delay=960>{{_('Mark Text')}}</md-tooltip></md-button><md-button class="md-icon-button btn-clear" aria-label="{{_('Clear Text Format')}}"><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon><md-tooltip md-delay=960>{{_('Clear Text Format')}}</md-tooltip></md-button><md-button class="md-icon-button btn-hr" aria-label="{{_('Divider')}}"><md-icon md-svg-icon=content:ic_remove_24px></md-icon><md-tooltip md-delay=960>{{_('Divider')}}</md-tooltip></md-button><md-button class="md-icon-button btn-a" aria-label="{{_('Link')}}"><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon><md-tooltip md-delay=960>{{_('Link')}}</md-tooltip></md-button><md-button class="md-icon-button btn-img" aria-label="{{_('Image')}}"><md-icon md-svg-icon=image:ic_image_24px></md-icon><md-tooltip md-delay=960>{{_('Image')}}</md-tooltip></md-button><md-button class="md-icon-button btn-ol" aria-label="{{_('Ordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon><md-tooltip md-delay=960>{{_('Ordered list')}}</md-tooltip></md-button><md-button class="md-icon-button btn-ul" aria-label="{{_('Unordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon><md-tooltip md-delay=960>{{_('Unordered list')}}</md-tooltip></md-button><md-button class="md-icon-button btn-outdent" aria-label="{{_('Outdent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_decrease_24px></md-icon><md-tooltip md-delay=960>{{_('Outdent')}}</md-tooltip></md-button><md-button class="md-icon-button btn-indent" aria-label="{{_('Indent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_increase_24px></md-icon><md-tooltip md-delay=960>{{_('Indent')}}</md-tooltip></md-button><md-button class="md-icon-button btn-jleft" aria-label="{{_('Align left')}}"><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon><md-tooltip md-delay=960>{{_('Align left')}}</md-tooltip></md-button><md-button class="md-icon-button btn-jcenter" aria-label="{{_('Align center')}}"><md-icon md-svg-icon=editor:ic_format_align_center_24px></md-icon><md-tooltip md-delay=960>{{_('Align center')}}</md-tooltip></md-button><md-button class="md-icon-button btn-jright" aria-label="{{_('Align right')}}"><md-icon md-svg-icon=editor:ic_format_align_right_24px></md-icon><md-tooltip md-delay=960>{{_('Align right')}}</md-tooltip></md-button><md-button class="md-icon-button btn-jfull" aria-label="{{_('Align Justify')}}"><md-icon md-svg-icon=editor:ic_format_align_justify_24px></md-icon><md-tooltip md-delay=960>{{_('Align Justify')}}</md-tooltip></md-button><md-button class="md-icon-button btn-undo" aria-label="{{_('Undo')}}"><md-icon md-svg-icon=content:ic_undo_24px></md-icon><md-tooltip md-delay=960>{{_('Undo')}}</md-tooltip></md-button><md-button class="md-icon-button btn-redo" aria-label="{{_('Redo')}}"><md-icon md-svg-icon=content:ic_redo_24px></md-icon><md-tooltip md-delay=960>{{_('Redo')}}</md-tooltip></md-button><md-button class="md-icon-button md-accent btn-preset" aria-label="{{_('Content Presets')}}"><md-icon md-svg-icon=device:ic_now_wallpaper_24px></md-icon><md-tooltip md-delay=960>{{_('Content Presets')}}</md-tooltip></md-button><md-button class="md-icon-button md-accent btn-script" aria-label="{{_('Script Code')}}" ng-if=property.expert><md-icon md-svg-icon=action:ic_build_24px></md-icon><md-tooltip md-delay=960>{{_('Script Code')}}</md-tooltip></md-button><md-button class="md-icon-button md-accent btn-html" aria-label="{{_('HTML Code')}}" ng-if=property.expert><md-icon md-svg-icon=custom:ic_html_code_24px></md-icon><md-tooltip md-delay=960>{{_('HTML Code')}}</md-tooltip></md-button></div><div class="editor-canvas modern" ng-mousedown=blur_canvas() layout=row layout-align="center center" flex><div class="md-padding max-size-md" ng-show=!canvas_displayed flex><md-progress-linear class=md-accent md-mode=indeterminate></md-progress-linear></div><div class=canvas ng-show=canvas_displayed ng-class=device><iframe scrolling=auto src=canvas></iframe></div></div></div><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=editor_property layout=column><md-content flex><form name=forms.property ng-submit=save(file) novalidate><md-subheader class="md-no-sticky md-primary"> {{_('Property')}} </md-subheader><div class=md-padding><md-input-container class="md-block static"><label>{{_('Featured Image')}}</label><md-card class=max-size-xs ng-click=select_featured_img(file)><img class=img-bg-cover ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                           | bg_img}}"></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=forms.property.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=forms.property.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=file.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{file.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12 md-add-on-blur></md-chips></div><md-input-container class="md-block selector" ng-if=category><label>{{_(category.name)}}</label><md-select ng-model=file.terms multiple><div ng-repeat="term in category.terms"><md-option ng-value=term.key> {{_(term.meta.name)}} </md-option><md-option class=md-caption ng-value=child.key ng-repeat="child in term.nodes"> - {{_(child.meta.name)}} </md-option></div><div class="md-padding md-caption text-center draft" ng-if=!category.terms.length> {{_('No Term')}} </div></md-select></md-input-container><div class=field-container><label>{{_('Template')}}</label><md-menu layout=column><md-button class="md-primary text-nowrap" ng-click=$mdMenu.open($event)> {{file.template}} </md-button><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'faded': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-contain" ng-click="switch_template(file, tmpl)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p>{{tmpl.key}}</p></md-menu-item></md-menu-content></md-menu></div><md-input-container class=md-block><label>{{_('Author')}}</label><input name=author type=text ng-model=file.meta.author md-maxlength=24><md-icon md-svg-icon=action:ic_perm_identity_24px ng-click=get_author(file)></md-icon><ng-messages for=forms.property.author.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Date')}}</label><md-datepicker name=date md-placeholder="{{_('Enter date')}}" ng-model=date md-open-on-focus></md-datepicker><ng-messages for=forms.property.date.$error><ng-message when=valid> {{ _('Must be a date.') }} </ng-message></ng-messages></div><div class=switch-container><md-switch ng-class="{'draft': !file.status}" ng-model=file.status ng-true-value=1 ng-false-value=0> {{_('Publish')}} </md-switch></div></div><md-subheader class=md-primary> {{_('Advanced')}} </md-subheader><div class=md-padding><md-input-container class="md-block amend"><label>{{_('URL Slug')}}</label><input name=slug type=text ng-model=file.slug ng-pattern=regex_pattern.slug ng-disabled="!property.expert || file.locked" maxlength=120 required><hint for=forms.property.slug> {{_('* Used for friendly URLs and SEO.')}} </hint><ng-messages for=forms.property.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div class=field-container ng-show="property.capability > 2"><label>{{_('Head Metadata')}}</label><div layout=column><md-button class="md-primary text-nowrap" ng-click=edit_head_meta(file)> {{_('Edit Head Metadata')}} </md-button></div></div><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Parent')}}</label><input name=parent type=text ng-pattern=regex_pattern.slug ng-model=file.parent maxlength=240><ng-messages for=forms.property.parent.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Priority')}}</label><input name=priority type=number step=1 ng-model=file.priority><ng-messages for=forms.property.priority.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Redirect to')}}</label><input name=redirect type=url ng-model=file.redirect md-maxlength=360><ng-messages for=forms.property.redirect.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></div></form><div class="text-right md-margin" ng-if=property.expert><md-button class=md-icon-button ng-click=meta_hardcore(file) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></md-content></md-sidenav></div></script><script type=text/ng-template id=blueprints/station/views/strict.html><div class=station layout=row flex><div class=editor-sidebar layout=column ng-class="{'mobile': is_mobile}"><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Back') }}" ng-click=back()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Back')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group show-gt-sm hide><md-button class=md-icon-button aria-label="{{ _('Fullscreen') }}" ng-disabled=!minify ng-click=toggle_minify(false)><md-icon md-svg-icon=nav:ic_fullscreen_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Fullscreen')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Minify') }}" ng-disabled=minify ng-click=toggle_minify(true)><md-icon md-svg-icon=nav:ic_fullscreen_exit_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Minify')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Save') }}" ng-click="save(file, strict_edit_form)"><md-icon md-svg-icon=content:ic_save_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Save')}} </md-tooltip></md-button></div><md-divider></md-divider><span flex></span><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Delete') }}" ng-disabled="file.locked || file.is_reserved" ng-click=trash(file)><md-icon md-svg-icon=action:ic_delete_24px></md-icon><md-tooltip md-direction=right md-delay=960> {{_('Delete')}} </md-tooltip></md-button></div></div><div class=editor-body layout=row flex><div class="editor-canvas strict" layout=row layout-align="center center" flex-gt-sm=50 flex-offset-gt-sm=5 show-gt-sm hide><div class=canvas ng-class="{'minify': minify}"><iframe scrolling=auto src=canvas></iframe></div></div><md-content class=md-whiteframe-1dp flex-gt-sm layout=column><form name=strict_edit_form ng-submit="save(file, strict_edit_form)" novalidate><md-subheader class="md-no-sticky md-primary"> {{ _('Edit Content') }} </md-subheader><div class=md-padding><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=strict_edit_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block static"><label>{{_('Featured Image')}}</label><md-card class=max-size-xs ng-click=select_featured_img(file)><img class="img-bg-cover safe-media-bg" ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                             | bg_img}}"></md-card></md-input-container><div class="field-container amend" ng-show=!canvas_displayed><label>{{_('Loading Custom Fields')}}</label><div class=md-padding><md-progress-linear class=md-accent md-mode=indeterminate></md-progress-linear></div></div><div ng-show=canvas_displayed><div ng-repeat="field in field_structures"><md-input-container class=md-block ng-if="field.type == 'text'"><label>{{field.label}}</label><textarea ng-model=file.meta[field.key] maxlength=600></textarea></md-input-container><md-input-container class="md-block static" ng-if="field.type == 'media'"><label>{{field.label}}</label><md-card class=max-size-sm ng-click=select_media(field.target)><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(file.meta[field.key].src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class="md-block static" ng-if="field.type == 'bg'"><label>{{field.label}}</label><md-card class=max-size-sm ng-click=select_bg(field.target)><img class=img-bg-cover ng-src={{image.trans}} style={{(file.meta[field.key].src||image.default)|bg_img}}></md-card></md-input-container><div class="field-container amend" ng-if="field.type == 'link'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_link(field.target)><md-icon md-svg-icon=content:ic_link_24px></md-icon><span>{{_('Edit Link')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'attrs'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_attrs(field.target)><md-icon md-svg-icon=action:ic_settings_24px></md-icon><span>{{_('Edit Attributes')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'script'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_script(field.target)><md-icon md-svg-icon=action:ic_code_24px></md-icon><span>{{_('Edit Script')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'carousel'"><label>{{field.label}}</label><md-card class=media-reel ng-click=edit_carousel(field.target)><div class=md-margin ng-if="file.meta[field.key].length > 0" layout=row layout-wrap><div ng-repeat="item in file.meta[field.key]" flex=20><img class=img-bg-cover ng-src={{image.trans}} style={{item.src|bg_img}}></div></div><div class="md-margin md-padding" ng-if="file.meta[field.key].length <= 0" layout=row layout-align="center center"><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-card></div><div class="field-container amend" ng-if="field.type == 'catalog'"><label>{{field.label}}</label><md-button class=fixed-width ng-class="{'md-primary': field.target.data.length}" ng-click=edit_catalog(field.target)><div class=md-padding><md-icon class=s48 md-svg-icon=custom:ic_vertical_split_24px></md-icon><div>{{_('Edit Catalog')}}</div></div></md-button></div><div class="field-container amend" ng-if="field.type == 'series'"><label>{{field.label}}</label><div layout=row layout-wrap><div class="wrap-card anim-show-hide" flex=20 layout=column ng-repeat="item in file.meta[field.key]"><md-card ng-click="edit_series_item(field.target, $index)"><img class=img-bg-cover ng-src={{image.trans}} style={{(item.src||image.default)|bg_img}}></md-card></div><div class="wrap-card anim-show-hide" ng-if="file.meta[field.key].length <= field.target.limit" flex=20><md-card ng-click=add_series_item(field.target)><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></div></md-card></div></div></div><div class="field-container amend" ng-if="field.type == 'lines'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_lines(field.target)><md-icon md-svg-icon=action:ic_view_headline_24px></md-icon><span>{{_('Edit Lines')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'slot'"><label>{{field.label}}</label><md-button class=md-primary ng-click="edit_slot(field.key, field.target.options)"><md-icon md-svg-icon=device:ic_widgets_24px></md-icon><span>{{_('Manage Widget Slot')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'shelf'"><label>{{_('Commodity Shelf')}}</label><md-button class=fixed-width ng-class="{'md-primary': field.target.data.commodity_id,
                          'md-accent': field.target.data.customize}" ng-click=edit_shelf(field.target)><div class=md-padding><md-icon class=s48 md-svg-icon=action:ic_shopping_cart_24px></md-icon><div>{{_('Manage Commodity Shelf')}}</div></div></md-button></div><div class="field-container amend" ng-if="field.type == 'bulletin'"><label>{{_('Activity Bulletin')}}</label><md-button class=fixed-width ng-click=edit_bulletin(field.target)><div class=md-padding><md-icon class=s48 md-svg-icon=action:ic_event_24px></md-icon><div>{{_('Manage Activity Bulletin')}}</div></div></md-button></div></div><div class="field-container amend" ng-if=has_saw_editor><label>{{_('Body Text')}}</label><div class=md-margin><div id=strict-editor-toolbar class=strict-editor-toolbar><md-menu md-offset="0 -5"><md-button class=select-text-style ng-click=$mdMenu.open($event) ng-init="text_type={
                      div: 'Plain Text',
                      p: 'Paragraph',
                      blockquote: 'Quote',
                      h2: 'Title',
                      h3: 'Subtitle',
                      h4: 'Heading',
                      h5: 'Subhead',
                   }"><span>{{_(text_type[curr_text_type] || 'Text')}}</span><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button><md-menu-content class=editor-text-style-menu width=2><md-menu-item><md-button class=btn-p> {{_(text_type.p)}} </md-button></md-menu-item><md-menu-item><md-button class=btn-blockquote> {{_(text_type.blockquote)}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-h2><span class=md-headline>{{_(text_type.h2)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h3><span class=md-title>{{_(text_type.h3)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h4><span class=md-subhead>{{_(text_type.h4)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h5><span class=md-body-2>{{_(text_type.h5)}}</span></md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-div> {{_(text_type.div)}} </md-button></md-menu-item></md-menu-content></md-menu><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Font Size')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_size_24px></md-icon></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-big>{{_('Large')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-small>{{_('Small')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sub>{{_('Subscript')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sup>{{_('Superscript')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-i" aria-label="{{_('Italic')}}"><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon><md-tooltip md-delay=960>{{_('Italic')}}</md-tooltip></md-button><md-button class="md-icon-button btn-b" aria-label="{{_('Bold')}}"><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon><md-tooltip md-delay=960>{{_('Bold')}}</md-tooltip></md-button><md-button class="md-icon-button btn-strike" aria-label="{{_('Strikethrough')}}"><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon><md-tooltip md-delay=960>{{_('Strikethrough')}}</md-tooltip></md-button><md-button class="md-icon-button btn-underline" aria-label="{{_('Underline')}}"><md-icon md-svg-icon=editor:ic_format_underlined_24px></md-icon><md-tooltip md-delay=960>{{_('Underline')}}</md-tooltip></md-button><md-button class="md-icon-button btn-clear" aria-label="{{_('Clear Text Format')}}"><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon><md-tooltip md-delay=960>{{_('Clear Text Format')}}</md-tooltip></md-button><md-button class="md-icon-button btn-hr" aria-label="{{_('Divider')}}"><md-icon md-svg-icon=content:ic_remove_24px></md-icon><md-tooltip md-delay=960>{{_('Divider')}}</md-tooltip></md-button><md-button class="md-icon-button btn-img" aria-label="{{_('Image')}}"><md-icon md-svg-icon=image:ic_image_24px></md-icon><md-tooltip md-delay=960>{{_('Image')}}</md-tooltip></md-button><md-button class="md-icon-button btn-ol" aria-label="{{_('Ordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon><md-tooltip md-delay=960>{{_('Ordered list')}}</md-tooltip></md-button><md-button class="md-icon-button btn-ul" aria-label="{{_('Unordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon><md-tooltip md-delay=960>{{_('Unordered list')}}</md-tooltip></md-button><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Align')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon><md-tooltip md-delay=960>{{_('Align')}}</md-tooltip></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-jleft>{{_('Align left')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-jcenter>{{_('Align center')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-jright>{{_('Align right')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-jfull>{{_('Align Justify')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-html" aria-label="{{_('HTML Code')}}" ng-if=property.expert><md-icon md-svg-icon=custom:ic_html_code_24px></md-icon><md-tooltip md-delay=960>{{_('HTML Code')}}</md-tooltip></md-button></div><md-content class=strict-editor-content><div sup-angular-wysiwyg toolbar=strict-editor-toolbar ng-model=file.content name=strict-content-editor embed-mode></div></md-content></div></div></div><div class="field-container amend"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=file.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{file.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12 md-add-on-blur></md-chips></div><md-input-container class="md-block selector" ng-if=category><label>{{_(category.name)}}</label><md-select ng-model=file.terms multiple><div ng-repeat="term in category.terms"><md-option ng-value=term.key> {{_(term.meta.name)}} </md-option><md-option class=md-caption ng-value=child.key ng-repeat="child in term.nodes"> - {{_(child.meta.name)}} </md-option></div><div class="md-padding md-caption text-center draft" ng-if=!category.terms.length> {{_('No Term')}} </div></md-select></md-input-container><div class=field-container><label>{{_('Template')}}</label><div class=md-padding><div class="md-body-2 md-text md-primary text-upper"> {{file.template}} </div></div></div><md-input-container class=md-block><label>{{_('Author')}}</label><input name=author type=text ng-model=file.meta.author md-maxlength=24><md-icon md-svg-icon=action:ic_perm_identity_24px ng-click=get_author(file)></md-icon><ng-messages for=strict_edit_form.author.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Date')}}</label><md-datepicker name=date md-placeholder="{{_('Enter date')}}" ng-model=date md-open-on-focus></md-datepicker><ng-messages for=strict_edit_form.date.$error><ng-message when=valid> {{ _('Must be a date.') }} </ng-message></ng-messages></div><md-input-container class=md-block><label>{{_('Priority')}}</label><input name=priority type=number step=1 ng-model=file.priority><ng-messages for=strict_edit_form.priority.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><div class=switch-container><md-switch ng-class="{'draft': !file.status}" ng-model=file.status ng-true-value=1 ng-false-value=0> {{_('Publish')}} </md-switch></div></div><md-subheader class=md-primary> {{_('Advanced')}} </md-subheader><div class=md-padding><md-input-container class="md-block amend"><label>{{_('URL Slug')}}</label><input name=slug type=text ng-model=file.slug ng-pattern=regex_pattern.slug ng-disabled="!property.expert || file.locked" maxlength=120 required><hint for=strict_edit_form.slug> {{_('* Used for friendly URLs and SEO.')}} </hint><ng-messages for=strict_edit_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Priority')}}</label><input name=priority type=number step=1 ng-model=file.priority><ng-messages for=strict_edit_form.priority.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container></div></form></md-content></div></div></script><script type=text/ng-template id=blueprints/user/views/assistant.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Assistant')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="assistant_limit <= assistants.length" ng-click=assign(assistants)> {{_('Assign')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, up to %s', assistants.length, assistant_limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="assistant in assistants" ng-click="edit(assistant, assistants)" aria-label="{{_('Edit Assistant')}}"><div class=md-list-item-text><p>{{ assistant.name || '-' }}</p></div><div class="md-secondary anim-show"><md-icon md-svg-icon=maps:ic_person_pin_24px></md-icon></div></md-list-item></md-list></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Explanation')}}</span></h2></header><article ng-if="lang == 'en'"><p> Membership Assistant is a Auxiliary Tools to manage your members, events and cards. The Assistant can be install on computer, tablet and smartphone, will could be help in many different ways. </p><ul><li>Staff carries in the store.</li><li>Use on live events or site activities.</li><li>Unmanned self-service equipment.</li><li>...</li></ul></article><article ng-if="lang == 'zh'"><p> 会员助手是一个用来帮助会员、活动、卡券等的辅助工具。 助手能够在电脑、平板、手机等多种设备上安装使用， 可以在许多应用场景中帮助到你： </p><ul><li>工作人员在实体店内携带使用。</li><li>在活动现场中便携使用。</li><li>安置于无人托管的设备上。</li><li>...</li></ul></article></section></div></div><script type=text/ng-template id=user.assistant.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Assistant Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ assistant._new?_('New Assistant'):_('Edit Assistant')}}
    </h2>

    <!-- assistant form -->
    <form class="md-padding"
          name="assistant_form"
          ng-submit="save(assistant, assistant_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               ng-model="assistant.name"
               md-maxlength="24"
               required />
        <ng-messages for="assistant_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Passcode')}}</label>
        <input name="passcode"
               ng-model="assistant.passcode"
               md-maxlength="60"
               required/>
        <ng-messages for="assistant_form.passcode.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(assistant)"
               ng-show="!assistant._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(assistant, assistant_form)"
               ng-disabled="submitted">
      {{ assistant._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/user/views/external.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('External Storage Settings')}}</span></h1></header><div><form name=external_form ng-submit="save(external, external_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Host URL')}}</label><input name=url type=text ng-model=external.url md-maxlength=360><hint> {{_('* A publicly accessible HTTP(s) URL.')}} </hint><ng-messages for=external_form.url.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Storage Bucket Name')}}</label><input name=bucket type=text ng-model=external.bucket md-maxlength=60><hint> {{_('* Use alphanumeric characters or hyphens only.')}} </hint><ng-messages for=external_form.bucket.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Zone')}}</label><md-select name=locale ng-model=external.zone><md-option ng-value=zone.code ng-repeat="zone in zone_list"> {{_(zone.name)}} </md-option></md-select></md-input-container><md-input-container class="md-block amend"><label>{{_('Access Key')}}</label><input name=access_key type=text ng-model=external.access_key></md-input-container><md-input-container class="md-block amend"><label>{{_('Secret Key')}}</label><input name=secret_key type="{{secret_key_display ? 'text' : 'password' }}" ng-model=external.secret_key><md-icon md-svg-icon="{{ secret_key_display
                     ? 'action:ic_visibility_off_24px'
                     : 'action:ic_visibility_24px' }}" ng-click=toggle_secret_display()></md-icon><hint> {{_('* This will be automatically encrypted when saved.')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><p class="md-text md-caption text-middle-group indent-padding" ng-class="{'md-accent': external.certified,
                          'draft': !external.certified}"><span> {{external.certified?_('Verified'):_('Unverified')}} </span><md-icon class=s16 md-svg-icon=action:ic_verified_user_24px></md-icon></p></div></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Explanation')}}</span></h2></header><article ng-if="lang == 'en'"><p><b> Because all upload media files will be stored in your own cloud service, so you must complete the external storage settings before you manage media files. </b></p><p> our system currently supports "Qiniu" cloud storage only. If you know nothing about it, please find someone who understand to help. Follow the the steps below: </p><ul><li>Register a Qiniu account.</li><li>Complete real-name certification.</li><li>Create an storage bucket.</li><li>Bind a domain for CDN.</li><li>Find AccessKey/SecretKey (AK/SK) from 'Key Management'</li><li> Copy AK/SK, bucket name, our 'External Storage Settings' </li><li> Copy the URL that you bound to the CDN as host URL. Please note that URL include the URL protocol, just like https://soopro.com or http://soopro.com. </li><li> Select the correct 'Zone' of your bucket. </li><li> At last, Make sure 'Verified' is showing up beside of the save button. </li></ul></article><article ng-if="lang == 'zh'"><p><b> 所有上传的媒体文件都需要存储在你自己的云存储服务中。 因此你必须正确设置外部存储之后才可以管理媒体文件。 </b></p><p> 我们的系统目前只支持「七牛」的云端对象存储。要是你不明白的话，还是请懂得人帮助。 如果你对自己充满了信心请按照下面的步骤操作： </p><ul><li>申请一个七牛的账号；</li><li>完成实名认证；</li><li>创建一个对象存储空间(bucket)；</li><li>为你的融合CDN绑定一个域名，你将得到一个可以访问网址(host URL)；</li><li>从个人面板的密钥管理中获取 AccessKey(AK)/SecretKey(SK)；</li><li> 把AK/SK，对象存储空间名(bucket)，复制到我们的「外部存储设置」中； </li><li> 把你绑定的在CDN的那个网址输入到主机网址一栏。 请注意输入的网址必须包含通信协议， 就像https://soopro.com 或是 http://soopro.com； </li><li>选择你的对象存储空间所在区域(zone)。选错了可不能通过验证；</li><li> 「保存」设置，一切顺利边上会显示了"已验证"的话，这就完成了。 </li></ul></article></section></div></div></script><script type=text/ng-template id=blueprints/user/views/invite.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Invitations')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="invite_limit <= invites.length" ng-click=generate()> {{_('Generate Invitation')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, up to %s', invites.length, invite_limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="invite in invites" aria-label="{{_('Manage Invitation')}}"><div class=md-list-item-text><p>{{ invite.code }}</p></div><md-menu class="md-secondary anim-show"><md-icon ng-class="{'md-primary': !invite.invited}" md-svg-icon="{{invite.invited
                     ? 'action:ic_assignment_ind_24px'
                     : 'social:ic_share_24px'}}" ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group><p class=md-caption ng-class="{'draft': !invite.invited}"> {{invite.invited || _('Available')}} </p></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-clipboard=copy_invite_code(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation Code')}} </md-button></md-menu-item><md-menu-item><md-button ng-clipboard=copy_invite_url(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation URL')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-disabled=invite.invited ng-click=remove(invite)> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* Use invitation code to invite your friends to register.')}} </hint></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Usage')}}</span></h2></header><article ng-if="lang == 'en'"><p> You can invite friends to sign up for a new account. Invitees can enter the invitation code while registration, or register directly through the invitation URL. We will always thank you for sharing. </p><ul><li>Each account generates up to {{invite_limit}} invitations.</li><li>Each invitation code can only be used once.</li><li>Used invitations can not be deleted.</li></ul></article><article ng-if="lang == 'zh'"><p> 你可以在这里生成邀请码，邀请你的好友前来注册新帐号。 被邀者可以在注册的时候输入你分享的邀请码，也可以直接通过邀请网址进行注册。 我们会永远记得你邀请的新用户，有朝一日必会给你更多的回馈。 </p><ul><li>每个帐号最多生成{{invite_limit}}个邀请码，省着点用。</li><li>每个邀请码只能使用一次。</li><li>已经使用过的邀请码是不能删除的。</li></ul></article></section></div></div></script><script type=text/ng-template id=blueprints/user/views/profile.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('User Profile')}}</span></h1></header><form name=profile_form ng-submit="save(profile, profile_form)" novalidate><md-input-container class="static md-block"><label>{{_('Avatar')}}</label><md-card class=s192 ng-click="switch_avatar(profile, $event)"><img class=img-bg-cover ng-src={{image.trans}} style={{(profile.meta.avatar||image.avatar)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Nickname')}}</label><input name=nickname type=text ng-model=profile.meta.nickname md-maxlength=24 required><ng-messages for=profile_form.nickname.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('E-Mail')}}</label><input name=email type=email md-maxlength=120 ng-model=profile.meta.email><ng-messages for=profile_form.email.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Location')}}</label><input name=location type=text ng-model=profile.meta.location md-maxlength=360><ng-messages for=profile_form.location.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Phone')}}</label><input name=phone type=text md-maxlength=120 ng-model=profile.meta.phone><ng-messages for=profile_form.phone.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Job Title')}}</label><input name=job type=text md-maxlength=120 ng-model=profile.meta.job><ng-messages for=profile_form.job.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Property')}}</span></h2></header><md-input-container class="static md-block"><label>{{_('Energy')}}</label><md-card class="text-center s192" plain><md-icon class="s96 md-accent" md-svg-icon=social:ic_whatshot_24px></md-icon><div class="md-margin md-display-2"> {{property.energy | abbrnum:2}} </div></md-card></md-input-container><md-input-container class=md-block><label>{{_('Login ID')}}</label><input name=login type=text ng-model=property.login disabled></md-input-container><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=username type=text ng-model=property.slug disabled></md-input-container><div class="field-container amend"><label>{{_('Capability Level')}}</label><div class=radio-wrapper><md-radio-group ng-model=property.capability ng-change=change_capability(property)><md-radio-button class=md-primary ng-repeat="capa in capabilities" ng-if="!capa.expert || property.expert" ng-value=capa.key> {{_(capa.label)}} </md-radio-button></md-radio-group></div><hint class=help ng-click="help('capability')"><span> {{_('* Choose a capability level that fits your skill.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/security.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Security')}}</span></h1></header><div><form name=pwd_form ng-submit="change_pwd(pwd, pwd_form)" novalidate><md-input-container class=md-block><label>{{_('Old Password')}}</label><input name=old_passwd type=password ng-model=pwd.old_passwd ng-pattern=regex_pattern.passwd required><ng-messages for=pwd_form.old_passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=pwd.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=pwd_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=pwd_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=pwd.passwd2 password-verify=pwd.passwd maxlength=60 required><ng-messages for=pwd_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container><div><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Modify')}} </md-button></div></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10 ng-show="property.capability > 2"><header><h2 class=md-headline><span>{{_('Developer')}}</span></h2></header><div ng-show=!secret.id><p class=md-body-1> {{_('You are able to use a Develop Secret Key '+ 'to access Develop API. '+ 'The Secret Key will display after '+ 'your identity is verified, keep it secret please.')}} </p><md-button class=md-raised ng-click=get_secret_key(secret)> {{property.has_secret_key ? _('Verify identity to display') : _('Verify identity to apply')}} </md-button></div><div ng-show=secret.id><p class=md-body-1 ng-show="secret.key == ''"> {{_('You have not applied for a Secret Key yet.')}} </p><md-input-container class=md-block ng-show=secret.key><label>{{_('Develop Secret Key')}}</label><input name=secret_key type=text ng-model=secret.key disabled><md-icon md-svg-icon=content:ic_content_copy_24px ng-clipboard=copy_secret_key(secret.key)></md-icon><hint flex-order=3> {{_('* Keep your Secret key Secret. DO NOT tell anyone else.')}} </hint></md-input-container><div layout=row><md-button class=md-raised ng-click=apply_secret_key(secret)> {{secret.key ? _('Reset') : _('Apply')}} </md-button><md-button class=md-raised ng-show=secret.key ng-click=remove_secret_key(secret)> {{_('Remove')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/ticket.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1><span>{{_('Report Ticket')}}</span></h1></header><article ng-if="lang == 'en'"><p> If you got trouble while using our system, please tell us. Describe your problem then send to <a class=md-primary ng-href={{mailto_support}}>support mailbox</a>. We will reply you as soon as possible. </p></article><article ng-if="lang == 'zh'"><p> 如果你在使用中遭遇了什么不测，请务必告知我们。 描述你遇到的问题，并发到 <a class="md-primary md-body-2" ng-href={{mailto_support}}>技术支持邮箱</a>。 放心，我们会尽快给你回复。 </p></article><div><a ng-href={{mailto_support}}><md-icon class="s96 md-accent" md-svg-icon=comm:ic_email_24px></md-icon></a></div></section></div></div></script><script type=text/ng-template id=blueprints/wr/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Scenes') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in scenes" aria-label="{{_('Edit Scene')}}" ng-click=edit_scene(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=image:ic_camera_front_24px></md-icon></div></md-list-item><md-list-item ng-if="scenes.length == 0" aria-label="{{_('Manage Scenes')}}" ng-click=manage_scenes()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=image:ic_camera_front_24px></md-icon></div></md-list-item></md-list></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-md></div><div layout=row><md-button class="md-raised md-primary" ng-href={{app.base_url}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><span>{{_('Preview')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wr/views/scene.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Scenes') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button ng-click=$mdMenu.open($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip md-delay=960>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s scenes in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{scene_type_slug}} perpage=perpage files=files status=status selection=sel on-edit=edit></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Scene')}}" ng-show=!sel.selection ng-click=create()><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/ws/views/content.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><md-menu><div class=inline ng-click=$mdMenu.open($event)><span ng-class="{'text-strike': !content_type.allowed}"> {{ _(content_type.title) }} </span><md-icon md-svg-icon=nav:ic_arrow_drop_down_circle_24px></md-icon></div><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group ng-repeat="ctype in content_types"><md-button ng-click="switch_type(ctype, content_type)" ng-class="{'draft text-strike': !ctype.allowed}"> {{_(ctype.title)}} </md-button></md-menu-item></md-menu-content></md-menu></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-show="property.capability > 2" ng-click="setting(content_type, files)" ng-disabled=sel.selection aria-label="{{_('Content Type Settings')}}"><md-icon md-svg-icon=file:ic_folder_24px></md-icon><md-tooltip md-delay=960> {{_('Content Type Settings')}} </md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s contents in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{content_type.slug}} perpage=perpage files=files status=status selection=sel allow-move=true on-edit=edit></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Content')}}" ng-show=!sel.selection ng-click=create()><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=ws.content_type.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Content Type Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Content Type Settings')}}
    </h2>
    <!-- type form -->
    <form class="md-padding"
          name="type_form"
          ng-submit="submit(content_type, type_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="content_type.title"
               md-maxlength="60"
               required/>
        <hint for="type_form.title">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages for="type_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               ng-disabled="content_type.locked"
               ng-model="content_type.slug"
               maxlength="120"/>
        <hint>{{_('* Used for friendly URLs and SEO.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(content_type)"
               ng-show="!content_type.locked"
               ng-disabled="submitted || content_type.allowed">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(content_type, type_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/ws/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960 ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Content') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ctype in content_types" aria-label="{{_('Manage Content')}}" ng-click=manage_content(ctype)><div class=md-list-item-text><p ng-class="{'text-strike': !ctype.allowed}"> {{ _(ctype.title) || ctype.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=file:ic_folder_24px></md-icon></div></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="content_types.length == 0">{{_('(Empty)')}}</p></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-md></div><div layout=row><md-button class="md-raised md-primary" ng-href={{app.base_url}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><span>{{_('Preview')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/ws/views/menu.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'text-strike': !menu.allowed}"> {{ _(menu.title) }} </span></h1></header><div class=md-padding ng-if="menu.allowed === false"><p class="md-title md-text md-warn text-center"> {{_('This menu is unused.')}} </p></div><form name=menu_form ng-submit="setting(menu, menu_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=menu.title md-maxlength=60 required><hint for=menu_form.title> {{_('* Auto translate recognized words.')}} </hint><ng-messages for=menu_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text ng-model=menu.slug maxlength=120><hint>{{_('* Used for friendly URLs and SEO.')}}</hint></md-input-container><md-input-container class="md-block selector" ng-show=property.expert><label>{{_('Menu Level')|wrap}}</label><md-select name=level ng-model=menu.level placeholder="{{_('Select menu level')}}"><md-option ng-value=level.key ng-repeat="level in menu_levels"> {{_(level.label)}} </md-option></md-select><ng-messages for=menu_form.level.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class=md-margin ng-if=menu.allowed><p class=hint> {{_('The menu settings is pre-defined with current theme, '+ 'the effect of modification is depend by theme. '+ 'Only unused menu can be removed.')}} </p></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-show="!menu.allowed && !menu.locked" ng-click=destroy(menu)><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{ _('Menu') }}</span></h2></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="menu.nodes.length >= limit || !menu.allowed" ng-click="add_node(menu.nodes, menu)"> {{_('New Menu')}} ({{menu.nodes.length || 0}}/{{limit}}) </md-button><md-button class=md-icon-button ng-click=hardcore(menu) ng-show=property.expert aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-repeat="node in menu.nodes"><md-card-content><md-list><md-list-item class=text-nowrap-group ng-click="edit_node(node, menu.nodes,
                                              $index, menu)"><p>{{node.name}}</p><md-icon class="md-secondary md-primary" md-svg-icon=image:ic_edit_24px></md-icon></md-list-item></md-list><md-list class=indent-margin ng-show="menu.level > 1"><md-list-item class=text-nowrap-group ng-repeat="child in node.nodes" ng-click="edit_node(child, node.nodes, $index, menu)"><p>{{child.name}}</p></md-list-item><md-list-item class="md-text md-primary" ng-show="node.nodes.length < limit" ng-click="add_node(node.nodes, menu)"><p class=md-body-1> {{_('New Submenu')}} </p></md-list-item></md-list></md-card-content></md-card></section></div></div><script type=text/ng-template id=ws.menu.node.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Menu')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{node._new?_('Add Menu'):_('Edit Menu')}}
    </h2>
    <!-- node form -->
    <form class="md-padding"
          name="node_form"
          ng-submit="submit(node, node_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="node.name"
               md-maxlength="60"
               required/>
        <ng-messages for="node_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="node.key"
               maxlength="120"/>
        <hint>{{_('* Alphanumeric characters or hyphens.')}}</hint>
      </md-input-container>

      <md-autocomplete md-input-name="link"
                       md-floating-label="{{_('Link')}}"
                       md-search-text="node.link"
                       md-items="url in urls"
                       md-item-text="url.path"
                       md-menu-class="autocomplete-multi-lines"
                       md-no-cache="true"
                       md-input-maxlength="360"
                       required>
        <md-item-template>
          <p>{{url.name}}</p>
          <span>&nbsp;- {{url.path}}</span>
        </md-item-template>
        <hint for="node_form.link">
          {{_('* Link to a URL or path. use `#` for empty link.')}}
        </hint>
        <ng-messages for="node_form.link.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-autocomplete>

      <md-input-container class="md-block amend"
                          ng-show="property.capability > 2">
        <label>{{_('Target Window')}}</label>
        <input name="target"
               type="text"
               ng-model="node.target" />
        <md-icon md-svg-icon="action:ic_open_in_new_24px"
                 ng-click="target_blank(node)"></md-icon>
        <hint>{{_('* Type `_blank` for open in new window.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block selector amend"
                          ng-show="property.capability > 2">
        <label>{{_('Related Content Type')}}</label>
        <md-select name="path_scope"
                   ng-model="node.path_scope"
                   ng-disabled="submitted">
          <md-option ng-value="''">
            {{_('None')}}
          </md-option>
          <md-option ng-value="ctype.slug"
                     ng-repeat="ctype in content_types">
            {{_(ctype.title)}}
          </md-option>
        </md-select>
        <hint>
          {{_('* Mark active status under this content type as well.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.capability > 2">
        <label>{{_('CSS Class')}}</label>
        <input name="class"
               type="text"
               ng-model="node.class"
               maxlength="240" />
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="node._index"
               required />
        <ng-messages for="node_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!node._new"
               ng-click="trash(node)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(node, node_form)">
      {{node._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/article.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Articles') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button ng-click=$mdMenu.open($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip md-delay=960>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s articles in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{article_type_slug}} perpage=perpage files=files status=status selection=sel on-edit=edit></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Article')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wx/views/broadcast.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Tweets')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=sel.selection ng-click=add(broadcasts)> {{_('New Tweet')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=broadcasts.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', broadcasts.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="cast in broadcasts" ng-class="{'selected': cast._selected}" ng-hold="sel.select(cast, broadcasts)" ng-click="!sel.selection?edit(cast):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'md-primary': cast.status}" md-svg-icon={{castico_map[cast.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3 ng-class="{'text-strike': !cast.status}"> {{ cast.title || cast.id }} </h3><p>{{ cast.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{cast._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': cast.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(broadcasts)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><div class="anim-enter section-wrapper" ng-if="cast.type == 'text'"><header><h2 class=md-headline><span>{{ _('Plain Text') }}</span></h2></header><form name=cast_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 placeholder=... ng-model=cast.text md-maxlength=360></textarea><ng-messages for=cast_text_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form></div><div class="anim-enter section-wrapper max-size-md" ng-if="cast.type == 'news'"><header><h2 class=md-headline><span>{{ _('Graphic Message') }}</span></h2></header><div ng-repeat="msg in cast.items"><md-card class=anim-enter ng-if="$index == 0" ng-click="edit_msg(msg, cast, $index)"><img class="md-card-image img-bg-cover" ng-src={{image.trans_20x10}} style={{(msg.picurl||image.default)|thumbnail|bg_img}}><md-card-title><md-card-title-text><span class="md-headline text-nowrap" ng-class="{'text-strike': msg.is_expired}">{{msg.title}}</span></md-card-title-text></md-card-title><md-card-content ng-if="cast.items.length == 1"><p class=text-break>{{msg.digest}}</p></md-card-content></md-card><md-card class=anim-enter ng-if="$index > 0" ng-click="edit_msg(msg, cast, $index)"><md-card-title><md-card-title-text><span class="md-title title-break" ng-class="{'text-strike': msg.is_expired}"> {{msg.title}} </span></md-card-title-text><md-card-title-media><div class=md-media-sm><img ng-class="{'img-bg-cover': msg.picurl,
                          'img-bg-xl': !msg.picurl}" ng-src={{image.trans}} style={{(msg.picurl||image.default)|bg_img}}></div></md-card-title-media></md-card-title></md-card></div><div><md-button class=md-primary ng-disabled="cast.items.length >= msg_limit" ng-click=insert_msg(cast)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><span> {{_('Insert Message')}} ({{cast.items.length || 0}}/{{msg_limit}}) </span></md-button></div><div class=md-margin><md-divider></md-divider><hint>{{_('* When the source article has been changed, '+ 'you must to refresh the message.')}}</hint></div></div><div class="anim-enter section-wrapper" ng-if="cast.type == 'image'"><header><h2 class=md-headline><span> {{ _('Picture') }} </span></h2></header><div><md-card class=md-padding ng-click="pic(cast, $event)"><img class=img-bg-contain ng-src={{image.trans}} style={{(cast.image.src||image.default)|thumbnail|bg_img}}></md-card></div></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span>{{ _('Message Settings') }}</span></h1></header><form name=cast_form ng-submit="save(cast, cast_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=cast.title md-maxlength=60><hint for=cast_form.title> {{_('* For management only, will not applied to send.')}} </hint><ng-messages for=cast_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Type')}}</label><md-select name=type ng-model=cast.type placeholder="{{_('Select broadcast type')}}" required><md-option ng-value=type.key ng-repeat="type in cast_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=cast_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !cast.status}" ng-model=cast.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=cast.id ng-click=trash(cast)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form><div class=space-md></div><md-divider class="md-margin dotted" ng-show=cast.id></md-divider><div class=md-margin><hint> {{_('* Subscribe account is up to one of per day, '+ 'Service account is up to 4 times per month.')}} </hint></div><md-menu ng-disabled="submitted || !cast.status" ng-show=cast.id><md-button class=md-primary ng-click=$mdMenu.open($event) ng-disabled="cast.type == 'news' && !cast.items.length"><md-icon md-svg-icon=content:ic_send_24px></md-icon><span>{{_('Mass Send')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click="send(cast, cast_form, false)"> {{_('Preview')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="send(cast, cast_form, true)" ng-disabled=!cast.sendable> {{cast.sendable ? _('Send to Public') : app.configuration.type == 0 ? _('One pre day.') : _('4 every month.')}} </md-button></md-menu-item></md-menu-content></md-menu></section></div></div><script type=text/ng-template id=wx.cast.msg.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Graphic Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{msg._new?_('Add Graphic Message'):_('Edit Graphic Message')}}
    </h2>

    <div class="md-margin md-box md-warn"
         layout="column"
         ng-show="msg.is_expired">
      <md-button class="md-warn"
                 ng-click="refresh(msg)">
        <md-icon md-svg-icon="notify:ic_sync_24px"></md-icon>
        <span>
          {{_('Please click the here to refresh this article.')}}
        </span>
      </md-button>
    </div>

    <!-- msg form -->
    <form class="md-padding"
          name="msg_form"
          ng-submit="submit(msg, msg_form)"
          novalidate>
      <md-input-container class="static less md-block">
        <label>{{_('Pic')}}</label>
        <md-card class="max-size-sm"
                 ng-click="pic(msg, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(msg.picurl||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <div class="switch-container">
        <md-switch ng-class="{'draft': !msg.show_cover}"
                   ng-model="msg.show_cover"
                   ng-true-value="1"
                   ng-false-value="0">
          {{_('Show Cover Picture')}}
        </md-switch>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="msg.title"
               md-maxlength="60"
               required />
        <ng-messages for="msg_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="digest"
                  ng-model="msg.digest"
                  md-maxlength="240"></textarea>
        <ng-messages for="msg_form.digest.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Author')}}</label>
        <input name="author"
               type="text"
               ng-model="msg.author"
               md-maxlength="24"/>
        <ng-messages for="msg_form.author.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="msg.url"
               md-maxlength="360"/>
        <ng-messages for="msg_form.url.$error">
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="msg._index"
               required />
        <ng-messages for="msg_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!msg._new"
               ng-click="trash(msg)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(msg, msg_form)">
      {{msg._new?_('Create'):_('Confirm')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.cast.send.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Send')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Send')}}
    </h2>

    <div class="md-padding"
         ng-show="!sending">
      <!-- preview -->
      <form name="preview_form"
            ng-submit="preview(cast, preview_by, preview_form)"
            ng-show="!to_public"
            novalidate>
        <md-input-container class="md-block amend">
          <label>{{_('Preview by WeChat ID')}}</label>
          <input name="preview_by"
                 type="text"
                 ng-model="preview_by"
                 maxlength="120" />
          <hint for="preview_form.preview_by">
            {{_('* WeChat ID for the one who send to preview.')}}
          </hint>
          <ng-messages for="preview_form.preview_by.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>
      </form>

      <!-- send -->
      <form name="send_form"
            ng-submit="send(cast, send_form)"
            ng-show="to_public"
            novalidate>
        <md-input-container class="md-block amend"
                            ng-show="cast.sendable">
          <label>{{_('Confirm Code')}}</label>
          <input name="code"
                 type="text"
                 ng-model="confirm_code"
                 ng-pattern="/^SEND$/"
                 ng-disabled="!cast.sendable"
                 ng-required="to_public" />
          <hint for="send_form.code">
            {{_('* Type `SEND` exactly to confirm.')}}
          </hint>
          <ng-messages for="send_form.code.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
            <ng-message when="pattern">
              {{ _('Not match with confirm code.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>

      </form>

    </div>

    <!-- sending -->
    <div class="md-padding"
         ng-show="sending"
         layout="row"
         layout-align="center center">
      <img ng-src="{{image.trans}}"
           ng-if="materials.length > 0"
           style="{{materials[0].src|bg_img}}" />
      <md-progress-circular ng-show="materials|is_empty"
                            md-mode="indeterminate"
                            md-diameter="60">
      </md-progress-circular>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="!to_public"
               ng-disabled="submitted || preview_form.$invalid"
               ng-click="preview(cast, preview_by, preview_form)">
      {{_('Preview')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="to_public"
               ng-disabled="submitted || send_form.$invalid"
               ng-click="send(cast, send_form)">
      {{_('Send to Public')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.cast.sync_article.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Synchronization')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Synchronization')}}
    </h2>
    <div class="md-padding anim-show"
         layout="column"
         layout-align="center center"
         ng-show="sync_step == 0">
      <md-progress-circular ng-if="sync_status == 1"
                            md-mode="indeterminate"
                            md-diameter="60"></md-progress-circular>
      <md-icon ng-if="sync_status == 2"
               md-svg-icon="file:ic_cloud_off_24px"></md-icon>
    </div>
    <div class="md-padding anim-show"
         ng-show="sync_step == 1">

      <div class="md-margin md-box md-warn"
           ng-if="sync_status == 2"
           layout="row"
           layout-align="start center">
        <div class="indent-padding">
          <md-icon md-svg-icon="file:ic_cloud_off_24px"></md-icon>
        </div>
        <div flex>
          <p class="md-body-1">
          {{_('Synchronization failed. It may be caused by ' +
              'too large file size, corrupted file or incompatible format.')}}
          </p>
          <md-button class="md-warn"
                     ng-click="continue()">
            {{_('Skip to Continue')}}
          </md-button>
        </div>
      </div>

      <div class="img-list"
           layout="row"
           layout-wrap
           layout-margin>
        <div class="safe-media-bg img-list-item"
             ng-repeat="img in upload_stack"
             flex="20">
          <div class="flag mask"
               layout="row"
               layout-align="center center"
               ng-show="img.status == 2">
            <md-icon class="md-warn"
                     md-svg-icon="nav:ic_close_24px"></md-icon>
          </div>
          <img class="img-bg-cover"
               ng-class="{'t25': img.status != 1}"
               ng-src="{{image.trans}}"
               style="{{img.src|bg_img}}" />
        </div>
      </div>
    </div>
  </md-dialog-content>
  <md-dialog-actions class="centered">
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Abort')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div ng-if=analysis.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Followers') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.followers | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{analysis.followers}} </md-tooltip></p></div></div></div><div ng-if=analysis.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Weekly Growth') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.growth | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{analysis.growth}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{visit.vs}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Articles') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in articles" aria-label="{{_('Edit Article')}}" ng-click=edit_article(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=maps:ic_rate_review_24px></md-icon></div></md-list-item><md-list-item ng-if="articles.length == 0" aria-label="{{_('Manage Articles')}}" ng-click=manage_articles()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=maps:ic_rate_review_24px></md-icon></div></md-list-item></md-list></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-sm></div><div layout=row><md-button class=md-raised ng-if=config.id ng-class="{'md-primary': config.interface_setted,
                                    'md-warn': !config.interface_setted}" ng-click=manage_config()><md-icon md-svg-icon=action:ic_settings_24px></md-icon><span>{{_('Configuration')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/material.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Materials')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center"><div class=badge-text><md-icon ng-class="{'md-warn': total_count >= total_limit,
                              'md-primary': total_count < total_limit}" md-svg-icon=image:ic_panorama_24px></md-icon><span class="md-caption md-text" ng-class="{'md-warn': total_count >= total_limit,
                           'md-primary': total_count < total_limit}"> {{ _('%s / %s', total_count, total_limit) }} </span></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=materials.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', materials.length, total_count)}} </md-subheader><notify-overload total-count=total_count total-limit=total_limit></notify-overload><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Material')}}" ng-repeat="material in materials" ng-class="{'selected': material._selected}" ng-if=material.filename ng-hold="sel.select(material, materials)" delay=!sel.selection><img class=md-avatar ng-class="{'md-primary': material.media_id}" ng-src={{material.src|thumbnail|now:material.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ material.filename }}</h3><p>{{ material.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{material._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><md-menu class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary ng-click="sel.selection?'':$mdMenu.open($event)" md-svg-icon=file:ic_attachment_24px></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click=open_url(material.src)> {{_('URL')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-click="remove(material, materials)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(materials, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* The system will automatically determine the picture type '+ 'and upload as material when necessary.')}} </hint></div></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/menu.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _('Custom Menu') }} </span></h1></header><div><div layout=row layout-align="start center"><md-button class="md-raised md-primary" ng-disabled="custom_menu.buttons.length >= menu_limit" ng-click="add_button(custom_menu.buttons, custom_menu)"> {{_('New Button')}} ({{custom_menu.buttons.length || 0}}/{{menu_limit}}) </md-button><md-button class=md-raised ng-disabled=!custom_menu.allowed ng-click=sync_menu(custom_menu)><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><span>{{_('Synchronize')}}</span></md-button><span flex></span><md-button class=md-icon-button ng-click=hardcore(menu) ng-show=property.expert aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-repeat="button in custom_menu.buttons"><md-card-content><md-list><md-list-item class=text-nowrap-group ng-click="edit_button(button, custom_menu.buttons,
                                                  $index, custom_menu)"><p>{{button.name}}</p><md-icon class="md-secondary md-primary" md-svg-icon=image:ic_edit_24px></md-icon></md-list-item></md-list><md-list class=indent-margin><md-list-item ng-repeat="child in button.sub_button" ng-click="edit_button(child, button.sub_button,
                                                  $index, custom_menu)"><p class="text-nowrap md-text md-primary"> {{child.name}} </p></md-list-item><md-list-item class="md-text md-primary" ng-show="button.sub_button.length < submenu_limit" ng-click="add_button(button.sub_button,
                                                 custom_menu)"><p class=md-body-1> {{_('New Submenu')}} ({{button.sub_button.length || 0}}/{{submenu_limit}}) </p></md-list-item></md-list></md-card-content></md-card></div><div class=md-margin><hint> {{_('* Do not forget synchronize.')}} </hint></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Explanation')}}</span></h2></header><article ng-if="lang == 'en'"><p> Custom menu must synchronize to WeChat server to make it available. Sometimes it takes a while for synchronization to take effect, depending on the refresh mechanism of WeChat. You can also try to see the new menu by re-subscribe, clearing cache, or change another cell phone. </p><p> Only WeChat Buzz is `Service` or certified `Subscription` allowed to synchronize the custom menu to the WeChat server. If you use an uncertified `subscription` WeChat Buzz, you can only entertain yourself. </p><p> Only certified WeChat Buzz allowed to add Mini Program to custom menu. </p></article><article ng-if="lang == 'zh'"><p> 自定义菜单必须同步到微信的服务器来使之生效。 有时候同步需要花一些时间，这取决于微信的刷新机制。 你也可以通过重新关注、清除缓存、换手机等方法尝试看到新的菜单。 </p><p> 只有服务号和认证后的订阅号才允许同步自定义菜单到微信服务器。 如果你只有一个舍不得认证的微信订阅号，那就只能自娱自乐了。 </p><p> 另外，也只有认证后的公众号才允许把小程序添加到自定义菜单中。 </p></article></section></div></div><script type=text/ng-template id=wx.custom_menu.button.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Custom Button Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{button._new?_('Add Button'):_('Edit Button')}}
    </h2>
    <!-- button form -->
    <form class="md-padding"
          name="button_form"
          ng-submit="submit(button, button_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="button.name"
               str-byte-verify="16"
               required/>
        <ng-messages for="button_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   placeholder="{{_('Type')}}"
                   ng-model="button.type"
                   ng-change="change_button_type(button_form)"
                   required>
          <md-option ng-repeat="type in button_types"
                     ng-if="!type.certified || configuration.certified"
                     ng-value="type.key">
            {{_(type.label)}}
          </md-option>
        </md-select>
        <ng-messages for="button_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="button.type == 'click'">
        <label>{{_('Key')}}</label>
        <input name="key"
               type="text"
               ng-model="button.key"
               maxlength="120"
               ng-required="button.type == 'click'" />
        <hint for="button_form.key">
          {{_('* Send a keyword to official account.')}}
        </hint>
        <ng-messages for="button_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide"
                          ng-if="button.type == 'view'">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="button.url"
               str-byte-verify="1024"
               ng-required="button.type == 'view'" />
        <ng-messages for="button_form.url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide amend"
                          ng-if="button.type == 'miniprogram'">
        <label>{{_('Mini AppID')}}</label>
        <input name="appid"
               type="text"
               maxlength="120"
               ng-model="button.appid"
               ng-required="button.type == 'miniprogram'" />
        <hint for="button_form.appid">
          {{_('* The mini program must be bound with '+
              'this WeChat Buzz.')}}
        </hint>
        <ng-messages for="button_form.appid.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide"
                          ng-if="button.type == 'miniprogram'">
        <label>{{_('Mini Page Path')}}</label>
        <input name="pagepath"
               type="text"
               maxlength="240"
               ng-model="button.pagepath"
               ng-required="button.type == 'miniprogram'" />
        <ng-messages for="button_form.pagepath.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide amend"
                          ng-if="button.type == 'miniprogram'">
        <label>{{_('Alternate URL')}}</label>
        <input name="alternate_url"
               type="url"
               ng-model="button.url"
               str-byte-verify="1024"
               ng-required="button.type == 'miniprogram'" />
        <hint for="button_form.alternate_url">
          {{_('* This URL will open when not compatible with mini program.')}}
        </hint>
        <ng-messages for="button_form.alternate_url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="button._index"
               required />
        <ng-messages for="button_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!button._new"
               ng-click="trash(button)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(button, button_form)">
      {{button._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/pref_options.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('General Options')}}</span></h1></header><form name=app_form ng-submit="save(app, app_form)" novalidate><div layout=row><md-input-container class="md-block static" flex><label>{{_('Logo')}}</label><md-card class=thumbnail ng-click="switch_logo(app, $event)"><img ng-class="{'img-bg-contain': app.meta.logo,
                              'img-bg-lg': !app.meta.logo}" ng-src={{image.trans}} style={{(app.meta.logo||image.default)|bg_img}}><md-tooltip md-delay=960>.png, .jpg</md-tooltip></md-card></md-input-container><md-input-container class="md-block static" flex><label>{{_('QR Code')}}</label><md-card class=thumbnail ng-click="switch_qrcode(app, $event)"><img ng-class="{'img-bg-contain': app.meta.qrcode,
                              'img-bg-lg': !app.meta.qrcode}" ng-src={{image.trans}} style={{(app.meta.qrcode||image.default)|bg_img}}><md-tooltip md-delay=960>.png, .jpg</md-tooltip></md-card></md-input-container></div><md-input-container class="md-block selector"><label>{{_('Locale')}}</label><md-select name=locale ng-model=app.locale ng-disabled=submitted required><md-option ng-value=loc.code ng-repeat="loc in locales"> {{_(loc.name)}} </md-option></md-select><ng-messages for=app_form.locale.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=app.meta.title md-maxlength=60 required><ng-messages for=app_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=app.meta.description md-maxlength=360></textarea><ng-messages for=app_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Copyright')}}</label><textarea name=copyright ng-model=app.meta.copyright md-maxlength=600></textarea><ng-messages for=app_form.copyright.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('License')}}</label><textarea name=license ng-model=app.meta.license md-maxlength=600></textarea><ng-messages for=app_form.license.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button ng-if=property.expert ng-click=hardcore(app) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button><span flex></span><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-click=destroy(app) ng-disabled=submitted><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Advanced Options')}}</span></h2></header><form name=adv_form ng-submit="save_adv(app, configuration, adv_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Site URL')}}</label><md-icon md-svg-icon=notify:ic_power_24px></md-icon><input name=site_url type=url ng-model=app.site_url md-maxlength=360><hint class=help for=adv_form.site_url ng-click="help('site_url')"><span> {{_('* A publicly accessible HTTP(s) URL.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=adv_form.site_url.$error><ng-message when="url, pattern"> {{ _('Must be a HTTPs URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Deploy Key')}}</label><md-icon md-svg-icon=comm:ic_vpn_key_24px></md-icon><input name=deploy_key type=text ng-model=app.deploy_key ng-disabled=!property.expert maxlength=64><md-icon class=md-primary ng-click=refresh_deploy_key(app) md-svg-icon=nav:ic_refresh_24px></md-icon><hint> {{_('* A key used to deploy app.')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class=md-raised type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button ng-class="{'md-warn': app.status,
                                'md-accent': !app.status}" ng-click=toggle_status(app) ng-disabled=submitted><md-icon md-svg-icon=av:ic_stop_24px ng-if=app.status></md-icon><md-icon md-svg-icon=av:ic_play_arrow_24px ng-if=!app.status></md-icon><md-tooltip md-delay=960> {{_(app.status ? 'Stop Running': 'Start Running')}} </md-tooltip></md-button></div></form><div class=space-lg></div><div><div layout=row layout-align="space-between center"><h3 class=md-subhead> {{_('Configuration')}} </h3><md-button class="md-icon-button md-primary" aria-label="{{_('Toggle Display')}}" ng-click="_show_config = !_show_config"><md-icon class=toggle-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': _show_config}"></md-icon></md-button></div><div class=space-margin><md-input-container class="md-block amend"><label>{{_('Interface Sender URL')}}</label><input ng-model=configuration.interface.sender disabled><md-icon class=md-primary ng-disabled=!configuration.interface.sender ng-clipboard=copy_url(configuration.interface.sender) md-svg-icon=content:ic_content_copy_24px></md-icon><hint class=help ng-click="help('wx.interface')"> {{_('* You must add your server IP to the Whitelist.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Interface Receiver URL')}}</label><input ng-model=configuration.interface.receiver disabled><md-icon class=md-primary ng-disabled=!configuration.interface.receiver ng-clipboard=copy_url(configuration.interface.receiver) md-svg-icon=content:ic_content_copy_24px></md-icon><hint class=help ng-click="help('wx.interface')"> {{_('* Used to receive messages and auto reply.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></md-input-container><div layout=column ng-show=!_show_config><md-button class=md-raised ng-click="_show_config = true"> {{_('Open Configuration')}} </md-button></div></div><form class="space-margin anim-show" name=wx_config_form ng-submit="save_conf(configuration, wx_config_form)" ng-show=_show_config novalidate><md-input-container class="md-block selector"><label>{{_('WeChat Type')}}</label><md-select name=type ng-model=configuration.type placeholder="{{_('Select WeChat type')}}"><md-option ng-value=type.key ng-repeat="type in wx_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=wx_config_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Token')}}</label><input name=token type=text ng-model=configuration.token ng-pattern=/^[a-zA-Z0-9]{3,32}$/ maxlength=60><hint class=help ng-click="help('wx.token')" for=wx_config_form.token> {{_('* The token of wechat interface.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=wx_config_form.token.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Encoding AES Key')}}</label><input name=aes_key type=text ng-model=configuration.encoding_aes_key ng-pattern=regex_pattern.ascii><hint class=help ng-click="help('wx.aes')" for=wx_config_form.aes_key> {{_('* Use it when message is encrypted.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=wx_config_form.aes_key.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Developer AppID')}}</label><input name=wx_appid type=text ng-model=configuration.wx_app_id><hint for=wx_config_form.wx_appid> {{_('* Find App ID form Official WeChat admin panel.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Developer AppSecret')}}</label><input name=wx_secret type="{{_display_secret ? 'text' : 'password' }}" ng-model=configuration.wx_app_secret><md-icon md-svg-icon="{{ _display_secret
                     ? 'action:ic_visibility_off_24px'
                     : 'action:ic_visibility_24px' }}" ng-init="_display_secret = !configuration.wx_app_secret" ng-click="_display_secret = !_display_secret"></md-icon><hint> {{_('* This will be automatically encrypted when saved.')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><p class="md-text md-caption text-middle-group indent-padding" ng-class="{'md-accent': configuration.certified,
                          'draft': !configuration.certified}"><span> {{configuration.certified?_('Verified'):_('Unverified')}} </span><md-icon class=s16 md-svg-icon=action:ic_verified_user_24px></md-icon></p></div></form></div></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/response.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Auto Replies')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=sel.selection ng-click=add(responses)> {{_('New Reply Rule')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=responses.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', responses.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="resp in responses" ng-class="{'selected': resp._selected}" ng-hold="sel.select(resp, responses)" ng-click="!sel.selection?edit(resp):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'md-primary': resp.status}" md-svg-icon={{respico_map[resp.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3 ng-class="{'text-strike': !resp.status}"> {{ resp.title || resp.id }} </h3><p>{{ resp.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{resp._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': resp.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(responses)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/response_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><div class="anim-enter section-wrapper" ng-if="resp.type == 'text'"><header><h2 class=md-headline><span>{{ _('Reply Plain Text') }}</span></h2></header><form name=resp_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 ng-model=resp.text placeholder=... md-maxlength=360></textarea><ng-messages for=resp_text_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form></div><div class="anim-enter section-wrapper max-size-md" ng-if="resp.type == 'news'"><header><h2 class=md-headline><span>{{ _('Reply Graphic Message') }}</span></h2></header><form name=resp_news_form novalidate><md-input-container class="static md-block"><label>{{_('Pic')}}</label><md-card class=max-size-sm ng-click="switch_msg_pic(resp.items[0], $event)"><img class=img-bg-cover ng-src={{image.trans_20x10}} style={{(resp.items[0].picurl||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=resp.items[0].title md-maxlength=60 required><ng-messages for=resp_news_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=content ng-model=resp.items[0].content md-maxlength=240></textarea><ng-messages for=resp_news_form.content.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('URL')}}</label><input name=url type=url ng-model=resp.items[0].url md-maxlength=360 required><ng-messages for=resp_news_form.url.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message><ng-message when=url> {{ _('Must be a URL.') }} </ng-message></ng-messages></md-input-container></form><div><md-menu><md-button class=md-primary ng-click=$mdMenu.open($event)><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><span>{{_('Sync Message')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="rel_app in relateable"><md-button ng-click="sync_msg(resp, rel_app)"> {{rel_app.label}} </md-button></md-menu-item></md-menu-content></md-menu></div></div><div class="anim-enter section-wrapper" ng-if="['newest', 'search', 'random'].indexOf(resp.type) >= 0"><header><h2 class=md-headline><span> {{ resp.type == 'newest' ? _('Relate to Newest Article') : resp.type == 'search' ? _('Relate to Search Article') : _('Relate to Random Article') }} </span></h2></header><form name=resp_relate_form novalidate><md-input-container class="md-block selector amend"><label>{{_('Relate to App')}}</label><md-select name=relate_app ng-model=resp.related.app_id placeholder="{{_('Select realte app')}}" ng-change="change_relate_app(relateable, resp)" required><md-option ng-value=relate.id ng-repeat="relate in relateable"> {{relate.label}} </md-option></md-select><hint for=resp_relate_form.relate_app> {{_('* Select content from this app.')}} </hint><ng-messages for=resp_relate_form.relate_app.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector amend"><label>{{_('Content Type')}}</label><md-select name=relate_type ng-model=resp.related.content_type placeholder="{{_('Select content type')}}" ng-disabled=!resp.related.app_id><md-option ng-value="''"> {{_('All')}} </md-option><md-option ng-value=type.slug ng-repeat="type in relate_content_types"> {{_(type.label)}} </md-option></md-select><hint for=resp_relate_form.relate_app> {{_('* You can find content by type.')}} </hint><ng-messages for=resp_relate_form.relate_type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class=field-container><label>{{_('Number of replies')}}</label><p class="md-caption indent-margin md-text md-warn"> {{_('Sorry! WeChat official has limited up to 1 entry '+ 'for each graphic message.')}} </p></md-input-container></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span> {{ _('Auto Reply Settings') }} </span></h1></header><form name=resp_form ng-submit="save(resp, resp_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=resp.title md-maxlength=60><hint for=resp_form.title> {{_('* For management only, will not applied to send.')}} </hint><ng-messages for=resp_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Type')}}</label><md-select name=type ng-model=resp.type placeholder="{{_('Select reply type')}}" required><md-option ng-value=type.key ng-repeat="type in resp_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=resp_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector amend"><label>{{_('Trigger')}}</label><md-select name=trigger ng-model=resp.trigger placeholder="{{_('Select reply type')}}" required><md-option ng-value=trigger.key ng-repeat="trigger in triggers"> {{_(trigger.label)}} </md-option></md-select><hint for=resp_form.trigger> {{_('* `Default, Subscribe, Auto` can only set one each.')}} </hint><ng-messages for=resp_form.trigger.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend" ng-show="resp.trigger == 3"><label>{{_('Keywords')}}</label><md-chips name=trigger_keys ng-model=resp.keywords placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{resp.keywords.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12 md-add-on-blur></md-chips><hint>{{_('* Must be unique from all replies.')}}</hint></div><md-switch ng-class="{'draft': !resp.status}" ng-model=resp.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button ng-show=resp.id ng-click=trash(resp)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/wxa/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div ng-if=analysis.allowed layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Total Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.visits | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{analysis.visits}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('ULT. Growth') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.growth | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{analysis.growth}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('ULT. Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.pv | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{analysis.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('ULT. Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.uv | abbrnum:2 }} <md-tooltip md-direction=top md-delay=960> {{analysis.uv}} </md-tooltip></p></div></div></div></div><div class="md-margin md-padding md-box md-warn" ng-if="analysis.allowed == false" layout=column layout-align="center center"><md-icon class=s60 md-svg-icon=file:ic_cloud_off_24px></md-icon><p class=md-body-1> {{_('Analysis is temporarily unavailable')}} </p></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Products') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in products" aria-label="{{_('Edit Product')}}" ng-click=edit_product(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=action:ic_shopping_cart_24px></md-icon></div></md-list-item><md-list-item ng-if="products.length == 0" aria-label="{{_('Manage Products')}}" ng-click=manage_products()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=action:ic_shopping_cart_24px></md-icon></div></md-list-item></md-list></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-sm></div><div layout=row><md-button class=md-raised ng-if=config.id ng-class="{'md-primary': config.certified,
                                    'md-warn': !config.certified}" ng-click=manage_config()><md-icon md-svg-icon=action:ic_settings_24px></md-icon><span>{{_('Configuration')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top md-delay=960> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wxa/views/page.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Pages') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s products in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{page_type_slug}} perpage=perpage files=files status=status selection=sel on-edit=edit></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Page')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wxa/views/pref_options.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('General Options')}}</span></h1></header><form name=app_form ng-submit="save(app, app_form)" novalidate><div layout=row><md-input-container class="md-block static" flex><label>{{_('Logo')}}</label><md-card class=thumbnail ng-click="switch_logo(app, $event)"><img ng-class="{'img-bg-contain': app.meta.logo,
                              'img-bg-lg': !app.meta.logo}" ng-src={{image.trans}} style={{(app.meta.logo||image.default)|bg_img}}><md-tooltip md-delay=960>.png, .jpg</md-tooltip></md-card></md-input-container><md-input-container class="md-block static" flex><label>{{_('Mini Program Code')}}</label><md-card class=thumbnail ng-click=refresh_minacode(minacode)><img ng-class="{'img-bg-contain': minacode.src,
                              'img-bg-lg': !minacode.src}" ng-src={{image.trans}} style={{(minacode.src||image.default)|bg_img}}></md-card></md-input-container></div><md-input-container class="md-block selector"><label>{{_('Locale')}}</label><md-select name=locale ng-model=app.locale ng-disabled=submitted required><md-option ng-value=loc.code ng-repeat="loc in locales"> {{_(loc.name)}} </md-option></md-select><ng-messages for=app_form.locale.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=app.meta.title md-maxlength=60 required><ng-messages for=app_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=app.meta.description md-maxlength=360></textarea><ng-messages for=app_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Copyright')}}</label><textarea name=copyright ng-model=app.meta.copyright md-maxlength=600></textarea><ng-messages for=app_form.copyright.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('License')}}</label><textarea name=license ng-model=app.meta.license md-maxlength=600></textarea><ng-messages for=app_form.license.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button ng-if=property.expert ng-click=hardcore(app) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button><span flex></span><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-click=destroy(app) ng-disabled=submitted><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Advanced Options')}}</span></h2></header><form name=adv_form ng-submit="save_adv(app, configuration, adv_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Interface Base URL')}}</label><md-icon md-svg-icon=notify:ic_power_24px></md-icon><input name=site_url type=url ng-model=app.site_url ng-pattern=regex_pattern.https md-maxlength=360><hint class=help for=adv_form.site_url ng-click="help('interface_base_url')"><span> {{_('* A HTTPs URL for external services.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=adv_form.site_url.$error><ng-message when="url, pattern"> {{ _('Must be a HTTPs URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Consumer Hotline')}}</label><md-icon md-svg-icon=comm:ic_call_24px></md-icon><input name=tel type=tel ng-model=app.meta.tel><hint for=adv_form.tel> {{_('* A telephone number for customer service.')}} </hint><ng-messages for=adv_form.tel.$error><ng-message when=tel> {{ _('Must be a URL.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Deploy Key')}}</label><md-icon md-svg-icon=comm:ic_vpn_key_24px></md-icon><input name=deploy_key type=text ng-model=app.deploy_key ng-disabled=!property.expert maxlength=64><md-icon class=md-primary ng-click=refresh_deploy_key(app) md-svg-icon=nav:ic_refresh_24px></md-icon><hint> {{_('* A key used to deploy app.')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class=md-raised type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button ng-class="{'md-warn': app.status,
                                'md-accent': !app.status}" ng-click=toggle_status(app) ng-disabled=submitted><md-icon md-svg-icon=av:ic_stop_24px ng-if=app.status></md-icon><md-icon md-svg-icon=av:ic_play_arrow_24px ng-if=!app.status></md-icon><md-tooltip md-delay=960> {{_(app.status ? 'Stop Running': 'Start Running')}} </md-tooltip></md-button></div></form><div class=space-lg></div><div><div layout=row layout-align="space-between center"><h3 class=md-subhead> {{_('Configuration')}} </h3><md-button class="md-icon-button md-primary" aria-label="{{_('Toggle Display')}}" ng-show=configuration.interface_setted ng-click="_show_config = !_show_config"><md-icon class=toggle-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': _show_config}"></md-icon></md-button></div><div class=space-margin><md-input-container class=md-block ng-if=configuration.interface_setted><label>{{_('Interface API URL')}}</label><input ng-model=configuration.interface.api disabled><md-icon class=md-primary ng-disabled=!configuration.interface.api ng-clipboard=copy_url(configuration.interface.api) md-svg-icon=content:ic_content_copy_24px></md-icon></md-input-container><md-input-container class=md-block ng-if=configuration.interface_setted><label>{{_('Order Notify URL')}}</label><input ng-model=configuration.interface.notify_order disabled><md-icon class=md-primary ng-disabled=!configuration.interface.notify_order ng-clipboard=copy_url(configuration.interface.notify_order) md-svg-icon=content:ic_content_copy_24px></md-icon></md-input-container><md-input-container class=md-block ng-if=configuration.interface_setted><label>{{_('Refund Notify URL')}}</label><input ng-model=configuration.interface.notify_refund disabled><md-icon class=md-primary ng-disabled=!configuration.interface.notify_refund ng-clipboard=copy_url(configuration.interface.notify_refund) md-svg-icon=content:ic_content_copy_24px></md-icon></md-input-container><div layout=column ng-show="!_show_config || !configuration.interface_setted"><md-button class=md-raised ng-show=configuration.interface_setted ng-click="_show_config = true"> {{_('Open Configuration')}} </md-button><md-button class=md-raised ng-show=!configuration.interface_setted disabled><md-icon md-svg-icon=alert:ic_warning_24px></md-icon><span>{{_('Please setup Interface Base URL')}}</span></md-button></div></div><form class="space-margin anim-show" name=mina_config_form ng-submit="save_conf(configuration, mina_config_form)" ng-show="_show_config && configuration.interface_setted" novalidate><md-input-container class="md-block amend"><label>{{_('Mini AppID')}}</label><input name=mini_appid type=text ng-model=configuration.mina_app_id><hint> {{_('* Find App ID form Official Mini App admin panel.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Mini AppSecret')}}</label><input name=mini_secret type="{{app_secret_display ? 'text' : 'password' }}" ng-model=configuration.mina_app_secret><md-icon md-svg-icon="{{ app_secret_display
                     ? 'action:ic_visibility_off_24px'
                     : 'action:ic_visibility_24px' }}" ng-click=toggle_secret_display()></md-icon><hint> {{_('* This will be automatically encrypted when saved.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Merchant ID')}}</label><input name=mch_id type=text ng-model=configuration.mch_id><hint> {{_('* You can find Merchant ID when WePay is activated.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Merchant Secret')}}</label><input name=mch_secret type="{{mch_secret_display ? 'text' : 'password' }}" ng-model=configuration.mch_secret><md-icon md-svg-icon="{{ mch_secret_display
                     ? 'action:ic_visibility_off_24px'
                     : 'action:ic_visibility_24px' }}" ng-click=toggle_mch_secret_display()></md-icon><hint> {{_('* This will be automatically encrypted when saved.')}} </hint></md-input-container><div class=field-row><div layout=row><md-input-container flex><label>{{_('Merchant Name')}}</label><input name=mch_name type=text ng-model=configuration.mch_name></md-input-container><md-input-container flex><label>{{_('Merchant Class')}}</label><input name=mch_class type=text ng-model=configuration.mch_class></md-input-container></div><hint> {{_('* Must be exactly unified with WeChat merchant. '+ 'Otherwise, transaction may failure.')}} </hint></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><p class="md-text md-caption text-middle-group indent-padding" ng-class="{'md-accent': configuration.certified,
                          'draft': !configuration.certified}"><span> {{configuration.certified?_('Verified'):_('Unverified')}} </span><md-icon class=s16 md-svg-icon=action:ic_verified_user_24px></md-icon></p></div></form></div></section></div></div><script type=text/ng-template id=wxa.perf.options.custom.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Custom Meta')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Custom Meta')}}
    </h2>

    <!-- meta form -->
    <form class="md-padding"
          name="meta_form"
          ng-submit="submit(meta, meta_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Meta Key')}}</label>
        <input name="key"
               type="text"
               ng-model="meta.key"
               md-maxlength="60"
               required />
        <ng-messages for="meta_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Value')}}</label>
        <input name="value"
               type="text"
               ng-model="meta.value"
               md-maxlength="600"
               required />
        <ng-messages for="meta_form.value.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(meta)"
               ng-show="!meta._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(meta, meta_form)">
      {{meta._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wxa/views/product.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Products') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s products in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{prd_type_slug}} perpage=perpage files=files status=status selection=sel on-edit=edit></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Product')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wxa/views/store.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Store Property') }}</span></h1></header><form name=store_opt_form ng-submit="save(store_opt, store_opt_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Uniform Delivery Fee')}}</label><input name=courier_fee type=number step=1 min=0 ng-model=courier_fee><hint for=store_opt_form.courier_fee> {{_('* Uniform delivery fee for all orders.')}} </hint><ng-messages for=store_opt_form.courier_fee.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message><ng-message when=min> {{ _('The number is too small.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Free Shipping Limit')}}</label><input name=free_courier type=number step=1 min=0 ng-model=free_courier><hint> {{_('* Free shipping when order payment reached this number.')}} </hint><ng-messages for=store_opt_form.free_courier.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message><ng-message when=min> {{ _('The number is too small.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label> {{_('Point Exchange Rate')}} </label><h4 class="indent-margin md-text md-accent"> 100 : {{store_opt.credit_exchange_rate}} </h4></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Explanation')}}</span></h2></header><article ng-if="lang == 'en'"><h4>Delivery Fee</h4><p> You should try to calculate the delivery cost into the unit price of the product. In addition, you can set a reasonable free shipping start price to make sure you will not lose money due to delivery. </p><h4>Point Exchange</h4><ul><li> The rules for obtaining, value and using the points are uniform and cannot be modified by yourself. </li><li> Customers will receive 1 point for every bucks spent, and 1 cent for each point when deducting the order payment. </li><li> The credit deduction can be used in entire transaction, including the delivery fee. </li></ul><p> The rules for obtaining, value and using the points are uniform and cannot be modified. Customers will receive 1 point for every 1 bucks spent, and 1 cent for each point when deducting the order amount. Each transaction can use the point deduction in full, including the shipping part of the order. </p><p> The Mini Program themes might display points as demand. For example, the theme can display 100 point as 1 bucks. </p><h4>Minmal payment</h4><p> As long as the system is uptime, the order payment will be forced to be at least 1 cent. </p></article><article ng-if="lang == 'zh'"><h4>运费</h4><p> 经过深思熟虑之后，我们决定将运费设定为全场订单统一运费， 请不要奢望有朝一日可以给不同商品分别设置运费。 你应该尽量将运费计算到商品的单价中， 还可以设置一个合理的免邮起步价格，确保你不会因为运费亏本。 </p><md-divider class=dotted></md-divider><h4>积分兑换</h4><ul><li>积分的获得、价值和使用规则是统一的，且不可由你自主修改的。</li><li>顾客每消费1元钱将获得1个积分，在抵扣订单金额时每1个积分价值1分钱，</li><li>每笔交易都可以全额使用积分抵扣，包括订单的运费部分。</li></ul><p> 小程序的主题为了显示上的需要，有可能按照自定义的单位显示积分。 例如，因为100积分价值1元，于是主题把100个积分显示为1元也未尝不可。 </p><md-divider class=dotted></md-divider><h4>交易至少1分钱</h4><p> 只要发起交易系统都会强制订单金额至少大于1分钱。 即使通过优惠、抵扣等形式把订单金额降低到了0元0分，系统也会自动把订单金额变为1分。 </p></article></section></div></div></script><script type=text/ng-template id=components/contents/content_list.html><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': file._selected}" flex><md-card-header ng-hold="sel.select(file, files)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'draft': !file.status && !file._selected,
                   'md-accent': !file.is_reserved && file._selected,
                   'md-primary': file.is_reserved}" md-svg-icon="{{ file._selected
                   ? 'action:ic_done_24px'
                   : file.is_home ? 'action:ic_home_24px'
                   : file.is_segment ? 'action:ic_view_stream_24px'
                   : file.is_reserved ? 'editor:ic_insert_drive_file_24px'
                   : 'action:ic_description_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                   ? 'action:ic_done_24px'
                   : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status,
                           'text-italic': !file.meta.title}"> {{file.meta.title || file.slug }} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click="sel.selection?'':$ctrl.onEdit(file)" ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                    |thumbnail|bg_img}}"><md-card-actions layout=row layout-align="end center"><md-menu><md-button class=md-icon-button aria-label="{{_('Actions')}}" ng-disabled=sel.selection ng-click=$mdMenu.open($event)><md-icon md-svg-icon=nav:ic_more_vert_24px></md-icon></md-button><md-menu-content class=max-size-sm><md-menu-item><md-button class=md-primary ng-href={{file.url|now:file.updated}} target=_blank> {{_('Preview')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=toggle_status(file)> {{file.status ? _('Unpublish') : _('Publish')}} </md-button></md-menu-item><md-menu-item ng-if="options.moveable && !file.locked"><md-button ng-click="move(file, files)"> {{_('Move')}} </md-button></md-menu-item><md-menu-item ng-if=!file.locked><md-button ng-click="trash(file, files)"> {{_('Delete')}} </md-button></md-menu-item></md-menu-content></md-menu><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-disabled=sel.selection ng-click=$ctrl.onEdit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click="get_more(files, status.value)" flex><div class=float-case><div class=float-case-bg><img class=img-bg-cover ng-src={{image.trans_16x10}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div><script type=text/ng-template id=component.contents.move.tmpl.html>
<md-dialog class="max-size-sm"
           aria-label="{{_('Move Content')}}">
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Move To')}}
    </h2>
    <!-- content types -->
    <md-list class="anim-enter">
      <md-list-item class="text-nowrap-group"
                    ng-repeat="ctype in content_types"
                    ng-click="select(ctype)">
        <p class="text-center">
          {{_(ctype.title) || ctype.slug}}
        </p>
      </md-list-item>
    </md-list>
  </md-dialog-content>
</md-dialog>
</script></script><script type=text/ng-template id=components/contents/static_content_list.html><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-click=$ctrl.onEdit(file) flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'draft': !file.status,
                              'md-primary': file.is_reserved}" md-svg-icon="{{ file.is_home ? 'action:ic_home_24px'
                   : 'editor:ic_insert_drive_file_24px'}}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                   ? 'action:ic_done_24px'
                   : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-italic': !file.meta.title}"> {{file.meta.title || file.slug }} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} style="{{(file.meta.featured_image.srs||image.default)
                     |thumbnail|bg_img}}"></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click=get_more(files) flex><div class=float-case><div class=float-case-bg><img class=img-bg-cover ng-src={{image.trans_16x10}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div></script><script type=text/ng-template id=components/notification/notify_overload.html><div class="md-margin md-box md-warn" ng-if="total_count >= total_limit" layout=row layout-align="start center"><div class=indent-padding><md-icon md-svg-icon=device:ic_storage_24px></md-icon></div><p class=md-body-1 flex> {{_('Overload! Not enough storage.')}} </p></div></script><script type=text/ng-template id=modals/attrs/attrs.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Attributes')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Attributes')}} </h2><form class=md-padding name=modal_attrs_form ng-submit=save(data) novalidate><div ng-repeat="struct in options.structure"><md-input-container class=md-block ng-if="struct.type == 'text'"><label>{{struct.label || struct.key}}</label><input name={{struct.key}} type=text ng-model=data[struct.key] maxlength=600></md-input-container><md-input-container class="md-block selector" ng-if="struct.type == 'select'"><label>{{struct.label || struct.key}}</label><md-select name={{struct.key}} ng-model=data[struct.key]><md-option ng-value=op ng-repeat="op in struct.options track by $index"> {{op}} </md-option><md-option ng-value="''"> {{_('Empty')}} </md-option></md-select></md-input-container><div class=switch-container ng-if="struct.type == 'switch'"><md-switch ng-class="{'draft': !data[struct.key]}" ng-model=data[struct.key]> {{struct.label || struct.key}} </md-switch></div></div><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Restore')}}" ng-click=restore()><md-icon md-svg-icon=action:ic_restore_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(data, modal_attrs_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/bg/bg.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Background')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Background')}} </h2><form class=md-padding name=modal_bg_form ng-submit="save(media_bg, modal_bg_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(media_bg, $event)"><img class=img-bg-cover ng-src={{image.trans_14x10}} style={{(media_bg.src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class="md-block selector" ng-if=presets.length><label>{{_('Preset Style')}}</label><md-select name=preset ng-model=media_bg.preset ng-disabled=submitted required><md-option ng-value="''"> {{_('Default')}} </md-option><md-option ng-value=preset.key ng-repeat="preset in presets"> {{preset.label}} </md-option></md-select><ng-messages for=modal_bg_form.preset.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if=options.allow_fields.color><label>{{_('Background Color')}}</label><input name=color type=text ng-model=media_bg.color ng-style={background:media_bg.color} maxlength=60><md-icon class=md-primary ng-click="set_color(media_bg, $event)" md-svg-icon=image:ic_palette_24px></md-icon></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('Custom CSS Class')}}</label><input name=class type=text ng-model=media_bg.custom.class maxlength=120></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('Custom Inline Styles')}}</label><input name=style type=text ng-model=media_bg.custom.style maxlength=600></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(media_bg, modal_bg_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/bulletin/bulletin.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Link')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Activity Bulletin')}} </h2><form class=md-padding name=modal_bulletin_form ng-submit="save(bulletin, modal_bulletin_form)" novalidate><md-input-container class="md-block static"><label>{{_('Activity')}}</label><md-card ng-click="attach_activity(bulletin, $event)" ng-disabled=!loaded><div class="md-padding md-margin text-center" ng-if=!sync_status><md-icon class="s60 draft" md-svg-icon=action:ic_event_24px></md-icon></div><div class="md-padding md-margin text-center" ng-if="sync_status == 1"><md-icon class="s60 md-primary" md-svg-icon=notify:ic_event_note_24px></md-icon><div class="md-caption md-text md-primary md-margin text-nowrap" ng-show=bulletin.activity_id>{{bulletin.name}}</div></div><div class="md-padding md-margin text-center" ng-if="sync_status == 2"><md-icon class="s60 md-warn" md-svg-icon=notify:ic_event_busy_24px></md-icon><div class="md-caption md-text md-margin md-warn"> {{_('Activity is not available')}} </div></div></md-card></md-input-container><md-input-container class=md-block><label>{{_('Name')}}</label><input name=name type=text ng-model=bulletin.name md-maxlength=60 required><hint for=modal_bulletin_form.name> {{_('* The name used to display when make appointment.')}} </hint><ng-messages for=modal_bulletin_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !bulletin.customize}" ng-change=refresh_activity(bulletin) ng-model=bulletin.customize> {{_('Custom Properties')}} </md-switch><div ng-if=bulletin.customize><div class=indent-padding><hint> {{_('Customize activity cases is for display only, '+ 'it does not affect when the appointment. '+ 'After the customize is turned on, '+ 'activity text will not synchronize automatically.')}} </hint></div><div class=text-right><md-button class=md-primary ng-disabled=!bulletin.activity_id ng-click=refresh_activity(bulletin)><span>{{_('Refresh')}}</span><md-icon md-svg-icon=nav:ic_refresh_24px></md-icon></md-button></div><md-subheader class=md-no-sticky> {{_('Appointment Cases')}} </md-subheader><div class=md-margin ng-repeat="case in bulletin.cases"><md-input-container class="tight md-block md-caption" md-no-float flex><input type=text ng-model=case.value placeholder="{{_('Empty')}}" maxlength=120></md-input-container></div><div class="md-padding md-caption draft text-center" ng-if=!bulletin.cases.length> {{_('Nothing here')}} </div></div><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-disabled="!sync_status || (sync_status == 2) || submitted" ng-click="save(bulletin, modal_bulletin_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/carousel/carousel.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Carousel')}}" flex><md-toolbar class="bg-trans md-hue-3 md-menu-toolbar"><div class=md-toolbar-tools layout=row layout-align="center center" ng-show=!curr_slide> {{_('Carousel')}} </div><div class=md-toolbar-tools ng-show=curr_slide><md-button class=md-primary ng-click="save_slide(curr_slide, slides,
                                      modal_carousel_form.slide)"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><span>{{_('Save and back')}}</span></md-button><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Remove')}}" ng-click="remove_slide(curr_slide, slides)"><md-icon md-svg-icon=custom:ic_delete_outline_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><md-list ng-if=!curr_slide><md-subheader class=md-no-sticky> {{_('%s / %s', slides.length, options.limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="slide in slides" ng-click="edit_slide(slide, $index)"><img class="md-avatar img-bg-cover" ng-if="slide.type == 'image'" ng-src={{image.trans}} style={{slide.src|thumbnail|bg_img}}><div ng-if="slide.type != 'image'"><md-icon class=md-avatar-icon md-svg-icon={{media_icons[slide.type]}}></md-icon></div><div class=md-list-item-text><p>{{ slide.title || '#'+$index }}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item ng-show="slides.length < options.limit" aria-label="{{_('Add')}}" ng-click=add_slide(slides)><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list><form class=indent-padding name=modal_carousel_form.slide ng-if=curr_slide ng-submit=save_slide(curr_slide,slides,modal_carousel_form.slide) novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(curr_slide, $event)"><img class=img-bg-cover ng-if="curr_slide.type == 'image' || !curr_slide.type" ng-src={{image.trans_16x10}} style={{(curr_slide.src||image.default)|bg_img}}><video ng-src={{curr_slide.src}} ng-if="curr_slide.type == 'video'" controls=true></video></md-card></md-input-container><md-input-container class=md-block ng-show=options.allow_fields.title><label>{{_('Title')}}</label><input name=title type=text ng-model=curr_slide.title md-maxlength=60><ng-messages for=modal_carousel_form.slide.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show=options.allow_fields.subtitle><label>{{_('Subtitle')}}</label><input name=subtitle type=text ng-model=curr_slide.subtitle md-maxlength=60><ng-messages for=modal_carousel_form.slide.subtitle.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show=options.allow_fields.caption><label>{{_('Caption')}}</label><textarea name=caption type=text ng-model=curr_slide.caption md-maxlength=360></textarea><ng-messages for=modal_carousel_form.slide.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete ng-show=options.allow_fields.link md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=curr_slide.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=360><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_carousel_form.slide.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages for=modal_carousel_form.slide.link.$error><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend" ng-show=options.allow_fields.target><label>{{_('Target Window')}}</label><input name=target type=text ng-model=curr_slide.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(slide)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=curr_slide.class maxlength=240></md-input-container><md-input-container class=md-block><label>{{_('Position')}}</label><input name=pos type=number step=1 ng-model=curr_slide._index required><ng-messages for=modal_carousel_form.slide.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions class=anim-enter ng-if=!curr_slide><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(slides)> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/catalog/catalog.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Catalog')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Catalog')}} </h2><div ng-repeat="group in catalog"><div class=md-margin><div layout=row layout-align="start center"><img class="md-avatar img-bg-cover" ng-src={{image.trans}} ng-click="switch_figure(group, $event)" style={{(group.figure||image.trans)|thumbnail|bg_img}}><div class="md-margin text-nowrap-group"><span class=md-body-2>{{group.name || group.key}}</span></div><span flex></span><md-menu><md-button class="md-icon-button md-accent" aria-label="{{_('Actions')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_swap_vertical_circle_24px></md-icon></md-button><md-menu-content class=max-size-xs width=2><md-menu-item><md-button ng-disabled=$first ng-click="move_group_up(catalog, $index)"> {{_('Move Up')}} </md-button></md-menu-item><md-menu-item><md-button ng-disabled=$last ng-click="move_group_down(catalog, $index)"> {{_('Move Down')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-warn ng-click="remove_group(catalog, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></div><div class=space-sm></div><div ng-if=group.items.length><div class=text-nowrap-group layout=row layout-align="space-between center" ng-repeat="(curr_idx, item) in group.items"><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Remove')}}" ng-disabled="$first && $last" ng-click=$mdMenu.open($event)><md-icon class=s16 md-svg-icon=editor:ic_drag_handle_24px></md-icon></md-button><md-menu-content width=1><md-menu-item ng-repeat="(next_idx, item) in group.items"><md-button ng-class="{'md-accent': curr_idx == next_idx}" ng-click="group_item_move_to(group.items,
                                                          curr_idx,
                                                          next_idx)"> {{next_idx}} </md-button></md-menu-item></md-menu-content></md-menu><div class=md-caption flex> {{ item.title || item.slug }} </div><md-button class="md-icon-button md-primary" aria-label="{{_('Remove')}}" ng-click="remove_group_item(group.items, $index)"><md-icon class=s16 md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></div><md-menu ng-if="group.items.length < options.items_limit"><md-button class=md-primary ng-disabled=!options.content_type ng-click="sync_group_items(group.key,
                                                $mdMenu.open($event))"><md-icon class=s16 md-svg-icon=content:ic_add_circle_outline_24px></md-icon><span class=md-caption>{{_('Add Content')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item ng-repeat="file in files"><md-button ng-click="add_group_item(file, group.items)"> {{file.meta.title || file.slug}} </md-button></md-menu-item><md-menu-item ng-if="files === false"><span class="md-caption draft"> {{_('No content belongs to this term.')}} </span></md-menu-item></md-menu-content></md-menu></div><md-divider></md-divider></div><div class="md-margin text-center"><md-menu><md-button class=md-accent ng-click=$mdMenu.open($event)><md-icon md-svg-icon=content:ic_add_24px></md-icon><span>{{_('Add Group')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Category Terms')}} </md-menu-item><md-menu-divider></md-menu-divider><md-menu-item ng-repeat="term in terms"><md-button ng-class="{'text-strike': !term.status}" ng-click="add_group(term, catalog)"> {{term.meta.name || term.key}} </md-button></md-menu-item><md-menu-item ng-if=!terms_count><span class="md-caption draft">{{_('No Group')}}</span></md-menu-item></md-menu-content></md-menu></div></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(catalog)> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/create.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Create New Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_(options.title || 'Create New Content')}} </h2><form class=md-padding name=modal_create_file_form ng-submit="submit(file, modal_create_file_form)" novalidate><md-input-container class="md-block static" ng-if=!options.locked_template><label>{{_('Template')}}</label><md-menu><md-card class=max-size-xs ng-click=$mdMenu.open($event)><img class=img-bg-contain ng-src={{image.trans_16x10}} style={{curr_tmpl.src|bg_img}}><md-tooltip md-direction=top md-delay=960> {{curr_tmpl.key || '-'}} </md-tooltip></md-card><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'faded': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-contain" ng-click="switch_template(tmpl, file)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p class=md-text> {{tmpl.key}} </p></md-menu-item></md-menu-content></md-menu></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=modal_create_file_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text maxlength=120 ng-model=file.slug><hint>{{_('* Used for friendly URLs and SEO.')}}</hint></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=modal_create_file_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close() ng-disabled=submitted> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="submit(file, modal_create_file_form)" ng-disabled=submitted> {{_('Create')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/sync.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Sync')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center text-nowrap"><span ng-if=!options.title> {{_('Sync')}}{{_(': ')}}{{app.meta.title || app.slug}} </span><span ng-if=options.title> {{_(options.title)}} </span></h2><div layout=row layout-align="space-between center" ng-show=!options.content_type><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select content type')}}" ng-model=sel_type ng-change="change_type(files, sel_type)"><md-optgroup label="{{_('Content Types')}}"><md-option ng-value=type.slug ng-repeat="type in content_types"> {{_(type.title || type.slug)}} </md-option></md-optgroup></md-select></div></div><md-list><md-subheader class=md-no-sticky> {{_('%s files in list', files.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="file in files" ng-click=sync(file)><p>{{ file.meta.title || file.slug }}</p></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(files, sel_type)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></md-dialog-content><md-dialog-actions class=centered><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/unsaved.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Unsaved')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Unsaved')}} </h2><div layout=row layout-align="center center"><div class=indent-padding><md-icon class="s48 md-warn" md-svg-icon=alert:ic_warning_24px></md-icon></div><p class=indent-padding flex> {{_('All unsaved modifies will be lost. Do you want to continue?')}} </p></div></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=nosave()> {{_('Do not Save')}} </md-button><span flex></span><md-button class=md-primary ng-click=cancel()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save()> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/destroy/destroy.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Destruction')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_(options.title || 'Destruction')}} </h2><p class=md-padding><span class=md-body-2>{{_('Confirm code is')}}</span><span class="md-body  md-text md-warn text-break select-text"> {{options.key}} </span></p><form class=md-padding name=modal_destroy_form ng-submit="destroy(key, modal_destroy_form)" novalidate><md-input-container class=md-block><label>{{_('Confirm code')}}</label><input name=key type=text ng-model=key ng-pattern=match_regex><hint for=modal_destroy_form.key> {{_('* Type the check code exactly to confirm.')}} </hint><ng-messages for=modal_destroy_form.key.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with confirm code.') }} </ng-message></ng-messages></md-input-container></form></md-dialog-content><md-dialog-actions><md-button ng-click=close()> {{_('Abort')}} </md-button><md-button class=md-warn ng-disabled="modal_destroy_form.$invalid || !key" ng-click="destroy(key, modal_destroy_form)"> {{_('Destory it!')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/ext/ext.tmpl.html><md-dialog class=max-size-sm aria-label="{{_('Open URL')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center text-upper" ng-show=ext.id> {{ext.meta.title}} </h2><div class=text-center ng-show=ext.id><md-button class=md-accent ng-href={{ext.open_target_url}} ng-disabled="count_down <= 0" target={{options.target}}><md-icon md-svg-icon=action:ic_open_in_new_24px class="md-accent s96"></md-icon><div>{{_('Open')}} ({{count_down}})</div></md-button></div></md-dialog-content><md-dialog-actions class=centered><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/formsheet/formsheet.tmpl.html><md-dialog class="max-size-md dialog-overflow md-content-overflow" aria-label="{{_('Form Sheet')}}" flex><md-toolbar class="bg-trans md-hue-3 md-menu-toolbar"><div class=md-toolbar-tools layout=row layout-align="center center" ng-show=!paste_mode> {{_('Form Sheet')}} </div><div class=md-toolbar-tools ng-show=paste_mode><md-button class=md-primary ng-click=close_paste_mode()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><span>{{_('Back')}}</span></md-button><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Copy')}}" ng-disabled=!json_str ng-clipboard=clipboard(json_str)><md-icon md-svg-icon=content:ic_content_copy_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><form class=indent-padding name=modal_formsheet_form ng-show=!paste_mode ng-submit="save(form_data, modal_formsheet_form)" novalidate><md-input-container class=md-block><label>{{_('Submit to URL')}}</label><input name=action type=text ng-model=form_data.action maxlength=600 required><md-icon ng-click=make_mail_sample(form_data) md-svg-icon=content:ic_mail_24px></md-icon><hint for=modal_formsheet_form.action> {{_('* Form data submit to this URL.')}} </hint><ng-messages for=modal_formsheet_form.action.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></form><div ng-show=!paste_mode><div class="md-padding anim-enter-leave" ng-repeat="field in form_data.fields" ng-class="{'md-whiteframe-1dp': field._selected}" ng-click="edit_field(field, form_data)" layout=row layout-align="center top"><div flex=10><md-icon md-svg-icon={{field_icons[field.key]}} ng-class="{'md-accent': field._selected}"></md-icon></div><div ng-if="field.mode != 'static'" flex><md-input-container class="md-accent md-block" ng-show="field.type != 'hidden'"><label>{{_('Label')}}</label><input name=label type=text ng-model=field.label md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-show="field.type == 'hidden'"><label>{{_('Value')}}</label><input name=label type=text ng-model=field.value md-maxlength=240></md-input-container><div ng-show=field._selected><div ng-if="field.type == 'radio'
               || field.type == 'checkbox'
               || field.type == 'select'"><md-input-container class="tight md-caption md-accent md-block" ng-repeat="opt in field.options" md-no-float><md-icon md-svg-icon="{{field.type == 'radio'
                   ? 'toggle:ic_radio_button_unchecked_24px'
                   : field.type == 'checkbox'
                   ? 'toggle:ic_check_box_outline_blank_24px'
                   : 'action:ic_label_outline_24px'}}"></md-icon><input name=label type=text ng-model=opt.value placeholder="{{_('Empty')}}" maxlength=60><md-icon ng-click="remove_field_option(field.options, $index)" md-svg-icon=content:ic_clear_24px></md-icon></md-input-container><md-button class="md-accent anim-show-hide" ng-show="field.options.length < options.opt_limit" ng-click=add_field_option(field.options)> {{_('Add Option')}} </md-button></div><div ng-if="field.require_state != 0"><md-switch class=md-accent ng-class="{'draft': !field.required}" ng-model=field.required ng-disabled="field.require_state == 1"> {{_('Required')}} </md-switch></div><div class=space-md></div><md-input-container class="md-accent md-block"><label>{{_('Keyname')}}</label><input name=key type=text ng-model=field.key ng-blur="secure_field_key(field, form_data.fields)" maxlength=60><hint>{{_('* Keyname must be latin or number.')}}</hint></md-input-container><md-input-container class="md-accent md-block" ng-show=field._hint><label>{{_('Hint')}}</label><input name=hint type=text ng-model=field.hint maxlength=240></md-input-container><md-input-container class="md-accent md-block" ng-show=field._placeholder><label>{{_('Placeholder')}}</label><input name=placeholder type=text ng-model=field.placeholder maxlength=120></md-input-container></div></div><div ng-if="field.mode == 'static'" flex><div ng-if="field.type == 'paragraph'"><md-input-container class="md-accent md-block"><label>{{_('Title')}}</label><input name=title type=text ng-model=field.title md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-if=field._selected><label>{{_('Content')}}</label><textarea name=content ng-model=field.content md-maxlength=600></textarea></md-input-container></div><div ng-if="field.type == 'media'"><img ng-class="{'img-bg-cover': !field.src,
                      'img-bg-contain': field.src }" ng-src={{image.trans_20x10}} ng-click="switch_field_media(field, $event)" style={{((field.src|thumbnail)||image.default)|bg_img}}></div><div ng-if="field.type == 'divider'"><md-divider style="margin: 12px;"></md-divider></div><div ng-if="field.type == 'code'"><textarea class=code ng-model=field.code maxlength=6000 rows=6></textarea></div></div><md-menu class="text-right anim-show-hide" ng-show=field._selected flex=10><md-icon md-svg-icon=nav:ic_more_vert_24px ng-class="{'md-accent': field._selected}" ng-click=$mdMenu.open($event)></md-icon><md-menu-content width=3><md-menu-item class=subject> {{_('Shuffle Order')}} </md-menu-item><md-menu-item><md-button class="md-icon-button md-accent" aria-label="{{_('Move Up')}}" ng-click="move_up(form_data.fields, $index)" ng-disabled=$first><md-icon md-svg-icon=nav:ic_arrow_drop_up_24px></md-icon></md-button><md-button class="md-icon-button md-accent" aria-label="{{_('Move Down')}}" ng-click="move_down(form_data.fields, $index)" ng-disabled=$last><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button></md-menu-item><md-menu-divider></md-menu-divider><div ng-if="field.placeholder != undefined ||
                  field.hint != undefined"><md-menu-item class=subject> {{_('Toggle Display')}} </md-menu-item><md-menu-item ng-if="field.placeholder != undefined"><md-button ng-class="{'draft': field._placeholder}" ng-click="toggle_field(field, '_placeholder')"> {{_('Placeholder')}} </md-button></md-menu-item><md-menu-item ng-if="field.hint != undefined"><md-button ng-class="{'draft': field._hint}" ng-click="toggle_field(field, '_hint')"> {{_('Hint')}} </md-button></md-menu-item></div><md-menu-divider ng-if="field.placeholder != undefined ||
                              field.hint != undefined"></md-menu-divider><md-menu-item><md-button class="md-primary md-accent" ng-click="remove_field(form_data, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></div><div class=space-md></div><div class=text-center ng-show="form_data.fields.length < options.limit"><md-menu><md-button class=md-accent aria-label="{{_('Add Form Field')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=av:ic_library_books_24px></md-icon><span>{{_('Form Fields')}}</span></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'common'"><md-button ng-click="add_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.label)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu><md-button class=md-accent aria-label="{{_('Static')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=custom:ic_trip_origin_24px></md-icon><span>{{_('Static Elements')}}</span></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'static'"><md-button ng-click="add_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.label)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-accent aria-label="{{_('Import/Export')}}" ng-click=open_paste_mode(form_data)><md-icon md-svg-icon=comm:ic_import_export_24px></md-icon><span>{{_('Import/Export')}}</span></md-button></div></div><form ng-show=paste_mode ng-submit="parse_json(json_str, form_data)" novalidate><div class="field-container md-block"><label>{{_('Paste JSON')}}</label><div class=space-margin><textarea class=code ng-model=json_str rows=12 maxlength=24000></textarea><hint>{{_('* Paste correct form data JSON string here.')}}</hint></div></div><md-button class=md-accent ng-disabled=!json_str type=submit> {{_('Parse')}} </md-button></form></md-dialog-content><md-dialog-actions class=anim-enter ng-show=!paste_mode><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(form_data, modal_formsheet_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/hardcore/hardcore.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Hardcore Mode')}}" flex><md-toolbar class="bg-trans md-hue-3"><div class=md-toolbar-tools><span class="max-size-sm text-nowrap"> {{_(options.title || 'Hardcore Mode')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout-margin><form name=modal_hardcore_form ng-submit="save(hardcore, modal_hardcore_form)" novalidate flex><md-input-container class="md-block amend"><label>{{_(options.label) || _('Code')}}</label><textarea name=hardcore ng-model=hardcore parse-json-verify={{options.verify}} maxlength="{{options.maxlength || 12000}}" rows=6></textarea><hint for=modal_hardcore_form.hardcore> {{_(options.hint) || _('* Define a JSON object string.')}} </hint><ng-messages for=modal_hardcore_form.hardcore.$error><ng-message when=JSONStringVerify> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></div></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=options.removeable ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class=md-primary ng-click="save(hardcore, modal_hardcore_form)"> {{_(options.ok) || _('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/identity/identity.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Identity Verification')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Identity Verification')}} </h2><form class=md-padding name=modal_identity_form ng-submit="submit(pwd, modal_identity_form)" novalidate><md-input-container class=md-block><label>{{_('Password')}}</label><input name=passwd type=password ng-model=pwd.passwd ng-pattern=regex_pattern.passwd required><hint for=modal_identity_form.key> {{_('* Type your login password to verify.')}} </hint><ng-messages for=modal_identity_form.key.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Abort')}} </md-button><md-button class=md-primary ng-click="submit(pwd, modal_identity_form)" ng-disabled=submitted> {{_('Verify')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/lines/lines.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Lines')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Lines')}} </h2><md-list><md-subheader class=md-no-sticky> {{_('%s / %s', lines.length, options.limit)}} </md-subheader><md-list-item class="anim-show text-nowrap-group" ng-repeat="item in lines"><div class=md-list-item-text><p>{{ item.text || '#'+$index }}</p></div><md-menu class=md-secondary><md-icon class=md-primary md-svg-icon=action:ic_swap_vert_24px ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click="move_up(lines, $index)"> {{_('Move Up')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="move_down(lines, $index)"> {{_('Move Down')}} </md-button></md-menu-item><md-menu-item><md-button class=md-primary ng-click="remove_line(lines, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><form class=md-padding name=modal_lines_form ng-submit="add_line(new_item, lines, modal_lines_form)" ng-show="lines.length < options.limit" novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><input name=text type=text ng-model=new_item.text md-maxlength=360><md-icon md-svg-icon=content:ic_add_circle_outline_24px ng-click="add_line(new_item, lines, modal_lines_form)" ng-disabled=!new_item.text></md-icon><ng-messages for=modal_lines_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button ng-disabled=!new_item.text hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(lines)> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/link/link.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Link')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Link')}} </h2><form class=md-padding name=modal_link_form ng-submit="save(link, modal_link_form)" novalidate><md-input-container class=md-block ng-if=options.allow_fields.name><label>{{_('Name')}}</label><input name=name type=text ng-model=link.name md-maxlength=60><ng-messages for=modal_link_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=link.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=360 required><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_link_form.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages for=modal_link_form.link.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=link.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(link)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class="md-block static" ng-if=options.allow_fields.figure><label>{{_('Media')}}</label><md-card class=max-size-xs ng-click="switch_figure(link, $event)"><img ng-class="{'img-bg-contain': link.figure,
                          'img-bg-lg': !link.figure}" ng-src={{image.trans_16x10}} style={{(link.figure||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=link.class maxlength=240></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(link, modal_link_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/media/media.tmpl.html><md-dialog class=dialog-overflow ng-class="{'md-content-overflow': mediafiles.length > 2}" aria-label="{{_('Media Repository')}}"><md-toolbar class="bg-trans md-hue-3"><div class=md-toolbar-tools><span> {{_('Media Repository')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Attributes')}}" ng-disabled=!selected_media.src ng-click=toggle_attrs()><md-icon md-svg-icon=action:ic_chrome_reader_mode_24px></md-icon><md-tooltip md-direction=bottom md-delay=960> {{_('Attributes')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout=row layout-xs=none flex-offset-gt-md=5 layout-wrap><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=!options.is_new><md-card class=md-bg-primary ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{source_media.src|thumbnail|now|bg_img}}}}><md-tooltip md-direction=top md-delay=960> {{source_media.filename | ellipsis}} </md-tooltip></div></md-card><md-card class=md-bg-primary ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type != 'image'"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[source_media.type]}}></md-icon><md-tooltip md-direction=top md-delay=960> {{source_media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><input class="ng-hide media-modal-upload" type=file ngf-select=onFileSelect($files) ngf-multiple=true ngf-accept={{options.mimetypes}}><md-card class=safe-media-bg ng-click="select_file('.media-modal-upload', $event)" ng-disabled="upload_status == 1"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-icon class="s48 md-warn" ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=60></md-progress-circular></div></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=media.id ng-repeat="media in mediafiles"><md-card class="md-box safe-media-bg" ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{media.src|thumbnail|now:media.updated|bg_img}}><md-tooltip md-direction=top md-delay=960> {{media.filename | ellipsis}} </md-tooltip></div></md-card><md-card class=md-box ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type != 'image'"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}><md-tooltip md-direction=top md-delay=960> {{media.filename | ellipsis}} </md-tooltip></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top md-delay=960> {{media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" ng-show=has_more flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><md-card aria-label="{{_('More')}}" ng-click=get_more(mediafiles)><div class=float-case><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div></md-dialog-content><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=media_property layout=column><md-toolbar class="bg-trans md-hue-3"><div class=md-toolbar-tools layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Backward')}}" ng-click=toggle_attrs()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-show=!options.is_new ng-click=remove()> {{_('Remove')}} </md-button><md-button class=md-primary ng-click="save(selected_media, modal_media_form)"> {{_('Confirm')}} </md-button></div></md-toolbar><md-content flex><form class=md-padding name=modal_media_form ng-submit="save(selected_media, modal_media_form)" novalidate><div class="centered-block md-padding max-size-sm"><div ng-if="selected_media.type == 'image'"><div class="md-padding safe-media-bg"><img class=img-bg-contain ng-src={{image.trans}} style={{selected_media.src|thumbnail|now|bg_img}}></div></div><div ng-if="selected_media.type == 'video'"><div class="md-padding safe-media-bg"><video ng-src={{selected_media.src}} controls=true></video></div></div><div ng-if="selected_media.type == 'audio'"><div class="md-padding safe-media-bg"><audio ng-src={{selected_media.src}} controls=true></audio></div></div><div ng-if="selected_media.type == 'application'"><div class="md-padding safe-media-bg"><md-icon class=s48 md-svg-icon={{media_icons[selected_media.type]}}></md-icon></div></div></div><md-input-container class=md-block ng-show=options.allow_fields.title><label>{{_('Title')}}</label><input name=title type=text ng-model=selected_media.title md-maxlength=60><ng-messages for=modal_media_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=options.allow_fields.link><label>{{_('Link')}}</label><input name=link type=text ng-model=selected_media.link maxlength=360><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!selected_media.src ng-click=link_media(selected_media)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show=options.allow_fields.target><label>{{_('Target Window')}}</label><input name=target type=text ng-model=selected_media.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(selected_media)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><div class=field-row ng-show=options.allow_fields.resize><div layout=row><md-input-container flex><label>{{_('Width')}}</label><input name=width type=text ng-model=selected_media.width></md-input-container><md-input-container flex><label>{{_('Height')}}</label><input name=height type=text ng-model=selected_media.height></md-input-container></div></div><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=selected_media.class maxlength=240></md-input-container><div ng-show="selected_media.type == 'video' ||
                      selected_media.type == 'audio'"><md-input-container class="md-block static"><label>{{_('Poster')}}</label><md-card class=max-size-xs ng-click="switch_poster(selected_media, $event)"><img ng-src={{image.trans_16x10}} ng-class="{'img-bg-cover': selected_media.poster,
                              'img-bg-lg': !selected_media.poster}" style={{(selected_media.poster||image.default)|bg_img}}></md-card></md-input-container><md-switch ng-class="{'draft': !selected_media.autoplay}" ng-model=selected_media.autoplay> {{_('Autoplay')}} </md-switch><md-switch ng-class="{'draft': !selected_media.loop}" ng-model=selected_media.loop> {{_('Loop')}} </md-switch><md-switch ng-class="{'draft': !selected_media.controls}" ng-model=selected_media.controls> {{_('Display Controls')}} </md-switch></div><button hide></button></form></md-content></md-sidenav></md-dialog></script><script type=text/ng-template id=modals/preset/preset.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Content Presets')}}" flex><md-toolbar class="bg-trans md-hue-3 md-menu-toolbar"><div class=md-toolbar-tools layout=row layout-align="center center" ng-show=!curr_preset> {{_('Content Presets')}} </div><div class=md-toolbar-tools ng-show=curr_preset><md-button class=md-primary ng-click=unselect()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><span>{{_('Back')}}</span></md-button><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Remove')}}" ng-if=!curr_preset._new ng-click=remove()><md-icon md-svg-icon=custom:ic_delete_outline_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div ng-if=!curr_preset><md-card ng-click=select(preset) ng-repeat="preset in presets"><md-card-header><md-card-avatar><img class=md-avatar ng-src=preset.figure ng-if=preset.figure><md-icon class=md-avatar-icon ng-class="{'md-primary': !preset.type,
                                'md-accent': preset.type}" md-svg-icon="{{preset.icon
                                    || preset_icons[preset.type]
                                    || 'action:ic_view_quilt_24px'}}" ng-if=!preset.figure></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group layout-align="start center" layout=row><span class=md-title>{{_(preset.name)}}</span></md-card-header-text></md-card-header></md-card></div><div ng-if=curr_preset ng-switch=curr_preset.type><div ng-switch-when=gallery><h3 class="md-title indent-padding"> {{_('Gallery')}} </h3><form class=md-padding><md-input-container class="md-block static"><label>{{_('Image')}}</label><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="pic in curr_preset.data.items" flex-gt-sm=25 flex-sm=33 flex-xs=50><md-card ng-click="switch_media(pic, $event)"><img class=img-bg-cover ng-src={{image.trans}} style={{pic.src|bg_img}}></md-card></div><div class="wrap-card anim-enter" ng-if="curr_preset.data.items.length < gallery_limit
                          || !curr_preset.data.items" flex-gt-sm=25 flex-sm=33 flex-xs=50><md-card ng-click="add_media(curr_preset.data, $event)"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s36 md-accent" md-svg-icon=content:ic_add_24px></md-icon></div></div></md-card></div></div></md-input-container></form></div><div ng-switch-when=wx-mina><h3 class="md-title indent-padding"> {{_('Mini Program')}} </h3><div class="md-margin md-box md-warn" ng-if="app.type != 'wx'" layout=row layout-align="start center"><div class=indent-padding><md-icon md-svg-icon=action:ic_announcement_24px></md-icon></div><p class=md-body-1 flex> {{_('This preset is fully supported by WeChat Broadcast.')}} </p></div><form class=md-padding><md-input-container class="md-block static"><label>{{_('Cover')}}</label><md-card class=max-size-sm ng-click="switch_media(curr_preset.data, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(curr_preset.data.src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('App ID')}}</label><input name=appid type=text ng-model=curr_preset.data.appid maxlength=60><hint> {{_('* The mini program must bound to WeChat.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Path')}}</label><input name=path type=text ng-model=curr_preset.data.path md-maxlength=360><hint>{{_('* E.g. `/pages/index/index`')}}</hint></md-input-container></form></div><div ng-switch-when=wx-audio><h3 class="md-title indent-padding"> {{_('WeChat Audio')}} </h3><div class="md-margin md-box md-warn" ng-if="app.type != 'wx'" layout=row layout-align="start center"><div class=indent-padding><md-icon md-svg-icon=action:ic_announcement_24px></md-icon></div><p class=md-body-1 flex> {{_('This preset is fully supported by WeChat Broadcast.')}} </p></div><md-list><md-list-item class="md-2-line text-nowrap-group" ng-if=curr_preset.data.singer><img class="md-avatar img-bg-cover" ng-src={{image.trans}} style={{curr_preset.data.albumurl|bg_img}}><div class="md-list-item-text text-nowrap-group"><h3>{{curr_preset.data.song}}</h3><p>{{curr_preset.data.singer}}</p></div><div class=md-secondary><md-button class=md-accent ng-href={{curr_preset.data.preview_url}} ng-disabled=!curr_preset.data.preview_url target=_blank><md-icon md-svg-icon=image:ic_audiotrack_24px></md-icon></md-button></div></md-list-item></md-list><form class=indent-padding><md-input-container class=md-block><label>{{_('Song / Singer')}}</label><input name=search type=text ng-model=_search_keyword md-maxlength=60><hint> {{_('* Search by song or singer.')}} </hint></md-input-container><md-button class="md-button md-accent" ng-disabled=!_search_keyword ng-click=search_song(_search_keyword)><span>{{_('Search')}}</span></md-button><md-list ng-if=song_list.length><md-subheader class=md-no-sticky> {{_('%s in list', song_list.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" ng-class="{'selected': song._selected}" ng-repeat="song in song_list" ng-click="choose_song(song, song_list,
                                                curr_preset)"><img class="md-avatar img-bg-cover" ng-src={{image.trans}} style={{song.albumurl|bg_img}}><div class="md-list-item-text text-nowrap-group"><h3>{{song.song}}</h3><p>{{song.singer}}</p></div><div class=md-secondary><md-button ng-class="{'md-primary': !song._selected,
                                      'md-accent': song._selected}" ng-href={{curr_preset.data.preview_url}} ng-disabled=!curr_preset.data.preview_url target=_blank><md-icon md-svg-icon=image:ic_audiotrack_24px></md-icon></md-button></div></md-list-item><md-list-item class=text-nowrap-group ng-if="song_list.length >= 12"><div class="md-list-item-text text-nowrap-group"><hint> {{_('* There is too many result, '+ 'Please try more specific search keywords.')}} </hint></div></md-list-item></md-list></form></div><div ng-switch-when=wx-video><h3 class="md-title indent-padding"> {{_('WeChat Video')}} </h3><form class=md-padding><md-input-container class=md-block><label>{{_('Video URL')}}</label><input name=video_url type=text ng-model=curr_preset.data.video_url md-maxlength=600></textarea><hint> {{_('* Find the video URL from Tencent video.')}} </hint></md-input-container></form></div></div></md-dialog-content><md-dialog-actions class=centered ng-if=!curr_preset><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions><md-dialog-actions ng-if=curr_preset><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(curr_preset)> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/print/print.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Download')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Download')}} </h2><div class="md-margin text-center"><a class=print-download-archer href=# hide></a><md-button ng-click="download($event, '.print-download-archer')" aria-label="{{_('Download')}}"><md-icon class="s96 md-accent" md-svg-icon=file:ic_file_download_24px></md-icon></md-button></div><div class=text-center><hint> {{_('Print into csv files for download. '+ 'It might take awhile when data is too large.')}} </hint></div></md-dialog-content><md-dialog-actions class=centered><md-button class=md-primary ng-click=finish()> {{_('Done')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/prompt/prompt.tmpl.html><md-dialog class=max-size-md aria-label="{{options.title || _('Prompt')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_(options.title) || _('Prompt')}} </h2><form class=md-padding name=modal_prompt_form ng-submit="enter(text, modal_prompt_form)" novalidate><div class=notice ng-if=options.text><p class=md-body-1> {{_(options.text)}} </p></div><md-input-container class=md-block><label>{{_(options.label) || _('Text')}}</label><input name=text type=text ng-model=text ng-pattern=options.regex md-maxlength=options.length ng-required=options.required><hint for=modal_prompt_form.text ng-if=options.hint> {{options.hint}} </hint><ng-messages for=modal_prompt_form.text.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with pattern.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class="{{options.style || 'md-primary'}}" ng-click="enter(text, modal_prompt_form)"> {{_(options.ok) || _('Enter')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/series/series.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Series Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Series Content')}} </h2><form class=md-padding name=modal_series_form ng-submit="save(item, modal_series_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="select_media(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-if="item.type == 'image'|| !item.type" style={{(item.src||image.default)|bg_img}}><video ng-if="item.type == 'video'" ng-src={{item.src}} controls=true></video></md-card></md-input-container><md-input-container class="md-block static" ng-if=options.allow_fields.touch><label>{{_('Display While Touch')}}</label><md-card class=max-size-sm ng-click="select_touchmedia(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-if="item.type == 'image'|| !item.type" style={{(item.touch||image.default)|bg_img}}><video ng-if="item.type == 'video'" ng-src={{item.touch}} controls=true></video></md-card></md-input-container><md-input-container class="md-block static" ng-if=options.allow_fields.poster><label>{{_('Poster')}}</label><md-card class=max-size-sm ng-click="select_poster(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(item.poster||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block ng-show=options.allow_fields.title><label>{{_('Title')}}</label><input name=title type=text ng-model=item.title md-maxlength=60><ng-messages for=modal_series_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show=options.allow_fields.subtitle><label>{{_('Subtitle')}}</label><input name=subtitle type=text ng-model=item.subtitle md-maxlength=60><ng-messages for=modal_series_form.subtitle.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show=options.allow_fields.caption><label>{{_('Caption')}}</label><textarea name=caption ng-model=item.caption md-maxlength=360></textarea><ng-messages for=modal_series_form.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=options.allow_fields.link><label>{{_('Link')}}</label><input name=link type=text ng-model=item.link maxlength=360><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!item.src ng-click=link_media(item)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show=options.allow_fields.target><label>{{_('Target Window')}}</label><input name=target type=text ng-model=item.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(item)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><div class="field-container amend" ng-show=options.allow_fields.tags><label>{{_('Tags')}}</label><md-chips name=tags ng-model=item.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{item.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12 md-add-on-blur></md-chips></div><md-input-container class="md-block amend" ng-show=options.allow_fields.extra><label>{{_('Extra HTML')}}</label><textarea name=extra ng-model=item.extra md-maxlength=600></textarea><hint for=modal_series_form.extra> {{_('* Use to input additional complex contents.')}} </hint><ng-messages for=modal_series_form.extra.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=item.class maxlength=240></md-input-container><md-input-container class=md-block><label>{{_('Position')}}</label><input name=pos type=number step=1 ng-model=item._index ng-required=!options.is_new><ng-messages for=modal_series_form.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove(item)><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(item, modal_series_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/shelf/shelf.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Link')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Commodity Shelf')}} </h2><form class=md-padding name=modal_shelf_form ng-submit="save(shelf, commodity, modal_shelf_form)" novalidate><md-input-container class="md-block static"><label>{{_('Commodity')}}</label><md-card ng-click="attach_commodity(shelf, $event)" ng-disabled=!loaded><div class="md-padding md-margin text-center" ng-if=!sync_status><md-icon class="s60 draft" md-svg-icon=action:ic_shopping_cart_24px></md-icon></div><div class="md-padding md-margin text-center" ng-if="sync_status == 1"><md-icon class="s60 md-primary" md-svg-icon="{{shelf.customize
                     ? 'action:ic_shopping_cart_24px'
                     : 'action:ic_shopping_basket_24px'}}"></md-icon><div class="md-caption md-text md-primary md-margin text-nowrap" ng-show=shelf.commodity_id>{{shelf.name}}</div></div><div class="md-padding md-margin text-center" ng-if="sync_status == 2"><md-icon class="s60 md-warn" md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon><div class="md-caption md-text md-margin md-warn"> {{_('Commodity is not available')}} </div></div></md-card></md-input-container><md-input-container class=md-block><label>{{_('Name')}}</label><input name=name type=text ng-model=shelf.name md-maxlength=60 required><hint for=modal_shelf_form.name> {{_('* The name used to display in the shopping cart.')}} </hint><ng-messages for=modal_shelf_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !shelf.customize}" ng-change=refresh_commodity(shelf) ng-model=shelf.customize> {{_('Custom Properties')}} </md-switch><div ng-if=shelf.customize><div class=indent-padding><hint> {{_('Customize commodity spec. is for display only, '+ 'it does not affect transaction. '+ 'After the customize is turned on, '+ 'commodity shelf management will not synchronize '+ 'automatically.')}} </hint></div><div class=text-right><md-button class=md-primary ng-disabled=!shelf.commodity_id ng-click=refresh_commodity(shelf)><span>{{_('Refresh')}}</span><md-icon md-svg-icon=nav:ic_refresh_24px></md-icon></md-button></div><md-subheader class=md-no-sticky> {{_('Commodity Spec. Alias')}} </md-subheader><div class="md-padding text-center" ng-if=commodity.spec|is_empty><p class="md-caption md-text draft"> {{_('This Commodity has no Spec.')}} </p></div><div class=space-padding ng-repeat="sp in commodity.spec"><md-input-container class=md-block><label>{{_('Label')}}</label><input type=text name={{sp.key}} ng-model=shelf.alias_map.label[sp.key] md-maxlength=24 md-no-float><ng-messages for=modal_shelf_form[sp.key].$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class=indent-margin ng-repeat="opt in sp.options" layout=row layout-align="start center"><div class="md-padding short"><img class="s36 safe-media-bg img-bg-cover" ng-src={{image.trans}} ng-click="switch_item_figure(
              shelf.alias_map.spec[sp.key][opt.value], $event)" ng-if=shelf.alias_map.spec[sp.key][opt.value].src style={{shelf.alias_map.spec[sp.key][opt.value].src|bg_img}}><md-icon class=s36 ng-if=!shelf.alias_map.spec[sp.key][opt.value].src ng-click="switch_item_figure(
                       shelf.alias_map.spec[sp.key][opt.value], $event)" md-svg-icon=image:ic_photo_24px></md-icon></div><md-input-container class="tight md-block md-caption" md-no-float flex><input type=text ng-model=shelf.alias_map.spec[sp.key][opt.value].text placeholder="{{_('Empty')}}" maxlength=24></md-input-container></div></div></div><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-disabled="!sync_status || (sync_status == 2) || submitted" ng-click="save(shelf, commodity, modal_shelf_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/slot/slot.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Manage Widget Slot')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Manage Widget Slot')}} </h2><form class=md-padding name=modal_slot_form ng-submit="submit(slot, modal_slot_form)" novalidate><md-input-container class=md-block ng-if=options.allow_fields.name><label>{{_('Name')}}</label><input name=name ng-model=slot.name md-maxlength=60><ng-messages for=modal_slot_form.name.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if=options.allow_fields.media><label>{{_('Media URL')}}</label><input name=media type=url ng-model=slot.src md-maxlength=360><md-icon md-svg-icon=editor:ic_insert_photo_24px ng-click="switch_media(slot, $event)"></md-icon><ng-messages for=modal_slot_form.media.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if=options.allow_fields.route><label>{{_('Route')}}</label><input name=route ng-model=slot.route md-maxlength=120><ng-messages for=modal_slot_form.route.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-if=options.allow_fields.script><label>{{_('Script')}}</label><textarea name=script ng-model=slot.script md-maxlength=6000></textarea><hint for=modal_slot_form.script> {{_('* Support HTML or Javascript codes.')}} </hint><ng-messages for=modal_slot_form.script.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !slot.status}" ng-model=slot.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><hint> {{_('* Those option affect every pages that use the widget slot.')}} </hint><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="submit(slot, modal_slot_form)" ng-disabled=submitted> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/timer/timer.tmpl.html><md-dialog class=max-size-sm aria-label="{{_('Timer')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Timer')}} </h2><div class=text-center ng-if="timer > 0"><md-icon md-svg-icon=action:ic_alarm_24px class="s96 md-accent"></md-icon><div class="md-display-2 text-nowrap"> {{timer}} </div><p class=hint ng-bind-html=_(message.waiting)></p></div><div class=text-center ng-if="timer <= 0"><md-icon md-svg-icon=action:ic_alarm_on_24px class="s96 md-accent"></md-icon><p class=hint ng-bind-html=_(message.done)></p></div></md-dialog-content><md-dialog-actions class=centered><md-button ng-click=close() ng-if="timer > 0"> {{_('Ok, I will be back!')}} </md-button><md-button ng-click=continue(timer) ng-if="timer <= 0"> {{_('Continue')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=navs/views/mainnav.tmpl.html><md-sidenav class="primary-nav md-sidenav-left md-whiteframe-6dp" md-component-id=main_nav layout=column><md-content flex><md-toolbar class=md-accent ng-class="{'invisible': !profile}"><div layout-margin><div class=profile><div class="level md-box md-accent"> {{property.capability}} </div><img class="img-bg-cover md-avatar md-box md-accent" ng-src={{image.trans}} ng-click="go('user/profile')" style="{{(profile.meta.avatar||image.avatar)
                         |thumbnail|bg_img}}"><span> {{profile.meta.nickname || profile.slug}} </span></div></div></md-toolbar><ul class=navbar><li ng-if=navs.app><div><md-button class=md-accent ng-click=go()><div layout=row layout-align="start start"><md-icon md-svg-icon={{app_icons[navs.app.type]}}></md-icon><span flex>{{navs.app.label}}</span><md-icon md-svg-icon=hardware:ic_keyboard_return_24px></md-icon></div></md-button></div></li><li ng-repeat="nav in navs.data" ng-if="!nav.capability || property.capability >= nav.capability" ng-show=!nav._hide><div ng-if="!nav.key && nav.label"><div class="nav-label md-text {{nav.class}}"><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span></div></div></div><div ng-if="nav.key && !nav.nodes"><md-button class={{nav.class}} ng-click=go(nav.path) ng-disabled=nav._current><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span></div></md-button></div><div ng-if="nav.key && nav.nodes"><md-button class="menu-btn-toggle {{nav.class}}" ng-disabled=nav._current ng-click=toggle(nav)><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span><md-icon class=toggle-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': nav._active || nav._current}"></md-icon></div></md-button><ul class=menu-toggle-list ng-show="nav._active || nav._current"><li ng-repeat="child in nav.nodes" ng-if="!child.capability
                       || property.capability >= child.capability"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span> {{child._skip_translation ? child.label : _(child.label)}} </span></md-button></li><li ng-if="nav.nodes.length <= 0"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span>{{_('Empty')}}</span></md-button></li></ul></div></li></ul></md-content></md-sidenav></script><script type=text/ng-template id=navs/views/media_sheet.tmpl.html><md-bottom-sheet class=md-grid layout=column><div class=md-padding><h2 class="md-title text-center"> {{_('Batch Media Uploader')}} </h2><div class=media-uploadbox ngf-drop="onFileSelect($files, repo)" ngf-allow-dir=true ngf-accept={{mimetypes}} ngf-multiple=true ng-file-drop ngf-drag-over-class=file-drag-over ng-click="select_file('.media-manage-uploads')" layout=row layout-align="center center"><md-icon class="s48 md-accent" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular class=md-accent ng-show="upload_status == 1" md-mode=indeterminate md-diameter=60></md-progress-circular><md-icon class="md-warn s48" ng-show="upload_status == 2" md-svg-icon=action:ic_report_problem_24px></md-icon><md-icon class="md-accent s48" ng-show="upload_status == 3" md-svg-icon=action:ic_done_24px></md-icon></div><p class="hint text-center"> {{_('* image: < 1Mb, audio: < 5Mb, video: < 20Mb.')}} </p></div><input class="ng-hide media-manage-uploads" type=file ngf-select="onFileSelect($files, repo)" ngf-multiple=true ngf-accept={{mimetypes}}></md-bottom-sheet></script><script type=text/ng-template id=navs/views/topbar.tmpl.html><md-toolbar class="topbar md-accent" ng-class="{'md-whiteframe-3dp': is_scroll_down,
                       'bg-trans md-hue-1': !is_scroll_down}"><div class=md-toolbar-tools><div class=text-nowrap-group layout=row layout-align="center center" ng-if=navs.id><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Toggle navigation')}}" ng-show=!navs.backward ng-click="toggle_nav('main_nav')"><md-icon md-svg-icon=nav:ic_menu_24px></md-icon></md-button><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Backward')}}" ng-show=navs.backward ng-click="go(navs.backward||'/')"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><h5 class="topbar-title anim-show" ng-click="navs.backward?go(navs.backward):toggle_nav('main_nav')" ng-show="navs.label || navs.app.label" flex> {{navs.app ? navs.app.label : _(navs.label)}} </h5></div><div flex></div><div layout=row layout-align="center center"><md-button aria-label="{{_('Upload')}}" class=md-icon-button ng-show="property.capability > 2" ng-click=upload()><md-icon md-svg-icon=file:ic_cloud_upload_24px md-menu-origin></md-icon></md-button><md-menu md-offset="0 -5"><md-button aria-label="{{_('Language')}}" class=md-icon-button ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_language_24px md-menu-origin></md-icon></md-button><md-menu-content width=3><md-menu-item ng-repeat="locale in locales"><md-button ng-click=switch_lang(locale) ng-disabled=is_current_lang(locale)> {{ locale.name }} </md-button></md-menu-item></md-menu-content></md-menu></div></div></md-toolbar><md-toolbar class="topbar-overlay md-primary md-hue-2 anim-enter-leave" ng-class=overlay.class ng-if=overlay.selection><div class=md-toolbar-tools ng-dynamic-controller=overlay.controller ng-include=overlay.templateUrl></div></md-toolbar><script type=text/ng-template id=overlay.default.tmpl.html>
  <div layout="row"
       layout-align="start center">
    <md-button class="md-icon-button"
               aria-label="{{_('Backward')}}"
               ng-disabled="submitted"
               ng-click="cancel()">
      <md-icon md-svg-icon="nav:ic_arrow_back_24px"></md-icon>
    </md-button>
    <h5>
      {{_('Bulk Action')}}
    </h5>
  </div>

  <div flex></div>

  <div layout="row"
       layout-align="end center">
    <md-button class="md-icon-button"
               aria-label="{{_('Batch Delete')}}"
               ng-disabled="submitted || !has_selected()"
               ng-click="trash()">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
  </div>
</script></script><script type=text/ng-template id=matters/agreement/agreement.tmpl.html><md-dialog aria-label="{{_('Agreement')}}"><md-toolbar class=md-accent><div class=md-toolbar-tools><span> {{_('Agreement')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex><div class=md-padding layout-margin><article class="document md-padding"><h2>用户服务协议</h2><h3>一、特别提示</h3><p> 在此特别提醒你（用户）在注册成为速铺用户之前，请认真阅读本《用户服务协议》（以下简称“协议”），确保你充分理解本协议中各条款。请你审慎阅读并选择接受或不接受本协议。除非你接受本协议所有条款，否则你无权注册、登录或使用本协议所涉服务。你的注册、登录、使用等行为将视为对本协议的接受，并同意接受本协议各项条款的约束。 </p><p> 本协议约定速铺与用户之间关于“速铺”平台服务（以下简称“服务”）的权利义务。“用户”是指注册、登录、使用本服务的个人。本协议可由速铺随时更新，更新后的协议条款一旦公布即代替原来的协议条款，恕不再另行通知，用户可在本平台上查阅最新版协议条款。在修改协议条款后，如果用户不接受修改后的条款，请立即停止使用速铺提供的服务，用户继续使用速铺提供的服务将被视为接受修改后的协议。 </p><h3>二、特别提示</h3><ol><li>速铺的网络服务允许注册用户（帐号持有人）管理和更新在线内容。</li><li> 使用速铺服务，用户必须能够直接访问 Internet（因特网），或通过访问基于Web的内容的设备访问 Internet（因特网），与Internet（因特网）访问相关的所有费用由用户承担。此外，用户必须通过必要设备才能连接到互联网，包括启用网络的计算机。使用速铺服务，除了成为速铺帐号持有人外，用户需按照要求安装速铺提供的程序，或绑定相应的密钥。 </li><li> 用户选择速铺服务即视为同意接收来自速铺平台的信息，包括服务公告，管理消息和速铺通讯等。 </li><li> 用户不能通过速铺平台提供的服务接口以外的任何方式使用速铺服务。 </li><li> 用户选择下载或访问通过速铺服务提供的任何其他软件或第三方内容的，在使用此类软件或第三方内容之前，用户必须同意其他条款和条件。用户不同意第三方的服务条款或许可协议的，请勿下载相关软件或内容。用户在使用任何第三方软件或通过本服务获得的内容时，不得在超出第三方服务提供商的服务条款或许可条款中包含的条款之外行使权利。 </li></ol><h3>三、帐号注册</h3><ol><li> 用户在使用本服务前需要注册一个“速铺”帐号。要注册成为帐号持有人，用户必须向速铺提供有效的电子邮件地址和其他相关注册数据信息。 </li><li> 如果注册申请者有被速铺封禁的先例或涉嫌虚假注册及滥用他人名义注册，或其他不能得到许可的理由，速铺将拒绝其注册申请。 </li><li> 选择使用速铺服务，你将同意维护和更新真实，准确，最新和完整的注册数据。如果你提供任何不真实，不准确，陈旧或不完整的信息，或者速铺有合理理由怀疑此类信息不真实，不准确，不当前或不完整的，速铺可能会暂停或终止你帐号的使用，并拒绝任何和所有当前或未来使用本服务或其任何部分。 </li><li> 在用户注册及使用本服务时，速铺需要搜集能识别用户身份的个人信息以便速铺可以在必要时联系用户，或为用户提供更好的使用体验。速铺搜集的信息包括但不限于用户的姓名、地址；速铺同意对这些信息的使用将受限于本服务协议第十二条隐私声明条款的约束。 </li><li>禁止15周岁以下用户创建或使用速铺帐号。</li></ol><h3>四、帐号安全</h3><ol><li> 用户一旦注册成功，成为速铺的用户，将得到一个用户名和密码，并有权利使用自己的用户名及密码随时登录速铺。 </li><li> 用户对用户名和密码的安全负全部责任，同时对以其用户名进行的所有活动和事件负全责。如发生任何未经授权使用账户的行为或违反安全的行为，用户同意立即以书面方式通知速铺平台。对于用户未能遵守此安全义务所造成的任何直接或间接的损失和损害，速铺不承担责任。 </li><li> 用户不得以任何形式擅自转让或授权他人使用自己的速铺用户名。 </li><li> 如果用户泄漏了密码，有可能导致不利的法律后果，因此不管任何原因导致用户的密码安全受到威胁，应该立即和速铺客服人员取得联系，否则后果自负。 </li></ol><h3>五、用户声明与保证</h3><ol><li> 用户承诺其为具有完全民事行为能力的民事主体，且具有达成交易履行其义务的能力。 </li><li> 用户有义务在注册时提供自己的真实资料，并保证诸如手机号码、电子邮箱、姓名、所在地区等内容的有效性及安全性，保证速铺工作人员可以通过上述联系方式与用户取得联系。同时，用户也有义务在相关资料实际变更时及时更新有关注册资料。 </li><li> 用户通过使用速铺的过程中所制作、上载、复制、发布、传播的任何内容，包括但不限于账号头像、名称、用户说明等注册信息及认证资料，或文字、语音、图片、视频、图文等发送、回复和相关链接页面，以及其他使用账号或本服务所产生的内容，不得违反国家相关法律制度，包含但不限于如下原则： <ol><li>反对宪法所确定的基本原则的；</li><li>危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一的；</li><li>损害国家荣誉和利益的；</li><li>煽动民族仇恨、民族歧视，破坏民族团结的；</li><li>破坏国家宗教政策，宣扬邪教和封建迷信的；</li><li>散布谣言，扰乱社会秩序，破坏社会稳定的；</li><li>散布淫秽、色情、赌博、暴力、凶杀、恐怖或者教唆犯罪的；</li><li>侮辱或者诽谤他人，侵害他人合法权益的；</li><li>含有法律、行政法规禁止的其他内容的。</li></ol></li><li> 用户不得利用“速铺”账号或本服务制作、上载、复制、发布、传播下干扰“速铺”正常运营，以及侵犯其他用户或第三方合法权益的内容： <ol><li>含有任何性或性暗示的；</li><li>含有辱骂、恐吓、威胁内容的；</li><li>含有骚扰、垃圾广告、垃圾邮件、恶意信息、诱骗信息的；</li><li>涉及他人隐私、个人信息或资料的；</li><li>侵害他人名誉权、肖像权、知识产权、商业秘密等合法权利的；</li><li>含有过度广告和其他影响用户体验的内容的；</li><li> 含有其他干扰本服务正常运营和侵犯其他用户或第三方合法权益内容的信息。 </li></ol></li><li> 由于互联网的全球性和特殊性，注册用户同意遵守中华人民共和国境内或注册用户所在国家/地区技术数据传输所适用的一切法律法规。 </li></ol><h3>六、服务内容和行为规范</h3><ol><li> 速铺具体服务内容由速铺根据实际情况提供，包括但不限于：帮助用户管理其自有网站、社交公众号、H5App等。用户有权通过速铺服务在自有网站上上传、发布、传输或以其他方式发布信息、数据、文本、软件、音乐、声音、照片、图形、视频、消息、产品、服务或其他内容。在用户使用速铺服务期间，视为同意速铺管理用户发布在自有网站、社交公众号等平台上的内容。 </li><li> 使用服务时，用户可能会接触到冒犯性、不雅或令人反感的内容： <ol><li> 在任何情况下，速铺均不会对用户或任何第三方发布的内容负责，包括但不限于通过速铺服务发布、传输或以其他方式导致的任何错误或遗漏，或任何由于使用错误而导致的损失或损害。 </li><li> 用户同意速铺对于用户发布的内容不做预先筛选，速铺有权拒绝、移动或删除通过服务提供的任何内容（但不是义务）；同时速铺也有权移除任何违反上述条款的内容，或对任何违反上述条款的内容表示反对。 </li><li> 与使用内容相关的所有风险由用户承担。用户不得依赖速铺平台创建的任何内容。 </li><li> 用户承认并同意，速铺平台对于通过速铺服务发布的一切内容保留权利。当有下列之一情形出现时，速铺对上述内容有披露的权利： <ol><li>依照相关法律法规的规定必须披露的；</li><li> 该内容侵犯了第三方的名誉权、肖像权、知识产权、商业秘密等合法权利的； </li><li> 该内容可能对其他用户或公众的权利、财产或人身安全产生危害的。 </li></ol></li></ol></li><li> 速铺服务（包括内容）的技术处理和传输可能涉及： <ol><li>通过各种网络的传输；</li><li>改变以符合并适应连接网络或设备的技术要求。</li></ol></li><li> 速铺有权随时审核或删除用户发布/传播的涉嫌违法，或者被速铺认为不妥当的内容（包括但不限于文字、语音、图片、视频、图文等）。 </li><li> 所有发给用户的通告及其他消息均可通过电子邮件或者短信两种形式发送。 </li><li> 除非经授权的速铺代表以书面形式另行约定， 用户通过任何方式传送给速铺平台的任何材料、信息或想法均可能被速铺平台或关联公司传播或使用，包括但不限于开发、制造和营销产品。该种使用不具有任何目的性。本条款不适用于用户通过速铺服务发布的内容或受隐私政策约束的个人信息。 </li><li> 速铺平台不希望通过服务或电子邮件接受用户的任何机密信息。 </li></ol><h3>七、服务的中断、取消和终止</h3><ol><li> 速铺会尽全力维护平台的正常运行，以向用户提供持续、稳定、安全、顺畅的服务。但用户理解并同意：速铺对服务页面进行改版、升级网站系统、增加服务功能等须中断服务的操作时，有权暂时中断服务。速铺将尽可能在实施以上行为时予以提前公告，并尽可能将影响降低到最小。 </li><li> 用户可自行停止使用速铺提供的服务，并可向速铺提交申请，要求取消速铺服务。用户选择取消服务，取消将立即生效。取消服务后，用户将无法访问之前通过速铺平台创建的任何内容，速铺没有义务为用户保留账户信息。速铺对于服务取消后可能删除的信息和内容不承担任何责任。 </li><li> 在下列情况下，速铺有权终止向用户提供服务： <ol><li>在用户违反本服务协议相关规定时，速铺有权终止向该用户提供服务。如该用户再一次直接或间接或以他人名义注册为用户的，一经发现，速铺有权直接单方面终止向该用户提供服务；</li><li>如速铺通过用户提供的信息与用户联系时，发现用户在注册时填写的联系方式已不存在或无法接通，速铺以其它联系方式通知用户更改，而用户在三个工作日内仍未能提供新的联系方式的，速铺有权终止向该用户提供服务；</li><li>一旦速铺发现用户提供的数据或信息中含有虚假内容，速铺有权随时终止向该用户提供服务；</li><li>本服务条款终止或更新时，用户明示不愿接受新的服务条款；</li><li>其它速铺认为需终止服务的情况。</li></ol></li><li>服务终止后，速铺没有义务为用户保留原账号中或与之相关的任何信息，或转发任何未曾阅读或发送的信息给用户或第三方。</li></ol><h3>八、费用及付款</h3><ol><li> 速铺服务的一些功能需要收费。如果用户选择注册收费功能，应当支付相应的费用。 速铺平台保留随时更改价格的权利。用户注册速铺收费服务后，速铺有对用户账户及其财务信息进行合理必要查询的权利。 </li><li> 用户在速铺使用服务时支付的费用不包括税务机关本应向用户征收的所有税费。在使用速铺服务的过程中因用户自身所产生的任何征费或税费，应当由用户负责支付。 </li></ol><h3>九、服务条款修改</h3><ol><li>铺有权随时修改本服务条款的任何内容，一旦本服务条款的任何内容发生变动，速铺将会通过适当方式向用户提示修改内容。</li><li>如果不同意速铺对本服务条款所做的修改，用户有权停止使用网络服务。</li><li>如果用户继续使用网络服务，则视为用户接受速铺对本服务条款所做的修改。</li></ol><h3>十、免责与赔偿声明</h3><ol><li>若速铺已经明示其服务提供方式发生变更并提醒用户应当注意事项，用户未按要求操作所产生的一切后果由用户自行承担。</li><li>用户明确同意其使用速铺所存在的风险将完全由其自己承担，因其使用速铺而产生的一切后果也由其自己承担。速铺服务按照“现状”和“可用”基础提供。</li><li>用户同意保障和维护速铺及其他用户的利益，由于用户在使用速铺有违法、不真实、不正当、侵犯第三方合法权益的行为，或用户违反本协议项下的任何条款而给速铺及其子公司、附属机构、高级职员、董事、代理人、联合品牌商、合作伙伴、员工及任何其他第三方造成损失，用户同意承担由此造成的损害赔偿责任。</li><li>速铺不对任何数据损害的情况负责，包括但不限于数据损害、客户信息或供应商数据丢失、信息缺失、信息延迟、无法访问、限制或失去访问、BUG或其他数据错误。</li><li> 在使用速铺服务期间，速铺平台不能保证： <ol><li>速铺提供的服务完全符合用户的特定需求；</li><li>速铺提供的服务及时、安全、无错误或不间断；</li><li>速铺服务的所有数据准确或可靠；</li><li>用户通过速铺服务购买或获得的任何产品、服务、信息及其他任何材料完全符合用户期望；</li><li>服务提供中的任何错误均能够得到纠正。</li></ol></li><li> 用户有责任维护和备份自己的数据。用户通过使用服务下载或以其他方式获得的任何材料将自行承担风险，并且应当将对计算机系统可能造成的任何损害或数据丢失完全负责。 </li><li> 速铺服务可以提供链接到其他网站或资源的链接。由于速铺平台无法控制此类网站及相关资源， 因此速铺不对此类外部网站或资源的可用性负责，不对此类网站或资源的任何内容、广告、产品或其他素材承担任何责任或义务。速铺不对因使用或依赖任何此类网站上或资源中提供的任何内容、商品或服务而导致或指称造成或涉嫌造成的任何损害或损失负责。 </li></ol><h3>十一、责任限制</h3><ol><li> 速铺不对以下行为所产生的任何直接、间接、偶发、特殊、后果性或惩戒性损害及损害可能性负责，包括但不限于利润损失，商誉、数据或其他无形资产的损失： <ol><li>使用或无法使用服务；</li><li>通过速铺服务获得的任何商品、数据、信息或服务，收到的消息或交易产生的替代商品和服务的成本费用；</li><li>未经授权访问或更改用户的传输或数据；</li><li>任何第三方对服务的陈述或行为；</li><li>与服务有关的任何其他事项。</li></ol> 对于与速铺服务相关的所有索赔，我们的整体责任赔偿范围不超过用户在过去三个月的服务期间中支付的金额。 </li><li>上述限制可能在某些司法管辖区不适用。</li></ol><h3>十二、隐私声明</h3><ol><li> 适用范围： <ol><li>在用户注册速铺账户时，根据要求提供的个人注册信息；</li><li>在用户使用速铺，或访问其相关网页时，速铺自动接收并记录的用户浏览器上的服务器数值，包括但不限于IP地址等数据及用户要求取用的网页记录。</li></ol></li><li> 信息使用： <ol><li> 速铺不会向任何人出售或出借用户的个人信息，除非事先得到用户的许可。 </li><li> 速铺亦不允许任何第三方以任何手段收集、编辑、出售或者无偿传播用户的个人信息。任何用户如从事上述活动，一经发现，速铺有权立即终止与该用户的服务协议，查封其账号。 </li><li> 为达到服务用户的目的，速铺可能通过使用用户的个人信息，向用户提供服务，包括但不限于向用户发出产品和服务信息，或者与速铺合作伙伴共享信息以便他们向用户发送有关其产品和服务的信息。 </li></ol></li><li> 信息披露：用户的个人信息将在下述情况下部分或全部被披露： <ol><li>经用户同意，向第三方披露；</li><li> 根据法律的有关规定，或者行政或司法机构的要求，向第三方或者行政、司法机构披露； </li><li> 如果用户出现违反中国有关法律或者网站政策的情况，需要向第三方披露； </li><li> 为提供用户所要求的产品和服务，而必须和第三方分享用户的个人信息； </li><li> 其它速铺根据法律或者网站政策认为合适的披露； </li><li> 用户向速铺服务付款时提供的银行账户信息，速铺将严格履行相关保密约定。 </li></ol></li></ol><h3>十三、开发者和主题</h3><p>用户可以申请「开发密钥」，使用该密钥将允许访问开发者专属的API接口。用户必须妥善保管「开发密钥」，并且在具备相关知识的前提下使用。任何使用开发密钥和开发者专属API接口所产生的后果由该用户自行负责。</p><p>用户可以选择将其「自定义主题」内容上传至速铺服务平台以供自己或其他用户使用。速铺平台对用户授权的「自定义主题」内容及其包括代码和媒体资产在全球范围内享有永久的、不可撤销的使用、复制和修改的权利。</p><h3>十四、第三方服务及服务转售</h3><ol><li> 未经速铺明确书面许可，用户不得复制、销售、转售或利用速铺平台及其服务的任何部分。 </li><li> 用户使用速铺平台服务为第三方（以下称为“客户”）设计网站（以下称为“客户网站”）时，用户对本服务的使用应遵守以下附加条款： <ol><li>速铺平台不介入用户与客户的关系，速铺不会成为用户与客户之前签订的任何协议的当事方。用户有权自行选择执行服务的方式，但是应当同意遵守行业惯例及相关条款，及时并专业地执行这些服务。</li><li>用户对自己帐户下的所有客户内容承担全部责任。</li><li>速铺不对任何用户未能维护其私人利益的行为负责。</li><li>如果客户与速铺平台联系，我们将指导他们与用户联系。如果用户未能为其客户提供支持，并且速铺平台收到客户的请求，声明用户未作回应的，速铺保留直接为客户提供支持的权利。</li></ol></li><li> 速铺被用来为第三方设计网站时，这些网站必须各自拥有由第三方控制的帐户，并且用户不得将多个客户网站分组到所拥有的同一个速铺帐户下。 </li></ol><h3>十四、第三方服务及服务转售</h3><ol><li>速铺郑重提醒用户注意本协议中免除速铺责任和限制用户权利的条款，请用户仔细阅读，自主考虑风险。未成年人应在法定监护人的陪同下阅读本协议。</li><li>本协议的效力、解释及纠纷的解决，适用于中华人民共和国法律。若用户和速铺之间发生任何纠纷或争议，首先应友好协商解决，协商不成的，用户同意将纠纷或争议提交上海宿朴信息科技有限公司住所地有管辖权的人民法院管辖。</li><li>本协议的任何条款无论因何种原因无效或不具可执行性，其余条款仍有效，对双方具有约束力。</li><li>本协议最终解释权归上海宿朴信息科技有限公司所有，上海宿朴信息科技有限公司保留一切解释和修改的权力。</li><li>本协议从2017年6月1日起适用。</li></ol></article></div></md-dialog-content><md-dialog-actions><md-button ng-click=disagree()> {{_('Disagree')}} </md-button><md-button ng-click=agree()> {{_('Agree')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=matters/help/help.tmpl.html><md-dialog aria-label="{{_('Help')}}"><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Help')}} </h2><div class=md-padding ng-include=templateId></div></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Ok, I Understand.')}} </md-button></md-dialog-actions></md-dialog><script type=text/ng-template id=help.category>
  <article ng-if="lang == 'en'">
    <h4>Category</h4>
    <p>
      Categories are used to summarize content, such as articles, products, etc., so that visitors can easily find them.
    </p>
    <p>
      <i>
        Category is defined and activated by theme.
        You must switch a theme which is support the category.
      </i>
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>分类</h4>
    <p>
      分类用来归纳内容，例如文章、商品等，这样可以方便访客容易的找到它们。
    </p>
    <p>
      分类中可以添加的「分类项」总数是有限的，目前的设定的是最多120个，最多可以分两个层级。
      看起来大多数情况这个分类系统都已经够用了，
      但是如果你打算使用分类来模拟类似「内容类型」、「菜单」这些的功能，
      或是想做一个门户、图书、新闻网站之类的，那么肯定是要坑的。
    </p>
    <p>
      <i>分类系统是由主题定义并且激活的，你必须选择一个支持分类系统的主题来使用这项功能。</i>
    </p>
  </article>
</script><script type=text/ng-template id=help.widget_slot>
  <article ng-if="lang == 'en'">
    <h4>Widget Slots</h4>
    <p>
      Widget slot is a for managing multiplexed elements.
    </p>
    <p>
      It is best for shared modules or third-party plug-in.
      such as Analytics, Advertising, Login Module, and so on.
    </p>
    <p>
      The position of the widget is fixed, you can usually find a hint when editing the page (unless the theme designer hide those information).
    </p>
    <p>
      Widget script can be JS or HTML code. Please Note, Widget require theme to support it, unsupported widget script will automatically deleted.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>小部件插槽</h4>
    <p>
      小部件插槽是主题提供的管理多页面复用内容的特殊功能。
    </p>
    <p>
      它适合插入多个页面共用的小功能和第三方插件脚本。
      例如，会员登录、预约表单、访问统计、调查、广告等。
    </p>
    <p>
      小部件呈现的位置是固定的，你通常可以在编辑页面内容时得到提示
      （如果主题设计者隐藏了这些信息，那么只能自己折腾了）。
    </p>
    <p>
      小部件的脚本可以是 JS 或是 HTML，引用外部文件时需要确保路径正确。
      请注意，小部件必须由主题支持，当切换主题后不支持这个小部件插槽，
      那么小部件脚本会被自动删除。
    </p>
  </article>
</script><script type=text/ng-template id=help.verify_file>
  <article ng-if="lang == 'en'">
    <h4>Verify File</h4>
    <p>
      There are some third-party services that need to verify ownership of your domain and generally let you place a file at the root of your domain. Since we do not allow you to upload files to the "root directory" (in fact there is no root directory). So We provided a function to set those verification file.
    </p>
    <p>
      Input filename and file content exactly.
      You should be able to open those verification files in any text editor.
    </p>
    <p>
      Please note! Some third-party services require that you place the verification file in a specific folder,
      In this case you should choose other way to verify,
      such as verify by DNS, or modify nginx configuration and so on.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>验证文件</h4>
    <p>
      有一些第三方服务需要验证你的域名所有权，
      一般会让你放一个txt文件在你的域名根目录下。
      由于我们不允许你上传文件到“根目录”下（事实上不存在什么根目录），
      于是提供了一个设置验证文件的功能。
    </p>
    <p>
      需要准确输入文件名（包括文件扩展名）和文件内容，不要多或者少任何字符和空格。
      你应该可以用任何文本编辑器打开这些第三方验证文件。
    </p>
    <p>
      请注意！有的第三方验证服务需要你将验证文件放到某个较深的目录，
      这样的话这项功能帮不上你，你应该选择其他的验证方式，例如DNS验证，修改nginx配置等。
      实在没办法的话请给个红包让懂得人帮你搞定。
    </p>
  </article>
</script><script type=text/ng-template id=help.capability>
  <article ng-if="lang == 'en'">
    <h4>Capability Level</h4>
    <p>
      Capability is use to defined the knowledge level of computer
      and internet.
    </p>
    <p>
      Higher capability level can access more features or more resouces,
      but some features might require more knowledge to managing.
      The highest capability can access advanced features with coding style.
    </p>
    <p>
      Unlike permission level, user can change capability level anytime.
      We recommend you choose a capability that fits yourself.
      It is a unique design in our system, you might not see it before.
    </p>
    <p>
      We have 3 capability for now.
    </p>
    <ul>
      <li>
        Noob [lv 1]
      </li>
      <li>
        Junior [lv 2]
      </li>
      <li>
        Senior [lv 3]
      </li>
    </ul>

    <p>
      还有一种专家模式，可以超越能力等级直接开启所有隐藏功能，
      使用这些功能需要具备专业知识，错误的操作将带来离奇的不良结果。
      当然，开启专家模式需要使用「秘技」，一般人我不告诉他。
    </p>

    <md-divider></md-divider>

    <p class="hint md-margin">
      * Remeber "More power, more cost".
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>能力等级</h4>
    <p>
      能力等级用来定义使用者对计算和互联网的知识程度。
    </p>
    <p>
      你可以根据自己的需要随时更改这个能力等级。
      更高的能力等级可以使用更多的功能和资源，同时也要求你具备更多的知识去驾驭它们，
      我们希望你能够选择适合他们的能力等级。
      如果你设的等级太高，可能出现你无法理解的词汇、选项之类，很可能超出了你的知识范围。
      这种坑爹的设计恐怕只有我们这里才有，你应该没在别的地方见过。
    </p>
    <p>
      现在我们提供了3种不同的能力等级。
    </p>
    <ul>
      <li>
        小白 [lv 1]
      </li>
      <li>
        初学者 [lv 2]
      </li>
      <li>
        老师傅 [lv 3]
      </li>
    </ul>
    <p>
      还有一种专家模式，可以超越能力等级直接开启所有隐藏功能，
      使用这些功能需要具备专业知识，错误的操作将带来离奇的不良结果。
      当然，开启专家模式需要使用「秘技」，一般人我不告诉他。
    </p>

    <md-divider></md-divider>

    <p class="hint md-margin">
      *「能力等级」可以在账号设置中自助设定，你可以根据自己的需要随时设定，
      但是要记住一句古话：”功能越强，开销越大。“
    </p>
  </article>
</script><script type=text/ng-template id=help.slug>
  <article ng-if="lang == 'en'">
    <h4>URL Slug</h4>
    <p>
      URL Slug make the URL more user-friendly and you know what to expect when you click a link. It will also improve SEO. Search engines such as Google, rank the pages higher if the search word is in the URL.
    </p>
    <p>
      Slugs identifies a page in human-readable keywords, they are typically generated automatically from a title or name.
      In some case can also be manually entered when needed (Expert only).
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>URL Slug</h4>
    <p>
      URL Slug 能够使网址显得更佳友好，使网址更加符合语义。它还有利于搜索引擎优化（SEO）。
      上档次的搜索引擎（如谷歌），会给予使用语义良好的网址更高的排名。
    </p>
    <p>
      Slugs 通过人类可读的关键字识别页面，它们通常是从标题或名称自动生成的。
      在某些情况下，也可以在需要时手动输入（仅限专家）。
      然而，在我们提供的服务中，只有开启专家模式后才允许这样做。
    </p>
  </article>
</script><script type=text/ng-template id=help.site_url>
  <article ng-if="lang == 'en'">
    <h4>Site URL</h4>
    <p>
       The URL of the app base route. After site URL is setted, the app's theme, menu and links will automatically generate valid URL with site URL. The site URL could also with paths.
    </p>
    <p>
      You have to configure a domain on your own server, the URL of the domain can be activate as the Site URL.
    </p>
    <p>
      For example a domain 'spporo.com', the URL is
      'http://www.soopro.com', just use the URL as site URL.
    </p>
    <p>
      We provider a private site URL as default.
      You have to use your own domain and server to make it public.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>基础网址</h4>
    <p>
      基础网址是这个网页应用的根地址。设置基础网址之后，主题、菜单、链接等将自动使用基础网址为根本来生成有效的链接。基本网址需要符合一般网址的规则，可以附加路径。
    </p>
    <p>
      你需要在自己服务器上正确解析好你的域名，才可以用这个域名的网址作为基础网址。
    </p>
    <p>
      比如说你拥有域名soopro.com，网址是http://www.soopro.com，
      那么就用这个来做基础网址输入即可。</p>
    <p>
      我们提供了一个默认的基础网址，但是这个地址只有你自己可以预览访问，
      如果你希望能够公开访问，就必须要拥有一个自己的域名和服务器。
    </p>
  </article>
</script><script type=text/ng-template id=help.interface_base_url>
  <article ng-if="lang == 'en'">
    <h4>Interface Base URL</h4>
    <p>
       The URL is extended form Site URL. It used interface to external services, such as WeChat Buzz and WeChat Mini Store.
       After site interface URL is setted, system will generate several communication URLs, those communication URLs will actually used to connect with external services.
       The site interface URL could also with paths.
    </p>
    <p>
      You have to configure a domain on your own server,
      the URL of the domain can be activate as the Interface Base URL.
    </p>
    <p>
      Please note, since the interface url a often used to communication with external services. we require that URL must be HTTPs protocol
      (SSL-encrypted) to avoid HTTP hijacking.
    </p>
    <p>
      For example a domain 'api.spporo.com', the URL is
      'https://api.soopro.com', just use the URL as site Interface URL.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>基础接口网址</h4>
    <p>
      基础接口网址是应用的基础网址的进阶形式。它用于对接微信公众号、微信小程序的等外部服务。
      设置基础接口网址之后，将针对不同的用途生成具体的通信网址，这些通信网址真正用来对接外部服务。基础接口网址需要符合一般网址的规则，可以附加路径。
    </p>
    <p>
      你需要在自己服务器上正确解析好你的域名，才可以用这个域名的网址作为基础接口网址。设置完基础网址后，还要记得在服务器上配置好根据基础接口网址生成出来的接口通信网址。
    </p>
    <p>
      请注意，由于通信接口用来和外部服务对接，出于安全考虑，必须使用HTTPs协议的网址。
    </p>
    <p>
      比如说你拥有域名api.soopro.com，网址是https://api.soopro.com，
      那么就用这个来做基础网址输入即可，具体的通信地址会有系统自动生成。
    </p>
  </article>
</script><script type=text/ng-template id=help.hardcore>
  <article ng-if="lang == 'en'">
    <h4>Hardcore Mode</h4>
    <p>
      Hardcore mode is designed for developers to do advanced operations.
      Only Expert can use this mode.
    </p>
    <p>
      It allows you to input a JSON-compliant string.
      The system will automatically compile the string into an object,
      and inject into the target data field.
      This will simplify numerous operations,
      also allow you to reach high-level settings.
    </p>
    <hr>
    <h5>Input format</h5>
    <p>
      When using hardcore mode, you must input a string with specific format.
      Following example below.
    </p>
    <ul>
      <li>
        list: `[value1, value2, value3, ...]`
      </li>
      <li>
        dict: `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        list dict: `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      The `key` must be lower case letters,
      and different data structures might have specify namespace of the `key`.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>硬核模式</h4>
    <p>
      硬核模式是专门为拥有研发常识的用户设计的高级操作。
      它允许你使用硬核模式以文本形式输入一个符合JSON规则的字符串。
      系统将会自动将这个字符串编译成一个对象注入到数据的目标字段中去。
      这将大幅简化繁琐的设置和输入操作，也允许进行一般用户无法达到的高阶设定。
    </p>
    <p>
      在我们提供的服务中，只有开启专家模式的用户才允许这样做。
    </p>

    <hr>
    <h5>输入格式</h5>
    <p>
      使用硬核模式时，为了确保编译结果符合预期，
      必须输入需要符合一定格式的字符串，下面就列举一些常见的格式。
    </p>
    <ul>
      <li>
        列表格式(list): `[value1, value2, value3, ...]`
      </li>
      <li>
        字典格式(dict): `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        列表套字典格式(list dict): `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      `key` 必须是小写的英文字母，不同的数据结构可能会规定 `key` 的命名。
      如果你实在不明白我在说什么，那么千万别使用这种模式，用了多半也是要坑的。
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.token>
  <article ng-if="lang == 'en'">
    <h4>WeChat Token</h4>
    <p>
      WeChat Token and Interface Receiver URL is use to connect WeChat Server.
    </p>
    <p>
      You need set token by your own.
      The character in token must be latin letter or number, between 3-32.
    </p>
    <p>
      The Interface Receiver URL is used to receive and reply to the message form WeChat Official account.
    </p>
    <p>
      After The Interface Base URL is setted, system will generate a Receiver URL for WeChat. You have to bind it to the WeChat official admin panel to make it work.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信令牌（Token）</h4>
    <p>
      微信令牌（Token）是和根据基础接口网址生成的通信网址配合工作，连接微信公众号的。
      你需要自己设置一个令牌（Token），
      只能使用拉丁字母（就是那26个英文字母）、数字，3-32个字符。
    </p>
    <p>
      接收消息的通信网址用来接收和回复来自微信公众号的的消息。
    </p>
    <p>
      设置好基础接口网址（Interface Base URL）后会生成一个用来接收微信消息的通信网址（Interface Receiver URL），
      你要将这个通信网址正确解析到你的服务器。
      接着，还要到微信官方的管理后台的开发者设置中绑定这个网址。
    </p>
    <p>
      实在不懂就找个懂的人帮你设置吧。
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.interface>
  <article ng-if="lang == 'en'">
    <h4>Interface URL (Sender / Receiver)</h4>
    <p>
      Interface URL included Sender URL and Receiver URL.
    </p>

    <h5>Sender URL</h5>
    <p>
      The Sender URL is used to communicate with WeChat Server while you configure menu, sending messages and manage materials.
    </p>
    <p>
      After the Site URL of WeChat buzz has been setted a sender URL will be generated. The sender URL is not currently working.
      You must setup the Interface Sender URL on your own server,
      and connect to the WeChat API. Moreover, you also need to add the IP address to the whitelist of Official WeChat admin panel.
    </p>

    <h5>Receiver URL</h5>
    <p>
      The Receiver URL is used to receive messages from WeChat server and automatic reply.
    </p>
    <p>
      After the Site URL of WeChat buzz has been setted a receiver URL will be generated. You must input the receiver URL intro the developer section of Official WeChat admin panel.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信接口网址（Interface URL）</h4>
    <p>
      微信接口网址分为 发送网址(Sender URL) 和 接收网址(Receiver URL).
    </p>

    <h5>发送网址 Sender URL</h5>
    <p>
      在进行设置菜单、群发消息、管理素材这一类所有向微信主动发送信息的操作时
      都需要通过微信发送接口网址。
    </p>
    <p>
      当你设置完微信的基础网址之后，系统就会自动生成一个发送地址，但这时发送网址还不能用。
      你需要在自己的服务器上配置好这个微信发送接口网址，确保能将消息传递给微信公众号的API。
      而且，你还需要在微信公众号管理后台中将这个服务器IP地址添加到白名单中。
    </p>

    <h5>接收网址 Receiver URL</h5>
    <p>
      接受网址用来接收来自微信公众号的消息，并且响应自动回复。
    </p>
    <p>
      当你设置完微信的基础网址之后，系统就会自动生成一个接收地址，但这时接收网址还不能用。
      你还要把这个接收网址输入到微信公众号官方的管理后台中管理开发者的部分。
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.aes>
  <article ng-if="lang == 'en'">
    <h4>WeChat AES Key</h4>
    <p>
      When the offical account connection is setted encryption mode, you need copy the AES Key into your WeChat Configuration.
    </p>
    <p>
      In my opinion you don't have to use encryption mode,
      you got nothing to hide.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信加密密钥(AES Key)</h4>
    <p>
      在接入微信公众号的时候，如果你设置消息使用加密模式传递，
      那么你就需要把那个加密密钥拿过来填写在这里。
      要是密钥错误的话最多就是不能用，也没别的什么大问题。
    </p>
    <p>
      不过我奉劝你，还是不要搞什么加密了。反正也没有什么需要保密的内容传来传去，非要去弄个加密模式多此一举，明文用用么好了。
    </p>
    <p>
      如果微信官方管理界面中设置了消息「安全模式」那么就必须要输入秘钥，
      如果设置的是「明文模式」那秘钥得留空。
    </p>
  </article>
</script><script type=text/ng-template id=help.discounts>
  <article ng-if="lang == 'en'">
    <h4>Discount</h4>
    <p>
      You can choose several types discount for your marketing promotion.
      Those discounts will affect prices in several ways.
    </p>
    <p>
      After discount rule is setted, you must select commodity to join this discount promotion. Otherwise will take no effect at all.
    </p>
    <p>
      Keep in your mind, multiple discounts might effect on same commodity at same time, you must calculate carefully to avoid losing money.
    </p>
    <ul>
      <li>
        Coupon: Make commodity unit price discount as percent.
      </li>
      <li>
        Voucher: Make voucher discount for total payment when total price reached certain price.
      </li>
      <li>
        Redeem: Make discount when customer provider a redeem code.
        The discount is calculate by the unit price of purchased commodities.
        The discount of same commodity can only be counted once,
        no matter how many items you purchased.
      </li>
      <li>
        Bargain: Make discount by unit price randomly by customer actions. There is unlimited possibilities for theme developers, such as customer play a game, share to friend, or even read a spell. We can build various interesting event for different themes. Each order can only activiate one bargain discount, also the bargain can only affect one single item when purchase.
      </li>
    </ul>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>折扣</h4>
    <p>
      你可以选择不同类型的折扣来帮助营销推广，这些折扣会以多种形式影响交易价格。
    </p>
    <P>
      当设置完折扣的规则以后，你还需要选择好参加这个折扣的商品。
      只有在购买了参加这个折扣的商品时，折扣的才可以生效。
    </P>
    <ul>
      <li>
        <b>立减优惠：</b>
        立减商品单价，通常用来做商品的活动价格，或是临时降低商品的价格。
      </li>
      <li>
        <b>满减代金：</b>
        购物总价达到指定金额时获得代金减免。
        当一个商品参加了多个满减代金折扣的时候，购物总价达到的最高的一档优惠将会生效。
      </li>
      <li>
        <b>兑换码：</b>
        顾客使用兑换码以后，以订单中参加折扣的商品单价为基数计算出折扣总金额。
        相同兑换码只会生效一次。订单中上品的个数不受到到这种优惠的影响，
        也就是说同一种商品无论购买多少件，折扣金额也只会被计算一次。
      </li>
      <li>
        <b>还价：</b>
        根据用户的交互行为来触发随机折扣。这为主题设计者提供了无限的可能性，
        他们将可以设计各种各样的情形触发这种优惠，例如顾客玩了一个小游戏，分享给了某位朋友，
        由某位好友点击打开，也可以念出一句咒语。这样就可以为创造各种有趣的活动。
        这种折扣形式需要商户设置一个折扣范围，而真正的折扣是在此范围内随机计算得到的。
        每个订单只能激活一个还价折扣，而且只会按照一个商品的单价计算出折扣优惠。
      </li>
    </ul>
    <p>
      <b>请你牢记：</b>
      多个折扣可以被设置成在同一个商品上，这些折扣会同时都生效。
      于是，当你这样设置的时候要计算好商品的最终售价，避免亏本。
    </p>
  </article>

</script></script><script type=text/ng-template id=panels/activity/activity_panel.tmpl.html><md-menu-content><h2 class="md-title text-center text-nowrap"><span> {{_('Activities')}} </span></h2><div class="md-padding text-center md-caption draft" ng-if=!activities.length> {{_('Nothing here')}} </div><md-list ng-if=activities.length><md-subheader class=md-no-sticky> {{_('%s activities', activities.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="activity in activities" ng-click=insert(activity)><p>{{ activity.name || activity.slug }}</p></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(activities.length)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></md-menu-content></script><script type=text/ng-template id=panels/color/color_picker.tmpl.html><md-menu-content class=color-picker><div layout=row><div layout=column><div class=color-picker-method ng-repeat="color in default_swatch" ng-click=select(color)><div ng-style="{'background-color': color.hex}" ng-class="{'pick-trans': color.hex == 'transparent',
                        'pick-remove': !color.hex}"></div></div></div><div ng-repeat="swatch in color_swatchs" layout=column><div class=color-picker-item ng-repeat="color in swatch" ng-style="{'background-color': color.hex}" ng-click=select(color)></div></div></div></md-menu-content></script><script type=text/ng-template id=panels/commodity/commodity_panel.tmpl.html><md-menu-content><h2 class="md-title text-center text-nowrap"><span> {{_('Commodities')}} </span></h2><div class="md-padding text-center md-caption draft" ng-if=!commodities.length> {{_('Nothing here')}} </div><md-list ng-if=commodities.length><md-subheader class=md-no-sticky> {{_('%s commodities', commodities.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="commodity in commodities" ng-click=insert(commodity)><p>{{ commodity.name || commodity.slug }}</p></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(commodities)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></md-menu-content></script><script type=text/ng-template id=panels/media/media_panel.tmpl.html><md-menu-content><div layout=row layout-wrap><div class=anim-show-hide flex=33><div class="grid float-case" aria-label="{{_('Remove')}}" ng-click=remove()><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-accent md-svg-icon=content:ic_block_24px></md-icon></div></div></div><div class=anim-show-hide flex=33><input class="ng-hide media-panel-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{options.mimetypes}}><div class="grid float-case" ng-click="select_file('.media-panel-upload', $event)" aria-label="{{_('Upload')}}" ng-disabled="upload_status == 1"><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-accent ng-show="upload_status == 0" md-svg-icon=file:ic_file_upload_24px></md-icon><md-icon class=md-warn ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=25></md-progress-circular></div></div></div></div><div class=anim-show-hide flex=33 ng-repeat="media in mediafiles" ng-if=media.id><div class="grid safe-media-bg" ng-show="media.type == 'image'" ng-click=insert(media)><img class=img-bg-cover ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}><md-tooltip md-direction=top md-delay=960> {{media.filename | ellipsis}} </md-tooltip></div><div class="grid float-case" ng-show="media.type != 'image'" ng-click=insert(media)><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top md-delay=960> {{media.filename | ellipsis}} </md-tooltip></div></div></div><div class=anim-show-hide ng-show=has_more flex=33><div class="grid float-case" aria-label="{{_('More')}}" ng-click=get_more(mediafiles)><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-accent md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></div></div></md-menu-content></script><ng-include src="'navs/views/mainnav.tmpl.html'" ng-controller=mainNavCtrl ng-show=!station_mode layout=column></ng-include><div flex layout=column><ng-include src="'navs/views/topbar.tmpl.html'" ng-show=!station_mode ng-controller=topBarCtrl></ng-include><md-content class=ng-view layout=column scroll-detect=30 flex></md-content></div><script src=conf.js?rev=5c9779d9f7></script><script src=base.min.js?rev=5c9779d9f7></script><script src=app.min.js?rev=5c9779d9f7></script><script src=locale.min.js?rev=5c9779d9f7></script></body></html>