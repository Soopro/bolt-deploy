<!DOCTYPE html>
<html lang={{lang}} ng-app=boltApp modern-browser=http://libs.soopro.com/browser-detector/ ><head><title ng-bind="_('Soopro')+' | '+ _('Management')"></title><meta http-equiv=Content-Type content=text/html;charset=utf-8><meta name=robots content="noindex, nofollow"><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=format-detection content=telephone=yes><meta http-equiv=X-UA-Compatible content=IE=edge><meta name=renderer content=webkit><link rel=apple-touch-icon-precomposed sizes=144x144 href=apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=favicon.png><link rel=stylesheet href=sup.app.min.css?md5=627fb2ff28></head><body layout=row><script type=text/ng-template id=blueprints/403.html><div flex=flex layout=column class=view-animate><div flex=flex layout=row layout-align="center center"><section flex=50><h1 class=md-display-3>{{ _('403!') }}</h1><p ng-bind-html="_('Authorization fails, please return to the login.')"></p><md-button ng-href=/#/ aria-label="{{ _('Return') }}" class="md-icon-button md-raised md-primary"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></section></div></div></script><script type=text/ng-template id=blueprints/404.html><div flex=flex layout=column class=view-animate><div flex=flex layout=row layout-align="center center"><section flex=50><h1 class=md-display-3>{{ _('404!') }}</h1><p ng-bind-html="_('We can not find the page you are looking for. Maybe the address of the page was wrong. Anyway, click the button below to return.')"></p><md-button ng-href=/#/ aria-label="{{ _('Return') }}" class="md-icon-button md-raised md-primary"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></section></div></div></script><script type=text/ng-template id=blueprints/app/views/ext_install.tmpl.html><md-dialog aria-label="{{_('Extension Slots')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Extension Slots') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex><div ng-show="ext_slots.slots.length > 0" layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column ng-repeat="slot in ext_slots.slots"><md-card flex=flex ng-class="{'md-whiteframe-z4':slot.installed,'selected':slot.installed}" ng-click=select(slot) class=ext-slot><md-card-content><p class="text-nowrap text-center">{{slot.slug}}</p></md-card-content><div flex=flex layout=column layout-align="center center"><img ng-src={{slot.sketch}}?{{now}} alt={{slot.slug}}></div><div class="md-actions border-less"><div ng-show=slot.installed><md-icon md-svg-icon=action:ic_done_24px></md-icon></div></div></md-card></div></div><div ng-show="ext_slots.slots.length <= 0" class=md-padding><div>{{ _('Sorry, current theme might not have any extentsion slots.') }}</div></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/app/views/exts.html><div flex=flex layout-margin=layout-margin class=view-animate><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Extensions') }}</h2><div id=extension flex=flex layout=column ng-if=ext_iframe_url><iframe ng-src={{ext_iframe_url}} ng-style="{'height': ext_iframe_height+'px'}" scrolling=no></iframe></div><div ng-if=!ext_iframe_url layout=row layout-wrap=layout-wrap><div flex-gt-lg=33 flex-gt-md=50 flex=100 layout=column ng-repeat="ext in exts"><md-card class=ext><img ng-src={{image.cover}} alt={{ext.title}} ng-style="{'background-image':'url('+ext.poster+'?'+now+')'}" ng-click=enter(ext) class=preview><md-card-content><h2 class=md-title>{{ext.title}}</h2></md-card-content><div layout=row layout-align="space-between center" class="md-actions border-less"><md-button aria-label="{{_('Enter')}}" ng-click=enter(ext) class=md-primary><md-icon md-svg-icon=action:ic_open_in_browser_24px class=ico></md-icon><span class=text>{{_('Enter')}}</span></md-button><div ng-show=!ext.supported class=md-padding><md-icon md-svg-icon=alert:ic_warning_24px class=md-warn></md-icon></div></div></md-card></div></div></div></div></div></script><script type=text/ng-template id=blueprints/app/views/media.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Media Library') }}</h2><div class=funcbar><md-button aria-label="{{_('Upload New Media')}}" ngf-select=onFileSelect($files) ngf-multiple=true ngf-accept={{mimetypes}} ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload New Media')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> media files.', mediafiles.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="media in mediafiles | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(media),'selected':isSelected(media)}" class="md-2-line md-padding vertical-center"><img ng-if="media.type == 'image' || !media.type" ng-class="{'t50': media._reuploaded }" ng-src={{media.src|thumbfresh}} alt={{media.filename}} class="md-avatar s48"><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class="md-avatar s48"></md-icon><div ng-click=toggleSelect(media) class=md-list-item-text><h3 class="md-title text-nowrap">{{media.filename}}</h3><p class=md-caption><span class=text-primary>{{media.updated | dateformat}}</span></p></div><div class=func><md-button hide-sm=hide-sm aria-label="{{_('Copy URL')}}" ng-click=copyURL(media.src) ng-disabled=media.deleted class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click=edit(media) ng-disabled=media.deleted class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/app/views/media_edit.tmpl.html><md-dialog aria-label="{{_('Edit Media')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Edit Media') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex><div layout=column layout-align="center center" class=md-padding><div ng-show=!is_editable><img ng-if="media.type == 'image'" ng-src="{{ media.src }}" alt={{media.filename}} class="md-avatar s240"><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class="md-avatar s120"></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class="md-avatar s120"></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class="md-avatar s120"></md-icon></div><div ng-show=is_editable class=wide-container><div bagua-image-editor=bagua-image-editor img-src-url="is_editable ? media.original: ''" img-recipe=media.recipe class=img-editor></div></div></div><div flex=flex layout=column layout-align="center center" ng-show=is_editable class=md-margin><div class=img-editor-ratio><div class=text-center>{{_('Resize & Crop')}}</div><md-input-container><md-slider flex=flex md-discrete=md-discrete ng-model=aspect_ratio step=10 min=10 max=100 aria-label="_('Resize')" ng-disabled=reuploaded></md-slider></md-input-container></div><div class=img-editor-tips><p ng-bind-html="_('Resize and Crop image here.')" class="md-caption tip"></p></div></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Refresh')}}" type=button ng-click=refresh() ng-disabled="upload_status == 1" class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button><md-button aria-label="{{_('Save')}}" ng-click=save() ng-disabled="upload_status == 1" class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/app/views/settings/destroy.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Destroy App') }}</h2><form flex=flex novalidate=novalidate name=destroy_form><md-input-container><label>{{_('Type %s to confirm', 'REMOVE')}}</label><input type=text name=code ng-model=code ng-pattern=/^REMOVE$/ maxlength=10 required=required><p flex-order=3 ng-bind-html="_('* Once you destroy the app, all date will be lost.')" class="md-caption tip"></p><ng-messages for=destroy_form.code.$error ng-if=destroy_form.code.$touched><ng-message when=required>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message><ng-message when=pattern>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button ng-click=destroy() ng-disabled=submitted class="md-raised md-warn">{{_('Destroy')}}</md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/app/views/settings/ext_detail.tmpl.html><md-dialog aria-label={{ext.title}} flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Extension') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=bg-img-top-right><img ng-src={{ext.thumbnail}} alt={{ext.slug}} class=s60><h2 class=md-headline><span>{{ _t(ext.title)}}</span></h2><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Description') }}</h3><p ng-bind-html=_t(ext.description)></p></div><md-divider ng-if=ext.updated class="thick dotted"></md-divider><div ng-if=ext.updated class=text-block><h3 class=md-title>{{ _('Last Updated') }}</h3><p>{{ext.updated | dateformat}}</p></div></md-dialog-content><div layout=row layout-align="end center" class=md-actions><md-button ng-click=activate() ng-if="!ext.activated && !is_custom" class=md-raised><span class=text>{{ _('Activate')}}</span></md-button><md-button ng-click=deactivate() ng-if="ext.activated && !is_custom" ng-disabled=is_custom class=md-raised><span class=text>{{ _('Deactivate')}}</span></md-button><md-button ng-click=close() ng-if=is_custom class=md-raised><span class=text>{{ _('OK')}}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/app/views/settings/manage_exts.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Manage Extensions') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> extensions available.', exts.length)"></span></md-subheader><md-list><div ng-repeat="ext in exts | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{ext.thumbnail}}?{{now}} alt={{ext.slug}} class="md-avatar s48"><div theme={{ext.id}} slug={{ext.slug}} ng-click=open(ext) class=md-list-item-text><h3 class=text-nowrap>{{ _t(ext.title) }}</h3><p ng-bind-html=_t(ext.description) class=line-clamp></p><p>{{ ext.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(ext) class="md-raised md-icon-button"><md-icon ng-show=!ext.activated md-svg-icon=action:ic_extension_24px></md-icon><md-icon ng-show=ext.activated md-svg-icon=action:ic_done_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Custom Extension') }}</h2><div ng-if="custom_ext_loaded && !custom_ext.empty" class=anim-item><md-list><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{custom_ext.thumbnail}}?{{now}} alt={{custom_ext.slug}} ng-click=open(custom_ext) class="md-avatar s48"><div theme={{custom_ext.id}} slug={{custom_ext.slug}} ng-click=open(custom_ext) class=md-list-item-text><h3 class=text-nowrap>{{ _t(custom_ext.title) }}</h3><p class=line-clamp>{{ _t(custom_ext.description) }}</p><p>{{ custom_ext.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(custom_ext) class="md-raised md-icon-button"><md-icon ng-show=!custom_ext.activated md-svg-icon=action:ic_class_24px></md-icon><md-icon ng-show=custom_ext.activated md-svg-icon=action:ic_done_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></md-list><md-input-container layout=row><md-button flex=flex aria-label="{{_('Re Upload')}}" ngf-select=onFileSelect($files) accept=application/json ng-disabled="upload_status == 1 || remove_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Re Upload')}}</span></md-button><md-button flex=flex aria-label="{{_('Remove Custom Extension')}}" ng-class="{'md-warn': upload_status == 0 && remove_status == 0}" ng-click=removeCustom() ng-disabled="upload_status == 1 || remove_status == 1" class=md-raised><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Remove')}}</span></md-button></md-input-container></div><div ng-if="custom_ext_loaded && custom_ext.empty" class=anim-item><div class="text-container text-center"><p ng-bind-html="_('You can only upload one custom extesion, so make it count.')" class=md-caption></p></div><md-input-container><md-button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) accept=application/json ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload Custom Extension')}}</span></md-button><p flex-order=3 ng-bind-html="_('* You need to take this risk by using a custom extension that is unknown.')" class="md-caption text-center tip"></p></md-input-container></div></div></div></div></script><script type=text/ng-template id=blueprints/app/views/settings/metas.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Metas') }}</h2><form novalidate=novalidate name=metas_form ng-submit=save()><div flex=flex layout-gt-md=row><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Logo')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.logo md-svg-icon=action:ic_perm_media_24px ng-click=selectLogo() class="ico s60"></md-icon><div ng-show=meta.site_meta.logo class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.logo}} ng-click=selectLogo() alt="{{_('Logo')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.logo ng-click=selectLogo(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('Copyright')}}</label><textarea type=text name=copyright rows=3 ng-model=meta.site_meta.copyright></textarea></md-input-container><md-input-container><label>{{_('Contacts')}}</label><textarea name=contacts ng-model=meta.site_meta.contacts rows=3></textarea></md-input-container><md-input-container><label>{{_('Keywords')}}</label><textarea name=keywords rows=3 ng-model=meta.site_meta.keywords></textarea></md-input-container><md-input-container><label class=static-label>{{_('Background')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.bg.src md-svg-icon=action:ic_perm_media_24px ng-click=selectBg() class="ico s60"></md-icon><div ng-show=meta.site_meta.bg.src class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.bg.src}} ng-click=selectBg() alt="{{_('Background')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.bg.src ng-click=selectBg(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container></div><div flex=flex></div><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Favicon')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.favicon md-svg-icon=action:ic_perm_media_24px ng-click=selectIcon() class="ico s60"></md-icon><div ng-show=meta.site_meta.favicon class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.favicon}} ng-click=selectIcon() alt="{{_('Favicon')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.favicon ng-click=selectIcon(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('License')}}</label><textarea type=text name=license rows=3 ng-model=meta.site_meta.license></textarea></md-input-container><md-input-container><label>{{_('Analytics')}}</label><textarea name=analytics ng-model=meta.site_meta.analytics rows=3></textarea></md-input-container><md-input-container><label>{{_('SEO')}}</label><textarea name=seo ng-model=meta.site_meta.seo rows=3></textarea></md-input-container><md-input-container><label class=static-label>{{_('Banner')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.banner.src md-svg-icon=action:ic_perm_media_24px ng-click=selectBanner() class="ico s60"></md-icon><div ng-show=meta.site_meta.banner.src class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.banner.src}} ng-click=selectBanner() alt="{{_('Banner')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.banner.src ng-click=selectBanner(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container></div></div><div layout=row><p class="md-caption tip"> {{_('* Do not forget to save the metas after changing them.')}} </p></div><div layout=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Save')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button> <span class=text>{{_('Hardcode Mode')}}</span></md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/app/views/settings/metas_hardcode.tmpl.html><md-dialog aria-label="{{_('Metas Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Metas Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea rows=9 name=hardcode ng-model=meta_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/app/views/settings/theme_detail.tmpl.html><md-dialog aria-label={{theme.title}} flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Theme') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content ng-style="{'background-image': theme.meta.poster ? 'url('+theme.meta.poster+')':'none'}" class=bg-img-top-right><img ng-src={{theme.thumbnail}} alt={{theme.slug}} class=s60><h2 class=md-headline><span>{{ _t(theme.title)}}</span></h2><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Description') }}</h3><p ng-bind-html=_t(theme.description)></p></div><md-divider ng-if=theme.updated class="thick dotted"></md-divider><div ng-if=theme.updated class=text-block><h3 class=md-title>{{ _('Last Updated') }}</h3><p>{{theme.updated | dateformat}}</p></div></md-dialog-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Activate')}}" ng-click=activate() ng-disabled=submitted class=md-raised> <span ng-if=theme.activated class=text>{{ !theme.upgradeable ? _('Reload') : _('Upgrade')}}</span><span ng-if=!theme.activated class=text>{{ _('Activate') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/app/views/settings/themes.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Current Theme") }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('Your current activated theme.')"></span></md-subheader><md-card ng-show=show_current_theme class="theme anim-fade"><img ng-src={{image.cover}} alt={{current_theme.slug}} ng-style="{'background-image':'url('+current_theme.poster_src+')'}" ng-class="{'t25': current_theme.danger}" class=preview><md-card-content theme={{current_theme.id}} slug={{current_theme.slug}}><md-icon ng-if=current_theme.danger md-svg-icon=alert:ic_warning_24px class="md-warn s48"></md-icon><h3 class=md-title>{{ _t(current_theme.title) }}</h3><p ng-bind-html="_('Made by %s', current_theme.author)" class=md-caption></p><p ng-bind-html=_t(current_theme.description)></p><form ng-show=config_mode novalidate=novalidate name=config_form ng-submit=saveConfig() class=anim-block><md-input-container><label>{{_('Options')}}</label><textarea rows=9 name=theme_options ng-model=theme_meta_options></textarea><p flex-order=3 ng-bind-html="_('* Make sure that you have the required knowledge before making the changes because these advanced configuration options are JSON format.')" class="md-caption tip"></p><ng-messages for=config_form.theme_options.$error ng-if=config_form.theme_options.$touched><ng-message when=format>{{_("Options parse error.")}}</ng-message></ng-messages></md-input-container><div><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form><form ng-show=style_mode novalidate=novalidate name=style_form ng-submit=saveStyle() class=anim-block><md-input-container><label>{{_('Custom Styles')}}</label><textarea rows=9 name=theme_styles ng-model=current_theme.styles></textarea><p flex-order=3 ng-bind-html="_('* Write your custom CSS here.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></md-card-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Config')}}" ng-click=toggleConfig() class=md-icon-button><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button aria-label="{{_('Style')}}" ng-click=toggleStyle() class=md-icon-button><md-icon md-svg-icon=image:ic_style_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Detail')}}" ng-click=open_current(current_theme) class=md-icon-button><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-card></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Available Themes') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> available themes.', themes.length)"></span></md-subheader><md-list><div ng-repeat="theme in themes | paginator:paged:perpage" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{theme.thumbnail}}?{{now}} alt={{theme.slug}} ng-click=open(theme) class="md-avatar s48"><div theme={{theme.id}} slug={{theme.slug}} ng-click=open(theme) class=md-list-item-text><small ng-if=theme.upgradeable class=text-primary>{{ _("Upgraded") }}</small><h3 class=text-nowrap>{{ _t(theme.title) }}</h3><p ng-bind-html=_t(theme.description) class=line-clamp></p><p>{{ theme.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(theme) class="md-raised md-icon-button"><md-icon ng-show=!theme.activated md-svg-icon=image:ic_palette_24px></md-icon><md-icon ng-show="theme.activated && !theme.upgradeable" md-svg-icon=action:ic_done_24px></md-icon><md-icon ng-show="theme.activated && theme.upgradeable" md-svg-icon=custom:ic_play_for_work_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore(perpage)><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div><h2 class=md-title>{{ _('Custom Theme') }}</h2><div ng-if="custom_theme_loaded && custom_theme.slug" class=anim-item><md-list><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{custom_theme.thumbnail}}?{{now}} alt={{custom_theme.slug}} ng-click=open(custom_theme) class="md-avatar s48"><div theme={{custom_theme.id}} slug={{custom_theme.slug}} ng-click=open(custom_theme) class=md-list-item-text><h3 class=text-nowrap>{{ _t(custom_theme.title) }}</h3><p class=line-clamp>{{ _t(custom_theme.description) }}</p><p>{{ custom_theme.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(custom_theme) class="md-raised md-icon-button"><md-icon ng-show=!custom_theme.activated md-svg-icon=image:ic_palette_24px></md-icon><md-icon ng-show=custom_theme.activated md-svg-icon=action:ic_done_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></md-list><md-input-container layout=row><md-button flex=flex aria-label="{{_('Re Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1 || remove_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Re Upload')}}</span></md-button><md-button flex=flex aria-label="{{_('Remove Custom Theme')}}" ng-class="{'md-warn': upload_status == 0 && remove_status == 0}" ng-click=removeCustom() ng-disabled="upload_status == 1 || remove_status == 1" class=md-raised><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Remove')}}</span></md-button></md-input-container></div><div ng-if="custom_theme_loaded && !custom_theme.slug" class=anim-item><div class="text-container text-center"><p ng-bind-html="_('Activate the theme in the available themes, or upload your custom theme.')" class=md-caption></p></div><md-input-container><md-button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload Custom Theme')}}</span></md-button><p flex-order=3 ng-bind-html="_('* You need to take this risk by using a custom theme that is unknown.')" class="md-caption text-center tip"></p></md-input-container></div></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/agent.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Crm Agent') }}</h2><form flex=flex novalidate=novalidate name=agent_form ng-submit=modify()><md-input-container><label>{{_('Passcode')}}</label><input type=text name=passcode ng-model=agent.passcode md-maxlength=50><p flex-order=3 ng-bind-html="_('* Use the Passcode to access Crm Agent Tool.')" class="md-caption tip"></p><ng-messages for=agent_form.passcode.$error ng-if=agent_form.passcode.$touched><ng-message when=md-maxlength>{{_("Passcode is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Switcher')}}</label><div layout=row flex-order=2><md-switch ng-model=agent.status aria-label="{{_('Switcher')}}" ng-true-value=1 ng-false-value=0>{{ agent.status?_('On'):_('Off') }}</md-switch></div></md-input-container><div layout=row><md-button type=submit ng-disabled=submitted class="md-raised md-primary">{{_('Save')}}</md-button><md-button ng-href={{agent_url}} target=_blank class=md-raised><span class=text>{{_('Open Crm Agent Tool')}}</span></md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/card_edit.html><div flex=flex layout-margin=layout-margin class=view-animate><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title><span ng-if=new>{{ _('New Card') }}</span><span ng-if=!new>{{ _('Edit Card') }}</span></h2><div class=funcbar><md-button ng-href=/#/crm/cards class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to Card list')}}</span></md-button></div><form novalidate=novalidate name=card_form ng-submit=save()><md-input-container><label>{{_('Card Slug')}}</label><input type=text name=slug ng-model=card.slug maxlength=20 ng-pattern=/^[a-zA-Z0-9-]+$/ required=required ng-disabled=!new><p flex-order=3 ng-bind-html="_('* Card slug will use for the common code.')" class="md-caption tip"></p><ng-messages for=card_form.slug.$error ng-if=card_form.slug.$touched><ng-message when=required>{{_("Card slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Card Title')}}</label><input type=text name=title ng-model=card.meta.title md-maxlength=30 required=required><ng-messages for=card_form.title.$error ng-if=card_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("Must be less than %s.", '30')}}</ng-message></ng-messages></md-input-container><md-input-container flex=flex><label class=static-label>{{_('Card Style')}}</label><md-select layout=column flex-order=2 name=style ng-model=card.style placeholder="{{_('Select a Card style')}}" ng-disabled=!new required=required><md-option ng-repeat="(key, name) in cardstyles" ng-value=key>{{_(name)}}</md-option></md-select><p flex-order=3 ng-bind-html="_('* Card style can only be selected when creating.')" class="md-caption tip"></p><ng-messages for=card_form.style.$error ng-if=card_form.style.$dirty><ng-message when=required>{{_("Card style is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea row=3 name=description ng-model=card.meta.description md-maxlength=360></textarea><ng-messages for=card_form.description.$error ng-if=card_form.description.$touched><ng-message when=md-maxlength>{{_("Must be less than %s.", '360')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Usage mode')}}</label><md-radio-group ng-model=card.common flex-order=2 layout=row><md-radio-button ng-value={{true}}>{{ _('Common') }}</md-radio-button><md-radio-button ng-value={{false}}>{{ _('Distribution') }}</md-radio-button></md-radio-group></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-show=!is_new ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></div><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{_('Settings')}}</h2><md-input-container><label class=static-label>{{_('Sticker')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><div class="imgholder-inner anim-fade noleave"><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-icon ng-show=!card.meta.sticker md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon><img ng-show=card.meta.sticker ng-src={{card.meta.sticker}} alt="{{_('Sticker')}}"></md-drop-label><md-drop-optgroup label="{{_('Apps')}}"><md-drop-option ng-repeat="app in apps" ng-click="selectSticker(app, card)">{{ app.title }}</md-drop-option></md-drop-optgroup></md-dropmenu><md-button aria-label="{{_('Cancel')}}" type=button ng-show=card.meta.sticker ng-click=cleanSticker(card) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label class=static-label>{{_('Count')}}</label><p flex-order=2 ng-if=card.common class=md-display-1>{{ _('Common') }}</p><p flex-order=2 ng-if=!card.common class=md-display-1>{{ card.count }}</p></md-input-container><div layout=row class=switch-input-group><md-input-container flex=flex><label class=static-label>{{_('Amount Limit')}} (0 ~ 10000)</label><input flex-order=2 type=number name=amount min=0 max=10000 ng-model=card.amount ng-disabled=!use_amount><p flex-order=3 class="md-caption tip">{{_('* For total usage.')}}</p><ng-messages for=card_form.amount.$error ng-if=card_form.amount.$touched><ng-message when=number>{{_("Must be a number.")}}</ng-message><ng-message when=max>{{_("Must be less than %s.", '10000')}}</ng-message><ng-message when=min>{{_("Must be greater than %s.", '0')}}</ng-message></ng-messages></md-input-container><md-input-container><md-switch ng-model=use_amount aria-label="{{_('Switcher')}}"></md-switch></md-input-container></div><div layout=row class=switch-input-group><md-input-container flex=flex><label class=static-label>{{_('Duration Limit')}} (0 ~ 720)</label><input flex-order=2 type=number name=duration min=0 max=720 ng-model=card.duration ng-disabled=!use_duration><p flex-order=3 class="md-caption tip">{{_('* For remaining time in hours.')}}</p></md-input-container><md-input-container><md-switch ng-model=use_duration aria-label="{{_('Switcher')}}"></md-switch></md-input-container></div></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/cards.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Cards') }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Card')}}" ng-disabled=!check_addable() ng-href=/#/crm/card/new class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Card')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> cards.', cards.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="card in cards" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(card),'selected':isSelected(card)}" class="md-3-line md-padding vertical-center"><div ng-click=toggleSelect(card) class=md-list-item-text><h3 class="md-title text-nowrap">{{ card.slug }}</h3><p>{{_('Style')}}{{_(': ')}}{{ _(cardstyles[card.style])}}</p><p>{{_('Count')}}{{_(': ')}}<span ng-if=card.common>{{_('Common')}}</span><span ng-if=!card.common>{{ card.count }}</span></p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-href=/#/crm/card/{{card.id}} class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div class=md-padding><p ng-bind-html="_('* You can promote those cards on marketing events, then you can provide services base card information.')" class="md-caption tip"></p></div></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/event_demand_edit.tmpl.html><md-dialog aria-label="{{_('Demand')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Demand') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content><h2 class=md-headline>{{ demand.title }}</h2><h3 ng-if="demand.status == 2" class="md-subhead text-accent">{{ _('Canceled') }}</h3><h3 ng-if="demand.status == 0" class="md-subhead text-accent">{{ _('Closed') }}</h3><p>{{_('Subject')}}{{_(': ')}}{{ demand.subject || demand.id }}</p><p>{{_('Member Account:')}} {{ demand.member_login || '-'}}</p><md-divider class=gap></md-divider><div ng-repeat="field in demand.fields"><p class=text-break>{{field.label}}{{_(': ')}}{{field.value}}</p></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Ok')}}" ng-click=close() class="md-raised md-primary"><span class=text>{{ _('Ok') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/crm/views/event_demands.html><div flex=flex layout-margin=layout-margin class=view-animate><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ event.title }}</h2><div class=funcbar><md-button ng-href=/#/crm/events class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to events')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('%s have <span class=text-primary>%s</span> reservations.', event.title, demands.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="demand in demands | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(demand),'selected':isSelected(demand)}" class="md-3-line md-padding vertical-center"><div ng-click=toggleSelect(demand) class=md-list-item-text><h3 class=text-nowrap>{{ demand.subject || demand.id }}</h3><p class=text-nowrap>{{demand.member_login || '-'}}</p><p>{{demand.updated | dateformat}}</p></div><div class=func><md-button ng-class="{'md-accent': demand.member_id}" aria-label="{{_('Demand')}}" ng-click=open(demand) class="md-raised md-icon-button"><md-icon ng-if="demand.status == 0" md-svg-icon=action:ic_done_24px></md-icon><md-icon ng-if="demand.status == 1" md-svg-icon=action:ic_assignment_ind_24px></md-icon><md-icon ng-if="demand.status == 2" md-svg-icon=content:ic_block_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/crm/views/event_edit.tmpl.html><md-dialog aria-label="{{_('Event')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Event') }}</span><span ng-if=!new>{{ _('Edit Event') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=event_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Slug')}}</label><input type=text name=slug ng-model=event.slug ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=100 required=required ng-disabled=!new><p flex-order=3 ng-bind-html="_('* Slug will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=event_form.slug.$error ng-if=event_form.slug.$touched><ng-message when=required>{{_("Slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=event.title md-maxlength=20 required=required><ng-messages for=event_form.title.$error ng-if=event_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=event.meta.description md-maxlength=400 rows=3></textarea></md-input-container><md-input-container><label class=static-label>{{_('Member Verify')}}</label><md-switch ng-model=event.permit aria-label="{{_('Member Verify')}}" flex-order=3 ng-true-value=1 ng-false-value=0><span ng-if=event.permit>{{ _('Required') }}</span><span ng-if=!event.permit>{{ _('No Need') }}</span></md-switch></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" ng-click=trash() type=button ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Check')}}" ng-click=check() type=button ng-show=!new class=md-raised><span class=text>{{ _('Check') }}</span></md-button><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/crm/views/events.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Events') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Event')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_event_24px class=ico></md-icon><span class=text>{{_('Add New Event')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> events.', events.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="event in events | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><div class=md-list-item-text><h3 class=text-nowrap>{{ event.title }}</h3><p class=text-nowrap>{{ _('Slug:') }}&nbsp;{{event.slug}}</p><p class=text-nowrap> {{ _('Access:') }}&nbsp; {{event.permit?_('Member Logged'):_('Free Access')}} </p></div><div class=func><md-button aria-label="{{_('Demand')}}" ng-click=check(event) class="md-raised md-icon-button"><md-icon md-svg-icon=notify:ic_event_note_24px></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click=edit(event) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/member_detail.html><div flex=flex layout-margin=layout-margin class=view-animate><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Member Detail') }}</h2><div class=funcbar><md-button ng-href=/#/crm/members class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to member list')}}</span></md-button></div><md-divider class=dotted></md-divider><div class=md-padding><h2 class=md-headline>{{ member.login }}</h2><img ng-src={{member.meta.avatar}} alt={{member.meta.name}} ng-if=member.meta.avatar class=member-avatar><md-icon ng-if=!member.meta.avatar md-svg-icon=social:ic_person_24px class=member-avatar></md-icon><form novalidate=novalidate name=member_form ng-submit=modify()><md-select layout=column name=role ng-model=member.role placeholder="{{_('Member Role')}}"><md-optgroup label="{{_('Member Role')}}"><md-option value>{{_('No Role')}}</md-option><md-option ng-repeat="role in roles" ng-value=role.slug>{{ role.title }}</md-option></md-optgroup></md-select><md-input-container><label>{{_('Full Name')}}</label><input type=text name=name ng-model=member.meta.name maxlength=200></md-input-container><md-input-container><label>{{_('Mobile Phone')}}</label><input type=text name=mobile ng-model=member.meta.mobile maxlength=200></md-input-container><md-input-container><label>{{_('Email')}}</label><input type=email name=email ng-model=member.meta.email maxlength=500></md-input-container><md-input-container><label>{{_('Memo')}}</label><textarea name=memo ng-model=member.memo maxlength=800></textarea></md-input-container><div><md-button type=submit class=md-raised><span class=text>{{_('Modify')}}</span></md-button></div></form></div><md-divider class=dotted></md-divider><div class=md-padding><div ng-if="member_cards.length > 0"><h4 class=md-subhead>{{_('Cards')}}{{_(': ')}}<span ng-repeat="card in member_cards" class=text-primary>{{ card.code }}{{$last?'':_(', ')}}</span></h4></div><div><h4 class=md-subhead>{{_('Entrypoint')}}{{_(': ')}}<span class=text-primary>{{ member.entrypoint }}</span></h4></div></div><md-divider class=dotted></md-divider><div ng-if=member.status class=md-padding><p ng-if=new_passwd>{{_('New Password is:')}} {{new_passwd}}</p><md-button ng-click=reset_pwd() class=md-raised><span class=text>{{_('Reset Member Password')}}</span></md-button></div><div ng-if=!member.status class=md-padding><md-button ng-click=accept_member() class=md-raised><span class=text>{{_('Accept Member')}}</span></md-button></div><md-divider class=dotted></md-divider><div class=md-padding><md-button ng-click=remove() class="md-raised md-warn"><span class=text>{{_('Cancel Membership')}}</span></md-button></div></div><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Demands') }}</h2><div class=funcbar><md-button ng-href=/#/crm/events class=md-raised><md-icon md-svg-icon=action:ic_event_24px class=ico></md-icon><span class=text>{{_('Go Events')}}</span></md-button></div><md-divider class=dotted></md-divider><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('%s have <span class=text-primary>%s</span> reservations.', event.title, demands.length)"></span></md-subheader><div ng-repeat="demand in demands | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(demand),'selected':isSelected(demand)}" class="md-2-line md-padding vertical-center"><div ng-click=toggleSelect(demand) class=md-list-item-text><h3 class=text-nowrap>{{ demand.name }}</h3><p>{{demand.updated | dateformat}}</p></div><div class=func><md-button ng-class="{'md-accent': demand.member_id}" aria-label="{{_('Demand')}}" ng-click=open_demand(demand) class="md-raised md-icon-button"><md-icon ng-if="demand.status == 0" md-svg-icon=action:ic_done_24px></md-icon><md-icon ng-if="demand.status == 1" md-svg-icon=action:ic_assignment_ind_24px></md-icon><md-icon ng-if="demand.status == 2" md-svg-icon=content:ic_block_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/member_reset_pwd.tmpl.html><md-dialog aria-label="{{_('Reset Member Password')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Reset Member Password') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=member_pwd_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('New Password')}}</label><input type=text name=passwd ng-model=passwd maxlength=50 required=required></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Reset')}}" class="md-raised md-primary"><span class=text>{{ _('Reset') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/crm/views/members.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Members') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> members.', members.length)"></span></md-subheader><md-list><div layout-gt-sm=row class=input-row><div flex-sm=flex-sm flex-gt-sm=33 layout=row><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=role ng-model=select_role placeholder="{{_('Member Role')}}"><md-optgroup label="{{_('Member Role')}}"><md-option value>{{_('Everyone')}}</md-option><md-option ng-repeat="role in roles" ng-value=role.slug>{{ role.title }}</md-option></md-optgroup></md-select></md-input-container></div></div><div ng-repeat="member in current_members | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(member),'selected':isSelected(member)}" class="md-3-line md-padding vertical-center"><img ng-click=toggleSelect(member) ng-src={{member.meta.avatar}}?{{now}} alt={{member.meta.name}} ng-if=member.meta.avatar class="md-avatar s48"><md-icon ng-if=!member.meta.avatar md-svg-icon=social:ic_person_24px class="md-avatar s48"></md-icon><div ng-click=toggleSelect(member) class=md-list-item-text><h3 class=text-nowrap>{{ member.login }}</h3><p class=text-nowrap>{{member.updated | dateformat}}</p><p class=text-nowrap>{{member.entrypoint || '-'}}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-class="{'md-accent':!member.status}" ng-href=/#/crm/member/{{member.id}} class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><md-list-item ng-show="current_members.length <= 0" class=anim-item><div>{{ _('Sorry, did not find any member.') }}</div></md-list-item></md-list></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/role_edit.tmpl.html><md-dialog aria-label="{{_('Member Role')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Member Role') }}</span><span ng-if=!new>{{ _('Edit Member Role') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=role_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=role.title md-maxlength=20 required=required><ng-messages for=role_form.title.$error ng-if=role_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Slug')}}</label><input type=text name=slug ng-model=role.slug ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=100 required=required ng-disabled=!new><p flex-order=3 ng-bind-html="_('* Slug will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=role_form.slug.$error ng-if=role_form.slug.$touched><ng-message when=required>{{_("Slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-disabled=submitted ng-show=!new class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-disabled=submitted ng-show=new class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/crm/views/roles.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Member Role') }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Role')}}" ng-disabled=!check_addable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Role')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> member roles.', roles.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="role in roles" class=anim-item><md-list-item class="md-2-line md-padding vertical-center"><div class=md-list-item-text><h3 class="md-title text-nowrap">{{ role.title }}</h3><p class=text-nowrap>{{ role.slug }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(role) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=blueprints/editor/views/link_property_sheet.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=link_property_form ng-submit=save()><md-input-container class=anim-item><label>{{_('Link')}}</label><input type=text name=link ng-model=link.href maxlength=500 required=required><ng-messages for=link_form.link.$error ng-if=link_form.link.$touched><ng-message when=required>{{_("A link is required.")}}</ng-message></ng-messages></md-input-container><div ng-show=link.href class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=link.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=link_form.class.$error ng-if=link_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=blueprints/editor/views/media_property_sheet_audio.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><md-input-container><label class=static-label>{{_('Audio')}}</label><div flex-order=3 layout=row class=imgholder><div class="imgholder-inner anim-fade noleave"><md-icon ng-click=selectAudio() md-svg-icon=image:ic_audiotrack_24px class=s60></md-icon></div></div></md-input-container><div layout=row><div flex=flex class=text-container><md-switch ng-model=auto aria-label="{{_('Auto Play')}}">{{ _('Auto Play') }}</md-switch></div><div flex=flex class=text-container><md-switch ng-model=media.controls aria-label="{{_('Controls')}}">{{ _('Controls') }}</md-switch></div></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=blueprints/editor/views/media_property_sheet_image.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><md-input-container><label class=static-label>{{_('Image')}}</label><div flex-order=3 layout=row class=imgholder><div class="imgholder-inner anim-fade noleave"><img ng-src={{media.src|thumbfresh}} ng-click=selectImg() alt="{{_('Image')}}"></div></div></md-input-container><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=media.title md-maxlength=60><ng-messages for=media_property_form.title.$error ng-if=media_property_form.title.$touched><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container class=anim-item><label>{{_('Link')}}</label><input type=text name=link ng-model=media.link maxlength=500></md-input-container><div ng-show=media.link class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised><span class=text>{{_("Ok")}}</span></md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=blueprints/editor/views/media_property_sheet_video.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><md-input-container><label class=static-label>{{_('Video')}}</label><div flex-order=3 layout=row class=imgholder><div class="imgholder-inner anim-fade noleave"><md-icon ng-click=selectVideo() md-svg-icon=av:ic_videocam_24px class=s60></md-icon></div></div></md-input-container><div layout=row><div flex=flex class=text-container><md-switch ng-model=auto aria-label="{{_('Auto Play')}}">{{ _('Auto Play') }}</md-switch></div><div flex=flex class=text-container><md-switch ng-model=media.controls aria-label="{{_('Controls')}}">{{ _('Controls') }}</md-switch></div></div><md-input-container ng-if=posters><label class=static-label>{{_('Poster')}}</label><md-select layout=column flex-order=3 name=poster ng-model=media.poster placeholder="{{_('Select Video Poster')}}"><md-option ng-value=poster.src ng-repeat="poster in posters"><img ng-src={{poster.src|thumbfresh}} alt={{poster.filename}} class=md-avatar><span class="text text-nowrap">{{_(poster.filename)}}</span></md-option></md-select></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised><span class=text>{{_("Ok")}}</span></md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=blueprints/editor/views/station.html><div flex=flex layout=row class=no-scroll><div layout=column ng-class="{'mobile': is_mobile}" class=editor-bar><div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Back')}}</md-tooltip><md-button ng-click=back() aria-label="{{ _('Back') }}" class=md-icon-button><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></div><md-divider class=thick></md-divider></div><div ng-show=hasDeviceSwitcher()><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Desktop View')}}</md-tooltip><md-button tabindex=-1 ng-click="selectDevice('desktop')" ng-disabled="isCurrentDevice('desktop')" aria-label="{{ _('Desktop View') }}" class=md-icon-button><md-icon md-svg-icon=hardware:ic_desktop_mac_24px></md-icon></md-button></div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Tablet View')}}</md-tooltip><md-button tabindex=-1 ng-click="selectDevice('tablet')" ng-disabled="isCurrentDevice('tablet')" aria-label="{{ _('Tablet View') }}" class=md-icon-button><md-icon md-svg-icon=hardware:ic_tablet_mac_24px></md-icon></md-button></div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Phone View')}}</md-tooltip><md-button tabindex=-1 ng-click="selectDevice('phone')" ng-disabled="isCurrentDevice('phone')" aria-label="{{ _('Phone View') }}" class=md-icon-button><md-icon md-svg-icon=hardware:ic_phone_iphone_24px></md-icon></md-button></div><md-divider class=thick></md-divider></div><div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Preview')}}</md-tooltip><md-button ng-href={{file.url}}?preview={{now}} target=_blank aria-label="{{ _('Preview') }}" class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button></div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Property')}}</md-tooltip><md-button ng-click=toggleProperty() aria-label="{{ _('Property') }}" class=md-icon-button><md-icon md-svg-icon=action:ic_assignment_24px></md-icon></md-button></div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Save')}}</md-tooltip><md-button ng-click=save() aria-label="{{ _('Save') }}" class=md-icon-button><md-icon md-svg-icon=content:ic_save_24px></md-icon></md-button></div><md-divider class=thick></md-divider></div><span flex=flex></span><div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Markdown View')}}</md-tooltip><md-button tabindex=-1 ng-click=toggleMarkdown() ng-disabled=!allow_markdown aria-label="{{ _('Markdown View') }}" class=md-icon-button><md-icon md-svg-icon=custom:ic_markdown_24px></md-icon></md-button></div><md-divider class=thick></md-divider></div><div><div><md-tooltip md-autohide=md-autohide md-direction=right>{{_('Delete')}}</md-tooltip><md-button tabindex=-1 ng-click=trash() aria-label="{{ _('Delete') }}" ng-disabled=file.locked class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></div></div><div flex=flex layout=row class=editor-body><div ng-class="{'device-desktop': isCurrentDevice('desktop'), 'device-tablet': isCurrentDevice('tablet'), 'device-phone': isCurrentDevice('phone')}" layout=column flex=flex><div flex=flex ng-show="toolbar_open && !config.useMarkdown" name=sup-editor-toolbar class="editor-toolbar md-whiteframe-z4"><div class=btn-group><md-button type=button class=btn-h2>H2</md-button><md-button type=button class=btn-h3>H3</md-button><md-button type=button class=btn-h4>H4</md-button><md-button type=button class=btn-h5>H5</md-button><md-button aria-label=Paragraph type=button class=btn-p><md-icon md-svg-icon=custom:ic_paragraph_24px></md-icon></md-button><md-button aria-label=Quote type=button class=btn-quote><md-icon md-svg-icon=editor:ic_format_quote_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Italic class=btn-i><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button type=button aria-label=Bold class=btn-b><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button type=button aria-label=Strikethrough class=btn-strike><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button type=button aria-label=Underline class=btn-underline><md-icon md-svg-icon=editor:ic_format_underline_24px></md-icon></md-button><md-button type=button aria-label=Big class=btn-big><md-icon md-svg-icon=custom:ic_font_big_24px></md-icon></md-button><md-button type=button aria-label=Small class=btn-small><md-icon md-svg-icon=custom:ic_font_small_24px></md-icon></md-button><md-button type=button aria-label=Sub class=btn-sub><md-icon md-svg-icon=custom:ic_subscript_24px></md-icon></md-button><md-button type=button aria-label=Sup class=btn-sup><md-icon md-svg-icon=custom:ic_superscript_24px></md-icon></md-button><md-button type=button aria-label=Mark class=btn-mark><md-icon md-svg-icon=editor:ic_format_paint_24px></md-icon></md-button><md-button type=button aria-label=Clear class=btn-clear><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Image class=btn-img><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button type=button aria-label=Link class=btn-a><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button><md-button type=button aria-label=Hr class=btn-hr><md-icon md-svg-icon=custom:ic_page_break_24px></md-icon></md-button><md-button type=button aria-label=Preset class=btn-preset><md-icon md-svg-icon=maps:ic_local_florist_24px></md-icon></md-button><md-button type=button aria-label="Script Code" class=btn-script><md-icon md-svg-icon=action:ic_android_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Ol class=btn-ol><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon></md-button><md-button type=button aria-label=Ul class=btn-ul><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon></md-button><md-button type=button aria-label=Outdent class=btn-outdent><md-icon md-svg-icon=editor:ic_format_indent_decrease_24px></md-icon></md-button><md-button type=button aria-label=Indent class=btn-indent><md-icon md-svg-icon=editor:ic_format_indent_increase_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label="Align left" class=btn-jleft><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-button type=button aria-label="Align center" class=btn-jcenter><md-icon md-svg-icon=editor:ic_format_align_center_24px></md-icon></md-button><md-button type=button aria-label="Align right" class=btn-jright><md-icon md-svg-icon=editor:ic_format_align_right_24px></md-icon></md-button><md-button type=button aria-label="Align Justify" class=btn-jfull><md-icon md-svg-icon=editor:ic_format_align_justify_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Undo class=btn-undo><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button type=button aria-label=Redo class=btn-redo><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label="Html Code" class=btn-html><md-icon md-svg-icon=custom:ic_html_code_24px></md-icon></md-button></div></div><div id=media-property-sheet ng-show="media_property_open && !config.useMarkdown"></div><div id=link-property-sheet ng-show="link_property_open && !config.useMarkdown"></div><div id=canvas flex=flex ng-if=!config.useMarkdown layout=column layout-align="center center" ng-class="{'tablet-bg':isCurrentDevice('tablet'),'phone-bg': isCurrentDevice('phone')}" ng-click=blurCanvas()><iframe flex=flex src=canvas ng-class="{'empty': isCurrentDevice(),'tablet': isCurrentDevice('tablet'),'phone': isCurrentDevice('phone'),'empty': !canvas_displayed}" scrolling=auto></iframe></div><div id=markdown flex=flex ng-if=config.useMarkdown layout=row><div flex=45 layout=column class=vh-full><md-content layout=column flex=flex><form flex=flex novalidate=novalidate name=forms.editor_markdown ng-submit=save() layout=column><div flex=flex layout=column class="input-container no-padding"><div name=sup-markdown-toolbar class="editor-toolbar inner"><div class=btn-group><md-button type=button aria-label=Italic class=btn-i><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button type=button aria-label=Bold class=btn-b><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button type=button aria-label=Strikethrough class=btn-strike><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button type=button aria-label=Hr class=btn-hr><md-icon md-svg-icon=custom:ic_page_break_24px></md-icon></md-button><md-button type=button aria-label=Code class=btn-code><md-icon md-svg-icon=custom:ic_code_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Image class=btn-img><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button type=button aria-label=Link class=btn-a><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button></div><div class="btn-group pull-right"><md-button type=button aria-label=Undo class=btn-undo><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button type=button aria-label=Redo class=btn-redo><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button></div></div><textarea flex=flex sup-angular-markdown=sup-markdown aria-label="{{_('Markdown')}}" ng-model=file.markdown output=file.content rows=12 skip-iframe=true class=no-resize></textarea><p flex-order=3 ng-bind-html="_('* It is specifically for text content. Insert Markdown in side HTML tag might not work exactly the same with other platform, for example github.com.')" class="md-margin md-caption tip"></p></div></form></md-content></div><div flex=55 layout=column class=vh-full><iframe flex=flex src=canvas scrolling=auto></iframe></div></div></div><md-sidenav md-component-id=editor_property md-is-locked-open=isPropertyLockedOpen() layout=column class="md-sidenav-right md-whiteframe-z3"><md-content flex=flex><md-subheader class="md-no-sticky md-primary">{{_('Property')}}</md-subheader><form novalidate=novalidate name=property_form ng-submit=save() class=md-padding><md-input-container><label>{{_('URL Slug')}}</label><input type=text name=slug ng-model=file.slug ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=120 required=required><ng-messages for=property_form.slug.$error ng-if=property_form.slug.$touched><ng-message when=required>{{_("URL Slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Featured Image')}}</label><div flex-order=3 layout=row layout-align="center center" class="imgholder aside-img"><md-icon ng-show=!file.meta.featured_img.src md-svg-icon=action:ic_perm_media_24px ng-click=selectFeaturedImg() class="ico s48"></md-icon><div ng-show=file.meta.featured_img.src class="imgholder-inner anim-fade noleave"><img ng-src={{file.meta.featured_img.src}} ng-click=selectFeaturedImg() alt="{{_('Featured Image')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-click=selectFeaturedImg(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=file.meta.title md-maxlength=120><ng-messages for=property_form.title.$error ng-if=property_form.title.$touched><ng-message when=md-maxlength>{{_("Text is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea type=text name=description rows=3 ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=property_form.description.$error ng-if=property_form.description.$touched><ng-message when=md-maxlength>{{_("Text is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-repeat="(k,v) in taxonomies"><label class=static-label>{{_(v.title)}}</label><md-select aria-label="{{_('v.title')}}" flex-order=2 layout=column multiple=multiple placeholder="{{_('Uncategorized')}}" ng-model=file.taxonomy[k]><md-option ng-repeat="term in v.terms" ng-value=term.key>{{_(term.title)}}</md-option></md-select></md-input-container><md-input-container><label class=static-label>{{_('Tags')}}</label><md-chips flex-order=2 ng-model=file.tags></md-chips></md-input-container><md-input-container><md-button ng-click=toggleAdvProperty() type=button><md-icon ng-class="{'toggled':property_adv}" md-svg-icon=nav:ic_expand_more_24px class="ico toggle-icon"></md-icon><span class=text>{{_('Advanced Options')}}</span></md-button></md-input-container><div ng-show=property_adv class=anim-block><md-input-container><label class=static-label>{{_('Template')}}</label><md-select flex-order=2 layout=column name=template ng-model=file.template placeholder="{{_('Select a template')}}"><md-option ng-value=tpl.slug ng-repeat="tpl in templates"><span class=text>{{_t(tpl.name)}}</span></md-option></md-select></md-input-container><md-input-container><label>{{_('Date')}}</label><div layout=row flex-order=2><input type=date name=date ng-model=date maxlength=60><md-button flex-order=2 aria-label="{{_('Get Today Date')}}" ng-click=getToday() type=button class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button></div><ng-messages for=property_form.date.$error ng-if=property_form.date.$touched><ng-message when=date>{{_("Invalid date format.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Author')}}</label><div layout=row flex-order=2><input type=text name=author ng-model=file.meta.author maxlength=120><md-button flex-order=2 aria-label="{{_('Get Author Name')}}" ng-click=getAuthor() type=button class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button></div></md-input-container><md-input-container><label>{{_('Priority')}}</label><input type=number name=priority ng-model=file.priority><ng-messages for=property_form.priority.$error ng-if=property_form.priority.$touched><ng-message when=number>{{_("Must be a number.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Parent')}}</label><input type=parent name=parent ng-model=file.parent ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=200><ng-messages for=property_form.parent.$error ng-if=property_form.parent.$touched><ng-message when=pattern>{{_("Parent is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Redirect to')}}</label><input type=url name=redirect ng-model=file.redirect><ng-messages for=property_form.redirect.$error ng-if=property_form.redirect.$touched><ng-message when=url>{{_("Must be a URL.")}}</ng-message></ng-messages></md-input-container></div><md-input-container><md-switch ng-model=file.status aria-label="{{_('Status')}}" ng-true-value=1 ng-false-value=0><span ng-class="{'t50': file.status == 0}">{{ _('Published') }}</span></md-switch></md-input-container><md-input-container><md-button class="md-raised md-primary"><span class=text>{{_('Save')}}</span></md-button></md-input-container></form></md-content></md-sidenav></div></div></script><script type=text/ng-template id=blueprints/portal/views/create_app.html><div flex=flex layout=column class=view-animate><div flex=flex layout=row layout-align="center center"><section flex=60><h2 class=md-headline>{{ _('Create New App') }}</h2><form novalidate=novalidate name=app_form ng-submit=create()><md-input-container><md-select layout=column name=type ng-model=app.type placeholder="{{_('Select an App Type')}}" ng-disabled=reached_max required=required><md-option ng-value=type.slug ng-repeat="type in app_types"><md-icon md-svg-icon={{type.ico}}></md-icon><span class=text>{{_(type.name)}}</span></md-option></md-select><ng-messages for=app_form.type.$error ng-if=app_form.type.$dirty><ng-message when=required>{{_("App type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('URL Slug')}}</label><input type=text name=slug ng-model=app.slug ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=50 ng-disabled=reached_max required><p flex-order=3 ng-bind-html="_('* Slug will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=app_form.slug.$error ng-if=app_form.slug.$touched><ng-message when=required>{{_("URL Slug is required.")}}</ng-message><ng-message when=pattern> {{_("URL Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=app.title md-maxlength=60 ng-disabled=reached_max required><ng-messages for=app_form.title.$error ng-if=app_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{ _('Cancel') }}" type=button ng-click=cancel() class=md-icon-button><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><span flex=flex></span><md-button ng-disabled="reached_max || submitted" type=submit class="md-raised md-primary"> <span class=text>{{_('Create')}}</span></md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/portal/views/portal.html><div flex=flex layout-margin=layout-margin class=view-animate><div class=cards-vertical><md-card ng-repeat="app in apps" class=app><div flex=flex layout=row><div flex-gt-lg=25 flex-lg=30 flex=35 hide-sm=hide-sm layout=row layout-align="center center" ng-style="{'background-image':app.snapshot?'url('+app.snapshot+')':''}" tabindex=-1 ng-click=enter(app) class=feature><md-icon ng-show=!app.snapshot md-svg-icon={{getAppIcon(app.type)}}></md-icon></div><md-card-content flex=flex layout=column><div flex=flex><h2 class=md-title>{{app.title}}</h2><p>{{app.description}}</p></div><div class=func><md-button ng-click=enter(app) class="md-raised md-primary">{{_("Enter")}}</md-button></div></md-card-content></div></md-card><md-card ng-if=addAble() class=app><div flex=flex layout=row><md-card-content flex=flex layout=row layout-align="center center" ng-click=create()><md-icon md-svg-icon=content:ic_add_box_24px class="md-primary s60"></md-icon></md-card-content></div></md-card></div><div class="md-padding text-center"><div class="md-headline tip">{{apps.length}}/{{app_slots}}</div></div></div></script><script type=text/ng-template id=blueprints/store/views/detail.tmpl.html><md-dialog aria-label={{item.title}} flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if="item.type == 'theme'">{{ _('Theme') }}</span><span ng-if="item.type == 'extension'">{{ _('Extension') }}</span><span flex=flex></span><md-button aria-label="Copy URL" ng-click=copy() class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content ng-style="{'background-image': item.meta.poster ? 'url('+item.meta.poster+')':'none'}" class=bg-img-top-right><img ng-src={{item.thumbnail}} alt={{item.slug}} class=s60><h2 class=md-headline><span>{{ _t(item.title)}}</span></h2><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Description') }}</h3><p>{{ _t(item.description) }}</p></div><div class=text-block><h3 class=md-title>{{ _('Capability') }}</h3><p><span ng-repeat="capa in capabilities">{{_(capa)}}{{!$last?_(', '):''}}</span></p></div><div class=text-block><h3 class=md-title>{{ _('Price') }}</h3><p class="text-primary md-display-1"><span ng-if="item.price > 0">{{item.price}}</span><span ng-if="item.price <= 0">{{_("Free")}}</span></p></div><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Last Updated') }}</h3><p>{{item.updated | dateformat}}</p></div></md-dialog-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Buy')}}" ng-class="{'md-primary':!item.purchased}" ng-click=buy() ng-disabled=item.purchased class=md-raised><span ng-if="item.price == 0 && !item.purchased" class=text>{{ _('Free') }}</span><span ng-if="item.price > 0 && !item.purchased" class=text>{{_('Buy')}}</span><span ng-if=item.purchased class=text>{{ _('Owned') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/store/views/purchased.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Purchased Items') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You own <span class=text-primary>%s</span> themes and <span class=text-primary>%s</span> extensions.', themes_count, exts_count)"></span></md-subheader><md-list><div ng-repeat="item in goods | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{item.thumbnail}} alt={{item.slug}} class="md-avatar s48"><div class=md-list-item-text><h3 class=text-nowrap>{{ _t(item.title) }}</h3><p class=text-break>{{ _t(item.description) }}</p></div><div class=func><md-button hide-sm=hide-sm aria-label="{{_('Detail')}}" ng-click=open(item) class=md-raised> <span class=text>{{ _('Detail') }}</span></md-button><md-button hide-gt-sm=hide-gt-sm aria-label="{{_('Detail')}}" ng-click=open(item) class="md-raised md-icon-button"><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><md-list-item ng-if=empty class="anim-item noleave"><div>{{ _('Sorry, did not find anything.') }}</div></md-list-item></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><md-button class="md-accent md-fab md-fab-top-right fixed-escape-top">{{customer.property.credit}}</md-button></div></script><script type=text/ng-template id=blueprints/store/views/store.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Themes and Extensions') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('We have <span class=text-primary>%s</span> themes and <span class=text-primary>%s</span> extensions in store.', themes_count, exts_count)"></span></md-subheader><md-list><div layout-gt-sm=row class=input-row><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=type ng-model=selected_type placeholder="{{_('Type')}}"><md-optgroup label="{{_('Type')}}"><md-option value>{{_('All')}}</md-option><md-option value=extension>{{_('Extension')}}</md-option><md-option value=theme>{{_('Theme')}}</md-option></md-optgroup></md-select></md-input-container></div><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=type ng-model=selected_capability placeholder="{{_('Capability')}}"><md-optgroup label="{{_('Capability')}}"><md-option value>{{_('for All')}}</md-option><md-option value=ws>{{_('for Website')}}</md-option><md-option value=wx>{{_('for WeChat Buzz')}}</md-option><md-option value=wb>{{_('for Digital Book')}}</md-option></md-optgroup></md-select></md-input-container></div><form name=search_form ng-submit=search() flex=flex layout=row class=icon-input><md-input-container flex=flex layout-margin=layout-margin md-no-float=md-no-float><input type=text name=search ng-model=search_key placeholder="{{_('Search...')}}" maxlength=100></md-input-container><md-icon md-svg-icon=action:ic_search_24px ng-click=search()></md-icon></form></div><div ng-repeat="item in goods | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{item.thumbnail}} alt={{item.slug}} class="md-avatar s48"><div class=md-list-item-text><h3 class=text-nowrap>{{ _t(item.title) }}</h3><p class=text-break>{{ _t(item.description)}}</p></div><div class=func><md-button hide-sm=hide-sm aria-label="{{_('Detail')}}" ng-class="{'md-primary':!item.purchased}" ng-click=open(item) class=md-raised><span ng-if="item.price == 0 && !item.purchased" class=text>{{ _('Free') }}</span><span ng-if="item.price > 0 && !item.purchased" class=text>{{item.price | number:2}}</span><span ng-if=item.purchased class=text>{{ _('Owned') }}</span></md-button><md-button hide-gt-sm=hide-gt-sm aria-label="{{_('Detail')}}" ng-class="{'md-primary':!item.purchased}" ng-click=open(item) class="md-raised md-icon-button"><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><md-list-item ng-show=checkEmpty() class=anim-fade><div>{{ _('Sorry, did not find anything.') }}</div></md-list-item></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><md-button class="md-accent md-fab md-fab-top-right fixed-escape-top">{{customer.property.credit}}</md-button></div></script><script type=text/ng-template id=blueprints/user/views/invite.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('My Invitation Codes') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> invitation codes.', invites.length)"></span></md-subheader><md-list><div ng-repeat="item in invites" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><div class=md-list-item-text><p class="md-caption text-break">{{item.code}}</p></div><div class=func><md-button aria-label="{{_('Copy Invite Code')}}" ng-click=copyCode(item.code) ng-disabled=item.invited class=md-icon-button><md-icon md-svg-icon=comm:ic_vpn_key_24px></md-icon></md-button><md-button aria-label="{{_('Copy Invite URL')}}" ng-click=copyURL(item.code) ng-disabled=item.invited class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div><div flex-gt-md=40 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin ng-show=invites_loaded class=anim-fade><h2 class=md-title>{{ _('Generate Invite Code') }}</h2><div class=text-container><span class=md-display-3>{{codes_remained}}</span><span> &nbsp; {{ _('Codes remained') }}</span></div><div class=text-container><span ng-bind-html="_('* This invite code can be used to invite your friends to register.')" class=md-caption></span></div><div layout=row><md-button ng-click=generate() ng-disabled="!codes_remained || codes_remained <= 0" class="md-raised md-primary"> <span class=text>{{_('Generate')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/user/views/login.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Login') }}</h1><form novalidate=novalidate name=login_form ng-submit=submit()><md-input-container><label>{{_('Login by Email')}}</label><input type=email name=login ng-model=login.login maxlength=100 required><ng-messages for=login_form.login.$error ng-if=login_form.login.$touched><ng-message when=required>{{_("Login is required.")}}</ng-message><ng-message when=email>{{_("Login must be a registered email address.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Password')}}</label><input type=password name=passwd ng-model=login.passwd ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" maxlength=100 required=required><ng-messages for=login_form.passwd.$error ng-if=login_form.passwd.$touched><ng-message when=required>{{_("Password is required.")}}</ng-message><ng-message when=pattern>{{_("Password is invalid.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"><span class=text>{{_('Enter')}}</span></md-button><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/recovery><span class=text>{{_('Forget password?')}}</span></md-button><span flex=flex></span><md-button ng-href=/#/register class=md-primary><span class=text>{{_('Register A New Account')}}</span></md-button></div></form></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/oauth.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><section flex-gt-sm=60 flex=flex><h1 ng-if=oauth_error class=md-display-3>{{ _('Sorry! Authentication failed.') }}</h1></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/profile.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('User Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=saveProfile()><md-input-container><label>{{_('Name')}}</label><input type=text name=display_name ng-model=profile.meta.display_name md-maxlength=30><ng-messages for=profile_form.display_name.$error ng-if=profile_form.display_name.$touched><ng-message when=md-maxlength>{{_("Name must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Email')}}</label><input type=email name=email ng-model=profile.meta.email ng-pattern=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/ ><ng-messages for=profile_form.email.$error ng-if=profile_form.email.$touched><ng-message when=pattern>{{_("Please enter a valid email address.")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Account Information') }}</h2><form novalidate=novalidate name=account_form ng-submit=saveAccount()><md-input-container><label class=static-label>{{_('Login')}}</label><p flex-order=2 class=text-primary>{{profile.login}}</p></md-input-container><md-input-container><label class=static-label>{{_('User Name')}}</label><p flex-order=2 class=text-primary>{{profile.slug}}</p></md-input-container><md-input-container><label class=static-label>{{ _('Plan')}}</label><p flex-order=2 class=text-primary>{{_(property.plan.name)}}</p></md-input-container></form></div></div></div></script><script type=text/ng-template id=blueprints/user/views/recovery.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show="step == 0" class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Recovery') }}</h1><form novalidate=novalidate name=captcha_form ng-submit=captcha()><md-input-container><label>{{_('Registered Email Address')}}</label><input type=email name=login ng-model=user.login maxlength=100 required><ng-messages for=captcha_form.login.$error ng-if=captcha_form.login.$touched><ng-message when=required>{{_("Register email is required.")}}</ng-message><ng-message when=email>{{_("Please enter a valid email address.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit ng-disabled=submitted class="md-raised md-primary"><span class=text>{{_('Recover')}}</span></md-button><span flex=flex></span><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/login><span class=text>{{_('Go Login')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show="step == 1" class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Reset Password') }}</h1><p class=md-title>{{user.login}}</p><p ng-bind-html="_('A Captcha code has been sent to your email. Please use the Captcha code to finish this operation.')" class=md-caption></p><form novalidate=novalidate name=recovery_form ng-submit=recovery()><md-input-container><label>{{_('Captcha')}}</label><input type=text name=captcha ng-model=user.captcha maxlength=50 required=required><ng-messages for=recovery_form.captcha.$error ng-if=recovery_form.captcha.$touched><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('New Password')}}</label><input type=password name=passwd ng-model=user.passwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=recovery_form.passwd.$error ng-if=recovery_form.passwd.$touched><ng-message when=required>{{_("New password is required.")}}</ng-message><ng-message when=pattern>{{_("New password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Confirm Password')}}</label><input type=password name=passwd2 ng-model=user.passwd2 maxlength=50 data-password-verify=user.passwd required=required><ng-messages for=recovery_form.passwd2.$error ng-if=recovery_form.passwd2.$touched><ng-message when=required>{{_("Password confirmation is required.")}}</ng-message><ng-message when=passwordVerify>{{_("The password confirmation does not match.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit ng-disabled=submitted class="md-raised md-primary"><span class=text>{{_('Reset')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show="step == 2" class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Reseted') }}</h1><p class=md-display-1>{{user.login}}</p><p ng-bind-html="_('Your Password has been reseted.')"></p><md-button ng-href=/#/login class="md-raised md-primary"><span class=text>{{_('Go Login')}}</span></md-button></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/register.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show="step == 0" class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Register') }}</h1><form novalidate=novalidate name=captcha_form ng-submit=captcha()><md-input-container><label>{{_('Login (Email Address)')}}</label><input type=email name=login ng-model=newbie.login maxlength=100 required><ng-messages for=captcha_form.login.$error ng-if=captcha_form.login.$touched><ng-message when=required>{{_("Register email is required.")}}</ng-message><ng-message when=email>{{_("Please enter a valid email address.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Invite Code')}}</label><input type=text name=code ng-model=newbie.code maxlength=100><p flex-order=3 class=md-caption>{{_('* Leave it blank if you do not have any invite code.')}}</p></md-input-container><md-input-container><div layout=row><md-checkbox ng-model=accept ng-change=checkAccept() class=md-primary>{{ _('I agree to the') }}</md-checkbox><div flex=flex class=checkbox-tail><a ng-href={{getTermsURL()}} target=_blank class=md-primary>{{ _('Terms of Use') }}</a></div></div><input type=hidden aria-label="for accept checkbox" name=accept ng-model=acceptbox required=required><ng-messages for=captcha_form.accept.$error ng-if=captcha_form.accept.$touched><ng-message when=required>{{_("You must accept for registration.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"><span class=text>{{_('Register')}}</span></md-button><span flex=flex></span><md-button ng-href=/#/login><span class=text>{{_('Go Login')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show="step == 1" class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Activate') }}</h1><p class=md-title>{{newbie.login}}</p><p ng-bind-html="_('A Captcha code has been sent to your email. Please use the Captcha code to finish this operation.')" class=md-caption></p><form novalidate=novalidate name=register_form ng-submit=register()><md-input-container><label>{{_('Captcha')}}</label><input type=text name=captcha ng-model=newbie.captcha maxlength=50 required=required><ng-messages for=register_form.captcha.$error ng-if=register_form.captcha.$touched><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container><div layout=row><div style="line-height:70px; padding-right:16px;">i.soopro.com/</div><div flex=flex><md-input-container><label>{{_('User Name')}}</label><input type=text name=slug ng-model=newbie.slug ng-pattern=/^[a-zA-Z0-9-]{3,}$/ maxlength=100 required><p flex-order=3 ng-bind-html="_('* Username can consist of only letters, numbers, underscores and hyphens.')" class="md-caption tip"></p><ng-messages for=register_form.slug.$error ng-if=register_form.slug.$touched><ng-message when=required>{{_("Username is required.")}}</ng-message><ng-message when=pattern>{{_("Username is invalid.")}}</ng-message></ng-messages></md-input-container></div></div><div layout=row><md-input-container flex=flex><label>{{_('Set Password')}}</label><input type=password name=passwd ng-model=newbie.passwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=register_form.passwd.$error ng-if=register_form.passwd.$touched><ng-message when=required>{{_("Password is required.")}}</ng-message><ng-message when=pattern>{{_("Password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container flex=flex><label>{{_('Confirm Password')}}</label><input type=password name=passwd2 ng-model=newbie.passwd2 maxlength=50 data-password-verify=newbie.passwd required=required><ng-messages for=register_form.passwd2.$error ng-if=register_form.passwd2.$touched><ng-message when=required>{{_("Password confirmation is required.")}}</ng-message><ng-message when=passwordVerify>{{_("The password confirmation does not match.")}}</ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-md=row><md-button type=submit ng-disabled=submitted class="md-raised md-primary"><span class=text>{{_('Activate')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show="step == 2" class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Register successed') }}</h1><p class=md-display-1>{{newbie.login}}</p><p ng-bind-html="_('Your registration is successful.')"></p><md-button ng-href=/#/ class="md-raised md-primary"><span class=text>{{_('Enter')}}</span></md-button></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/reset_pwd.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=!reseted class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Reset Password') }}</h1><form novalidate=novalidate name=reset_form ng-submit=submit()><md-input-container><label>{{_('New Password')}}</label><input type=password name=passwd ng-model=reset.passwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=reset_form.passwd.$error ng-if=reset_form.passwd.$touched><ng-message when=required>{{_("New password is required.")}}</ng-message><ng-message when=pattern>{{_("New password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Confirm Password')}}</label><input type=password name=passwd2 ng-model=reset.passwd2 maxlength=50 data-password-verify=reset.passwd required=required><ng-messages for=reset_form.passwd2.$error ng-if=reset_form.passwd2.$touched><ng-message when=required>{{_("Password confirmation is required.")}}</ng-message><ng-message when=passwordVerify>{{_("The password confirmation does not match.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"><span class=text>{{_('Reset')}}</span></md-button><span flex=flex></span><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/login><span class=text>{{_('Go Login')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=reseted class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Reseted') }}</h1><p class=md-display-1>{{reset.login}}</p><p ng-bind-html="_('Your Password has been reseted.')"></p><md-button ng-href=/#/login class="md-raised md-primary"><span class=text>{{_('Return')}}</span></md-button></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/security.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Password') }}</h2><form novalidate=novalidate name=pwd_form><md-input-container><label>{{_('Current Password')}}</label><input type=password name=old_passwd ng-model=pwd.old_passwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=pwd_form.old_passwd.$error ng-if=pwd_form.old_passwd.$touched><ng-message when=required>{{_("Current password is required.")}}</ng-message><ng-message when=pattern>{{_("Current password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('New Password')}}</label><input type=password name=passwd ng-model=pwd.passwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=pwd_form.passwd.$error ng-if=pwd_form.passwd.$touched><ng-message when=required>{{_("New password is required.")}}</ng-message><ng-message when=pattern>{{_("New Password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Confirm Password')}}</label><input type=password name=passwd2 ng-model=pwd.passwd2 maxlength=50 data-password-verify=pwd.passwd required=required><ng-messages for=pwd_form.passwd2.$error ng-if=pwd_form.passwd2.$touched><ng-message when=required>{{_("Password confirmation is required.")}}</ng-message><ng-message when=passwordVerify>{{_("The password confirmation does not match.")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=button ng-disabled=pwd_form.$invalid ng-click=savePwd() class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Secret Key') }}</h2><md-input-container><label class=static-label>{{_('Current Key Code')}}</label><p flex-order=2>{{sercet.key}}</p><p flex-order=3 ng-bind-html="_('* Secret Key grants you the developer permissions and do not tell anybody else.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button ng-click=resetSecretKey() class=md-raised>{{_('Reset')}}</md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/wa/views/dashboard.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Analytics Data') }}</h2><div flex=flex layout-gt-sm=row><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Page Viewing') }}</div><div class=md-display-1>{{ analytic_data.pv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Visits') }}</div><div class=md-display-1>{{ analytic_data.vs | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique Visitors') }}</div><div class=md-display-1>{{ analytic_data.uv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique IPs') }}</div><div class=md-display-1>{{ analytic_data.ip | abbrnum }}</div></md-card-content></md-card></div><md-divider class=gap></md-divider><h2 class=md-title>{{ _('App Information') }}</h2><div flex=flex layout-gt-sm=row layout-wrap=layout-wrap><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('Title') }}</div><p class=text-primary>{{ app.title }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('URL Slug') }}</div><p class="text-break text-primary">{{ app.slug }}</p></div><div flex=90 layout-padding=layout-padding><div class=md-subhead>{{ _('Preview URL') }}</div><p class="text-break text-primary"> <a ng-href={{app.base_url}} target=_blank>{{ app.base_url }}</a></p><p ng-if=!app.domain class="md-caption text-warn">{{ _('* You must bind a domain before go public.') }}</p></div><div flex=90 layout-padding=layout-padding><div><div class=md-subhead>{{ _('Description') }}</div><p>{{ app.description }}</p></div></div></div></div></div></div></script><script type=text/ng-template id=blueprints/wa/views/scene_create.tmpl.html><md-dialog aria-label="{{_('Create Scene')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Create Scene') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=file_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=file.meta.title md-maxlength=40 required=required><ng-messages for=file_form.title.$error ng-if=file_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '40')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Create')}}" ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wa/views/scenes.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 layout=row layout-align="start center" class=md-title><span>{{ _('Scenes') }}</span></h2><div class=funcbar><md-button aria-label="{{_('Add New Scene')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Scene')}}</span></md-button></div><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> scenes.', scenes.length)"></span></md-subheader><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="scene in scenes" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(scene),'selected':isSelected(scene), 'draft': scene.status == 0}" class=content><md-card-content layout=column ng-click=toggleSelect(scene)><div layout=row><div ng-class="{'text-primary': scene.status == 1}" class=md-caption>{{(scene.date||scene.updated) | dateformat}}</div><span flex=flex></span><md-icon ng-show="scene.archive && !scene.locked" md-svg-icon=content:ic_archive_24px class="s14 t75"></md-icon><md-icon ng-show=scene.locked md-svg-icon=action:ic_lock_24px class="s14 t75"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead text-break line-clamp">{{ scene.meta.title }}</div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href={{scene.url}} target=preview ng-show="isSelected(scene) && !scene.template_missing" class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><div ng-show=scene.template_missing class=md-padding><md-icon md-svg-icon=alert:ic_warning_24px class=md-warn></md-icon></div><span flex=flex ng-click=toggleSelect(scene)></span><md-button aria-label="{{_('Edit')}}" ng-href={{scene.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wa/views/settings/options.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Basic Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=profile.title md-maxlength=60 required=required><ng-messages for=profile_form.title.$error ng-if=profile_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Locales')}}</label><md-select flex-order=2 layout=column name=locales ng-model=profile.locale placeholder="{{_('Select Locales')}}" required=required><md-option ng-value=loc.code ng-repeat="loc in locales"> <span class=text>{{ loc.text }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The definition of app locales will influence the automatic translation.')" class="md-caption tip"></p><ng-messages for=profile_form.locales.$error ng-if=profile_form.locales.$touched><ng-message when=required>{{_("Locales is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=profile.description md-maxlength=160 rows=4></textarea><ng-messages for=profile_form.description.$error ng-if=profile_form.description.$touched><ng-message when=md-maxlength>{{_("The text must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Snapshot')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!profile.snapshot md-svg-icon=action:ic_perm_media_24px ng-click=selectSnapshot() class="ico s60"></md-icon><div ng-show=profile.snapshot class="imgholder-inner anim-fade noleave"><img ng-src={{profile.snapshot}} ng-click=selectSnapshot() alt="{{_('Snapshot')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-click=selectSnapshot(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div><p flex-order=3 ng-bind-html="_('* Snapshot will be used on App list, leave it blank if you do not have one.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Custom Domain") }}</h2><form novalidate=novalidate name=domain_form ng-submit=bind()><md-input-container><label>{{_('Domain')}}</label><input type=text name=domain ng-model=domain.domain ng-pattern=/^[a-zA-Z0-9-]{1,61}(?:\.[a-zA-Z0-9]{1,})+[\/a-zA-Z0-9]+$/ md-maxlength=200 required=required><ng-messages for=domain_form.domain.$error ng-if=domain_form.domain.$touched><ng-message when=required>{{_("Domain is required.")}}</ng-message><ng-message when=pattern>{{_("Domain is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Protocol')}}</label><md-select flex-order=2 layout=column name=protocol ng-model=domain.protocol placeholder="{{_('Select a Protocol')}}"><md-option ng-value=protocol.key ng-repeat="protocol in protocols"> <span class=text>{{ protocol.name }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Only HTTP protocol can be bound with for now.')" class="md-caption tip"></p><ng-messages for=domain_form.protocol.$error ng-if=domain_form.protocol.$touched><ng-message when=required>{{_("Protocol is required.")}}</ng-message></ng-messages></md-input-container><div class=text-container><div class="md-subhead text-warn">{{_('Warning:')}} &nbsp;</div><p ng-bind-html="_('* The App will go public after bind domain. Please contact us before binding a domain, because unauthorized binding domain will be useless. This kind of operation must be authorized and confirmed by us first.')" class="md-caption tip"></p></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button><div ng-show=binded class=anim-fade><md-button ng-click=unbind() type=button class="md-raised md-warn">{{_('Remove')}}</md-button></div></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wb/views/articles.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Book') }}</h2><div layout-gt-sm=row layout-align="space-between center" class=funcbar><md-button aria-label="{{_('Add New Chapter')}}" ng-disabled=!gutter_loaded ng-click=addChapter() class=md-raised><md-icon md-svg-icon=maps:ic_layers_24px class=ico></md-icon><span class=text>{{_('Add New Chapter')}}</span></md-button><md-button aria-label="{{_('Bookbinding')}}" ng-disabled=!gutter_loaded ng-click=saveChapter($event) class="md-raised md-accent"><md-icon md-svg-icon=image:ic_style_24px class=ico></md-icon><span class=text>{{_('Bookbinding')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> chapters.', chapters.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="chapter in chapters" class=anim-item><md-list-item ng-class="{'nohover': showChapter(chapter)}" class="md-2-line md-padding vertical-center"><div ng-click=toggleChapter(chapter) class=md-list-item-text><h3 class="md-title text-break"><span>{{ chapter.title }} </span><span class=text-accent>&nbsp;({{ chapter.nodes.length || 0 }})</span></h3></div><div class=func><md-button aria-label="{{_('Toggle Display')}}" ng-click=toggleChapter(chapter) hide-sm=hide-sm class=md-icon-button><md-icon ng-class="{'toggled': showChapter(chapter) }" md-svg-icon=nav:ic_expand_more_24px class=toggle-icon></md-icon></md-button><md-button aria-label="{{_('Add New Chapter')}}" ng-click="add(chapter, true)" class=md-icon-button><md-icon md-svg-icon=content:ic_add_24px class=toggle-icon></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click=editChapter(chapter) class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><div ng-show=showChapter(chapter) class="anim-block text-container"><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in chapter.nodes" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=lite><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{$index+1}}</div><span flex=flex></span><md-icon ng-show="file.archive && !file.locked" md-svg-icon=content:ic_archive_24px class="s14 t75"></md-icon><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 t75"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead text-break line-clamp">{{ file.meta.title || file.slug }}</div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href={{file.url}} target=preview ng-show="isSelected(file) && !file._tmpl_missing" class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><div ng-show=file._tmpl_missing class=md-padding><md-icon md-svg-icon=alert:ic_warning_24px class=md-warn></md-icon></div><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card><div layout=row layout-align="{{chapter?'space-between':'center center'}}" ng-if=isSelected(file)><md-button aria-label="{{_('Move Forward')}}" ng-click="moveForward(chapter, $index, $event)" ng-show=chapter ng-disabled=$first class=md-icon-button><md-icon md-svg-icon=nav:ic_chevron_left_24px></md-icon></md-button><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-button aria-label="{{_('Select')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_swap_vert_circle_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{_('Chapter')}}"><md-drop-option ng-click="switchChapter(chapter, unallocated, file)">{{ _('Unallocated') }}</md-drop-option><md-drop-option ng-repeat="chap in chapters" ng-show="chap != chapter" ng-click="switchChapter(chapter, chap, file)">{{ chap.title }}</md-drop-option></md-drop-optgroup></md-dropmenu><md-button aria-label="{{_('Move Backward')}}" ng-click="moveBackward(chapter, $index, $event)" ng-show=chapter ng-disabled=$last class=md-icon-button><md-icon md-svg-icon=nav:ic_chevron_right_24px></md-icon></md-button></div></div><div flex=flex layout=column flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50><md-card flex=flex ng-click=add(chapter) class=lite><md-card-content layout=colmun layout-align="center center" flex=flex><md-icon md-svg-icon=action:ic_note_add_24px class="md-primary s48"></md-icon></md-card-content></md-card></div></div></div><md-divider class=dotted></md-divider></div><p ng-bind-html="_('* Do not forget to save your edits after modify any chapter. Click the button [Bookbinding] upper right to save and publish.')" class="md-caption tip"></p></md-list><md-divider class=gap></md-divider><md-list><div class=anim-item><md-list-item class="md-2-line md-padding vertical-center nohover"><div class=md-list-item-text><h3 class="md-title text-nowrap"><span>{{ _('Unallocated') }}</span><span class=text-accent>&nbsp;({{ unallocated.nodes.length || 0 }})</span></h3></div></md-list-item><div class=text-container><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in unallocated.nodes" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=lite><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{$index+1}}</div><span flex=flex></span><md-icon ng-show="file.archive && !file.locked" md-svg-icon=content:ic_archive_24px class="s14 t75"></md-icon><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 t75"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead text-break line-clamp">{{ file.meta.title || file.slug }}</div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href={{file.url}} target=preview ng-show="isSelected(file) && !file._tmpl_missing" class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><div ng-show=file._tmpl_missing class=md-padding><md-icon md-svg-icon=alert:ic_warning_24px class=md-warn></md-icon></div><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card><div layout=row layout-align="center center" ng-if=isSelected(file)><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-button aria-label="{{_('Switch')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_swap_vert_circle_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{_('Chapter')}}"><md-drop-option ng-repeat="chap in chapters" ng-click="switchChapter(unallocated, chap, file)">{{ chap.title }}</md-drop-option></md-drop-optgroup></md-dropmenu></div></div></div></div><md-divider class=dotted></md-divider></div><p ng-bind-html="_('* Unallocated book articls will not go public with this book, even the article status is published.')" class="md-caption tip"></p></md-list></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wb/views/bookframes.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 layout=row layout-align="start center" class=md-title><span>{{ _('Book Frames') }}</span></h2><div class=funcbar><md-button aria-label="{{_('Add New Book Frame')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Book Frame')}}</span></md-button></div><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> book frames', files.length)"></span></md-subheader><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in files"><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=lite><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{file.updated | dateformat}}</div><span flex=flex></span><md-icon ng-show="file.archive && !file.locked)" md-svg-icon=content:ic_archive_24px class="s14 t75"></md-icon><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 t75"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead line-clamp">{{ file.meta.title }}</div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href={{file.url}} target=preview ng-show=isSelected(file) class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wb/views/chapter_edit.tmpl.html><md-dialog aria-label="{{_('Chapter')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Chapter') }}</span><span ng-if=!new>{{ _('Edit Chapter') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=chapter_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=chapter.title md-maxlength=20 required=required><ng-messages for=chapter_form.title.$error ng-if=chapter_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Key')}}</label><input type=text name=key ng-model=chapter.key ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=100 ng-disabled=!new required=required><p flex-order=3 ng-bind-html="_('* Slug will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=chapter_form.key.$error ng-if=chapter_form.key.$touched><ng-message when=required>{{_("This is required.")}}</ng-message><ng-message when=pattern> {{_("This can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wb/views/content_create.tmpl.html><md-dialog aria-label="{{_('Create Article')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Create Article') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=file_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=file.meta.title md-maxlength=40 required=required><ng-messages for=file_form.title.$error ng-if=file_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '40')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Create')}}" ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wb/views/dashboard.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Analytics Data') }}</h2><div flex=flex layout-gt-sm=row><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Page Viewing') }}</div><div class=md-display-1>{{ analytic_data.pv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Visits') }}</div><div class=md-display-1>{{ analytic_data.vs | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique Visitors') }}</div><div class=md-display-1>{{ analytic_data.uv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique IPs') }}</div><div class=md-display-1>{{ analytic_data.ip | abbrnum }}</div></md-card-content></md-card></div><md-divider class=gap></md-divider><h2 class=md-title>{{ _('App Information') }}</h2><div flex=flex layout-gt-sm=row layout-wrap=layout-wrap><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('Title') }}</div><p class=text-primary>{{ app.title }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('URL Slug') }}</div><p class="text-break text-primary">{{ app.slug }}</p></div><div flex=90 layout-padding=layout-padding><div class=md-subhead>{{ _('Preview URL') }}</div><p class="text-break text-primary"> <a ng-href={{app.base_url}} target=_blank>{{ app.base_url }}</a></p><p ng-if=!app.domain class="md-caption text-warn">{{ _('* You must bind a domain before go public.') }}</p></div><div flex=90 layout-padding=layout-padding><div><div class=md-subhead>{{ _('Description') }}</div><p>{{ app.description }}</p></div></div></div></div></div></div></script><script type=text/ng-template id=blueprints/wb/views/settings/options.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Basic Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=profile.title md-maxlength=60 required=required><ng-messages for=profile_form.title.$error ng-if=profile_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Locales')}}</label><md-select flex-order=2 layout=column name=locales ng-model=profile.locale placeholder="{{_('Select Locales')}}" required=required><md-option ng-value=loc.code ng-repeat="loc in locales"> <span class=text>{{ loc.text }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The definition of app locales will influence the automatic translation.')" class="md-caption tip"></p><ng-messages for=profile_form.locales.$error ng-if=profile_form.locales.$touched><ng-message when=required>{{_("Locales is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=profile.description md-maxlength=160 rows=4></textarea><ng-messages for=profile_form.description.$error ng-if=profile_form.description.$touched><ng-message when=md-maxlength>{{_("The text must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Snapshot')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!profile.snapshot md-svg-icon=action:ic_perm_media_24px ng-click=selectSnapshot() class="ico s60"></md-icon><div ng-show=profile.snapshot class="imgholder-inner anim-fade noleave"><img ng-src={{profile.snapshot}} ng-click=selectSnapshot() alt="{{_('Snapshot')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-click=selectSnapshot(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div><p flex-order=3 ng-bind-html="_('* Snapshot will be used on App list, leave it blank if you do not have one.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Custom Domain") }}</h2><form novalidate=novalidate name=domain_form ng-submit=bind()><md-input-container><label>{{_('Domain')}}</label><input type=text name=domain ng-model=domain.domain ng-pattern=/^[a-zA-Z0-9-]{1,61}(?:\.[a-zA-Z0-9]{1,})+[\/a-zA-Z0-9]+$/ md-maxlength=200 required=required><ng-messages for=domain_form.domain.$error ng-if=domain_form.domain.$touched><ng-message when=required>{{_("Domain is required.")}}</ng-message><ng-message when=pattern>{{_("Domain is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Protocol')}}</label><md-select flex-order=2 layout=column name=protocol ng-model=domain.protocol placeholder="{{_('Select a Protocol')}}"><md-option ng-value=protocol.key ng-repeat="protocol in protocols"> <span class=text>{{ protocol.name }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Only HTTP protocol can be bound with for now.')" class="md-caption tip"></p><ng-messages for=domain_form.protocol.$error ng-if=domain_form.protocol.$touched><ng-message when=required>{{_("Protocol is required.")}}</ng-message></ng-messages></md-input-container><div class=text-container><div class="md-subhead text-warn">{{_('Warning:')}} &nbsp;</div><p ng-bind-html="_('* The App will go public after bind domain. Please contact us before binding a domain, because unauthorized binding domain will be useless. This kind of operation must be authorized and confirmed by us first.')" class="md-caption tip"></p></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button><div ng-show=binded class=anim-fade><md-button ng-click=unbind() type=button class="md-raised md-warn">{{_('Remove')}}</md-button></div></div></form></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/content_create.tmpl.html><md-dialog aria-label="{{_('Create Content')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Create Content') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=file_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=file.meta.title md-maxlength=40 required=required><ng-messages for=file_form.title.$error ng-if=file_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '40')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Create')}}" ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/content_type_edit.tmpl.html><md-dialog aria-label="{{_('Content Type')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Edit Content Type') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=content_type_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=content_type.title md-maxlength=20 required=required><ng-messages for=content_type_form.title.$error ng-if=content_type_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Slug')}}</label><input type=text name=slug ng-model=content_type.slug ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=100 ng-disabled={{true}} required=required><p flex-order=3 ng-bind-html="_('* Slug will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=content_type_form.slug.$error ng-if=content_type_form.slug.$touched><ng-message when=required>{{_("Slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!content_type.locked ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/contents.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 layout=row layout-align="start center" class=md-title><span>{{ _(content_type.title) }}</span><span>&nbsp;</span><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-icon md-svg-icon=nav:ic_arrow_drop_down_circle_24px></md-icon></md-drop-label><md-drop-optgroup label="{{_('Switch Content Type')}}"><md-drop-option ng-repeat="type in app.content_types" ng-disabled="type.slug == content_type.slug" ng-click="switch_type(type, content_type)">{{ _(type.title) }}</md-drop-option></md-drop-optgroup></md-dropmenu></h2><div class=funcbar><md-button aria-label="{{_('Add New Content')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Content')}}</span></md-button><md-button aria-label="{{_('Manage')}}" ng-click=edit_type(content_type) class="md-raised md-accent"><md-icon md-svg-icon=custom:ic_build_24px class=ico></md-icon><span class=text>{{_('Manage')}}</span></md-button></div><div layout-gt-sm=row ng-show="taxonomies.length > 0" class=input-row><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=tax ng-model=selected_tax placeholder="{{_('Taxonomies')}}"><md-optgroup label="{{_('Taxonomies')}}"><md-option value>{{_('All')}}</md-option><md-option ng-repeat="tax in taxonomies" ng-value=tax.slug>{{_(tax.title)}}</md-option></md-optgroup></md-select></md-input-container></div><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=tax ng-disabled=!current_tax ng-model=selected_term placeholder="{{_('Terms')}}"><md-optgroup label={{_(current_tax.title)}}><md-option value>{{_('All')}}</md-option><md-option ng-repeat="term in current_tax.terms" ng-value=term.slug>{{_(term.title)}}</md-option></md-optgroup><md-optgroup label="{{_('Actions')}}"><md-option ng-click=editTaxonomy(current_tax)><div class=text-primary>{{_('Manage')}}</div></md-option></md-optgroup></md-select></md-input-container></div></div><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> contents, <span class=text-primary>%s</span> displayed in list.', files.length, (contents | paginator:paged).length)"></span></md-subheader><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in contents | paginator:paged" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file), 'draft': file.status == 0}" class=content><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{(file.date||file.updated) | dateformat}}</div><span flex=flex></span><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 t75"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead text-break line-clamp">{{ file.meta.title || file.slug }}</div></md-card-content><div layout=row layout-align="center center" class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href={{file.url}} target=_blank ng-show="isSelected(file) && !file._tmpl_missing" class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><div ng-show=file._tmpl_missing class=md-padding><md-icon md-svg-icon=alert:ic_warning_24px class=md-warn></md-icon></div><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div><div layout-padding=layout-padding><md-input-container><md-select flex-order=2 name=moveto ng-model=moveto placeholder="{{_('Move to Other Content Type')}}" ng-disabled=!has_selected()><md-option ng-value=type.slug ng-repeat="type in app.content_types" ng-if="type.slug != content_type.slug"><span class=text>{{_(type.title)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Select a content first and then select an another content type to copy.')" class="md-caption tip"></p></md-input-container><md-button ng-click=move_to_type(moveto) ng-disabled="!moveto || !has_selected()" class=md-raised><span class=text>{{_('Move')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/ws/views/dashboard.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Analytics Data') }}</h2><div flex=flex layout-gt-sm=row><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Page Viewing') }}</div><div class=md-display-1>{{ analytic_data.pv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Visits') }}</div><div class=md-display-1>{{ analytic_data.vs | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique Visitors') }}</div><div class=md-display-1>{{ analytic_data.uv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique IPs') }}</div><div class=md-display-1>{{ analytic_data.ip | abbrnum }}</div></md-card-content></md-card></div><md-divider class=gap></md-divider><h2 class=md-title>{{ _('App Information') }}</h2><div flex=flex layout-gt-sm=row layout-wrap=layout-wrap><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('Title') }}</div><p class=text-primary>{{ app.title }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('URL Slug') }}</div><p class="text-break text-primary">{{ app.slug }}</p></div><div flex=90 layout-padding=layout-padding><div class=md-subhead>{{ _('Preview URL') }}</div><p class="text-break text-primary"><a ng-href={{app.base_url}} target=_blank>{{ app.base_url }}</a></p><p ng-if=!app.domain class="md-caption text-warn">{{ _('* You must bind a domain before go public.') }}</p></div><div flex=90 layout-padding=layout-padding><div><div class=md-subhead>{{ _('Description') }}</div><p>{{ app.description }}</p></div></div></div></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/menu.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _(menu.title) }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Menu Item')}}" ng-disabled=check_addable() ng-click=add() class=md-raised><md-icon md-svg-icon=av:ic_playlist_add_24px class=ico></md-icon><span class=text>{{_('Add New Menu Item')}}</span></md-button><md-button aria-label="{{_('Manage')}}" ng-click=edit_menu(menu) class="md-raised md-accent"><md-icon md-svg-icon=custom:ic_build_24px class=ico></md-icon><span class=text>{{_('Manage')}}</span></md-button></div><div layout-padding=layout-padding><p ng-show="menu_nodes.length > 0" class="md-caption tip"><md-icon md-svg-icon=action:ic_open_with_24px class=ico></md-icon><span ng-bind-html="_('Try dragging to move menus.')"></span></p><ng-include src="'blueprints/ws/views/menu_nodes.tmpl.html'"></ng-include><p ng-bind-html="_('* Do not forget to save your edits after modify the menu.')" class="md-caption tip"></p></div><div layout=row><md-button ng-click=save() class="md-raised md-primary"><span class=text>{{_('Save')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button><span class=text>{{_('Hardcode Mode')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/menu_edit.tmpl.html><md-dialog aria-label="{{_('Menu')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Edit Menu') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=menu_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=menu.title md-maxlength=20 required=required><ng-messages for=menu_form.title.$error ng-if=menu_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Slug')}}</label><input type=text name=slug ng-model=menu.slug ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=100 ng-disabled={{true}} required=required><p flex-order=3 ng-bind-html="_('* Slug will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=menu_form.slug.$error ng-if=menu_form.slug.$touched><ng-message when=required>{{_("Slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!menu.locked ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/menu_hardcode.tmpl.html><md-dialog aria-label="{{_('Menu Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Menu Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea name=hardcode ng-model=nodes_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message><ng-message when=duplicated>{{_("Menu item key is duplicated.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/menu_item_edit.tmpl.html><md-dialog aria-label="{{_('Menu Edit')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Menu Edit') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=node_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=node.title md-maxlength=50 required=required><ng-messages for=node_form.title.$error ng-if=node_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '50')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Key')}}</label><input type=text name=key ng-model=node.key ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=50 required=required><ng-messages for=node_form.key.$error ng-if=node_form.key.$touched><ng-message when=required>{{_("This is required.")}}</ng-message><ng-message when=pattern> {{_("It can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Link')}}</label><input type=text name=link ng-model=node.link maxlength=500></md-input-container><md-input-container><md-switch ng-model=blank ng-disabled=!allow_target aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></md-input-container><md-input-container><label class=static-label>{{_('Content Type Relation')}}</label><md-select aria-label="{{_('Content Type Relation')}}" flex-order=2 layout=column placeholder="{{_('Not Related')}}" ng-model=node.related_type><md-option value>{{_('Not Related')}}</md-option><md-option ng-value=type.slug ng-repeat="type in content_types">{{_(type.title)}}</md-option></md-select></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=node.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=node_form.class.$error ng-if=node_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Ok')}}" class="md-raised md-primary"><span class=text>{{ _('Ok') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/menu_nodes.tmpl.html><div dnd-list=menu_nodes dnd-dragover=dragoverCallback(menu_nodes) dnd-drop="dropCallback(item, menu_nodes)" class=dragdrop><div ng-repeat="node in menu_nodes" dnd-draggable=node dnd-effect-allowed=move dnd-dragstart=dragStart(node) dnd-selected=toggleSelect(node) dnd-moved="menu_nodes.splice($index, 1)" ng-init="node.nodes = node.nodes ? node.nodes:[]" class=container><md-card ng-class="{'md-whiteframe-z4':isSelected(node),'selected':isSelected(node)}" class="container-inner md-whiteframe-z2"><md-card-content><div layout=row><h3 ng-class="{'text-warn': node._duplicated}" flex=flex class=md-title>{{node.title}}</h3><md-button aria-label="{{_('Add Submenu')}}" ng-click="add(node.nodes, $event)" ng-disabled=check_addable(node.nodes) class=md-icon-button><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click="edit(node, menu_nodes, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list><div dnd-list=node.nodes dnd-dragover=dragoverCallback(node.nodes) dnd-drop="dropCallback(item, node.nodes)" class=children><div ng-repeat="child in node.nodes" dnd-draggable=child dnd-effect-allowed=move dnd-dragstart="dragStart(child, node.nodes)" dnd-moved="node.nodes.splice($index, 1)"><md-divider class=dotted></md-divider><md-list-item class="md-2-line vertical-center"><div class=md-list-item-text><h4 ng-class="{'text-warn': child._duplicated}" class="md-subhead text-break">{{child.title}}</h4></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click="edit(child, node.nodes, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div></md-list-item></div></div></md-list></md-card-content></md-card></div></div></script><script type=text/ng-template id=blueprints/ws/views/taxonomy.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _(taxonomy.title) }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Term')}}" ng-disabled=!check_addable() ng-click=add(taxonomy.terms) class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Term')}}</span></md-button><md-button aria-label="{{_('Manage')}}" ng-click=edit_taxonomy(taxonomy) class="md-raised md-accent"><md-icon md-svg-icon=custom:ic_build_24px class=ico></md-icon><span class=text>{{_('Manage')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> terms.', terms.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="term in taxonomy.terms" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(term),'selected':isSelected(term)}" class="md-2-line md-padding vertical-center"><div ng-click=toggleSelect(term) class=md-list-item-text><h3 class="md-title text-nowrap">{{ term.title }}</h3><p class=text-nowrap>{{_('Key:')}}&nbsp;{{ term.key }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click="edit(term, taxonomy.terms)" class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/taxonomy_edit.tmpl.html><md-dialog aria-label="{{_('Taxonomy')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Edit Taxonomy') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=taxonomy_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=taxonomy.title md-maxlength=20 required=required><ng-messages for=taxonomy_form.title.$error ng-if=taxonomy_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Slug')}}</label><input type=text name=slug ng-model=taxonomy.slug ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=100 ng-disabled={{true}} required=required><p flex-order=3 ng-bind-html="_('* Slug will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=taxonomy_form.slug.$error ng-if=taxonomy_form.slug.$touched><ng-message when=required>{{_("Slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Supported Content types')}}</label><div flex-order=3 layout=row layout-wrap=layout-wrap ng-repeat="type in related_types" class=md-padding>{{_(type.title)}}</div></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/term_edit.tmpl.html><md-dialog aria-label="{{_('Term')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Term') }}</span><span ng-if=!new>{{ _('Edit Term') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=term_form ng-submit=submit(term)><md-dialog-content><md-input-container><label>{{_('Slug')}}</label><input type=text name=key ng-model=term.key ng-pattern=/^[a-zA-Z0-9-]+$/ maxlength=100 required=required ng-disabled=!new><p flex-order=3 ng-bind-html="_('* Term key must be unique.')" class="md-caption tip"></p><ng-messages for=term_form.slug.$error ng-if=term_form.slug.$touched><ng-message when=required>{{_("Slug is required.")}}</ng-message><ng-message when=pattern> {{_("Slug can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=term.title md-maxlength=20 required=required><ng-messages for=term_form.title.$error ng-if=term_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=term.meta.description md-maxlength=160></textarea><ng-messages for=term_form.description.$error ng-if=term_form.description.$touched><ng-message when=maxlength>{{_('The description must be less than %s characters.', '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Pic URL')}}</label><input type=url name=pic ng-model=term.meta.pic maxlength=500><p flex-order=3 ng-bind-html="_('* Copy a pic url into this feild.')" class="md-caption tip"></p><ng-messages for=term_form.pic.$error ng-if=term_form.pic.$touched><ng-message when=url>{{_('Pic URL is invalid.')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=term.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=term_form.class.$error ng-if=term_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/settings/options.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Basic Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=profile.title md-maxlength=60 required=required><ng-messages for=profile_form.title.$error ng-if=profile_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Locales')}}</label><md-select flex-order=2 layout=column name=locales ng-model=profile.locale placeholder="{{_('Select Locales')}}" required=required><md-option ng-value=loc.code ng-repeat="loc in locales"> <span class=text>{{ loc.text }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The definition of app locales will influence the automatic translation.')" class="md-caption tip"></p><ng-messages for=profile_form.locales.$error ng-if=profile_form.locales.$touched><ng-message when=required>{{_("Locales is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=profile.description md-maxlength=160 rows=4></textarea><ng-messages for=profile_form.description.$error ng-if=profile_form.description.$touched><ng-message when=md-maxlength>{{_("The text must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Snapshot')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!profile.snapshot md-svg-icon=action:ic_perm_media_24px ng-click=selectSnapshot() class="ico s60"></md-icon><div ng-show=profile.snapshot class="imgholder-inner anim-fade noleave"><img ng-src={{profile.snapshot}} ng-click=selectSnapshot() alt="{{_('Snapshot')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-click=selectSnapshot(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div><p flex-order=3 ng-bind-html="_('* Snapshot will be used on App list, leave it blank if you do not have one.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Custom Domain") }}</h2><form novalidate=novalidate name=domain_form ng-submit=bind()><md-input-container><label>{{_('Domain')}}</label><input type=text name=domain ng-model=domain.domain ng-pattern=/^[a-zA-Z0-9-]{1,61}(?:\.[a-zA-Z0-9]{1,})+[\/a-zA-Z0-9]+$/ md-maxlength=200 required=required><ng-messages for=domain_form.domain.$error ng-if=domain_form.domain.$touched><ng-message when=required>{{_("Domain is required.")}}</ng-message><ng-message when=pattern>{{_("Domain is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Protocol')}}</label><md-select flex-order=2 layout=column name=protocol ng-model=domain.protocol placeholder="{{_('Select a Protocol')}}"><md-option ng-value=protocol.key ng-repeat="protocol in protocols"> <span class=text>{{ protocol.name }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Only HTTP protocol can be bound with for now.')" class="md-caption tip"></p><ng-messages for=domain_form.protocol.$error ng-if=domain_form.protocol.$touched><ng-message when=required>{{_("Protocol is required.")}}</ng-message></ng-messages></md-input-container><div class=text-container><div class="md-subhead text-warn">{{_('Warning:')}} &nbsp;</div><p ng-bind-html="_('* The App will go public after bind domain. Please contact us before binding a domain, because unauthorized binding domain will be useless. This kind of operation must be authorized and confirmed by us first.')" class="md-caption tip"></p></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button><div ng-show=binded class=anim-fade><md-button ng-click=unbind() type=button class="md-raised md-warn">{{_('Remove')}}</md-button></div></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/article_create.tmpl.html><md-dialog aria-label="{{_('Create Article')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Create Article') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=article_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=article.meta.title md-maxlength=40 required=required><ng-messages for=article_form.title.$error ng-if=article_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '40')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Create')}}" ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/articles.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Articles') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Article')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Article')}}</span></md-button><md-button aria-label="{{_('Sync')}}" ng-click=callSync() class=md-raised><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync')}}</span></md-button></div><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> articles.', files.length)"></span></md-subheader><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in files | paginator:paged" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=content><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{(file.date||file.updated) | dateformat}}</div><span flex=flex></span><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 t75"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead text-break line-clamp">{{ file.meta.title || file.slug }}</div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href={{file.url}} target=preview ng-show="isSelected(file) && !file._tmpl_missing" class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><div ng-show=file._tmpl_missing class=md-padding><md-icon md-svg-icon=alert:ic_warning_24px class=md-warn></md-icon></div><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_edit.html><div flex=flex ng-if="advance_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require certified WeChat account.') }}</p></div></div><div flex=flex layout-margin=layout-margin ng-show=advance_mode class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Options') }}</h2><div class=funcbar><md-button ng-click=back() class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to Broadcasts')}}</span></md-button></div><form novalidate=novalidate name=broadcast_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=broadcast.title md-maxlength=20 required=required><ng-messages for=broadcast_form.title.$error ng-if=broadcast_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.","20")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Author')}}</label><input type=text name=author ng-model=broadcast.author md-maxlength=10><ng-messages for=broadcast_form.author.$error ng-if=broadcast_form.author.$touched><ng-message when=md-maxlength>{{_("The author name must be less than %s characters.", "10")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=broadcast.msg_type placeholder="{{_('Select a Message Type')}}" required=required><md-option ng-value=type.key ng-repeat="type in msgtypes"><span class=text>{{_(type.name)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* You can broadcast Graphic news and Pure text.')" class="md-caption tip"></p><ng-messages for=broadcast_form.type.$error ng-if=broadcast_form.type.$touched><ng-message when=required>{{_("Message type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="broadcast.msg_type == 'news'"><md-switch ng-model=broadcast.show_cover aria-label="{{_('Cover')}}" ng-true-value=1 ng-false-value=0>{{ _('Show Cover Image') }}</md-switch></md-input-container><div layout=row><md-button type=submit ng-disabled="!isComplete() || sending" class="md-raised md-primary">{{_('Save')}}</md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-show=!is_new ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form><md-divider class=gap></md-divider><form novalidate=novalidate name=send_form><md-input-container><label>{{_('Type %s to confirm', 'SEND')}}</label><input type=text name=code ng-model=code ng-pattern=/^SEND$/ maxlength=10 ng-disabeld=!broadcast.mess_send required=required><p flex-order=3 ng-bind-html="_('* Broadcast will send this message to all your WeChat subscribers. You must make sure this message is completed. You also must follow the WeChat broadcast rules. After you use bulk send once, you have to wait for sometime to cooling down...')" class="md-caption tip"></p><div flex-order=4 ng-if=erraffix class="md-padding text-warn"><h4 class=md-subhead>{{_('Errors:')}}</h4><div class="md-caption text-break">{{erraffix}}</div></div><ng-messages for=send_form.code.$error ng-if=send_form.code.$touched><ng-message when=required>{{_("You must type %s exactly.", "SEND")}}</ng-message><ng-message when=pattern>{{_("You must type %s exactly.", "SEND")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=button ng-disabled="!isComplete() || sending || !broadcast.mess_send" ng-click=send() aria-label="{{_('Bulk Send')}}" class="md-raised md-accent"><span ng-if=broadcast.mess_send class=text>{{_('Bulk Send')}}</span><span ng-if=!broadcast.mess_send class=text>{{_('Cooling Down ...')}}</span></md-button><md-button type=button ng-show=!previewAble() ng-click=setWeChatAdmin() class="md-raised md-raised"><span class=text>{{_('Set WeChat Admin for Preview')}}</span></md-button><md-dropmenu disabled-auto-focus=disabled-auto-focus ng-show=previewAble() ng-disabled="!isComplete() || sending"><md-drop-label><md-button type=button ng-disabled="!isComplete() || sending" class=md-raised><span class=text>{{_('Send Preview')}}</span><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon></md-button></md-drop-label><md-drop-option ng-repeat="admin in wx_admins" ng-click=send(admin.wechat_id)>{{ admin.name }}</md-drop-option></md-dropmenu></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><div flex=flex ng-show=sending layout=column layout-align="center center"><div class=md-headline>{{ _('Sending...') }}</div><div class=md-padding><md-progress-circular md-mode=indeterminate></md-progress-circular></div><div ng-if="attachments.length > 0" class=md-padding><img ng-src={{attachments[0]}}?{{now}} alt=... class="md-avatar s60"></div></div><div ng-show=!sending><h2 class=md-title>{{ _("Message Content") }}</h2><ng-include src="'blueprints/wx/views/broadcast_edit_text.tmpl.html'" ng-if="broadcast.msg_type == 'text'"></ng-include><ng-include src="'blueprints/wx/views/broadcast_edit_news.tmpl.html'" ng-if="broadcast.msg_type == 'news'"></ng-include><ng-include src="'blueprints/wx/views/broadcast_edit_image.tmpl.html'" ng-if="broadcast.msg_type == 'image'"></ng-include></div></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_edit_image.tmpl.html><md-subheader class=md-no-sticky>{{ _('Image Message') }}</md-subheader><md-card class="anim-fade noleave"><div layout=row layout-align="center center" ng-click=callMedia(broadcast) class="imgholder cover img-full"><div ng-show=!broadcast.media_url class=imgholder-cover-icobox><md-icon md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon></div><div ng-show=broadcast.media_url class="imgholder-inner anim-fade noleave"><img ng-src="{{ broadcast.media_url+'?'+now || image.banner}}" alt=preview class=preview></div></div><md-card-content><p ng-bind-html="_('* Image message will only send one picture to your subscribers.')" class="md-caption tip"></p></md-card-content></md-card></script><script type=text/ng-template id=blueprints/wx/views/broadcast_edit_news.tmpl.html><md-subheader class=md-no-sticky>{{ _('Graphic News Message') }}</md-subheader><md-card class="anim-fade noleave"><div layout=row layout-align="center center" ng-click=callMedia(broadcast) class="imgholder cover img-full"><div ng-show=!broadcast.media_url class=imgholder-cover-icobox><md-icon md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon></div><div ng-show=broadcast.media_url class="imgholder-inner anim-fade noleave"><img ng-src={{image.banner}} alt=preview ng-style="{'background-image':'url('+broadcast.media_url+'?'+now+')'}" class=preview></div></div><md-card-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=broadcast.title md-maxlength=36></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=broadcast.digest md-maxlength=160 rows=3></textarea></md-input-container><md-input-container><label>{{_('Original URL')}}</label><input type=text name=url ng-model=broadcast.url maxlength=500></md-input-container></md-card-content><div layout=row layout-align="space-between center" class=md-actions><md-button ng-click=callSync(broadcast) class=md-primary><md-icon md-svg-icon=editor:ic_insert_drive_file_24px class=ico></md-icon><span class=text>{{_('Insert Content')}}</span></md-button><md-button ng-disabled=!broadcast.article_id ng-click=edit_content(broadcast) aria-label="{{_('Edit Content')}}" class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></script><script type=text/ng-template id=blueprints/wx/views/broadcast_edit_text.tmpl.html><md-subheader class=md-no-sticky>{{ _('Pure Text Message') }}</md-subheader><md-card class="anim-fade noleave"><md-card-content><md-input-container><label>{{_('Message')}}</label><textarea name=text ng-model=broadcast.text md-maxlength=360 rows=12></textarea></md-input-container></md-card-content></md-card></script><script type=text/ng-template id=blueprints/wx/views/broadcast_materials.html><div flex=flex ng-if="advance_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require certified WeChat account.') }}</p></div></div><div flex=flex layout-margin=layout-margin ng-show=advance_mode class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Broadcast Materials') }}</h2><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> broadcast materials. Limited to a maximum %s.', mediafiles.length, 2400)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="media in mediafiles | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(media),'selected':isSelected(media)}" media-id={{media.media_id}} class="md-2-line md-padding vertical-center"><img ng-if="media.type == 'image' || !media.type" ng-src={{media.src|thumbfresh}} alt={{media.filename}} class="md-avatar s48"><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class="md-avatar s48"></md-icon><div ng-click=toggleSelect(media) class=md-list-item-text><h3 class="md-title text-nowrap">{{media.filename}}</h3><p class=md-caption><span class=text-primary>{{media.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Copy URL')}}" ng-click=copyURL(media.src) class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><p ng-bind-html="_('* You can also visit the official site to manage materials.')" class="md-caption tip"></p></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/broadcasts.html><div flex=flex ng-if="advance_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require certified WeChat account.') }}</p></div></div><div flex=flex layout-margin=layout-margin ng-show=advance_mode class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Broadcast Bulk Messages') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Bulk Message')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Bulk Message')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> broadcasts.', broadcasts.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="cast in broadcasts | paginator:paged" ng-init=prepare(cast) class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(cast),'selected':isSelected(cast),'draft': cast.status == 0}" msg-ids={{cast.msg_ids}} class="md-3-line md-padding vertical-center"><md-icon md-svg-icon={{cast.msg_type_ico}}></md-icon><div ng-click=toggleSelect(cast) class=md-list-item-text><h3 class="md-title text-break">{{ cast.title }}</h3><p class=md-caption> <span class=text-primary>{{cast.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(cast) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/custom_menu.html><div flex=flex ng-if="advance_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require certified WeChat account.') }}</p></div></div><div flex=flex layout-margin=layout-margin ng-show=advance_mode class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Custom Menu') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Menu Item')}}" ng-disabled=check_addable() ng-click=add() class=md-raised><md-icon md-svg-icon=av:ic_playlist_add_24px class=ico></md-icon><span class=text>{{_('Add New Menu Item')}}</span></md-button></div><div layout-padding=layout-padding><h2 class="md-display-1 tip">{{menu_nodes.length}}/{{top_limit}}</h2><p ng-show="menu_nodes.length > 0" class="md-caption tip"><md-icon md-svg-icon=action:ic_open_with_24px class=ico></md-icon><span ng-bind-html="_('Try dragging to move menus.')"></span></p><ng-include src="'blueprints/wx/views/custom_menu_nodes.tmpl.html'"></ng-include><p ng-bind-html="_('* Do not forget to save your edits after modify the menu.')" class="md-caption tip"></p></div><div layout=row><md-button ng-click=save() class="md-raised md-primary"><span class=text>{{_('Save')}}</span></md-button><md-button ng-click=destroy() class="md-raised md-warn"><span class=text>{{_('Destroy')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button> <span class=text>{{_('Hardcode Mode')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/custom_menu_edit.tmpl.html><md-dialog aria-label="{{_('Custom Menu Edit')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Custom Menu Edit') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=node_form ng-submit=save()><md-dialog-content><md-input-container><label>{{_('Name')}}</label><input type=text name=name ng-model=node.name maxlength=60 required=required><ng-messages for=node_form.name.$error ng-if=node_form.name.$touched><ng-message when=required>{{_("This is required.")}}</ng-message><ng-message when=byte-limit>{{_("WeChat button name is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Type')}}</label><md-select layout=column name=type ng-model=node.type placeholder="{{_('Select a Type')}}" required=required flex-order=2><md-option ng-value=type.key ng-repeat="type in nodetypes"><span class=text>{{_(type.name)}}</span></md-option></md-select><ng-messages for=node_form.type.$error ng-if=node_form.type.$dirty><ng-message when=required>{{_("Type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="node.type =='view'"><label>{{_('URL')}}</label><input type=url name=url ng-model=node.url ng-required="node.type =='view'"><ng-messages for=node_form.url.$error ng-if=node_form.url.$touched><ng-message when=required>{{_("URL is required.")}}</ng-message><ng-message when=url>{{_("URL is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="node.type =='click'"><label>{{_('Key Value')}}</label><input type=text name=key ng-model=node.key md-maxlength=100 ng-required="node.type =='click'"><ng-messages for=node_form.key.$error ng-if=node_form.key.$touched><ng-message when=required>{{_("Key is required.")}}</ng-message><ng-message when=pattern>{{_("Key must be letters and numbers.")}}</ng-message><ng-message when=md-maxlength>{{_("Key must be less than %s characters.", '100')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Ok')}}" class="md-raised md-primary"><span class=text>{{ _('Ok') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/custom_menu_hardcode.tmpl.html><md-dialog aria-label="{{_('Custom Menu Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Custom Menu Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea name=hardcode ng-model=nodes_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/custom_menu_nodes.tmpl.html><div class=dragdrop><div ng-repeat="node in menu_nodes" ng-init="node.sub_button = node.sub_button ? node.sub_button:[]" class=container><md-card ng-class="{'md-whiteframe-z4':isSelected(node),'selected':isSelected(node)}" class="container-inner md-whiteframe-z2"><md-card-content><div layout=row><h3 flex=flex class=md-title>{{node.name}}</h3><md-button aria-label="{{_('Add Submenu')}}" ng-click="add(node.sub_button, $event)" ng-disabled=check_addable(node.sub_button) class=md-icon-button><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click="edit(node, menu_nodes, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list><md-subheader class=md-no-sticky> {{_('Sub button:')}}&nbsp; {{node.sub_button.length}}/{{child_limit}} </md-subheader><div dnd-list=node.sub_button dnd-dragover=dragoverCallback(node.sub_button) dnd-drop="dropCallback(item, node.sub_button)" class=children><div ng-repeat="child in node.sub_button" dnd-draggable=child dnd-effect-allowed=move dnd-dragstart=dragStart(child) dnd-moved="node.sub_button.splice($index, 1)"><md-divider class=dotted></md-divider><md-list-item class="md-2-line vertical-center"><div class=md-list-item-text><h4 class="md-subhead text-break">{{child.name}}</h4></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click="edit(child, node.sub_button, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div></md-list-item></div></div></md-list></md-card-content></md-card></div></div></script><script type=text/ng-template id=blueprints/wx/views/dashboard.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Analytics Data') }}</h2><div flex=flex layout-gt-sm=row><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Page Viewing') }}</div><div class=md-display-1>{{ analytic_data.pv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Visits') }}</div><div class=md-display-1>{{ analytic_data.vs | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique Visitors') }}</div><div class=md-display-1>{{ analytic_data.uv | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Unique IPs') }}</div><div class=md-display-1>{{ analytic_data.ip | abbrnum }}</div></md-card-content></md-card></div><div flex=flex layout-gt-sm=row ng-if=advance_mode ng-class="{'text-warn': followers_data.errors }"><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Total Followers') }}</div><div class=md-display-1>{{ followers_data.total_followers | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('New Followers in 7 Days') }}</div><div class=md-display-1>{{ followers_data.new_followers | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Cancelled in 7 Days') }}</div><div class=md-display-1>{{ followers_data.cancelled | abbrnum }}</div></md-card-content></md-card><md-card flex=flex class=analysis><md-card-content class=text-center><div class="md-caption subject">{{ _('Growth in 7 Days') }}</div><div class=md-display-1>{{ followers_data.growth }}</div></md-card-content></md-card></div><div ng-if=advance_mode class="md-margin md-padding"><p ng-bind-html="_('* WeChat followers statistics updated once a day.')" class="md-caption tip"></p></div><md-divider class=gap></md-divider><h2 class=md-title>{{ _('App Information') }}</h2><div flex=flex layout-gt-sm=row layout-wrap=layout-wrap><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('Title') }}</div><p class=text-primary>{{ app.title }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('URL Slug') }}</div><p class="text-break text-primary">{{ app.slug }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('WeChat Interface URI') }}</div><p class="text-break text-primary">{{ config.interface_url }}</p><p ng-if=!app.domain class="md-caption text-warn">{{ _('* You must bind a domain before go public.') }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('WeChat Token') }}</div><p class="text-break text-primary">{{ config.wx_token }}</p></div><div flex=90 layout-padding=layout-padding><div><div class=md-subhead>{{ _('Description') }}</div><p>{{ app.description }}</p></div></div></div></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/records.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Records') }}</h2><div class=funcbar><md-button aria-label="{{_('Empty Records')}}" ng-click=empty() class=md-raised><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Empty Records')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> records.', records.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="record in records | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(record),'selected':isSelected(record)}" class="md-3-line md-padding vertical-center"><div ng-click=toggleSelect(record) class=md-list-item-text><h3 ng-if=!record.admin class="md-title text-nowrap"> {{_('Member:')}} {{record.member.login || '-'}} </h3><h3 ng-if=record.admin class="md-title text-nowrap"> {{_('Admin:')}} {{record.admin}} </h3><p class=text-nowrap>{{_('OpenID:')}} {{record.open_id}}</p><p class=text-nowrap> {{_('Triggered by:')}} &nbsp; {{ getType(record.triggered_by.type) }} - {{record.triggered_by.key}} </p><p class=md-caption><span class=text-primary>{{record.updated | dateformat}}</span></p></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div class=md-padding><p flex-order=3 ng-bind-html="_('* Show only the latest %s records.', record_limit)" class="md-caption tip"></p></div><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/response_edit.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Options') }}</h2><div class=funcbar><md-button ng-click=back() class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to Responses')}}</span></md-button></div><form novalidate=novalidate name=response_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=response.title md-maxlength=30 required=required><ng-messages for=response_form.title.$error ng-if=response_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.","30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=response.msg_type placeholder="{{_('Select a Message Type')}}" required=required><md-option ng-value=type.key ng-repeat="type in msgtypes"><span class=text>{{_(type.name)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Content source should be bound when respond latest articles, search articles and random articles.')" class="md-caption tip"></p><ng-messages for=response_form.type.$error ng-if=response_form.type.$touched><ng-message when=required>{{_("Message type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Trigger by')}}</label><md-select flex-order=2 layout=column name=trigger ng-model=response.trigger.type placeholder="{{_('Select a Trigger')}}" required=required><md-option ng-value=trigger.key ng-repeat="trigger in triggers"><span class=text>{{_(trigger.name)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Define how to trigger your repsonse.')" class="md-caption tip"></p><ng-messages for=response_form.trigger.$error ng-if=response_form.trigger.$touched><ng-message when=required>{{_("Message type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show=showKeywords() class=anim-item><label>{{_('Keywords')}}</label><textarea name=keywords ng-model=keywords maxlength=320 rows=3 ng-required=showKeywords()></textarea><ng-messages for=response_form.keywords.$error ng-if=response_form.keywords.$touched><ng-message when=required>{{_("At least one keyword.")}}</ng-message></ng-messages></md-input-container><md-input-container><md-switch ng-model=response.status aria-label="{{_('Publish')}}" ng-true-value=1 ng-false-value=0><span ng-if="response.status == 1">{{ _('Published') }}</span><span ng-if="response.status == 0">{{ _('Draft') }}</span></md-switch></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-show=!is_new ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Message Contents") }}</h2><ng-include src="'blueprints/wx/views/response_edit_text.tmpl.html'" ng-if="response.msg_type == 'text'"></ng-include><ng-include src="'blueprints/wx/views/response_edit_news.tmpl.html'" ng-if="response.msg_type == 'news'"></ng-include><ng-include src="'blueprints/wx/views/response_edit_related.tmpl.html'" ng-if="['newest','search','random'].indexOf(response.msg_type) > -1"></ng-include></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/response_edit_news.tmpl.html><md-subheader class=md-no-sticky>{{ _('Graphic News Message') }}</md-subheader><div dnd-list=response.messages class="dragdrop lg"><div ng-repeat="msg in response.messages" dnd-draggable=msg dnd-effect-allowed=move dnd-selected=toggleSelect(msg) dnd-moved="response.messages.splice($index, 1)" class="anim-fade noleave"><md-card ng-class="{'md-whiteframe-z4':isSelected(msg),'selected':isSelected(msg)}"><div layout=row layout-align="center center" ng-show="$index == 0" ng-click="callMedia(msg, $event)" class="imgholder cover img-full"><div ng-show=!msg.pic_url class=imgholder-cover-icobox><md-icon md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon></div><div ng-show=msg.pic_url class="imgholder-inner anim-fade noleave"><img ng-src={{image.banner}} alt=preview ng-style="{'background-image':'url('+msg.pic_url+'?'+now+')'}" class=preview></div></div><md-card-content ng-show="$index == 0"><h3 class=md-subhead>{{msg.title}}</h3><p class=md-body-1>{{msg.content}}</p></md-card-content><md-card-content ng-show="$index > 0" layout=row layout-align="start center"><h3 flex=flex class=md-subhead>{{msg.title}}</h3><div flex=20 layout=row layout-align="center center" ng-click="callMedia(msg, $event)" class="imgholder img-full"><md-icon ng-show=!msg.pic_url md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon><div ng-show=msg.pic_url class="imgholder-inner anim-fade noleave"><img ng-src={{image.trans}} alt=preview ng-style="{'background-image':'url('+msg.pic_url+'?'+now+')'}" class=preview></div></div></md-card-content><div layout=row class=md-actions><md-button md-no-ink=true ng-click="moveup($index, $event)" aria-label="{{_('Move Up')}}" ng-disabled=$first class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_less_24px></md-icon></md-button><md-button md-no-ink=true ng-click="movedown($index, $event)" aria-label="{{_('Move Down')}}" ng-disabled=$last class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_more_24px></md-icon></md-button><span flex=flex></span><md-button ng-click="callSync(msg, $event)" class=md-accent><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync')}}</span></md-button><md-button aria-label="{{_('Edit')}}" ng-click="editNewsItem(msg, $index, $event)" class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div><md-input-container><md-button aria-label="{{_('Add New Message Item')}}" ng-click=addNewsItem() ng-disabled=!newsItemAddAble() class=md-raised><md-icon md-svg-icon=content:ic_add_box_24px class=ico></md-icon><span class=text>{{_('Add New Message Item')}}</span></md-button></md-input-container></script><script type=text/ng-template id=blueprints/wx/views/response_edit_related.tmpl.html><md-subheader class=md-no-sticky>{{ _('Source Article') }}</md-subheader><md-card class="anim-fade noleave"><md-card-content><form novalidate=novalidate name=related_form ng-submit=save()><md-input-container><label class=static-label>{{_('Source App')}}</label><md-select flex-order=2 layout=column name=app ng-model=response.related.app_id placeholder="{{_('Select an App')}}"><md-option ng-value=app.id ng-repeat="app in selectable_apps"> <span class=text>{{ app.title }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The response will be bound to the contents of the app source.')" class="md-caption tip"></p><ng-messages for=related_form.app.$error ng-if=related_form.app.$touched><ng-message when=required>{{_("You must select one app.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Source Content Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=response.related.content_type placeholder="{{_('Select a Content Type')}}" md-on-open=loadContentTypes()><md-option value> <span class=text>{{_('All')}}</span></md-option><md-option ng-value=type.slug ng-repeat="type in curr_app_content_types"> <span class=text>{{_(type.title)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The response can also be bound to a certain content type if needed.')" class="md-caption tip"></p></md-input-container><md-input-container><label class=static-label>{{_('Number of replies')}}</label><md-select flex-order=2 layout=column name=limit ng-model=response.related.limit placeholder="{{_('Limit')}}"><md-option ng-value=number ng-repeat="number in related_limit"> <span class=text>{{ number }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Response can reply 1-10 messages each time.')" class="md-caption tip"></p></md-input-container></form></md-card-content></md-card></script><script type=text/ng-template id=blueprints/wx/views/response_edit_text.tmpl.html><md-subheader class=md-no-sticky>{{ _('Pure Text Message') }}</md-subheader><md-card class="anim-fade noleave"><md-card-content><md-input-container><label>{{_('Message')}}</label><textarea name=text ng-model=response.text md-maxlength=160 rows=12></textarea></md-input-container></md-card-content><div layout=row layout-align="center center" class=md-actions><md-button ng-click="callSync(response, $event)" class=md-accent><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync Content')}}</span></md-button></div></md-card></script><script type=text/ng-template id=blueprints/wx/views/response_news_msg_edit.tmpl.html><md-dialog aria-label="{{_('Graphic News Message')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Edit Message') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=msg_form ng-submit=save()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=msg.title md-maxlength=36 required=required><ng-messages for=msg_form.title.$error ng-if=msg_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '36')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Content')}}</label><textarea name=content ng-model=msg.content md-maxlength=160></textarea><ng-messages for=msg_form.content.$error ng-if=msg_form.content.$touched><ng-message when=md-maxlength>{{_("Content must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('URL')}}</label><input type=url name=url ng-model=msg.url maxlength=500 required=required><ng-messages for=msg_form.url.$error ng-if=msg_form.url.$touched><ng-message when=required>{{_("URL is required.")}}</ng-message><ng-message when=url>{{_("URL is invalid.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/responses.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Responses') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Response')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Response')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> responses.', responses.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="resp in responses | paginator:paged" ng-init=prepare(resp) class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(resp),'selected':isSelected(resp),'draft': resp.status == 0}" class="md-3-line md-padding vertical-center"><md-icon hide-sm=hide-sm md-svg-icon={{resp.msg_type_ico}}></md-icon><div ng-click=toggleSelect(resp) class=md-list-item-text><h3 class="md-title text-nowrap">{{ resp.title }}</h3><p class=text-break>{{_('Trigger by:')}} {{ getTrigger(resp) }}</p><p class=md-caption> <span class=text-primary>{{resp.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(resp) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/wifi.html><div flex=flex ng-if="advance_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require certified WeChat account.') }}</p></div></div><div flex=flex ng-if="advance_mode && wifi_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require support of Wifi manage.') }}</p></div></div><div flex=flex layout-margin=layout-margin ng-show="advance_mode && wifi_mode" class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Wifi Connections') }}</h2><div class=funcbar><md-button aria-label="{{_('Sync WeChat Wifi')}}" ng-click=sync() class=md-raised><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync WeChat Wifi')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> WeChat wifi.', wx_wifis.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="wifi in wx_wifis" class=anim-item><md-list-item class="md-2-line md-padding vertical-center"><div class=md-list-item-text><h3 class="md-title text-nowrap">{{ wifi.name }}</h3><p class=text-nowrap>{{_('Number of Devices:')}}&nbsp;{{ wifi.device_count }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-href={{wifi.edit_url}} class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/wifi_detail.html><div flex=flex ng-if="advance_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require certified WeChat account.') }}</p></div></div><div flex=flex ng-if="wifi_mode == false" layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><p>{{ _('Sorry! This section require support of Wifi manage.') }}</p></div></div><div flex=flex layout-margin=layout-margin ng-show="advance_mode && wifi_mode" class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Edit WeChat Wifi') }}</h2><div class=funcbar><md-button ng-click=back() class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to Wifi Connections')}}</span></md-button></div><form novalidate=novalidate name=wifi_form ng-submit=save()><div shop-id={{wifi.shop_id}} class=text-container><h3 class="md-title text-break">{{ wifi.name }}</h3></div><md-input-container><label class=static-label>{{_('Connect url')}}</label><p flex-order=2 class="text-break text-primary">{{ wifi.connect_url }}</p><p flex-order=3 class="md-caption tip">{{ _('* Use for WeChat menu.') }}</p></md-input-container><md-input-container><label>{{_('Wifi Homepage')}}</label><input type=url name=homepage ng-model=wifi.homepage_url maxlength=500><p flex-order=2 ng-bind-html="_('* Wifi home page is the Retail Store page, leave it blank if you do not have one.')" class="md-caption tip"></p><ng-messages for=wifi_form.homepage.$error ng-if=wifi_form.homepage.$touched><ng-message when=url>{{_("URL is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Wifi Landing page')}}</label><input type=url name=finishpage ng-model=wifi.finishpage_url maxlength=500><p flex-order=2 ng-bind-html="_('* Wifi Landing page will display after connected wifi. leave it blank if you do not have one.')" class="md-caption tip"></p><ng-messages for=wifi_form.finishpage.$error ng-if=wifi_form.finishpage.$touched><ng-message when=url>{{_("URL is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Welcome Message')}}</label><md-select flex-order=2 layout=column name=type ng-model=wifi.bar_type placeholder="{{_('Select a Welcome Message')}}" required=required><md-option ng-value=type.key ng-repeat="type in bar_types"><span class=text>{{_(type.name)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Welcome Message will display on WeChat screen while connecting wifi.')" class="md-caption tip"></p><ng-messages for=wifi_form.type.$error ng-if=wifi_form.type.$touched><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Wifi Devices") }}</h2><div layout=row layout-align="start center" class=funcbar><md-button ng-click=add() ng-disabled="wifi_devices.length >= wifi_device_limit" class=md-raised><md-icon md-svg-icon=content:ic_add_box_24px class=ico></md-icon><span class=text>{{_('Add New Wifi Device')}}</span></md-button><md-button ng-click=trash() class="md-raised md-warn"><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Clean')}}</span></md-button></div><md-divider class=gap></md-divider><p class="md-caption md-margin">{{wifi_devices.length}} / {{ wifi_device_limit }}</p><md-card ng-repeat="device in wifi_devices" class=anim-fade><md-card-content layout=row layout-align="start center"><a ng-href={{device.qr_brand_url}} target=_blank><img ng-src={{device.qr_url}} alt="{{_('QR Code')}}" class=s48></a><div flex=flex class=md-padding><h3 class="md-subhead text-break">{{device.ssid}}</h3></div><div layout=row><md-button aria-label="{{_('Edit')}}" type=button ng-click="edit(device, $index)" class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card-content></md-card></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/wifi_edit_device.tmpl.html><md-dialog aria-label="{{_('Add New Wifi Device')}}" flex=flex><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Add New Wifi Device') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=device_form ng-submit=save()><md-dialog-content><md-input-container><label>{{_('Wifi SSID')}}</label><input type=text name=ssid ng-model=op_device.ssid maxlength=32 ng-pattern=/^[a-zA-Z0-9_.-]+$/ required=required><p flex-order=2 ng-bind-html="_('* Wifi SSID is the name of wifi hotspot.')" class="md-caption tip"></p><ng-messages for=device_form.ssid.$error ng-if=device_form.ssid.$touched><ng-message when=pattern>{{_("Wifi SSID must a latin or number.")}}</ng-message><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Wifi Password')}}</label><input type=text name=pwd ng-model=op_device.pwd maxlength=24 minlength=8 ng-pattern="/^WX[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{8,24}$/" required=required><p flex-order=2 ng-bind-html="_('* Wifi Password must be %s-%s latin or numbers, starts with WX', '8', '24')" class="md-caption tip"></p><ng-messages for=device_form.pwd.$error ng-if=device_form.pwd.$touched><ng-message when=required>{{_("This is required.")}}</ng-message><ng-message when=pattern>{{_("Password is invalid.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" type=submit ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/settings/options.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Basic Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=profile.title md-maxlength=60 required=required><ng-messages for=profile_form.title.$error ng-if=profile_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Locales')}}</label><md-select flex-order=2 layout=column name=locales ng-model=profile.locale placeholder="{{_('Select Locales')}}" required=required><md-option ng-value=loc.code ng-repeat="loc in locales"> <span class=text>{{ loc.text }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The definition of app locales will influence the automatic translation.')" class="md-caption tip"></p><ng-messages for=profile_form.locales.$error ng-if=profile_form.locales.$touched><ng-message when=required>{{_("Locales is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=profile.description md-maxlength=160 rows=4></textarea><ng-messages for=profile_form.description.$error ng-if=profile_form.description.$touched><ng-message when=md-maxlength><span ng-bind-html="_('The description must be less than %s characters.', '160')"></span></ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Snapshot')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!profile.snapshot md-svg-icon=action:ic_perm_media_24px ng-click=selectSnapshot() class="ico s60"></md-icon><div ng-show=profile.snapshot class="imgholder-inner anim-fade noleave"><img ng-src={{profile.snapshot}} ng-click=selectSnapshot() alt="{{_('Snapshot')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-click=selectSnapshot(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div><p flex-order=3 ng-bind-html="_('* Snapshot will be used on App list, leave it blank if you do not have one.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("WeChat Settings") }}</h2><form novalidate=novalidate name=domain_form ng-submit=bind()><md-input-container><label>{{_('Domain')}}</label><input type=text name=domain ng-model=domain.domain ng-pattern=/^[a-zA-Z0-9-]{1,61}(?:\.[a-zA-Z0-9]{1,})+[\/a-zA-Z0-9]+$/ md-maxlength=200 required=required><ng-messages for=domain_form.domain.$error ng-if=domain_form.domain.$touched><ng-message when=required>{{_("Domain is required.")}}</ng-message><ng-message when=pattern>{{_("Domain is invalid.")}}</ng-message></ng-messages></md-input-container><div class=text-container><div class="md-subhead text-warn">{{_('Warning:')}} &nbsp;</div><p ng-bind-html="_('* The App will go public after bind domain. Please contact us before binding a domain, because unauthorized binding domain will be useless. This kind of operation must be authorized and confirmed by us first.')" class="md-caption tip"></p></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button><div ng-show=binded class=anim-fade><md-button ng-click=unbind() type=button class="md-raised md-warn">{{_('Remove')}}</md-button></div></div></form><md-divider class=gap></md-divider><form novalidate=novalidate name=interface_form ng-submit=bindInterface()><md-input-container><label>{{_('WeChat Token')}}</label><input type=text name=token ng-model=config.wx_token ng-pattern=/^[a-zA-Z0-9-]+$/ md-maxlength=20 required=required><ng-messages for=interface_form.token.$error ng-if=interface_form.token.$touched><ng-message when=required>{{_("WeChat Token is required.")}}</ng-message><ng-message when=pattern>{{_("WeChat token can consist of only letters and numbers.")}}</ng-message><ng-message when=md-maxlength>{{_("WeChat token must be less than %s characters.","20")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('WeChat Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=config.type placeholder="{{_('Select a Type')}}" required=required><md-option ng-value=type.key ng-repeat="type in wxtypes"> <span class=text>{{_(type.name)}}</span></md-option></md-select><ng-messages for=interface_form.type.$error ng-if=interface_form.type.$touched><ng-message when=required>{{_("Type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_("URL for Connect WeChat")}}</label><p flex-order=1 class="text-primary text-break">{{config.interface_url}}</p></md-input-container><md-input-container><md-button ng-click=toggleAdv() type=button><md-icon ng-class="{'toggled':show_adv_form}" md-svg-icon=nav:ic_expand_more_24px class="ico toggle-icon"></md-icon><span class=text>{{_('Advanced Options')}}</span></md-button></md-input-container><div ng-show=show_adv_form class=anim-block><md-input-container><label>{{_('WeChat AppID')}}</label><input type=text name=wx_appid ng-model=config.wx_appid maxlength=100></md-input-container><md-input-container><label>{{_('WeChat AppSecret')}}</label><input type=text name=wx_secret ng-model=config.wx_secret maxlength=100></md-input-container><md-input-container><label class=static-label>{{_("Certification")}}</label><md-switch flex-order=1 ng-model=config.advance_mode aria-label="{{_('Certification')}}" ng-disabled="!config.wx_appid || !config.wx_secret"><span ng-if=config.advance_mode>{{ _('Certified') }}</span><span ng-if=!config.advance_mode>{{ _('Uncertified') }}</span></md-switch><p flex-order=3 ng-bind-html="_('* If your WeChat account have been certified, activate this option to use advanced features.')" class="md-caption tip"></p></md-input-container><md-input-container><label class=static-label>{{_("Wifi Connection")}}</label><md-switch flex-order=1 ng-model=config.wifi_mode aria-label="{{_('Wifi Connection')}}" ng-disabled=!config.advance_mode><span ng-if=config.wifi_mode>{{ _('Managed') }}</span><span ng-if=!config.wifi_mode>{{ _('Unmanaged') }}</span></md-switch><p flex-order=3 ng-bind-html="_('* If your WeChat account supported Wifi Connection manage, activate this option to use advanced features.')" class="md-caption tip"></p></md-input-container><md-input-container><label>{{_('Encoding AES Key')}}</label><input type=text name=encoding_aes_key ng-model=config.encoding_aes_key maxlength=500><p flex-order=3 ng-bind-html="_('* Leave it blank if you do not need encryption.')" class="md-caption tip"></p></md-input-container></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/settings/wx_admin_edit.tmpl.html><md-dialog aria-label="{{_('WeChat Admin')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New WeChat Admin') }}</span><span ng-if=!new>{{ _('Edit WeChat Admin') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=admin_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Name')}}</label><input type=text name=name ng-model=admin.name md-maxlength=20 required=required><ng-messages for=admin_form.name.$error ng-if=admin_form.name.$touched><ng-message when=required>{{_("This is required.")}}</ng-message><ng-message when=md-maxlength>{{_("Name must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('WeChat ID')}}</label><input type=text name=wechat_id ng-model=admin.wechat_id maxlength=500 required=required><ng-messages for=admin_form.wechat_id.$error ng-if=admin_form.wechat_id.$touched><ng-message when=required>{{_("WeChat ID is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Open ID')}}</label><input type=text name=open_id ng-model=admin.open_id maxlength=500></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"><span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/settings/wx_admins.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('WeChat Admins') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New WeChat Admin')}}" ng-disabled=!check_addable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_person_add_24px class=ico></md-icon><span class=text>{{_('Add New WeChat Admin')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> WeChat admins.', wx_admins.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="admin in wx_admins | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><div class=md-list-item-text><h3 class="md-title text-nowrap">{{ admin.name }}</h3><p class=text-nowrap>{{_('WeChat ID:')}}&nbsp;{{ admin.wechat_id }}</p><p class=text-nowrap>{{_('Open ID:')}}&nbsp;{{ admin.open_id }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(admin) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=common/views/mainnav.tmpl.html><md-sidenav ng-if=root.hasSideNav() ng-class="{'open': isOpen()}" md-is-locked-open=isLockedOpen() md-component-id=main_nav flex=flex layout=column class="primary-nav md-sidenav-left md-whiteframe-z3 no-scroll"><md-toolbar><div class=md-toolbar-tools><div class=logo></div><span flex=flex></span><md-button aria-label="{{_('Toggle main nav')}}" ng-click="toggleNav('main_nav')" ng-show=isOpen() class=md-icon-button><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></div></md-toolbar><md-content flex=flex><ul class=sidenav-menu><li></li><li ng-repeat="nav in navs.data" ng-if=!nav._empty><div ng-if=!nav.key class=name-tag><span class="md-caption text-primary">{{ _(nav.name)}}</span></div><div ng-if="nav.key && !nav.nodes"><md-button ng-click=go(nav.path) ng-class=nav.class ng-disabled=isCurrent(nav.key) class=main-nav-btn><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico class=ico></md-icon><span class=text>{{_(nav.name)}}</span></md-button></div><div ng-if="nav.key && nav.nodes"><md-button ng-click=toggle(nav.key) ng-class=nav.class ng-disabled=isCurrent(nav.key) class="main-nav-btn menu-btn-toggle"><div layout=row class=row><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico class=ico></md-icon><span flex=flex class=text>{{_(nav.name)}}</span><md-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': isShow(nav.key) }" class=menu-toggle-icon></md-icon></div></md-button><ul ng-show=isShow(nav.key) ng-class="{'active':isCurrent(nav.key)}" class=menu-toggle-list><li ng-repeat="child in nav.nodes"><md-button ng-class=child.class ng-click=go(child.path) app-id={{child.app_id}}>{{child.app_id ? child.name : _(child.name)}}</md-button></li></ul></div></li></ul></md-content></md-sidenav></script><script type=text/ng-template id=common/views/topnav.tmpl.html><md-toolbar ng-if=root.hasTopNav() class="top-nav anim-fade"><div class=md-toolbar-tools><div ng-if="!showMenu() && root.hasSideNav()" class=anim-fade><md-button aria-label="{{_('Toggle main nav')}}" ng-click="toggleNav('main_nav')" class=md-icon-button><md-icon md-svg-icon=nav:ic_menu_24px></md-icon></md-button></div><div ng-if=!root.hasSideNav() flex=flex class="logo anim-fade noleave"></div><div ng-if=root.hasSideNav() flex=flex class="breadcrumb anim-fade"><md-icon ng-if=navs.currIcon hide=hide show-gt-md=show-gt-md md-svg-icon={{navs.currIcon}} layout-margin=layout-margin></md-icon><span class=md-headline>{{ navs.currApp ? navs.currTitle : _(navs.currTitle) }}</span><md-icon ng-if=navs.currSubTitle hide=hide show-gt-md=show-gt-md md-svg-icon=nav:ic_chevron_right_24px></md-icon><span ng-if=navs.currSubTitle hide=hide show-gt-md=show-gt-md class=md-headline>{{ _(navs.currSubTitle) }}</span></div><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-button aria-label="{{_('Language')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_language_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{_('Language')}}"><md-drop-option ng-repeat="locale in locales" ng-disabled=currentLang(locale) ng-click=changeLang(locale)>{{ locale.text }}</md-drop-option></md-drop-optgroup></md-dropmenu><md-dropmenu disabled-auto-focus=disabled-auto-focus ng-if=root.is_logged()><md-drop-label><md-button aria-label="{{_('Account')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{_('Account')}}"><md-drop-option ng-click="go('user/profile')">{{ _('Profile') }}</md-drop-option><md-drop-option ng-click="go('user/security')">{{ _('Security') }}</md-drop-option><md-drop-option ng-click="go('user/invite')">{{ _('Invite Codes') }}</md-drop-option><md-divider></md-divider><md-drop-option ng-click=logout()>{{ _('Exit') }}</md-drop-option></md-drop-optgroup></md-dropmenu></div></md-toolbar></script><script type=text/ng-template id=common/views/trashbar.tmpl.html><md-button aria-label="{{_('Delete')}}" ng-click=trash() ng-disabled=isEmptySelected() hide-sm=hide-sm class="md-warn md-hue-2 md-fab md-fab-bottom-right fixed"><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></script><script type=text/ng-template id=modals/bg/bg.tmpl.html><md-dialog aria-label="{{_('Background')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Background') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex><md-tabs md-dynamic-height=md-dynamic-height md-selected=selected_tab><md-tab label="{{_('Current Background')}}"><div class=tab-content><div layout-gt-sm=row layout-padding=layout-padding><div flex=flex layout=column class=md-padding><md-input-container flex=flex><label class=static-label>{{_('Image')}}</label><div flex=flex flex-order=3 layout=column layout-align="center center" class=md-padding><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-icon ng-if=!current_bg.src md-svg-icon=action:ic_perm_media_24px class=s240></md-icon><img ng-if="current_bg.src && current_bg.type == 'image'" ng-src={{current_bg.src|thumbfresh}} alt="{{_('Media')}}" class=s240><md-icon ng-if="current_bg.src && current_bg.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s240></md-icon></md-drop-label><md-drop-optgroup label="{{_('Media Repository')}}"><md-drop-option ng-repeat="media in mediafiles" ng-click="select_media(current_bg, media)" class=md-margin><img ng-if="media.type == 'image'" ng-src={{media.src|thumbfresh}} alt={{media.filename}} class=s120><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s120></md-icon></md-drop-option></md-drop-optgroup></md-dropmenu><md-button aria-label="{{_('Cancel')}}" type=button ng-show=current_bg.src ng-click=remove_media(current_bg) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></md-input-container></div><form flex=flex novalidate=novalidate name=forms.bg_propety_form class=md-padding><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=current_bg.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=forms.bg_propety_form.class.$error ng-if=forms.bg_propety_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Background Color')}}</label><input type=text name=color ng-model=current_bg.color maxlength=30></md-input-container><md-input-container><label class=static-label>{{_('Background Repeat')}}</label><md-select layout=column flex-order=3 name=repeat ng-model=current_bg.repeat placeholder="{{_('Select A Background Repeat')}}"><md-option value>{{_('Default')}}</md-option><md-option value=no-repeat>{{_('No Repeat')}}</md-option><md-option value=repeat>{{_('Full Repeat')}}</md-option><md-option value=repeat-y>{{_('Vertical Repeat')}}</md-option><md-option value=repeat-x>{{_('Horizontal Repeat')}}</md-option></md-select></md-input-container><div ng-bind-html="_('* Those property is in effect depends on the current theme supports.')" class="p md-caption tip"></div></form></div></div></md-tab><md-tab label="{{_('New Upload')}}"><div class=tab-content><div class=input-container><div ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ngf-multiple=true ng-file-drop ngf-drag-over-class=file-drag-over layout=column layout-align="center center" class=uploadbox><md-icon ng-show=upload_status==0 md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show=upload_status==1 md-mode=indeterminate></md-progress-circular><md-icon ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px class=md-warn></md-icon></div><div ng-bind-html="_('* New media files can not share the name with existing files. The file size is limited by file types. (image: < 600kb, video: < 24mb, audio: < 6mb)')" class="p md-caption tip text-center"></div></div><div class="md-padding text-center"><md-button type=button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) ngf-accept={{mimetypes}} ngf-multiple=true ng-disabled="upload_status == 1" class=md-raised><md-icon md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><span class=text>{{_('Upload media')}}</span></md-button></div><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column ng-repeat="media in uploadedMediafiles"><md-card flex=flex ng-click=setCurrentBg(media) class=media><md-card-content><p class="text-nowrap text-center">{{media.filename}}</p></md-card-content><div flex=flex layout=column layout-align="center center"><img ng-if="media.type == 'image' || !media.type" ng-src={{media.src|thumbfresh}} alt={{media.filename}}><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class=s48></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s48></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class=s48></md-icon></div><div class="md-actions border-less"></div></md-card></div></div></div></md-tab></md-tabs></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() ng-disabled=!hasMedia() class="md-raised md-primary"><span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/button/button.tmpl.html><md-dialog aria-label="{{_('Button')}}" flex=50 class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Button') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=button_form ng-submit=insert()><md-dialog-content><md-input-container><label>{{_('Name')}}</label><input type=text name=name ng-model=button.name md-maxlength=60><ng-messages for=button_form.name.$error ng-if=button_form.name.$touched><ng-message when=md-maxlength>{{_("The name must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Link')}}</label><input type=text name=link ng-model=button.link maxlength=500 required=required><ng-messages for=button_form.link.$error ng-if=button_form.link.$touched><ng-message when=required>{{_("A link is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=button.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=button_form.class.$error ng-if=button_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/collection/collection.tmpl.html><md-dialog aria-label="{{_('Collection')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Collection') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><div id=collection-modal-sheet ng-show=collection_sheet_open></div><md-dialog-content flex=flex><md-tabs md-dynamic-height=md-dynamic-height md-selected=selected_tab><md-tab label="{{_('List')}}"><div class=tab-content><div class=md-padding><md-list dnd-list=collection class="dragdrop md md-padding"><div ng-repeat="item in collection" dnd-draggable=item dnd-effect-allowed=move dnd-moved="collection.splice($index, 1)"><md-list-item class="md-2-line md-padding vertical-center"><md-icon ng-if=!item.src md-svg-icon=action:ic_subject_24px class=s48></md-icon><img ng-if="item.type == 'image' && item.src" ng-src={{item.src|thumbfresh}} alt={{item.filename}} class="md-avatar s48"><md-icon ng-if="item.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class="md-avatar s48"></md-icon><md-icon ng-if="item.type == 'video'" md-svg-icon=av:ic_videocam_24px class="md-avatar s48"></md-icon><md-icon ng-if="item.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class="md-avatar s48"></md-icon><div class=md-list-item-text><h3 class="md-title text-nowrap">{{ item.title }}</h3><p class=text-nowrap>{{ item.caption }}</p></div><div class=func><md-button type=button aria-label="{{_('Remove')}}" ng-click="remove($index, $event)" class=md-icon-button><md-icon md-svg-icon=content:ic_clear_24px></md-icon></md-button><md-button type=button aria-label="{{_('Edit')}}" ng-click="edit(item, depot, $index, $event)" class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button aria-label="{{_('Add')}}" ng-click=add(depot) ng-disabled="collection.length >= limit" class="md-raised md-accent"><md-icon md-svg-icon=content:ic_add_box_24px class=ico></md-icon><span class=text>{{_('Add New Item')}}</span></md-button></div></div></div></md-tab><md-tab label="{{_('Edit Item')}}"><div class=tab-content><div class=md-padding><form novalidate=novalidate name=collection_depot_form ng-submit=collect(depot) layout-gt-sm=row><div flex-gt-sm=50><md-input-container><label class=static-label>{{_('Media')}}</label><div flex-order=3 layout=column layout-align="center center" class=md-padding><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-icon ng-if=!depot.src md-svg-icon=action:ic_perm_media_24px class=s120></md-icon><img ng-if="depot.src && depot.type == 'image'" ng-src={{depot.src|thumbfresh}} alt="{{_('Media')}}" class=s120><md-icon ng-if="depot.src && depot.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class=s120></md-icon><md-icon ng-if="depot.src && depot.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s120></md-icon><md-icon ng-if="depot.src && depot.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class=s120></md-icon></md-drop-label><md-drop-optgroup label="{{_('Media Repository')}}"><md-drop-option ng-repeat="media in mediafiles" ng-click="select_media(depot, media)" class=md-margin><img ng-if="media.type == 'image'" ng-src={{media.src|thumbfresh}} alt={{media.filename}} class=s120><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class=s120></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s120></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class=s120></md-icon></md-drop-option></md-drop-optgroup></md-dropmenu><md-button aria-label="{{_('Cancel')}}" type=button ng-show=depot.src ng-click=remove_media(depot) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></md-input-container></div><div flex-gt-sm=50><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=depot.title md-maxlength=60><ng-messages for=collection_property_form.title.$error ng-if=collection_property_form.title.$touched><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Caption')}}</label><textarea rows=2 name=caption ng-model=depot.caption md-maxlength=160 maxlength=200></textarea><ng-messages for=collection_property_form.caption.$error ng-if=collection_property_form.caption.$touched><ng-message when=md-maxlength>{{_("Caption must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><md-input-container class=anim-item><label>{{_('Link')}}</label><div layout=row flex-order=2><input type=text name=link ng-model=depot.link maxlength=600><md-button flex-order=2 aria-label="{{_('Get Today Date')}}" ng-click=link_media(depot) ng-disabled=!depot.src type=button class=md-icon-button><md-icon md-svg-icon=image:ic_photo_24px></md-icon></md-button></div></md-input-container><div ng-show=depot.link class="text-container anim-item"><md-switch ng-model=depot.target aria-label="{{_('New Window')}}" ng-true-value="'_blank'" ng-false-value>{{ _('Open in new window') }}</md-switch></div><div layout=row ng-show="depot.type=='audio'||depot.type=='video'"><div flex=flex class=text-container><md-switch ng-model=auto aria-label="{{_('Auto Play')}}">{{ _('Auto Play') }}</md-switch></div><div flex=flex class=text-container><md-switch ng-model=depot.controls aria-label="{{_('Controls')}}">{{ _('Controls') }}</md-switch></div></div><md-input-container ng-show="depot.type=='video'"><label class=static-label>{{_('Poster')}}</label><md-select layout=column flex-order=3 name=poster ng-model=depot.poster placeholder="{{_('Select Video Poster')}}"><md-option value>{{_('None')}}</md-option><md-option ng-value=poster.src ng-repeat="poster in posters"><img ng-src={{poster.src|thumbfresh}} alt={{poster.filename}} class=md-avatar><span class="text text-nowrap">{{_(poster.filename)}}</span></md-option></md-select></md-input-container><div ng-show=adv_mode class=anim-item><md-input-container><label>{{_('Misc')}}</label><textarea rows=2 name=misc ng-model=depot.misc md-maxlength=600 maxlength=610></textarea><ng-messages for=collection_property_form.misc.$error ng-if=collection_property_form.misc.$dirty><ng-message when=md-maxlength>{{_("Must be less than %s characters.", '600')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=depot.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=collection_property_form.class.$error ng-if=collection_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><md-input-container ng-if="depot.taxonomy || depot.tags"><label class=static-label>{{_('Property')}}</label><div flex-order=2 class=md-padding><p class="md-caption tip">{{_('Taxonomy')}}{{_(': ')}}{{depot.taxonomy}}</p><p class="md-caption tip">{{_('Tags')}}{{_(': ')}}{{depot.tags}}</p></div></md-input-container></div><div layout=row layout-align="start center"><md-button type=submit class=md-raised>{{_("Save")}}</md-button><md-dropmenu disabled-auto-focus=disabled-auto-focus ng-if=contents><md-drop-label><md-button aria-label="{{_('Sync')}}" class=md-icon-button><md-icon md-svg-icon=notify:ic_sync_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label={{_(content_type.title)}}><md-drop-option ng-repeat="file in contents" ng-click="sync(depot, file)">{{ file.meta.title }}</md-drop-option></md-drop-optgroup></md-dropmenu><span flex=flex></span><md-button aria-label="{{_('Advanced Options')}}" type=button ng-click=toggle_adv() class=md-icon-button><md-icon ng-show=!adv_mode md-svg-icon=nav:ic_unfold_more_24px></md-icon><md-icon ng-show=adv_mode md-svg-icon=nav:ic_unfold_less_24px></md-icon></md-button></div></div></form></div></div></md-tab><md-tab label="{{_('New Upload')}}"><div class=tab-content><div class=input-container><div ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ngf-multiple=true ng-file-drop ngf-drag-over-class=file-drag-over layout=column layout-align="center center" class=uploadbox><md-icon ng-show=upload_status==0 md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show=upload_status==1 md-mode=indeterminate></md-progress-circular><md-icon ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px class=md-warn></md-icon></div><div ng-bind-html="_('* New media files can not share the name with existing files. The file size is limited by file types. (image: < 600kb, video: < 24mb, audio: < 6mb)')" class="p md-caption tip text-center"></div></div><div class="md-padding text-center"><md-button type=button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) ngf-accept={{mimetypes}} ngf-multiple=true ng-disabled="upload_status == 1" class=md-raised><md-icon md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><span class=text>{{_('Upload media')}}</span></md-button><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column ng-repeat="media in uploadedMediafiles"><md-card flex=flex class=media><md-card-content><p class="text-nowrap text-center">{{media.filename}}</p></md-card-content><div flex=flex layout=column layout-align="center center"><img ng-if="media.type == 'image' || !media.type" ng-src={{media.src|thumbfresh}} alt={{media.filename}}><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class=s48></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s48></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class=s48></md-icon></div><div class="md-actions border-less"></div></md-card></div></div></div></div></md-tab></md-tabs></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert(collection) ng-disabled="collection.length <= 0" class="md-raised md-primary"><span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/form/form.tmpl.html><md-dialog aria-label="{{_('Form')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Form') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex class=md-padding><div ng-show=!adv_mode><form flex=flex novalidate=novalidate name=settings_form><md-input-container layout-margin=layout-margin><label class=static-label>{{_('Type')}}</label><md-select layout=column flex-order=3 name=type ng-model=form_data.type required=required placeholder="{{_('Select Form Type')}}"><md-option value=event>{{_('Event Form')}}</md-option><md-option value=mailto>{{_('Mail Form')}}</md-option><md-option value=custom>{{_('Custom Form')}}</md-option></md-select><ng-messages for=settings_form.type.$error ng-if=settings_form.type.$dirty><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-if="form_data.type == 'event'" layout-margin=layout-margin><label class=static-label>{{_('Event')}}</label><md-select layout=column flex-order=3 name=action ng-model=form_data.action placeholder="{{_('Select A Event')}}" required=required><md-option ng-value=event.slug ng-repeat="event in events">{{event.title}}</md-option></md-select><ng-messages for=settings_form.action.$error ng-if=settings_form.action.$dirty><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-if="form_data.type == 'mailto'" layout-margin=layout-margin><label class=static-label>{{_('Email Address')}}</label><input type=email name=action ng-model=form_data.action maxlength=500 required=required><ng-messages for=settings_form.action.$error ng-if=settings_form.action.$dirty><ng-message when=required>{{_("This is required.")}}</ng-message><ng-message when=email>{{_("This is invalid.")}}</ng-message></ng-messages></md-input-container></form><md-divider class=gap></md-divider></div><div ng-show="form_data.type == 'custom' && !adv_mode"><form flex=flex novalidate=novalidate name=custom_form><md-card><md-subheader class="md-no-sticky md-primary">{{ _('Custom form') }}</md-subheader><md-card-content flex=flex><md-input-container layout-margin=layout-margin><label>{{_('Code')}}</label><textarea type=text rows=12 name=custom ng-model=form_data.custom></textarea><p flex-order=3 ng-bind-html="_('* Support Html and Javascript codes.')" class="md-caption tip"></p></md-input-container></md-card-content></md-card></form></div><div ng-show="(form_data.type=='event'||form_data.type=='mailto') && !adv_mode"><div ng-repeat="item in form_data.fields" class=anim-item><md-card><md-card-content flex=flex><div flex=flex layout-gt-md=row><div flex=25><md-input-container><label class=static-label>{{_('Field Name')}}</label><p flex-order=3 class=caption>{{item.name}}</p></md-input-container></div><div flex=25><md-input-container><label class=static-label>{{_('Field Type')}}</label><p flex-order=3 class=caption>{{item.type}}</p></md-input-container></div><div flex=40><md-input-container><label class=static-label>{{_('Field Label')}}</label><p flex-order=3 class=caption>{{item.label}}</p></md-input-container></div></div><div flex=flex layout=row><div flex=25><md-input-container><label class=static-label>{{_('Status')}}</label><p flex-order=3 ng-if=item.status==0 class=caption>{{_('Normal')}}</p><p flex-order=3 ng-if=item.status==1 class=caption>{{_('Required')}}</p><p flex-order=3 ng-if=item.status==2 class=caption>{{_('Disabled')}}</p></md-input-container></div><div flex=25><md-input-container><label class=static-label>{{_('Placeholder')}}</label><p flex-order=3 class=caption>{{item.placeholder}}</p></md-input-container></div><div flex=50><md-input-container><label class=static-label>{{_('Preset value')}}</label><p flex-order=3 class="caption text-break">{{item.value}}</p></md-input-container></div></div><div flex=flex layout=row><md-button md-no-ink=true ng-click="moveup($index, $event)" aria-label="{{_('Move Up')}}" ng-disabled=$first class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_less_24px></md-icon></md-button><md-button md-no-ink=true ng-click="movedown($index, $event)" aria-label="{{_('Move Down')}}" ng-disabled=$last class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_more_24px></md-icon></md-button><span flex=flex></span><md-button type=button aria-label="{{_('Remove')}}" ng-click=remove($index) class=md-icon-button><md-icon md-svg-icon=content:ic_clear_24px></md-icon></md-button></div></md-card-content></md-card></div><form flex=flex novalidate=novalidate name=new_item_form ng-submit=add(new_item)><md-card><md-subheader class="md-no-sticky md-primary">{{ _('Form Field') }}</md-subheader><md-card-content flex=flex><div layout-gt-sm=row><div flex=50><md-input-container><md-select layout=column flex-order=3 name=type ng-model=new_item.type required=required placeholder="{{_('Select Field Type')}}"><md-option ng-value=item.key ng-repeat="item in field_types">{{_(item.title)}}</md-option></md-select><ng-messages for=new_item_form.type.$error ng-if=new_item_form.type.$dirty><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container></div><div flex=50><md-input-container><md-select layout=column flex-order=3 name=status ng-model=new_item.status required=required placeholder="{{_('Select Field Status')}}"><md-option ng-value={{0}}>{{_('Normal')}}</md-option><md-option ng-value={{1}}>{{_('Required')}}</md-option><md-option ng-value={{2}}>{{_('Disabled')}}</md-option></md-select><ng-messages for=new_item_form.status.$error ng-if=new_item_form.status.$dirty><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container></div></div><div layout-gt-sm=row><div flex=50><md-input-container layout-margin=layout-margin><label>{{_('Field Name')}}</label><input type=text name=name ng-model=new_item.name ng-pattern=/^[a-zA-Z0-9]*$/ maxlength=50 required=required><p flex-order=3 ng-bind-html="_('* Field name must be a latin word.')" class="md-caption tip"></p><ng-messages for=new_item_form.name.$error ng-if=new_item_form.name.$touched><ng-message when=required>{{_("This is required.")}}</ng-message><ng-message when=pattern>{{_("This is invalid.")}}</ng-message></ng-messages></md-input-container></div><div flex=50><md-input-container layout-margin=layout-margin><label>{{_('Field Label')}}</label><input type=text name=label maxlength=50 ng-model=new_item.label required=required><p flex-order=3 ng-bind-html="_('* Field Label can be any word.')" class="md-caption tip"></p><ng-messages for=new_item_form.label.$error ng-if=new_item_form.label.$touched><ng-message when=required>{{_("This is required.")}}</ng-message></ng-messages></md-input-container></div></div><div><md-input-container layout-margin=layout-margin><label>{{_('Placeholder')}}</label><input type=text name=placeholder md-maxlength=200 ng-model=new_item.placeholder><p flex-order=3 ng-bind-html="_('* Write placeholder text here if you need.')" class="md-caption tip"></p><ng-messages for=new_item_form.placeholder.$error ng-if=new_item_form.placeholder.$touched><ng-message when=md-maxlength>{{_("This is too long")}}</ng-message></ng-messages></md-input-container></div><div ng-show="item_rule(new_item.type) > 0"><md-input-container layout-margin=layout-margin><label>{{_('Value')}}</label><textarea name=value md-maxlength=1000 ng-model=new_item.value></textarea><p ng-if="item_rule(new_item.type) == 1" flex-order=3 ng-bind-html="_('* Write key value pairs separated by a colon. Use divider to separated multipe pairs. etc., key1: Some Text|key2: Another Text.')" class="md-caption tip"></p><p ng-if="item_rule(new_item.type) == 2" flex-order=3 ng-bind-html="_('* Write preset text.')" class="md-caption tip"></p><ng-messages for=new_item_form.value.$error ng-if=new_item_form.value.$touched><ng-message when=md-maxlength>{{_("This is too long")}}</ng-message></ng-messages></md-input-container></div><div ng-show="item_rule(new_item.type) != 2"><md-input-container layout-margin=layout-margin><label>{{_('Hint')}}</label><textarea name=hint md-maxlength=360 ng-model=new_item.hint></textarea><ng-messages for=new_item_form.hint.$error ng-if=new_item_form.hint.$touched><ng-message when=md-maxlength>{{_("This is too long")}}</ng-message></ng-messages></md-input-container></div><div layout=row layout-align=end><md-button class=md-primary><md-icon md-svg-icon=content:ic_add_24px class=ico></md-icon><span class=text>{{_('Add new field')}}</span></md-button></div></md-card-content></md-card></form></div><div ng-show=adv_mode flex=flex><form flex=flex novalidate=novalidate name=adv_form><md-card><md-subheader class="md-no-sticky md-primary">{{ _('Advanced Mode') }}</md-subheader><md-card-content flex=flex><md-input-container layout-margin=layout-margin><label>{{_('JSON')}}</label><textarea type=text rows=12 name=advanced ng-model=adv_data></textarea><p flex-order=3 ng-bind-html="_('* Support JSON only.')" class="md-caption tip"></p><ng-messages for=adv_form.advanced.$error ng-if=adv_form.advanced.$touched><ng-message when=format>{{_("This is invalid.")}}</ng-message></ng-messages></md-input-container></md-card-content></md-card></form></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button ng-click=toggle_adv()><span class=text>{{ _('Advanced Mode') }}</span></md-button><md-button aria-label="{{_('Insert')}}" ng-click=insert() class="md-raised md-primary"><span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/help/help.tmpl.html><md-dialog aria-label="{{_('Help')}}" flex=flex flex-gt-md=50><md-dialog-content class=sticky-container><md-subheader class=md-sticky-no-effect>{{_('Help')}}</md-subheader><div layout-padding=layout-padding ng-bind-html=content></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button ng-click=ok() class=md-primary> <span class=text>{{ _('Ok, I Understand.') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/lines/lines.tmpl.html><md-dialog aria-label="{{_('Lines')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Lines') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex class="dragdrop md-padding"><form flex=flex novalidate=novalidate name=new_item_form ng-submit="add(new_item, lines, limit)"><md-card><md-subheader class="md-no-sticky md-primary">{{ limit<=0 ? _('Unlimited'): lines.length+' / '+limit }}</md-subheader><md-card-content flex=flex><div layout-gt-md=row layout-align="center center"><div flex=flex><md-input-container layout-margin=layout-margin><label>{{_('Text')}}</label><input type=text name=text ng-model=new_item.text ng-disabled="!addable(lines, limit)"></md-input-container></div><div><md-button flex=flex layout-margin=layout-margin ng-disabled="!addable(lines, limit)" class=md-primary><md-icon md-svg-icon=content:ic_add_24px class=ico></md-icon><span class=text>{{_('Add')}}</span></md-button></div></div><div layout-margin=layout-margin><p flex-order=3 ng-bind-html="_('* Add your data definition, empty data is automatically remodeling when the submission.')" class="md-caption tip"></p></div></md-card-content></md-card></form><md-divider class=gap></md-divider><div ng-repeat="item in lines" class=anim-item><md-card><md-card-content flex=flex layout-gt-md=row layout-align="center center"><div flex=flex>{{item.text}}</div><div layout=row><md-button md-no-ink=true ng-click="moveup(lines, $index, $event)" aria-label="{{_('Move Up')}}" ng-disabled=$first class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_less_24px></md-icon></md-button><md-button md-no-ink=true ng-click="movedown(lines, $index, $event)" aria-label="{{_('Move Down')}}" ng-disabled=$last class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_more_24px></md-icon></md-button><span flex=flex></span><md-button type=button aria-label="{{_('Remove')}}" ng-click="remove(lines, $index)" class=md-icon-button><md-icon md-svg-icon=content:ic_clear_24px></md-icon></md-button></div></md-card-content></md-card></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() class="md-raised md-primary"><span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/link/link.tmpl.html><md-dialog aria-label="{{_('Link')}}" flex=50 class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Link') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=link_form ng-submit=insert()><md-dialog-content><md-input-container><label>{{_('Link')}}</label><input type=text name=link ng-model=link.href maxlength=500 required=required><ng-messages for=link_form.link.$error ng-if=link_form.link.$touched><ng-message when=required>{{_("A link is required.")}}</ng-message></ng-messages></md-input-container><div class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=link.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=link_form.class.$error ng-if=link_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/media/media.tmpl.html><md-dialog aria-label="{{_('Media')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Media') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><div id=media-modal-sheet ng-show=media_sheet_open></div><md-dialog-content flex=flex><md-tabs md-dynamic-height=md-dynamic-height><md-tab label="{{_('Repository')}}" md-on-select=resetSelect()><div class=tab-content><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column ng-repeat="media in mediafiles | paginator:paged"><md-card flex=flex ng-class="{'md-whiteframe-z4':isSelected(media),'selected':isSelected(media), 'lite':liteMode}" ng-click=toggleSelect(media) class=media><md-card-content><p class="text-nowrap text-center">{{media.filename}}</p></md-card-content><div flex=flex layout=column layout-align="center center"><img ng-if="media.type == 'image' || !media.type" ng-src={{media.src|thumbfresh}} alt={{media.filename}}><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class=s48></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s48></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class=s48></md-icon></div><div class="md-actions border-less"><md-button ng-show="isSelected(media) && !liteMode" aria-label="{{_('Edit')}}" ng-click="edit(media, $event)" ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div><div flex=flex layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div></md-tab><md-tab label="{{_('New Upload')}}" md-on-select=resetSelect()><div class=tab-content><div class=input-container><div ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ngf-multiple=true ng-file-drop ngf-drag-over-class=file-drag-over layout=column layout-align="center center" class=uploadbox><md-icon ng-show=upload_status==0 md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show=upload_status==1 md-mode=indeterminate></md-progress-circular><md-icon ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px class=md-warn></md-icon></div><div ng-bind-html="_('* New media files can not share the name with existing files. The file size is limited by file types. (image: < 600kb, video: < 24mb, audio: < 6mb)')" class="p md-caption tip text-center"></div></div><div class="md-padding text-center"><md-button type=button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) ngf-multiple=true ngf-accept={{mimetypes}} ng-disabled="upload_status == 1" class=md-raised><md-icon md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><span class=text>{{_('Upload media')}}</span></md-button></div><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column ng-repeat="media in uploadedMediafiles"><md-card flex=flex ng-class="{'md-whiteframe-z4':isSelected(media),'selected':isSelected(media), 'lite':liteMode}" ng-click=toggleSelect(media) class=media><md-card-content><p class="text-nowrap text-center">{{media.filename}}</p></md-card-content><div flex=flex layout=column layout-align="center center"><img ng-if="media.type == 'image' || !media.type" ng-src={{media.src|thumbfresh}} alt={{media.filename}}><md-icon ng-if="media.type == 'application'" md-svg-icon=editor:ic_attach_file_24px class=s48></md-icon><md-icon ng-if="media.type == 'video'" md-svg-icon=av:ic_videocam_24px class=s48></md-icon><md-icon ng-if="media.type == 'audio'" md-svg-icon=image:ic_audiotrack_24px class=s48></md-icon></div><div class="md-actions border-less"><md-button ng-show="isSelected(media) && !liteMode" aria-label="{{_('Edit')}}" ng-click="edit(media, $event)" ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></md-tab><md-tab label="{{_('From URL')}}" md-on-select=resetSelect() ng-disabled=!allowExternal><div ng-controller=internetMediaCtrl class=tab-content><form novalidate=novalidate name=internet_form ng-submit=getInternetMedia()><md-input-container><label>{{_('Media file URL')}}</label><input type=url name=media ng-model=internet_media required=required><p flex-order=3 ng-bind-html="_('* The media URLs must start with [http://] or [https://] and will not be saved into our system.')" class="md-caption tip"></p><ng-messages for=internet_form.media.$error ng-if=internet_form.media.$touched><ng-message when=url>{{_("Media URL is invalid.")}}</ng-message><ng-message when=required>{{_("Media URL is required.")}}</ng-message></ng-messages></md-input-container><div class=md-padding><md-button aria-label="{{_('Get')}}" type=submit class=md-raised><span class=text>{{_('Get Media form Internet')}}</span></md-button></div></form><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column ng-repeat="media in internetMediafiles"><md-card flex=flex ng-class="{'md-whiteframe-z4':isSelected(media),'selected':isSelected(media), 'lite':liteMode}" ng-click=toggleSelect(media) class=media><md-card-content><p class="text-nowrap text-center">{{media.filename}}</p></md-card-content><div flex=flex layout=column layout-align="center center"><img ng-src={{media.src}} alt={{media.title}}></div><div class="md-actions border-less"><md-button ng-show="isSelected(media) && !liteMode" aria-label="{{_('Edit')}}" ng-click="edit(media, $event)" ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></md-tab></md-tabs></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() ng-disabled=!selected_media class="md-raised md-primary"><span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/media/media_sheet_audio.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><div layout=row><div flex=flex class=text-container><md-switch ng-model=auto aria-label="{{_('Auto Play')}}">{{ _('Auto Play') }}</md-switch></div><div flex=flex class=text-container><md-switch ng-model=media.controls aria-label="{{_('Controls')}}">{{ _('Controls') }}</md-switch></div></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=modals/media/media_sheet_image.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=media.title md-maxlength=60><ng-messages for=media_property_form.title.$error ng-if=media_property_form.title.$touched><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Link Type')}}</label><md-select layout=column flex-order=3 name=linkto ng-model=linkto placeholder="{{_('Select Link Type')}}"><md-option value>{{_('No Link')}}</md-option><md-option value=media>{{_('Link to media')}}</md-option><md-option value=url>{{_('Link to URL')}}</md-option></md-select></md-input-container><md-input-container ng-show="linkto == 'url'" class=anim-item><label>{{_('Link')}}</label><input type=text name=link ng-model=media.link maxlength=500></md-input-container><div ng-show="linkto != ''" class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=modals/media/media_sheet_video.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><div layout=row><div flex=flex class=text-container><md-switch ng-model=auto aria-label="{{_('Auto Play')}}">{{ _('Auto Play') }}</md-switch></div><div flex=flex class=text-container><md-switch ng-model=media.controls aria-label="{{_('Controls')}}">{{ _('Controls') }}</md-switch></div></div><md-input-container ng-if=posters><label class=static-label>{{_('Poster')}}</label><md-select layout=column flex-order=3 name=poster ng-model=media.poster placeholder="{{_('Select Video Poster')}}"><md-option ng-value=poster.src ng-repeat="poster in posters"><img ng-src={{poster.src|thumbfresh}} alt={{poster.filename}} class=md-avatar><span class="text text-nowrap">{{_(poster.filename)}}</span></md-option></md-select></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised><span class=text>{{_("Ok")}}</span></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=modals/option/option.tmpl.html><md-dialog aria-label="{{_('Option')}}" flex-gt-sm=60 flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Option') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex class=md-padding><form flex=flex novalidate=novalidate name=option_form><md-card><md-card-content flex=flex><div ng-repeat="(key, opt) in structure"><md-input-container ng-if="!opt.select && !opt.switch" layout-margin=layout-margin><label>{{opt.label}}</label><input type=text ng-model=options[key]></md-input-container><md-input-container ng-if=opt.switch layout=row layout-align="start center" layout-margin=layout-margin><p flex=flex>{{opt.label}}</p><div><md-switch ng-model=options[key] aria-label={{opt.label}}></md-switch></div></md-input-container><md-input-container ng-if=opt.select layout-margin=layout-margin><label class=static-label>{{opt.label}}</label><md-select flex-order=2 layout=column aria-label={{opt.label}} ng-model=options[key]><md-option ng-value=op ng-repeat="op in opt.select track by $index"><span class=text>{{op}}</span></md-option></md-select></md-input-container></div></md-card-content></md-card></form></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=restore() class=md-icon-button><md-icon md-svg-icon=action:ic_restore_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-click=save() class="md-raised md-primary"><span class=text>{{ _('Save') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/preset/preset.tmpl.html><md-dialog aria-label="{{_('Content Presets')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Content Presets') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column ng-repeat="preset in presets"><md-card flex=flex ng-class="{'md-whiteframe-z4':isSelected(preset),'selected':isSelected(preset)}" ng-click=toggleSelect(preset) class=preset><md-card-content><p class="text-nowrap text-center">{{_t(preset.name)}}</p></md-card-content><div flex=flex layout=column layout-align="center center"><img ng-if=preset.preview ng-src="{{ preset.preview }}?{{now}}" alt="{{ _t(preset.name) }}"><md-icon ng-show=!preset.preview md-svg-icon=image:ic_crop_free_24px class=s60></md-icon></div><div class="md-actions border-less"></div></md-card></div></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Insert')}}" ng-click=insert() ng-disabled=!selected_preset class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/script/script.tmpl.html><md-dialog aria-label="{{_('Script')}}" flex-gt-sm=60 flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Script') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=script_form ng-submit=insert()><md-dialog-content><md-input-container><label>{{_('Code')}}</label><textarea name=code ng-model=script rows=6 md-maxlength=2000></textarea><p flex-order=3 ng-bind-html="_('* Support Html and Javascript codes.')" class="md-caption tip"></p><ng-messages for=script_form.code.$error ng-if=script_form.code.$touched><ng-message when=md-maxlength>{{_("Code is too long.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"><span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/source/source.tmpl.html><md-dialog aria-label="{{_('Source Code')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Source Code') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=source_form ng-submit=insert() flex=flex><md-dialog-content layout=column flex=flex><div flex=flex class="input-container max"><label class=static-label>{{_('Code')}}</label><textarea name=code ng-model=code rows=12 flex=flex flex-order=2 maxlength=60000 class=content-area></textarea><p flex-order=3 ng-bind-html="_('* Support any Web-based source codes.')" class="md-caption tip"></p></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"><span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/sync/sync.tmpl.html><md-dialog aria-label="{{_('Sync Content')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Sync Content') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex><div ng-if="apps.length <= 0" class=md-padding>{{_('No Content found.')}}</div><md-tabs ng-if="apps.length > 0" md-dynamic-height=md-dynamic-height><md-tab ng-repeat="app in apps" label={{app.title}} md-on-select=switchApp(app)><div layout-gt-sm=row class=tab-content><div class=sidebar><md-subheader class=md-no-sticky>{{_('Content Types')}}</md-subheader><ul><li ng-repeat="type in app.content_types" layout=row><md-button flex=flex ng-click="setContentType(app, type)" ng-disabled="isCurrentType(app, type)"><span class=text>{{_(type.title)}}</span></md-button></li></ul></div><md-list flex=flex><md-subheader class=md-no-sticky>{{_(app.current_content_type.title)}}</md-subheader><md-divider class=dotted></md-divider><div ng-repeat="file in app.files | paginator:paged"><md-list-item class="md-2-line md-padding vertical-center"><div ng-click=toggleSelect(file) class=md-list-item-text><h3 class=text-break>{{ file.meta.title }}</h3><p>{{file.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Sync')}}" ng-click=sync(file) class="md-raised md-primary"><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync')}}</span></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore(app.files)><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></md-list></div></md-tab></md-tabs></md-dialog-content></md-dialog></script><ng-include src="'common/views/mainnav.tmpl.html'" ng-controller=mainNavCtrl layout=column></ng-include><div flex layout=column><ng-include src="'common/views/topnav.tmpl.html'" ng-class="{'top-nav-fixed': root.hasTopNav()}" ng-controller=topNavCtrl></ng-include><md-content flex layout=column ng-class="{'in-editor':root.inEditor()}" class=view-container><ng-view flex layout=column ng-class="{'in-editor':root.inEditor()}" class=view></ng-view></md-content></div><script src=http://libs.soopro.com/browser-detector/browser-detector.js?md5=627fb2ff28></script><script src=server_conf.js?md5=627fb2ff28></script><script src=sup.ng.min.js?md5=627fb2ff28></script><script src=sup.app.min.js?md5=627fb2ff28></script><script src=sup.locale.min.js?md5=627fb2ff28></script></body></html>