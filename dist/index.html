<!doctype html>
<html lang={{lang}} ng-app=boltApp ng-cloak><head><title ng-bind="_('Soopro Manager')"></title><meta http-equiv=content-type content=text/html;charset=utf-8><meta name=robots content="noindex, nofollow"><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=format-detection content=telephone=yes><meta name=X-UA-Compatible content=IE=edge><meta name=renderer content=webkit><link rel="shortcut icon" href=favicon.png?md5=5d878793ec><link rel=apple-touch-icon-precomposed href=favicon.png?md5=5d878793ec sizes=144x144><link rel=stylesheet href=app.min.css?md5=5d878793ec><link rel=stylesheet href=locale.min.css?md5=5d878793ec></head><body layout=row><script type=text/ng-template id=blueprints/404.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section class=text-center flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1>{{_('404 Not Found')}}</h1></header><div><p> {{_('We can not find the page you are looking for, ' + 'click the button below to return.')}} </p><md-button class="md-icon-button md-primary" aria-label="{{_('Back')}}" ng-href=/#/ ><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></div></section></div></div></script><script type=text/ng-template id=blueprints/app/views/apps.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Apps List')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s apps', apps.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="app in apps" flex-gt-lg=25 flex-lg=33 flex-md=50 flex=100 layout=column><md-card ng-click=go(app) flex><md-card-header><md-card-avatar><md-icon class="md-avatar-icon md-primary" md-svg-icon={{types_map[app.type].ico}}></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>{{app.slug}}</span><span class=md-subhead> {{_(types_map[app.type].name)}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-click=go(app) style="{{(app.meta.snapshot||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{app.meta.title || app.id }} </span></md-card-title-text></md-card-title><md-card-content><p class="excerpt md-body-1"> {{app.meta.description || _('No Description') }} </p></md-card-content></md-card></div></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New App')}}" ng-click=create(apps) ng-show="loaded && app_limit > apps.length" ng-disabled=submitted><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=app.create.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('New App')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Create New App')}}
    </h2>

    <!-- create app -->
    <form class="md-padding"
          name="app_form"
          ng-submit="create(app, app_form)"
          novalidate>

      <md-input-container class="md-block selector">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   ng-model="app.type"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="type.key"
                     ng-repeat="type in app_types"
                     ng-if="property.capability >= type.capability">
            {{_(type.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Locale')}}</label>
        <md-select name="locale"
                   ng-model="app.locale"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="loc.code"
                     ng-repeat="loc in locales">
            {{_(loc.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.locale.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('App Slug')}}</label>
        <input name="slug"
               type="text"
               ng-model="app.app_slug"
               ng-pattern="regex_pattern.slug"
               maxlength="120"
               required/>
        <hint for="app_form.slug">
          {{_('* Allow alphanumeric characters or hyphens.')}}
        </hint>
        <ng-messages for="app_form.slug.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="app.meta.title"
               md-maxlength="60"
               required/>
        <ng-messages for="app_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="app.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages for="app_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="create(app, app_form)"
               ng-disabled="submitted">
      {{_('Create')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/category.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _(category.name || 'Categories') }} </span></h1></header><div class=md-padding ng-if="category.allowed === false"><h4 class="md-display-1 draft"> {{_('Category is not activated.')}} </h4><hint class=help ng-click=help_category()> {{_('* Category is active by theme, switch theme if you need it.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div><div ng-if=category.allowed><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection
                                  || terms.length >= terms_limit" ng-click=add_term(terms)> {{_('New Term')}} </md-button><span flex></span><md-button class=md-icon-button ng-click=setting(category) aria-label="{{_('Settings')}}" ng-disabled=sel.selection><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=terms.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s/%s total', terms.length, terms_limit)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Term')}}" ng-repeat="term in terms|paginator:p.paged:p.perpage" ng-class="{'selected': term._selected}" ng-hold="sel.select(term, terms)" ng-click="sel.selection?'':edit_term(term, terms)" delay=!sel.selection><img class="md-avatar img-bg-cover" ng-src={{image.trans}} ng-if=!term.parent style="{{(term.meta.figure||image.trans)
                          |thumbnail|bg_img}}"><div class="md-list-item-text text-nowrap-group" ng-class="{'md-offset': term.parent}"><p ng-class="{'text-strike': !term.status,
                            'md-caption': term.parent}"> {{term.parent?'- ':''}}{{ term.meta.name || term.id }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{term._selected
                       ? 'toggle:ic_radio_button_checked_24px'
                       : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': term.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show="p.paged * p.perpage < terms.length" ng-click=p.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></div></section></div></div><script type=text/ng-template id=app.category.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Category Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Category Settings')}}
    </h2>
    <!-- category form -->
    <form class="md-padding"
          name="category_form"
          ng-submit="submit(category, category_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="category.name"
               md-maxlength="60"
               required/>
        <hint for="category_form.name">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages for="category_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(category, category_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.term.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Term Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{term._new?_('Add New Term'):_('Edit Term')}}
    </h2>
    <!-- term form -->
    <form class="md-padding"
          name="term_form"
          ng-submit="submit(term, term_form)"
          novalidate>

      <md-input-container class="static md-block"
                          ng-show="property.capability > 2">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-xs"
                 ng-click="switch_figure(term, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_16x10}}"
               style="{{(term.meta.figure||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="term.meta.name"
               md-maxlength="60"
               required/>
        <ng-messages for="term_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="term.key"
               maxlength="120"/>
        <hint>{{_('* Alphanumeric characters or hyphens.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block selector amend"
                          ng-show="property.capability > 2">
        <label>{{_('Parent')}}</label>
        <md-select name="parent"
                   ng-disabled="term._is_parent"
                   ng-model="term.parent">
          <md-option ng-value="''">
            {{_('No Parent')}}
          </md-option>
          <md-option ng-repeat="term in parents"
                     ng-value="term.key">
            {{term.meta.name || term.key}}
          </md-option>
        </md-select>
        <hint ng-if="term._is_parent">
          {{_('* Terms can only allow 2 level nested.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.capability > 2">
        <label>{{_('Priority')}}</label>
        <input name="priority"
               type="number"
               step="1"
               ng-model="term.priority" />
        <ng-messages for="term_form.priority.$error">
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch ng-class="{'draft': !term.status}"
                 ng-model="term.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Enabled')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!term._new"
               ng-click="trash(term)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(term, term_form)"
               ng-disabled="submitted">
      {{term._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_appearance.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Appearance')}}</span></h1></header><md-card ng-if="curr_theme.id === null"><md-card-title><md-card-title-text class=text-nowrap-group><span class="md-title draft text-center"> {{_('No theme activated')}} </span></md-card-title-text></md-card-title></md-card><md-card theme-id={{curr_theme.id}} theme-payload-id={{curr_theme.payload_id}} ng-if=curr_theme.id><md-card-header><md-card-avatar><img class=md-avatar ng-src={{curr_theme.meta.icon|now}}></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>{{curr_theme.config.tagname}}</span><span class=md-subhead> {{curr_theme.config.ver}} </span></md-card-header-text></md-card-header><img class=img-bg-contain ng-src={{image.trans_16x10}} style={{curr_theme.meta.poster|now|bg_img}}><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{_(curr_theme.meta.title) || _('Unknown Theme')}} </span></md-card-title-text></md-card-title><md-card-content><p class="md-caption text-nowrap" ng-if=curr_theme.meta.author> {{_('Author')}}{{_(': ')}}{{curr_theme.meta.author}} </p><p class="md-caption text-nowrap" ng-if=curr_theme.meta.uri> {{_('URI')}}{{_(': ')}} <a ng-href={{curr_theme.meta.uri}} target=_blank></a></p></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Theme Options')}}" ng-show="property.capability > 2" ng-click=edit_theme_options(curr_theme)><md-icon md-svg-icon=action:ic_settings_24px></md-icon><md-tooltip md-direction=top> {{_('Theme Options')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Theme Styles')}}" ng-show=property.expert ng-click=edit_theme_styles(curr_theme)><md-icon md-svg-icon=image:ic_style_24px></md-icon><md-tooltip md-direction=top> {{_('Theme Styles')}} </md-tooltip></md-button><span flex></span><md-button class="md-icon-button md-accent" aria-label="{{_('Upgrade Theme')}}" ng-show=curr_theme.upgradeable ng-click=upgrade(curr_theme)><md-icon md-svg-icon=social:ic_notifications_active_24px></md-icon><md-tooltip md-direction=top> {{_('Upgrade Theme')}} </md-tooltip></md-button><md-button class="md-icon-button md-primary" aria-label="{{_('Reload Theme')}}" ng-show=!curr_theme.upgradeable ng-click=reload(curr_theme)><md-icon md-svg-icon=nav:ic_refresh_24px></md-icon><md-tooltip md-direction=top> {{_('Reload Theme')}} </md-tooltip></md-button></md-card-actions></md-card></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Free Themes')}}</span></h2></header><md-list><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-repeat="theme in themes|paginator:p.paged:p.perpage" ng-click=open(theme)><img class=md-avatar ng-src={{theme.meta.icon|now:theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _(theme.meta.title) }}</h3><p>{{ theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !theme.activated}" md-svg-icon="{{theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show="p.paged * p.perpage < themes.length" ng-click=p.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><md-list ng-show=custom_theme.status><md-subheader class=md-no-sticky> {{_('Custom Theme')}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-click="open_custom(custom_theme, curr_theme)"><img class=md-avatar ng-src={{custom_theme.meta.icon|now:custom_theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _(custom_theme.meta.title) }}</h3><p>{{ custom_theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !custom_theme.activated}" md-svg-icon="{{custom_theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item></md-list><div ng-show="custom_theme.status == 0 && property.expert"><h4 class=md-subhead> {{_('Upload Custom Theme')}} </h4><p class=md-body-1> {{_('The custom theme must be a zip file < 6Mb. '+ 'It must be written according our theme engine. '+ 'It is forbidden to include any illegal content or '+ 'malicious code within the custom theme. '+ 'You are responsible for the content, availability, '+ 'and compatibility of your custom theme. '+ 'We cannot guarantee the custom theme always work properly, '+ 'and We have the right to delete any custom themes that. '+ 'have already been uploaded.')}} </p><div class=indent-padding><div class=uploadbox-wrapper layout=column><div class=uploadbox ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ng-file-drop ngf-drag-over-class=file-drag-over ng-click="upload_custom('.custom-theme-upload')" layout=row layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show="upload_status == 1" md-mode=indeterminate md-diameter=60></md-progress-circular><md-icon class="md-warn s48" ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px></md-icon><md-icon class=s48 ng-show=upload_status==3 md-svg-icon=action:ic_done_24px></md-icon></div></div><input class="ng-hide custom-theme-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{mimetypes}}></div></div></section></div></div><script type=text/ng-template id=app.perf.theme.options.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Theme Options')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Theme Options')}}
    </h2>

    <!-- theme options -->
    <form class="md-padding"
          name="theme_options_form"
          ng-submit="save(theme_options, theme_options_form)"
          novalidate>

      <md-input-container class="md-block selector">
        <label>{{_('Sort By')}}</label>
        <md-select name="sortby"
                   ng-model="theme_options.sortby">
          <md-option ng-value="type.key"
                     ng-repeat="type in sortby_types">
            {{_(type.name)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Perpage Number')}}</label>
        <input name="perpage"
               type="number"
               ng-model="theme_options.perpage"
               min="1"
               step="1" />
        <ng-messages for="theme_options_form.perpage.$error">
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector"
                          ng-if="theme_options['@palette']">
        <label>{{_('Palette')}}</label>
        <md-select name="palette"
                   ng-model="theme_options.palette">
          <md-option ng-value="pal"
                     ng-repeat="pal in theme_options['@palette']
                                track by $index">
            <md-icon class="s16"
                     md-svg-icon="toggle:ic_radio_button_checked_24px"
                     style="fill:{{pal}};"></md-icon>
            <span>{{pal.toUpperCase()}}</span>
          </md-option>
        </md-select>
        <ng-messages for="theme_options_form.palette.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>
  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(theme_options, theme_options_form)">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.theme.detail.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Theme Detail')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_(theme_detail.meta.title)}}
    </h2>
    <div class="md-caption text-center">
      {{theme_detail.latest}}
    </div>
    <div class="md-padding">
      <div ng-show="theme_detail.meta.poster">
        <img class="img-bg-contain md-whiteframe-1dp"
             ng-src="{{image.trans_16x10}}"
             style="{{theme_detail.meta.poster
                      |now:theme_detail.updated|bg_img}}" />
      </div>
      <article>
        <p ng-show="theme_detail.meta.author">
          {{_('Author')}}{{_(': ')}}{{theme_detail.meta.author}}
        </p>
        <p class="md-caption text-nowrap"
           ng-show="curr_theme.meta.uri">
          {{_('URI')}}{{_(': ')}}
          <a ng-href="{{curr_theme.meta.uri}}"
             target="_blank"></a>
        </p>
      </article>
    </div>

    <md-divider></md-divider>

    <div class="md-padding">
      <h2 class="md-title text-center">
        {{_('Previews')}}
      </h2>
      <div class="md-margin"
           ng-repeat="preview in theme_detail.meta.previews">
        <img class="md-whiteframe-1dp"
             ng-src="{{preview|now:theme_detail.updated}}"/>
      </div>
      <p class="md-caption draft text-center"
         ng-if="theme_detail.meta.previews.length <= 0">
        {{_('No Preview Image')}}
      </p>
    </div>
  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
                     aria-label="{{_('Remove Theme')}}"
                     ng-show="theme_detail.customized
                              && property.capability > 2"
                     ng-click="trash(theme_detail)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>

    <span flex></span>

    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="theme_detail.activated"
               ng-click="activate(theme_detail)">
      {{theme_detail.activated?_('Activated'):_('Activate')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_extension.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Extensions')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s/%s total', extensions.length, exts_limit)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="extension in extensions" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon md-svg-icon=action:ic_extension_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{extension.meta.title || extension.id}} </span><span class=md-subhead> {{extension.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(extension.meta.poster||image.default)|bg_img}}><md-card-actions layout=row layout-align="space-between center"><md-menu><md-button class=md-icon-button aria-label="{{_('Manage Extension')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click=toggle(extension)> {{extension.status?_('Deactivate'):_('Activate')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="uninstall(extension, extensions)" ng-disabled=submitted> {{_('Uninstall')}} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-primary ng-disabled=!extension.status ng-href={{extension.entrance}} target=_blank> {{extension.status?_('Open'):_('Deactivated')}} </md-button></md-card-actions></md-card></div></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Install Extension')}}</span></h2></header><div><p class=md-body-1> {{_('In order to use those extension, you must to ensure the '+ 'installation file is reliable and updated. '+ 'Once you installed the extension, '+ 'It will able to access your '+ 'contents, members and other informations. '+ 'You can prevent those access by deactivate the extension '+ 'any time.')}} </p></div><div class=space-md></div><div class=uploadbox-wrapper layout=column><div class=uploadbox ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ng-file-drop ngf-drag-over-class=file-drag-over ng-click="install('.ext-installation-upload')" layout=row layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show="upload_status == 1" md-mode=indeterminate md-diameter=60></md-progress-circular><md-icon class="md-warn s48" ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px></md-icon><md-icon class=s48 ng-show=upload_status==3 md-svg-icon=action:ic_done_24px></md-icon></div></div><input class="ng-hide ext-installation-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{mimetypes}}></section></div></div></script><script type=text/ng-template id=blueprints/app/views/pref_options.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('General Options')}}</span></h1></header><form name=app_form ng-submit="save(app, app_form)" novalidate><div layout=row><md-input-container class="md-block static" flex><label>{{_('Logo')}}</label><md-card class=thumbnail ng-click="switch_logo(app, $event)"><img ng-class="{'img-bg-contain': app.meta.logo,
                              'img-bg-lg': !app.meta.logo}" ng-src={{image.trans}} style={{(app.meta.logo||image.default)|bg_img}}><md-tooltip>.png, .jpg</md-tooltip></md-card></md-input-container><md-input-container class="md-block static" flex><label>{{_('Favicon')}}</label><md-card class=thumbnail ng-click="switch_favicon(app, $event)"><img ng-class="{'img-bg-contain': app.meta.favicon,
                              'img-bg-lg': !app.meta.favicon}" ng-src={{image.trans}} style={{(app.meta.favicon||image.default)|bg_img}}><md-tooltip>.png</md-tooltip></md-card></md-input-container></div><md-input-container class="md-block selector"><label>{{_('Locale')}}</label><md-select name=locale ng-model=app.locale ng-disabled=submitted required><md-option ng-value=loc.code ng-repeat="loc in locales"> {{_(loc.name)}} </md-option></md-select><ng-messages for=app_form.locale.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=app.meta.title md-maxlength=60 required><ng-messages for=app_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=app.meta.description md-maxlength=360></textarea><ng-messages for=app_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Keywords')}}</label><md-chips name=tags ng-model=app.tags placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{app.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-input-container class=md-block><label>{{_('Copyright')}}</label><textarea name=copyright ng-model=app.meta.copyright maxlength=600></textarea></md-input-container><md-input-container class=md-block><label>{{_('License')}}</label><textarea name=license ng-model=app.meta.license maxlength=600></textarea></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-click=destroy(app) ng-disabled=submitted><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Advanced Options')}}</span></h2></header><form name=adv_form ng-submit="save_adv(app, adv_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Site URL')}}</label><md-icon md-svg-icon=action:ic_home_24px></md-icon><input name=site_url type=url ng-model=app.site_url md-maxlength=360><hint class=help for=adv_form.site_url ng-click=help_site_url()><span> {{_('* A URL for app public base route. Must with HTTP(s).')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=adv_form.site_url.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Deploy Key')}}</label><md-icon md-svg-icon=comm:ic_vpn_key_24px></md-icon><input name=deploy_key type=text ng-model=app.deploy_key ng-disabled=!property.expert maxlength=64><hint> {{_('* Use to deploy app. Latin or number only.')}} </hint></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Additional Head Metadata')}}</label><md-icon md-svg-icon=action:ic_code_24px></md-icon><textarea name=head_metadata ng-model=app.meta.head_metadata maxlength=960></textarea><hint> {{_('* Add custom HTML head metadata (Allow Multiple lines).')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class=md-raised type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-accent ng-click=toggle_status(app) ng-disabled=submitted><span>{{app.status ? _('Stop') : _('Run')}}</span><md-icon md-svg-icon=av:ic_stop_24px ng-if=app.status></md-icon><md-icon md-svg-icon=av:ic_play_circle_outline_24px ng-if=!app.status></md-icon></md-button></div></form><div class=space-lg></div><div class=space-margin><h3 class="md-caption md-text md-primary"> {{_('Mutli-Languages')}} </h3><md-list><md-list-item ng-repeat="lang in app.meta.languages" ng-click="edit_lang(lang, app.meta.languages,
                                            $index)"><p class="md-body-1 text-nowrap"> {{ lang.key }} - {{ lang.name }} </p></md-list-item><md-list-item aria-label="{{_('New Language')}}" ng-click="edit_lang(null, app.meta.languages)"><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class=space-margin><h3 class="md-caption md-text md-primary"> {{_('Socials')}} </h3><md-list><md-list-item ng-repeat="social in app.meta.socials" ng-click="edit_social(social, app.meta.socials,
                                              $index)"><p class="md-body-1 text-nowrap"> {{ social.key }} - {{ social.name }} </p></md-list-item><md-list-item aria-label="{{_('New Social Media')}}" ng-click="edit_social(null, app.meta.socials)"><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class=space-margin><h3 class="md-caption md-text md-primary"> {{_('Custom Metas')}} </h3><md-list><md-list-item ng-repeat="(k, v) in app.meta.custom" ng-click="edit_custom(k, app.meta.custom)"><p class="md-body-1 text-nowrap"> {{ k }}{{_(': ')}}{{ v }} </p></md-list-item><md-list-item aria-label="{{_('New Custom Meta')}}" ng-click="edit_custom(null, app.meta.custom)"><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><md-divider></md-divider><div class=md-margin><hint> {{_('* Those composite metas is depend on theme supports.')}} </hint></div><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=hardcore(app) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=app.perf.options.lang.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Language')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{lang._new?_('Add New Language'):_('Edit Language')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="lang_form"
          ng-submit="submit(lang, lang_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="lang.name"
               md-maxlength="60"
               required/>
        <ng-messages for="lang_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector amend">
        <label>{{_('Code')}}</label>
        <md-select name="code"
                   ng-model="lang.key"
                   placeholder="{{_('Select a lang code')}}"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="locale.code"
                     ng-repeat="locale in locales">
            {{locale.code}}
          </md-option>
        </md-select>
        <hint for="lang_form.code">
          {{_('* International standard language code.')}}
        </hint>
        <ng-messages for="lang_form.code.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="lang.url"
               md-maxlength="240" />
        <ng-messages for="lang_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(lang)"
               ng-show="!lang._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(lang, lang_form)">
      {{lang._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.social.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Social')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{social._new?_('Add New Social Media'):_('Edit Social Media')}}
    </h2>

    <!-- soical form -->
    <form class="md-padding"
          name="social_form"
          ng-submit="submit(social, social_form)"
          novalidate>

      <md-input-container class="md-block selector">
        <label>{{_('Social Media')}}</label>
        <md-select name="key"
                   ng-model="social.key"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="so_media.code"
                     ng-repeat="so_media in social_medias">
            {{_(so_media.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="social.name"
               md-maxlength="60"
               required/>
        <ng-messages for="social_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="social.url"
               md-maxlength="240" />
        <hint for="social_form.url">
          {{_('* URL of the social media.')}}
        </hint>
        <ng-messages for="social_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block static">
        <label>{{_('Poster')}}</label>
        <md-card ng-click="switch_figure(social, $event)">
          <img class="img-bg-contain"
               ng-src="{{image.trans_16x10}}"
               style="{{(social.figure||image.default)|bg_img}}">
        </md-card>
        <hint>
          {{_('* Use to social media poster or qr code.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.expert">
        <label>{{_('Script')}}</label>
        <textarea name="script"
                  ng-model="social.scirpt"
                  maxlength="1200"></textarea>
        <hint>
          {{_('* Script is provide by the social media. (Optional)')}}
        </hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(social)"
               ng-show="!social._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(social, social_form)">
      {{social._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.custom.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Custom Meta')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Custom Meta')}}
    </h2>

    <!-- meta form -->
    <form class="md-padding"
          name="meta_form"
          ng-submit="submit(meta, meta_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Meta Key')}}</label>
        <input name="key"
               type="text"
               ng-model="meta.key"
               md-maxlength="60"
               required />
        <ng-messages for="meta_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Value')}}</label>
        <input name="value"
               type="text"
               ng-model="meta.value"
               md-maxlength="600"
               required />
        <ng-messages for="meta_form.value.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(meta)"
               ng-show="!meta._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(meta, meta_form)">
      {{meta._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_verify_file.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _('Verify Files') }} </span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=sel.selection ng-click=add(verify_files)> {{_('Add New')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=verify_files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s verify files in list', verify_files.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Verify File')}}" ng-repeat="verify_file in verify_files" ng-class="{'selected': verify_file._selected}" ng-hold="sel.select(verify_file, verify_files)" ng-click="sel.selection ? ''
                                : edit(verify_file, verify_files)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><h3>{{ verify_file.key }}</h3><p>{{ verify_file.value }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{verify_file._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary md-svg-icon=editor:ic_insert_drive_file_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=app.perf.verify.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Verify File')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Verify File')}}
    </h2>

    <form class="md-padding"
          name="verify_file_form"
          ng-submit="submit(verify_file, verify_file_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('File Name')}}</label>
        <input name="key"
               type="text"
               ng-model="verify_file.key"
               ng-disabled="!verify_file._new"
               md-maxlength="240"
               required />
        <hint for="verify_file_form.key">
          {{_('* Type the file name exactly.')}}
        </hint>
        <ng-messages for="verify_file_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('File Content')}}</label>
        <textarea name="value"
                  ng-model="verify_file.value"
                  maxlength="1200"
                  rows="3"
                  required></textarea>
        <hint for="verify_file_form.value">
          {{_('* Type the file content exactly.')}}
        </hint>
        <ng-messages for="verify_file_form.value.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(verify_file)"
               ng-show="!verify_file._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(verify_file, verify_file_form)">
      {{verify_file._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/slot.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _('Widget Slots') }} </span></h1></header><div ng-if=!is_empty><md-subheader class=md-no-sticky> {{_('%s slots in list', slots.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="slot in slots" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-click="edit(slot, slots)" flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-primary': slot.status,
                                      'draft': !slot.status}" md-svg-icon=device:ic_now_widgets_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !slot.status}"> {{ slot.key }} </span><span class=md-subhead> {{slot.status ? _('Activated') : _('Deactivated')}} </span></md-card-header-text></md-card-header></md-card></div></div></div><div class=md-padding ng-if=is_empty><h4 class="md-display-1 draft"> {{_('None widget slot available.')}} </h4><hint class=help ng-click=help_widget_slot()> {{_('* Widget is created by theme, switch theme if you need it.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></section></div></div></script><script type=text/ng-template id=blueprints/crm/views/event_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap" created={{event.creation|dateformat}} modified={{event.updated|dateformat}}><md-icon md-svg-icon="{{event.status
                   ? 'notify:ic_event_available_24px'
                   : 'notify:ic_event_busy_24px'}}"></md-icon><span>{{event.meta.title}}<span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(appointments, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value=1> {{_('Available')}} </md-option><md-option ng-value=0> {{_('Closed')}} </md-option><md-option ng-value=2> {{_('Canceled')}} </md-option><md-option ng-value=null> {{_('By Appointee')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button aria-label="{{_('New Appointment')}}" ng-disabled=sel.selection ng-click="add(appointments, event)"><md-icon md-svg-icon=action:ic_alarm_add_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=appointments.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', appointments.length, event.count)}} </md-subheader><md-list-item class=anim-show-hide aria-label="{{_('Find')}}" ng-show="sel_status == null" ng-click=find_appoint(appointments)><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=action:ic_search_24px></md-icon><span class="md-text md-primary"> {{ _('Find by Appointee') }} </span></div></md-list-item><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Appointment')}}" ng-class="{'selected': appt._selected}" ng-repeat="appt in appointments" ng-hold="sel.select(appt, appointments)" ng-click="sel.selection ? ''
                                : open(appt, appointments, event)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><h3> {{ appt.appointee }} </h3><p ng-class="{'text-strike': appt.status != 1}"> {{ (appt.date || '-') | dateformat }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{appt._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': appt.status == 1}" md-svg-icon="{{
                       appt.status == 1 ? 'action:ic_assignment_ind_24px'
                     : appt.status == 2 ? 'action:ic_assignment_late_24px'
                     : 'action:ic_assignment_turned_in_24px'}}"></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(appointments, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=crm.appointment.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Appointment Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{appt._new ? _('New Appointment') : _('Appointment')}}
    </h2>
    <!-- appointment form -->
    <form class="md-padding"
          name="appt_form"
          ng-submit="submit(appt, appt_form)"
          novalidate>

      <div class="field-container amend">
        <md-datepicker name="date"
                       md-placeholder="{{_('Enter date')}}"
                       ng-model="date"
                       md-open-on-focus></md-datepicker>
        <ng-messages for="appt_form.date.$error">
          <ng-message when="valid">
            {{ _('Must be a date.') }}
          </ng-message>
        </ng-messages>
      </div>

      <div class="md-margin text-center"
           ng-if="member_error">
        <p class="md-body-2 md-text md-warn text-nowrap">
          {{_(member_error.errmsg)}}
        </p>
      </div>

      <md-input-container class="md-block"
                          ng-if="appt.member_login || property.expert">
        <label>{{property.expert?(_('Member')|wrap):_('Member')}}</label>
        <input name="member"
               type="text"
               ng-model="appt.member_login"
               ng-disabled="!property.expert" />
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Appointee')}}</label>
        <input name="appointee"
               type="text"
               ng-model="appt.appointee"
               md-maxlength="60"
               mg-disabled="!appt._new"
               required/>
        <ng-messages for="appt_form.appointee.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Contact')}}</label>
        <input name="contact"
               type="text"
               ng-model="appt.contact"
               md-maxlength="120"/>
        <ng-messages for="appt_form.contact.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Location')}}</label>
        <input name="location"
               type="text"
               ng-model="appt.location"
               md-maxlength="120"/>
        <ng-messages for="appt_form.location.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Status')}}</label>
        <md-select name="status"
                   placeholder="{{_('Status')}}"
                   ng-model="appt.status">
          <md-option ng-value="1">
            {{_('Available')}}
          </md-option>
          <md-option ng-value="0">
            {{_('Closed')}}
          </md-option>
          <md-option ng-value="2">
            {{_('Canceled')}}
          </md-option>
        </md-select>
        <ng-messages for="appt_form.status.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="appt.memo"
                  md-maxlength="600"></textarea>
        <hint>{{_('* Memo is only for yourself to read.')}}</hint>
        <ng-messages for="appt_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

    <!-- extends fields -->
    <md-list ng-if="property.capability > 2">
      <md-subheader class="md-no-sticky">
        {{_('Extended Metas')}}
      </md-subheader>
      <md-list-item class="md-2-line text-nowrap-group"
                    ng-repeat="(k, v) in appt.meta">

        <div class="md-list-item-text text-nowrap-group">
          <h3>{{k}}</h3>
          <p>{{v || _('None')}}</p>
        </div>
        <md-button class="md-secondary"
                   ng-click="remove_meta(k, appt.meta)">
          <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
        </md-button>
      </md-list-item>
    </md-list>

    <form class="md-padding"
          layout="row"
          layout-align="center start"
          ng-submit="add_meta(new_meta, appt.meta)"
          novalidate>

      <md-input-container md-no-float
                          flex="30">
        <input name="meta_key"
               type="text"
               ng-model="new_meta.key"
               placeholder="{{_('Meta Key')}}"
               maxlength="24" />
      </md-input-container>

      <md-input-container md-no-float
                          flex>
        <input name="meta_value"
               ng-model="new_meta.value"
               placeholder="{{_('Value')}}"
               maxlength="600" />
      </md-input-container>

      <md-input-container>
        <md-button class="md-icon-button"
                   aria-label="{{_('Add')}}"
                   ng-disabled="!new_meta.key"
                   type="submit">
          <md-icon md-svg-icon="content:ic_add_circle_24px"></md-icon>
        </md-button>
      </md-input-container>

    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(appt)"
               ng-show="!appt._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(appt, appt_form)"
               ng-disabled="submitted || (member_error && !property.expert)">
      {{appt._new ? _('Create') : _('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/events.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Events')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s/%s total', events.length, event_limit)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="event in events" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'draft': !event.status}" md-svg-icon="{{event.status
                         ? 'notify:ic_event_available_24px'
                         : 'notify:ic_event_busy_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{event.slug}} </span><span class=md-subhead> {{event.meta.title || event.slug }} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_20x10}} ng-click=open(event) style="{{(event.meta.figure||image.default)
                          |thumbnail|bg_img}}"><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Settings')}}" ng-click="edit(event, events)"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-primary ng-click=open(event)> {{_('Manage Appts.')}} </md-button></md-card-actions></md-card></div></div><div class=md-margin><hint> {{_('* You can use events for marketing activities.')}} </hint></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Event')}}" ng-click=create(events) ng-show="loaded && event_limit > events.length"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=crm.event.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Event Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{event._new?_('Add New Event'):_('Event Settings')}}
    </h2>
    <!-- event form -->
    <form class="md-padding"
          name="event_form"
          ng-submit="submit(event, event_form)"
          novalidate>

      <md-input-container class="static md-block">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(event, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(event.meta.figure||image.default)
                        |thumbnail|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="event.meta.title"
               md-maxlength="60"
               required/>
        <ng-messages for="event_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               maxlength="120"
               ng-model="event.slug"/>
        <hint>{{_('* Used for friendly URLs and SEO.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="event.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages for="event_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector"
                          ng-show="event.permit">
        <label>{{_('Member Permission')}}</label>
        <md-select ng-model="event.permit_roles"
                   ng-change="reform_roles(event.permit_roles)"
                   multiple>
          <md-option ng-value="'*'">
            {{_('Everyone')}}
          </md-option>
          <md-option ng-value="role.slug"
                     ng-repeat="role in roles">
            {{role.name}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-switch ng-class="{'draft': !event.permit}"
                 ng-model="event.permit"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Members only')}}
      </md-switch>

      <md-switch ng-class="{'draft': !event.status}"
                 ng-model="event.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Publish')}}
      </md-switch>

      <div class="space-md"></div>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="event.memo"
                  md-maxlength="600"></textarea>
        <hint>{{_('* Memo is only for yourself to read.')}}</hint>
        <ng-messages for="event_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(event)"
               ng-show="!event._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(event, event_form)"
               ng-disabled="submitted">
      {{event._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/members.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=50 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Members')}}</span></h1></header><form name=search_member_form ng-submit="search(members, search_cond)" novalidate><md-input-container class="md-block selector"><label>{{_('Member Role')}}</label><md-select name=type ng-model=search_cond.role><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-repeat="role in roles" ng-value=role.slug> {{role.name || role.slug}} </md-option></md-select></md-input-container><md-input-container class="md-block amend"><label>{{_('Login ID')}}</label><input name=login type=text ng-model=search_cond.login maxlength=600><hint> {{_('* Specify member login ID to narrow the search.')}} </hint></md-input-container><md-button class="md-raised md-primary" type=submit> {{_('Search')}} </md-button></form><div ng-if=queried><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', members.length, total_count)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Member')}}" ng-repeat="member in members" ng-class="{'selected': member._selected}" ng-hold="sel.select(member, members)" ng-click="sel.selection ? ''
                                  : edit(member, members, roles)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><p>{{ member.meta.name || member.login }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{member._selected
                       ? 'toggle:ic_radio_button_checked_24px'
                       : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary md-svg-icon="{{member.status
                       ?'social:ic_person_24px'
                       :'social:ic_person_outline_24px'}}"></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(members, search_cond)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></div></section><section flex-gt-sm=30 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Member Roles')}}</span></h2></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="roles.length >= role_limit" ng-click=add_role(roles)> {{_('Create Member Role')}} {{roles.length || 0}}/{{role_limit}} </md-button></div><md-card ng-repeat="role in roles" ng-click="edit_role(role, roles)"><md-card-header><md-card-avatar><md-icon class=md-avatar-icon md-svg-icon=social:ic_group_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{role.name}} </span><span class=md-subhead> {{role.slug}} </span></md-card-header-text></md-card-header></md-card><div class=md-margin><hint> {{_('* You can create member roles to group up members.')}} </hint></div></section></div></div><script type=text/ng-template id=crm.member.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{member._new?_('Add New Member'):_('Edit Member')}}
    </h2>
    <!-- member form -->
    <form class="md-padding"
          name="member_form"
          ng-submit="submit(member, member_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Login')}}</label>
        <input name="login"
               type="text"
               ng-model="member.login"
               ng-disabled="!member._new"
               maxlength="60"
               required/>
        <ng-messages for="member_form.login.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Points')}}</label>
        <input name="credit"
               type="number"
               step="1"
               ng-disabled="!editing_credit"
               ng-model="credit"/>
        <md-icon md-svg-icon="{{editing_credit ? 'action:ic_lock_open_24px'
                                : 'action:ic_lock_24px'}}"
                 ng-click="toggle_editing_credit()"></md-icon>
        <hint>
          {{_('* Manually modify member points, use it with caution!!')}}
        </hint>
        <ng-messages for="member_form.credit.$error">
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Member Role')}}</label>
        <md-select name="role"
                   ng-model="member.role"
                   ng-disabled="submitted">
          <md-option ng-value="''">
            {{_('Default')}}
          </md-option>
          <md-option ng-value="role.slug"
                     ng-repeat="role in roles">
            {{_(role.name)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-switch ng-class="{'draft': !member.status}"
                 ng-model="member.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Activation')}}
      </md-switch>

      <div class="space-sm"></div>

      <md-input-container class="static md-block">
        <label>{{_('Avatar')}}</label>
        <div class="md-margin s72">
          <img class="img-bg-cover"
               ng-src="{{image.trans}}"
               style="{{(member.meta.avatar||image.avatar)|bg_img}}">
        </div>
      </md-input-container>

      <div class="field-container">
        <label>{{_('Screen Name')}}</label>
        <div class="indent-padding">
          <p class="text-nowrap md-text md-primary">
            <md-icon md-svg-icon="{{ member.meta.gender == 0
                     ? 'custom:ic_gender_female_24px'
                     : member.meta.gender == 1 ? 'custom:ic_gender_male_24px'
                     : 'action:ic_help_24px'}}"></md-icon>
            <span>{{member.meta.name || _('Unknow')}}</span>
          </p>
        </div>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="member.memo"
                  md-maxlength="600"></textarea>
        <hint>{{_('* Memo is only for yourself to read.')}}</hint>
        <ng-messages for="member_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

    <div class="indent-padding">
      <h3 class="md-caption">
        {{_('Member Activities')}} ({{activities.length}})
      </h3>

      <md-list>
        <md-list-item class="md-2-line"
                      ng-repeat="activity in activities">
          <md-icon class="md-avatar-icon"
                   aria-label="{{_('Activity')}}"
                   ng-class="{'draft':!activity.event.status}"
                   md-svg-icon="{{
                     activity.status == 1 ? 'action:ic_assignment_ind_24px'
                   : activity.status == 2 ? 'action:ic_assignment_late_24px'
                   : 'action:ic_assignment_turned_in_24px'}}"></md-icon>
          <div class="md-list-item-text text-nowrap-group select-text">
            <h3>{{activity.appointee}}</h3>
            <p ng-class="{'text-strike': activity.status != 1}">
              - {{activity.date}} @ {{activity.event.meta.title || slug}}
            </p>
          </div>
        <md-list-item>
      </md-list>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(member)"
               ng-show="!member._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(member, member_form)"
               ng-disabled="submitted">
      {{member._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=crm.member.role.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Role Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center"
        created="{{role.creation|dateformat}}"
        modified="{{role.updated|dateformat}}">
      {{role._new ? _('Create Member Role') : _('Edit Member Role')}}
    </h2>
    <!-- member role form -->
    <form class="md-padding"
          name="role_form"
          ng-submit="submit(role, role_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="role.name"
               md-maxlength="24"
               required />
        <ng-messages for="role_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               maxlength="120"
               ng-model="role.slug"/>
        <hint>{{_('* Used for friendly URLs and SEO.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(role)"
               ng-show="!role._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(role, role_form)"
               ng-disabled="submitted">
      {{role._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/erp/views/commodities.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Commodities')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(commodities, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=commodities.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s in list, %s total', commodities.length, limit)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="commodity in commodities" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': commodity._selected}" ng-click="sel.selection?'':edit(commodity)" flex><md-card-header ng-hold="sel.select(commodity, commodities)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-accent': commodity._selected,
                         'md-primary':commodity.status&&!commodity._selected}" md-svg-icon="{{ commodity._selected
                         ? 'action:ic_done_24px'
                         : 'action:ic_shopping_basket_24px' }}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{commodity.name}} </span><span class=md-subhead> {{commodity.min_price|price}} - {{commodity.max_price|price}} </span></md-card-header-text></md-card-header></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click="get_more(commodities, sel_status)" flex><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-card></div></div><div class="md-padding text-center draft" ng-if="loaded && !commodities.length"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Click the button bottom right to add a new one.')}} </p></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Commodity')}}" ng-click=create() ng-show="!sel.selection && commodities.length < limit"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/erp/views/commodity_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap"><md-icon ng-class="{'md-primary': commodity.status}" ng-if=commodity.id md-svg-icon=action:ic_shopping_basket_24px></md-icon><span> {{commodity._new?_('New Commodity'):commodity.name}} <span></h1></header><form name=commodity_form ng-submit="save(commodity, commodity_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Name')}}</label><input name=name type=text ng-model=commodity.name ng-disabled=sel.selection md-maxlength=60 required><hint for=commodity_form.name> {{_('* Name can be modify when add to shelf.')}} </hint><ng-messages for=commodity_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-row amend"><div layout=row><md-input-container flex><label>{{_('Min. Price')}}</label><input name=min_price type=number min=0 ng-model=min_price></md-input-container><md-input-container flex><label>{{_('Max. Price')}}</label><input name=max_price type=number min=0 ng-model=max_price></md-input-container><md-icon class=md-primary aria-label="{{_('Calculate')}}" ng-click="get_price_between(commodity, sku_list)" ng-disabled="sel.selection || !sku_list.length" md-svg-icon=custom:ic_calculate_24px></md-icon></div><hint> {{_('* The Min. and Max. Price can be calculated '+ 'after SKU is entered.')}} </hint></div><div class="field-container amend"><label>{{_('Spec. Options')}}</label><md-card ng-repeat="item in commodity.spec" ng-disabled=sel.selection ng-click="edit_spec(item, commodity.spec, $index)"><md-card-content><span class="md-body-2 text-nowrap" key={{item.key}}> {{item.label}} </span><div class=space-padding layout=row layout-wrap><div ng-repeat="opt in item.options" flex=25><div class=card-wrap-item layout=column layout-align="center center"><div class="plain-text md-caption text-nowrap" ng-if=!opt.src> {{opt.value}} </div><img class=img-bg-cover ng-if=opt.src ng-src={{image.trans}} style={{opt.src|bg_img}}><md-tooltip ng-if=opt.src> {{opt.value}} </md-tooltip></div></div></div></md-card-content></md-card><md-button class="md-primary anim-show-hide" ng-click=add_spec(commodity.spec) ng-disabled=sel.selection ng-show="commodity.spec.length < spec_limit"><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><span> {{_('New Spec. Option')}} {{commodity.spec.length}}/{{spec_limit}} </span></md-button><div><hint class="md-text md-warn" ng-if=missing_specs> {{_('At least one Spec.')}} </hint></div></div><md-input-container class="md-block amend"><label>{{_('Memo')}}</label><textarea name=memo ng-model=commodity.memo ng-disabled=sel.selection md-maxlength=600></textarea><hint>{{_('* Memo is only for yourself to read.')}}</hint><ng-messages for=commodity_form.memo.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !commodity.status}" ng-model=commodity.status ng-disabled=sel.selection ng-true-value=1 ng-false-value=0> {{_('Put on sale')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="submitted || sel.selection" type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=commodity.id ng-disabled=sel.selection ng-click=trash(commodity)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span> {{_('Stock Management')}} <span></h2></header><div class="md-padding text-center draft" ng-if="loaded && !commodity.allow_sku"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Manage stock units after finish the Commodity Spec. seted.')}} </p></div><div ng-if="loaded && commodity.allow_sku"><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection
                     || (sku_limit <= sku_list.length && commodity.is_various)
                     || (sku_list.length >= 1 && !commodity.is_various)" ng-click="add_sku(commodity, sku_list)"> {{_('New SKU')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-disabled=!commodity.id ng-show=sku_list.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{commodity.is_various ? _('%s/%s total', sku_list.length, sku_limit) : _('Only one SKU is allowed')}} </md-subheader><div class="md-padding text-center" ng-if="!sku_list.length && commodity.is_various"><md-icon class="s60 draft" md-svg-icon=action:ic_add_shopping_cart_24px ng-click="batch_add_sku(commodity, sku_list)" ng-disabled=sel.selection></md-icon><div class="md-margin md-caption md-text draft"> {{_('Click here to batch generate SKU')}} </div></div><md-list-item class="md-3-line text-nowrap-group" aria-label="{{_('Manage SKU')}}" ng-class="{'selected': sku._selected}" ng-repeat="sku in sku_list" ng-hold="sel.select(sku, sku_list)" ng-click="sel.selection
                        ? '' : edit_sku(sku, commodity, sku_list)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><h3>{{ sku.detail }}</h3><h4> {{ _('Unit Price')}} {{ sku.price|price }} </h4><p> {{ _('Quantity') }} {{ sku.qty }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{sku._selected
                       ? 'toggle:ic_radio_button_checked_24px'
                       : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-if=!sku.status md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon><md-icon class=md-primary ng-if=sku.status md-svg-icon=action:ic_shopping_cart_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* You must to set multiple spec. options to add various '+ 'stock unit, otherwise the commodity can only have one '+ 'stock unit. When you modified the commodity spec. options, '+ 'you must save the commodity then change all SKU as well. '+ 'SKU will be offline when it is unavailable or duplicated.')}} </hint></div></div></section></div></div><script type=text/ng-template id=erp.commodity.specitem.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Commodity Spec. Option')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ _('Commodity Spec. Option')}}
    </h2>

    <!-- commodity specitem form -->
    <form class="md-padding"
          name="commodity_specitem_form"
          ng-submit="submit(specitem, commodity_specitem_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Label')}}</label>
        <input name="label"
               type="text"
               ng-model="specitem.label"
               md-maxlength="24"
               required />
        <ng-messages for="commodity_specitem_form.label.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="field-container amend">
        <label>{{_('Option Tabs')}}</label>

        <div class="space-margin"
             ng-repeat="opt in specitem.options"
             layout="row"
             layout-align="start center">
          <div class="md-padding short">
            <img class="s48 safe-media-bg img-bg-cover"
                 ng-src="{{image.trans}}"
                 ng-click="select_item_figure(opt, $event)"
                 ng-if="opt.src"
                 style="{{opt.src|bg_img}}"/>
            <md-icon class="s48 md-primary"
                     ng-if="!opt.src"
                     ng-click="select_item_figure(opt, $event)"
                     md-svg-icon="image:ic_photo_24px"></md-icon>
          </div>
          <md-input-container class="tight md-block"
                              md-no-float
                              flex>
            <input type="text"
                   ng-model="opt.value"
                   placeholder="{{_('Empty')}}"
                   maxlength="24"/>
            <md-icon ng-click="remove_item_option(specitem.options, $index)"
                     md-svg-icon="content:ic_clear_24px"></md-icon>
          </md-input-container>
        </div>
        <div class="md-margin">
          <hint class="md-text md-warn"
                ng-if="missing_options">
            {{_('At least one option.')}}
          </hint>
        </div>
        <md-button class="md-primary anim-show-hide"
                   ng-show="specitem.options.length < opt_limit"
                   ng-click="add_item_option(specitem.options)">
          {{_('Add Option')}}
          {{specitem.options.length}}/{{opt_limit}}
        </md-button>
      </div>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               maxlength="120"
               ng-model="specitem.key"/>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="specitem._index"
               required />
        <ng-messages for="commodity_specitem_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(specitem)"
               ng-show="!specitem._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(specitem, commodity_specitem_form)">
      {{ specitem._new?_('Add'):_('Confirm')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=erp.sku.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage SKU')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{sku._new ? _('New SKU') : _('Edit SKU')}}
    </h2>
    <!-- sku form -->
    <form class="md-padding"
          name="sku_form"
          ng-submit="submit(sku, sku_form)"
          novalidate>

      <md-input-container class="md-block selector"
                          ng-repeat="specitem in commodity.spec">
        <label>{{specitem.label}}</label>
        <md-select name="{{specitem.key}}"
                   ng-model="sku.attrs[specitem.key]"
                   required>
          <md-option ng-value="opt.value"
                     ng-repeat="opt in specitem.options">
            {{_(opt.value)}}
          </md-option>
        </md-select>
        <ng-messages for="sku_form[specitem.key].$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Unit Price')}}</label>
        <input name="price"
               type="number"
               ng-model="price"
               min="0"
               required />
        <hint for="sku_form.price">
          {{_('* A Currency, e.g. `16.61`')}}
        </hint>
        <ng-messages for="sku_form.price.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Quantity')}}</label>
        <input name="qty"
               type="number"
               step="1"
               ng-model="sku.qty"
               min="0"
               required />
        <ng-messages for="sku_form.qty.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(sku)"
               ng-show="!sku._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(sku, sku_form)"
               ng-disabled="submitted">
      {{sku._new ? _('Create') : _('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=erp.sku.batch.tmpl.html>
<md-dialog class="max-size-md"
           ng-class="{'max-size-lg': sku_list.length}"
           aria-label="{{_('SKU Batch Generation')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('SKU Batch Generation')}}
    </h2>
    <!-- batch sku form -->
    <form class="md-padding"
          name="batch_sku_form"
          ng-submit="generate(price, qty, sku_list, batch_sku_form)"
          ng-if="!sku_list.length"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Unit Price')}}</label>
        <input name="price"
               type="number"
               ng-model="price"
               min="0"
               required />
        <hint for="batch_sku_form.price">
          {{_('* A Currency, e.g. `16.61`')}}
        </hint>
        <ng-messages for="batch_sku_form.price.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Quantity')}}</label>
        <input name="qty"
               type="number"
               step="1"
               ng-model="qty"
               min="0"
               required />
        <ng-messages for="batch_sku_form.qty.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-button class="md-primary"
                 ng-click="generate(price, qty, sku_list, batch_sku_form)">
        {{_('Generate SKU by all spec. options')}}
      </md-button>
    </form>

    <div class="md-margin"
         ng-if="sku_list.length">
      <hint>{{_('* When the total numbers of SKU is reched the limit, '+
                'it will be generate with the maximum limit.')}}</hint>
    </div>
    <div class="bordered dotted rounded md-padding md-margin"
         layout="row"
         layout-align="center center"
         ng-repeat="sku in sku_list">
      <div class="md-padding text-break"
           flex>
        <span ng-repeat="(k, v) in sku.attrs">{{v}}{{$last?'':'/'}}</span>
      </div>
      <md-input-container class="nonerr"
                          flex="20">
        <label>{{_('Price')}}</label>
        <input ng-model="sku.price"
               type="number"
               min="0">
      </md-input-container>
      <md-input-container class="nonerr"
                          flex="20">
        <label>{{_('Quantity')}}</label>
        <input ng-model="sku.qty"
               type="number"
               step="1"
               min="0">
      </md-input-container>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(sku_list)"
               ng-disabled="submitted || !sku_list.length">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/erp/views/discount_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap"><md-icon ng-class="{'md-primary': discount.status}" ng-if=discount.id md-svg-icon={{icon_map[discount.type]}}></md-icon><span> {{discount._new?_('New Discount'): discount.tagname}} <span></h1></header><form name=discount_form ng-submit="save(discount, links, discount_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Tagname')}}</label><input name=tagname type=text ng-model=discount.tagname md-maxlength=60 required><md-icon md-svg-icon=maps:ic_layers_24px ng-click=edit_tag_alias(discount)></md-icon><hint for=discount_form.tagname> {{_('* Use to display with commoidty.')}} </hint><ng-messages for=discount_form.tagname.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Type')}}</label><md-select name=type placeholder="{{_('Type')}}" ng-model=discount.type required><md-option ng-repeat="type in types" ng-value=type.key> {{_(type.label)}} </md-option></md-select><ng-messages for=discount_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend" ng-show="discount.type == 'coupon'"><label>{{_('Discount Rate')}}</label><md-slider-container><md-slider min=10 max=95 step=5 ng-model=discount.rate aria-label="{{_('Discount Rate')}}" md-discrete md-invert></md-slider></md-slider-container><hint> {{_('* For commodity price %off.')}} </hint></div><div class="field-row amend" ng-show="discount.type == 'voucher'"><div layout=row><md-input-container flex><label>{{_('Voucher Worth')}}</label><input name=worth type=number min=0 ng-model=worth></md-input-container><md-input-container flex><label>{{_('Spend reached to')}}</label><input name=spend type=number min=0 ng-model=spend></md-input-container></div><hint> {{_('* For order payment discount when spend enough.')}} </hint></div><md-input-container class="md-block amend"><label>{{_('Memo')}}</label><textarea name=memo ng-model=discount.memo md-maxlength=600></textarea><hint>{{_('* Memo is only for yourself to read.')}}</hint><ng-messages for=discount_form.memo.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !discount.status}" ng-model=discount.status ng-true-value=1 ng-false-value=0> {{_('Available')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=discount.id ng-click=trash(discount)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span> {{_('Discounted Commodities')}} <span></h2></header><div class="md-padding text-center draft" ng-if="loaded && !discount.id"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Manage discounted commodities after Discount seted.')}} </p></div><div class="md-padding text-center draft" ng-if="loaded && discount.id && !links.length"><div class=md-padding><md-icon class=s96 md-svg-icon=action:ic_add_shopping_cart_24px></md-icon></div><p class=md-caption> {{_('Please add some commodities before set the Discount.')}} </p></div><div ng-if="loaded && discount.id && links.length"><div layout=row layout-align="space-between center"><md-button class=md-raised ng-click=toggle_select_all(links)><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon><span>{{_('Toggle Select All')}}</span></md-button></div><md-list><md-list-item class=text-nowrap-group aria-label="{{_('Manage SKU')}}" ng-repeat="link in links"><md-checkbox ng-model=link.linked ng-change="linked_change(link, links)"></md-checkbox><p>{{ link.name }}</p><md-icon class=md-secondary ng-class="{'md-primary': link.status}" md-svg-icon="{{link.status
                     ? 'action:ic_shopping_cart_24px'
                     : 'action:ic_remove_shopping_cart_24px'}}"></md-icon></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* Please choose Commodity to join the discount. '+ 'If the same commodity joined various discounts, '+ 'only the most favorable discount will be triggered '+ 'at the time of purchase.')}} </hint></div></div></section></div></div><script type=text/ng-template id=erp.discount.tag.alias.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Tagname Alias')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Tagname Alias')}}
    </h2>
    <form class="md-padding"
          name="tag_alias_form"
          ng-submit="save(tag_alias_map, tag_alias_form)"
          novalidate>

      <div class="space-padding md-box text-center">
        <hint>{{_('Use tagname alias if you need distinguish locales.')}}</hint>
      </div>

      <md-input-container class="md-block"
                          ng-repeat="loc in locales">
        <label>{{loc.name}}</label>
        <input name="{{loc.code}}"
               type="text"
               ng-model="tag_alias_map[loc.code]"
               md-maxlength="60" />
        <ng-messages for="tag_alias_form[loc.code].$error">
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Remove')}}"
               ng-click="remove()">
      <md-icon md-svg-icon="content:ic_remove_circle_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(tag_alias_map, tag_alias_form)">
      {{_('Confirm')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/erp/views/discounts.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Discounts')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_type ng-disabled=sel.selection ng-change="change_status(discounts, sel_type)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-repeat="type in types" ng-value=type.key> {{_(type.label)}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=discounts.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s/%s total', discounts.length, limit)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="discount in discounts" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': discount._selected}" ng-click="sel.selection?'':edit(discount)" flex><md-card-header ng-hold="sel.select(discount, discounts)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-accent': discount._selected,
                         'md-primary': discount.status&&!discount._selected}" md-svg-icon="{{ discount._selected
                         ? 'action:ic_done_24px'
                         : icon_map[discount.type] }}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{discount.tagname}} </span><span class=md-subhead ng-if="discount.type == 'coupon'"> {{discount.rate}}% </span><span class=md-subhead ng-if="discount.type == 'voucher'"> {{_('Spend %s, -%s', discount.spend|price, discount.worth|price)}} </span></md-card-header-text></md-card-header></md-card></div></div><div class="md-padding text-center draft" ng-if="loaded && !discounts.length"><div class=md-padding><md-icon class=s96 md-svg-icon=maps:ic_local_play_24px></md-icon></div><p class=md-caption> {{_('Click the button bottom right to add a new one.')}} </p></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Discount')}}" ng-click=create() ng-show="!sel.selection && discounts.length < limit"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/erp/views/orders.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Orders')}}</span></h1></header><form name=search_order_form ng-submit="search(orders, search_cond)" novalidate><div layout-gt-sm=row><div flex-gt-sm=45><md-input-container class="md-block selector"><label>{{_('Type')}}</label><md-select name=type ng-model=search_cond.status ng-disabled=search_specified><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-repeat="type in order_types" ng-if=!type.skip_select ng-value=type.key> {{_(type.label)}} </md-option></md-select></md-input-container><div layout=row><div class=field-container flex><label>{{_('Start Date')}}</label><md-datepicker name=start_date ng-model=start_date ng-change=change_date(search_cond) ng-disabled=search_specified md-max-date=max_date md-placeholder="{{_('Start Date')}}" md-open-on-focus></md-datepicker></div><div class=field-container flex><label>{{_('End Date')}}</label><md-datepicker name=end_date ng-model=end_date ng-change=change_date(search_cond) ng-disabled=search_specified md-max-date=max_date md-placeholder="{{_('End Date')}}" md-open-on-focus></md-datepicker></div></div><div class=space-padding><hint class=md-text ng-class="{'md-warn': error_time_between}"> {{_('* Up to %s days between start and end dates. '+ 'Type and Date option will be disabled when Trade ID '+ 'and Transaction ID is given.', days_between)}} </hint></div></div><div flex-gt-sm=45 flex-offset-gt-sm=10><md-input-container class="md-block amend"><label>{{_('Trade ID')}}</label><input name=name type=text ng-model=search_cond.trade_id maxlength=600><hint> {{_('* Trade ID is automatically generated when make order. '+ 'It can usually be found in store apps.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Transaction ID')}}</label><input name=name type=text ng-model=search_cond.transaction_id maxlength=600><hint> {{_('* Transaction ID is generated by the payment service. '+ 'It can usually be found in payment history.')}} </hint></md-input-container></div></div><div layout-gt-xs=row><md-button class="md-raised md-primary" type=submit> {{_('Search')}} </md-button><md-button class=md-raised ng-click="list_delivery_orders(orders, search_cond)"> {{_('Orders to be delivery')}} </md-button><span flex></span><md-button class=md-icon-button ng-click=print(search_cond) ng-disabled=!orders.length aria-label="{{_('Print')}}"><md-icon md-svg-icon=action:ic_print_24px></md-icon></md-button></div></form><div class=space-padding ng-if=queried><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s in list, %s total', orders.length, total_orders)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="order in orders" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-click="open(order, orders)" flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-accent': order._modified,
                           'md-warn': order.status == -1 && !order._modified,
                           'md-primary': order.status && !order._modified}" md-svg-icon="{{ icon_map[order.status] }}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{order.name}} </span><span class=md-subhead> {{order.trade_id}} </span></md-card-header-text></md-card-header></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click=get_more(orders) flex><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-card></div></div></div></section></div></div><script type=text/ng-template id=erp.order.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Order')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <div layout="row">
      <div class="s24"></div>
      <h2 class="md-title text-center text-upper select-text"
          flex>
        NO.{{order.trade_id}}
      </h2>
      <div>
        <md-icon class="md-primary"
                 md-svg-icon="content:ic_content_copy_24px"
                 ng-clipboard="clipboard(order)"></md-icon>
      </div>
    </div>

    <!-- order form -->
    <form class="md-padding"
          name="order_form"
          ng-submit="submit(order, order_form)"
          novalidate>
      <md-input-container class="md-block selector">
        <label>{{_('Status')}}</label>
        <md-select name="status"
                   ng-model="order.status">
          <md-option ng-repeat="type in order_types"
                     ng-disabled="type.skip_select"
                     ng-value="type.key">
            {{_(type.label)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-if="order.status == 2">
        <label>{{_('Delivery Number')}}</label>
        <input name="delivery"
               ng-model="order.delivery"
               maxlength="600"
               required />
        <ng-messages for="order_form.delivery.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="order.status == 4">
        <label>{{_('Refund ID')}}</label>
        <input name="refund_id"
               ng-model="order.refund_id"
               maxlength="600"
               required />
        <hint for="order_form.refund_id">
          {{_('* You must operate a refund on the payment platform.')}}
        </hint>
        <ng-messages for="order_form.refund_id.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <!-- order info -->
      <div class="field-container">
        <label>{{_('Merchant')}}</label>
        <div class="indent-padding">
          <p class="md-caption select-text">
            {{order.method}} - {{order.merchant_id}}
          </p>
        </div>
      </div>

      <div class="field-container">
        <label>{{_('Transaction')}}</label>
        <div class="indent-padding">
          <p class="md-text md-primary">{{order.payment|price}}</p>
          <p class="md-caption select-text md-text"
             ng-class="{'md-warn': !order.transaction_id}">
            {{order.transaction_id || _('Unknown transaction')}}
          </p>
          <p class="md-caption">{{order.creation|dateformat}}</p>
        </div>
      </div>

      <div class="field-container"
           ng-if="member.id">
        <label>{{_('Member')}}</label>
        <div class="indent-padding">
          <p class="md-text md-primary">{{member.meta.name}}</p>
          <p class="md-caption">{{member.login}}</p>
          <p class="md-caption md-text md-accent">
            {{_('Use %s points.', order.spent_credit)}}
          </p>
        </div>
      </div>

      <div class="field-container">
        <label>{{_('Delivery')}}</label>
        <div class="indent-padding">
          <p class="md-caption">{{order.recipient}}</p>
          <p class="md-caption">{{order.delivery || '-'}}</p>
          <p class="md-caption">{{order.courier_fee|price}}</p>
        </div>
      </div>

      <div class="field-container">
        <label>{{_('Note')}}</label>
        <div class="indent-padding">
          <p class="md-caption">{{order.note || '-'}}</p>
        </div>
      </div>

      <div class="field-container amend">
        <label>{{_('Commodities')}}</label>
        <div class="indent-padding"
             ng-repeat="item in order.items">
          <p class="md-caption">
            [{{item.amount}}] {{item.name}}
            - {{item.detail}}
            - {{item.price|price}}
          </p>
          <p ng-if="item.discounts.length">
            &lt; {{item.discounts.join(' | ')}} &gt;
          </p>
          <md-divider></md-divider>
        </div>
      </div>

      <md-input-container class="md-block amend">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="order.memo"
                  md-maxlength="600"></textarea>
        <hint>{{_('* Memo is only for yourself to read.')}}</hint>
        <ng-messages for="order_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

    </form>

  </md-dialog-content>
  <md-dialog-actions layout="end center">
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(order, order_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/gate/views/login.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><md-icon class=logo md-svg-src=logo.svg></md-icon></header><form name=auth_form ng-submit="login(auth, auth_form)" novalidate><md-input-container class=md-block><label>{{_('Account')}}</label><input name=login type=email ng-model=auth.login required><ng-messages for=auth_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Password')}}</label><input name=passwd type=password ng-model=auth.passwd ng-pattern=regex_pattern.passwd required><ng-messages for=auth_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Login')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/recovery> {{_('Forget password?')}} </md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/recovery.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Recovery')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(rec, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=rec.login ng-disiabled=checked required><ng-messages for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><form name=rec_form layout=column ng-show=step==1 ng-submit="recovery(rec, rec_form)" novalidate><div><p> {{_('An Recovery captcha has been sent to %s.', rec.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Recovery captcha')}}</label><input name=captcha type=text ng-model=rec.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(rec)></md-icon><ng-messages for=rec_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=rec.passwd maxlength=50 ng-pattern=regex_pattern.passwd required><hint for=rec_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=rec_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password maxlength=50 ng-model=rec.passwd2 password-verify=rec.passwd required><ng-messages for=rec_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Recovery')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been recovered.', rec.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class=md-raised ng-disabled=submitted ng-href=/#/gate/login> {{_('Go Login')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/register.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Register')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(reg, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=reg.login ng-disiabled=checked required><ng-messages for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Invitation Code')}}</label><input name=code type=text ng-model=reg.code maxlength=100 ng-required=invite_required><ng-messages for=check_form.code.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><form name=reg_form ng-show="step == 1" ng-submit="register(reg, reg_form)" novalidate><div><p> {{_('A Register captcha has been sent to %s.', reg.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Register captcha')}}</label><input name=captcha type=text ng-model=reg.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(reg)></md-icon><ng-messages for=reg_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=slug type=text ng-model=reg.slug ng-pattern=regex_pattern.slug md-maxlength=24 required><hint for=reg_form.slug> {{_('* Alphanumeric characters or hyphens.')}} </hint><ng-messages for=reg_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('Set Password')}}</label><input name=passwd type=password ng-model=reg.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=reg_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=reg_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=reg.passwd2 password-verify=reg.passwd maxlength=60 required><ng-messages for=reg_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Create')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go to login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been registered.', reg.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class="btn md-raised" ng-disabled=submitted ng-href=/#/ > {{_('Enter')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/info/views/info.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header layout-align-gt-xs="start center" layout-align="center center"><md-icon class=logo md-svg-src=logo.svg></md-icon></header><article ng-if="lang == 'en'"><p> This is a cloud base content creation software, Aka., Content as a Service. </p><p> We can help you eaiser manage multi-channel online contents. such as Brand Website, WeChat Buzz, Mobile Showreel and Manuscript. In addition, We also provide a lightweight CRM system, it can help you manage members, appointments, coupons and so on. </p></article><article ng-if="lang == 'zh'"><p>  </p><p>   CRM </p></article><md-divider></md-divider><div><p class=md-caption> {{_('R.I.P: %s', project.rip.join(', '))}} </p><p class=md-caption> {{_('Version: %s %s', project.name, project.version)}} </p><p class=md-caption> {{_('Creators: %s', project.creator.join(', '))}} </p></div></section></div></div></script><script type=text/ng-template id=blueprints/media/views/media.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Media Files')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Repository')}}" ng-model=sel_repo ng-disabled="sel.selection || isolated" ng-change="change_repo(mediafiles, sel_repo)"><md-optgroup label="{{_('Generic')}}" ng-if=!isolated><md-option ng-value="'g'"> {{_('User')}} </md-option><md-option ng-value="'g.erp'"> {{_('Invoicing')}} </md-option><md-option ng-value="'g.crm'"> {{_('Marketing')}} </md-option></md-optgroup><md-optgroup label="{{_('Apps')}}" ng-if="isolated || property.expert"><md-option ng-repeat="repo in repositories" ng-value=repo.slug> {{repo.meta.title || repo.slug}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=mediafiles.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', mediafiles.length, storage.used)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Media')}}" ng-repeat="media in mediafiles" ng-class="{'selected': media._selected}" ng-hold="sel.select(media, mediafiles)" ng-click="sel.selection?'':edit(media, mediafiles)" delay=!sel.selection><img class="md-avatar img-bg-cover" ng-if="media.type == 'image'" ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}><md-icon class=md-avatar-icon md-svg-icon={{media_icons[media.type]}} ng-if="media.type != 'image'"></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ media.filename || '-' }}</h3><p>&nbsp;- {{ media.mimetype }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{media._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary md-svg-icon=image:ic_brush_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(mediafiles, sel_repo)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=media.edit.tmpl.html>
<md-dialog aria-label="{{_('Media Edit')}}"
           flex>
  <md-toolbar class="bg-trans md-hue-3">
    <div class="md-toolbar-tools">
      <span>
        {{_('Media Edit')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('URL')}}"
                 ng-click="open_url(media.src)">
        <md-icon md-svg-icon="content:ic_link_24px"></md-icon>
      </md-button>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content layout="row"
                     flex>
    <!-- edit area -->
    <div class="media-preview"
         ng-if="!editable_media"
         layout="column"
         layout-align="center center"
         flex>
      <img ng-src="{{media.src}}"
           ng-if="media.type == 'image'"
           flex />
      <video ng-src="{{media.src}}"
             ng-if="media.type == 'video'"
             controls></video>
      <audio ng-src="{{media.src}}"
             ng-if="media.type == 'audio'"
             controls></audio>
      <md-icon class="s96"
               md-svg-icon="{{media_icons[media.type]}}"
               ng-if="media.type == 'application'"></md-icon>
    </div>
    <div ng-if="editable_media && media.src"
         layout="column"
         layout-align="center center"
         flex>
      <div class="media-editor md-accent"
           flex="80">
        <div bagua-image-editor
             img-src="media.original"
             img-recipe="media.recipe">
        </div>
      </div>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(media)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="submitted"
               ng-click="save(media)">
      {{editable_media ? _('Save') : _('Refresh')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/station/views/modern.html><div class=station layout=row flex><div class=editor-sidebar layout=column ng-class="{'mobile': is_mobile}" ng-show=sidebar_opened><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Back') }}" ng-click=back()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><md-tooltip md-direction=right> {{_('Back')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group show-gt-sm hide><md-button class=md-icon-button aria-label="{{ _('Desktop') }}" ng-disabled="device == 'desktop'" ng-click="select_device('desktop')"><md-icon md-svg-icon=hardware:ic_computer_24px></md-icon><md-tooltip md-direction=right> {{_('Desktop')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Tablet') }}" ng-disabled="device == 'tablet'" ng-click="select_device('tablet')"><md-icon md-svg-icon=hardware:ic_tablet_24px></md-icon><md-tooltip md-direction=right> {{_('Tablet')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Smartphone') }}" ng-disabled="device == 'phone'" ng-click="select_device('phone')"><md-icon md-svg-icon=hardware:ic_smartphone_24px></md-icon><md-tooltip md-direction=right> {{_('Smartphone')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Preview') }}" ng-href={{file.url|now:file.updated}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><md-tooltip md-direction=right> {{_('Preview')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Property') }}" ng-click=property_toggle()><md-icon md-svg-icon=action:ic_assignment_24px></md-icon><md-tooltip md-direction=right> {{_('Property')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Save') }}" ng-click="save(file, property_form)"><md-icon md-svg-icon=content:ic_save_24px></md-icon><md-tooltip md-direction=right> {{_('Save')}} </md-tooltip></md-button></div><md-divider></md-divider><span flex></span><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Delete') }}" ng-disabled=file.locked ng-click=trash(file)><md-icon md-svg-icon=action:ic_delete_24px></md-icon><md-tooltip md-direction=right> {{_('Delete')}} </md-tooltip></md-button></div></div><div class=editor-body layout=row flex><div id=saw-editor-toolbar class="modern-editor-toolbar anim-show-hide md-whiteframe-1dp" ng-show=toolbar_opened><md-menu md-offset="0 -5"><md-button class=select-text-style ng-click=$mdMenu.open($event) md-no-ink ng-init="text_type={
                div: 'Text',
                p: 'Paragraph',
                blockquote: 'Quote',
                h2: 'Title',
                h3: 'Subtitle',
                h4: 'Heading',
                h5: 'Subhead',
             }"><span>{{_(text_type[curr_text_type] || 'Text')}}</span><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button><md-menu-content class=editor-text-style-menu width=2><md-menu-item><md-button class=btn-p> {{_(text_type.p)}} </md-button></md-menu-item><md-menu-item><md-button class=btn-blockquote> {{_(text_type.blockquote)}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-h2><span class=md-headline>{{_(text_type.h2)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h3><span class=md-title>{{_(text_type.h3)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h4><span class=md-subhead>{{_(text_type.h4)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h5><span class=md-body-2>{{_(text_type.h5)}}</span></md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-div> {{_(text_type.div)}} </md-button></md-menu-item></md-menu-content></md-menu><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Font Size')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_size_24px></md-icon></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-big>{{_('Big')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-small>{{_('Small')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sub>{{_('Subscript')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sup>{{_('Superscript')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-i" aria-label="{{_('Italic')}}"><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button class="md-icon-button btn-b" aria-label="{{_('Bold')}}"><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button class="md-icon-button btn-strike" aria-label="{{_('Strikethrough')}}"><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button class="md-icon-button btn-underline" aria-label="{{_('Underline')}}"><md-icon md-svg-icon=editor:ic_format_underlined_24px></md-icon></md-button><md-button class="md-icon-button btn-mark" aria-label="{{_('Mark Text')}}"><md-icon md-svg-icon=editor:ic_format_paint_24px></md-icon></md-button><md-button class="md-icon-button btn-clear" aria-label="{{_('Clear Text Format')}}"><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon></md-button><md-button class="md-icon-button btn-hr" aria-label="{{_('Divider')}}"><md-icon md-svg-icon=content:ic_remove_24px></md-icon></md-button><md-button class="md-icon-button btn-a" aria-label="{{_('Link')}}"><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button><md-button class="md-icon-button btn-img" aria-label="{{_('Image')}}"><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button class="md-icon-button btn-preset" aria-label="{{_('Content Presets')}}"><md-icon md-svg-icon=device:ic_now_wallpaper_24px></md-icon></md-button><md-button class="md-icon-button btn-script" aria-label="{{_('Script Code')}}"><md-icon md-svg-icon=action:ic_build_24px></md-icon></md-button><md-button class="md-icon-button btn-ol" aria-label="{{_('Ordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon></md-button><md-button class="md-icon-button btn-ul" aria-label="{{_('Unordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon></md-button><md-button class="md-icon-button btn-outdent" aria-label="{{_('Outdent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_decrease_24px></md-icon></md-button><md-button class="md-icon-button btn-indent" aria-label="{{_('Indent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_increase_24px></md-icon></md-button><md-button class="md-icon-button btn-jleft" aria-label="{{_('Align left')}}"><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-button class="md-icon-button btn-jcenter" aria-label="{{_('Align center')}}"><md-icon md-svg-icon=editor:ic_format_align_center_24px></md-icon></md-button><md-button class="md-icon-button btn-jright" aria-label="{{_('Align right')}}"><md-icon md-svg-icon=editor:ic_format_align_right_24px></md-icon></md-button><md-button class="md-icon-button btn-jfull" aria-label="{{_('Align Justify')}}"><md-icon md-svg-icon=editor:ic_format_align_justify_24px></md-icon></md-button><md-button class="md-icon-button btn-undo" aria-label="{{_('Undo')}}"><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button class="md-icon-button btn-redo" aria-label="{{_('Redo')}}"><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button><md-button class="md-icon-button btn-html" aria-label="{{_('HTML Code')}}" ng-if=property.expert><md-icon md-svg-icon=custom:ic_html_code_24px></md-icon></md-button></div><div class="editor-canvas modern" ng-mousedown=blur_canvas() layout=row layout-align="center center" flex><div class=canvas ng-class=device><iframe scrolling=auto src=canvas></iframe></div></div></div><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=editor_property layout=column><md-content flex><form name=property_form ng-submit="save(file, property_form)" novalidate><md-subheader class="md-no-sticky md-primary"> {{_('Property')}} </md-subheader><div class=md-padding><md-input-container class="md-block static"><label>{{_('Featured Image')}}</label><md-card class=max-size-xs ng-click=select_featured_img(file)><img class=img-bg-cover ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                           | bg_img}}"></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=property_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=property_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class=field-container><label>{{_('Template')}}</label><md-menu layout=column><md-button class="md-primary text-nowrap" ng-click=$mdMenu.open($event)> {{file.template}} </md-button><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'faded': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-contain" ng-click="switch_template(file, tmpl)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p>{{tmpl.key}}</p></md-menu-item></md-menu-content></md-menu></div><md-input-container class="md-block selector" ng-show=category><label>{{_(category.name)}}</label><md-select ng-model=file.terms multiple><div ng-repeat="term in category.terms"><md-option ng-value=term.key> {{_(term.meta.name)}} </md-option><md-option class=md-caption ng-value=child.key ng-repeat="child in term.nodes"> - {{_(child.meta.name)}} </md-option></div><div class="md-padding md-caption text-center draft" ng-if=!category.terms.length> {{_('No Term')}} </div></md-select></md-input-container><div class="field-container amend"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=file.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{file.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><div class="field-container amend"><label>{{_('Date')}}</label><md-datepicker name=date md-placeholder="{{_('Enter date')}}" ng-model=date md-open-on-focus></md-datepicker><ng-messages for=property_form.date.$error><ng-message when=valid> {{ _('Must be a date.') }} </ng-message></ng-messages></div><md-input-container class=md-block><label>{{_('Author')}}</label><input name=author type=text ng-model=file.meta.author md-maxlength=60><md-icon md-svg-icon=action:ic_perm_identity_24px ng-click=get_author(file)></md-icon><ng-messages for=property_form.author.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class=switch-container><md-switch ng-class="{'draft': !file.status}" ng-model=file.status ng-true-value=1 ng-false-value=0> {{_('Publish')}} </md-switch></div></div><md-subheader class=md-primary> {{_('Advanced')}} </md-subheader><div class=md-padding><md-input-container class="md-block amend"><label>{{_('URL Slug')}}</label><input name=slug type=text ng-model=file.slug ng-pattern=regex_pattern.slug ng-disabled="!property.expert || file.locked" maxlength=120 required><hint for=property_form.slug> {{_('* Used for friendly URLs and SEO.')}} </hint><ng-messages for=property_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div class=field-container ng-show="property.capability > 2"><label>{{_('Head Metadata')}}</label><div layout=column><md-button class="md-primary text-nowrap" ng-click=edit_head_meta(file)> {{_('Edit Head Metadata')}} </md-button></div></div><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Parent')}}</label><input name=parent type=text ng-pattern=regex_pattern.slug ng-model=file.parent maxlength=240><ng-messages for=property_form.parent.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Priority')}}</label><input name=priority type=number step=1 ng-model=file.priority><ng-messages for=property_form.priority.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Redirect to')}}</label><input name=redirect type=url ng-model=file.redirect md-maxlength=360><ng-messages for=property_form.redirect.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></div></form><div class="text-right md-margin" ng-if=property.expert><md-button class=md-icon-button ng-click=meta_hardcore(file) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></md-content></md-sidenav></div></script><script type=text/ng-template id=blueprints/station/views/strict.html><div class=station layout=row flex><div class=editor-sidebar layout=column ng-class="{'mobile': is_mobile}"><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Back') }}" ng-click=back()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><md-tooltip md-direction=right> {{_('Back')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group show-gt-sm hide><md-button class=md-icon-button aria-label="{{ _('Fullscreen') }}" ng-disabled=!minify ng-click=toggle_minify(false)><md-icon md-svg-icon=nav:ic_fullscreen_24px></md-icon><md-tooltip md-direction=right> {{_('Fullscreen')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Minify') }}" ng-disabled=minify ng-click=toggle_minify(true)><md-icon md-svg-icon=nav:ic_fullscreen_exit_24px></md-icon><md-tooltip md-direction=right> {{_('Minify')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Save') }}" ng-click="save(file, strict_edit_form)"><md-icon md-svg-icon=content:ic_save_24px></md-icon><md-tooltip md-direction=right> {{_('Save')}} </md-tooltip></md-button></div><md-divider></md-divider><span flex></span><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Delete') }}" ng-disabled=file.locked ng-click=trash(file)><md-icon md-svg-icon=action:ic_delete_24px></md-icon><md-tooltip md-direction=right> {{_('Delete')}} </md-tooltip></md-button></div></div><div class=editor-body layout=row flex><div class="editor-canvas strict" layout=row layout-align="center center" flex-gt-sm=50 flex-offset-gt-sm=5 show-gt-sm hide><div class=canvas ng-class="{'minify': minify}"><iframe scrolling=auto src=canvas></iframe></div></div><md-content class=md-whiteframe-1dp flex-gt-sm layout=column><form name=strict_edit_form ng-submit="save(file, strict_edit_form)" novalidate><md-subheader class="md-no-sticky md-primary"> {{ _('Edit Content') }} </md-subheader><div class=md-padding><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=strict_edit_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block static"><label>{{_('Featured Image')}}</label><md-card class=max-size-xs ng-click=select_featured_img(file)><img class="img-bg-cover safe-media-bg" ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                             | bg_img}}"></md-card></md-input-container><div class="field-container amend" ng-show=!canvas_displayed><label>{{_('Loading Custom Fields')}}</label><div class=md-padding><md-progress-linear md-mode=indeterminate></md-progress-linear></div></div><div ng-show=canvas_displayed><div ng-repeat="field in field_structures"><md-input-container class=md-block ng-if="field.type == 'text'"><label>{{field.label}}</label><textarea ng-model=file.meta[field.key] maxlength=600></textarea></md-input-container><md-input-container class="md-block static" ng-if="field.type == 'media'"><label>{{field.label}}</label><md-card class=max-size-sm ng-click=select_media(field.target)><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(file.meta[field.key].src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class="md-block static" ng-if="field.type == 'bg'"><label>{{field.label}}</label><md-card class=max-size-sm ng-click=select_bg(field.target)><img class=img-bg-cover ng-src={{image.trans}} style={{(file.meta[field.key].src||image.default)|bg_img}}></md-card></md-input-container><div class="field-container amend" ng-if="field.type == 'link'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_link(field.target)><md-icon md-svg-icon=content:ic_link_24px></md-icon><span>{{_('Edit Link')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'attrs'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_attrs(field.target)><md-icon md-svg-icon=action:ic_settings_24px></md-icon><span>{{_('Edit Attributes')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'script'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_script(field.target)><md-icon md-svg-icon=action:ic_code_24px></md-icon><span>{{_('Edit Script')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'carousel'"><label>{{field.label}}</label><md-card class=media-reel ng-click=edit_carousel(field.target)><div class=md-margin ng-if="file.meta[field.key].length > 0" layout=row layout-wrap><div ng-repeat="item in file.meta[field.key]" flex=20><img class=img-bg-cover ng-src={{image.trans}} style={{item.src|bg_img}}></div></div><div class="md-margin md-padding" ng-if="file.meta[field.key].length <= 0" layout=row layout-align="center center"><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-card></div><div class="field-container amend" ng-if="field.type == 'catalog'"><label>{{field.label}}</label><md-button class=fixed-width ng-class="{'md-primary': field.target.data.length}" ng-click=edit_catalog(field.target)><div class=md-padding><md-icon class=s48 md-svg-icon=custom:ic_vertical_split_24px></md-icon><div>{{_('Edit Catalog')}}</div></div></md-button></div><div class="field-container amend" ng-if="field.type == 'series'"><label>{{field.label}}</label><div layout=row layout-wrap><div class="wrap-card anim-show-hide" flex=20 layout=column ng-repeat="item in file.meta[field.key]"><md-card ng-click="edit_series_item(field.target, $index)"><img class=img-bg-cover ng-src={{image.trans}} style={{(item.src||image.default)|bg_img}}></md-card></div><div class="wrap-card anim-show-hide" ng-if="file.meta[field.key].length <= field.target.limit" flex=20><md-card ng-click=add_series_item(field.target)><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></div></md-card></div></div></div><div class="field-container amend" ng-if="field.type == 'lines'"><label>{{field.label}}</label><md-button ng-class="{'md-primary': field.target.data}" ng-click=edit_lines(field.target)><md-icon md-svg-icon=action:ic_view_headline_24px></md-icon><span>{{_('Edit Lines')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'slot'"><label>{{field.label}}</label><md-button class=md-primary ng-click="edit_slot(field.key, field.target.options)"><md-icon md-svg-icon=device:ic_widgets_24px></md-icon><span>{{_('Manage Widget Slot')}}</span></md-button></div><div class="field-container amend" ng-if="field.type == 'shelf'"><label>{{_('Commodity Shelf')}}</label><md-button class=fixed-width ng-class="{'md-primary': field.target.data.commodity_id,
                          'md-accent': field.target.data.customize}" ng-click=edit_shelf(field.target)><div class=md-padding><md-icon class=s48 md-svg-icon=action:ic_shopping_cart_24px></md-icon><div>{{_('Manage Commodity Shelf')}}</div></div></md-button></div></div><div class="field-container amend" ng-if=has_saw_editor><label>{{_('Body Text')}}</label><div class=md-margin><div id=strict-editor-toolbar class=strict-editor-toolbar><md-menu md-offset="0 -5"><md-button class=select-text-style ng-click=$mdMenu.open($event) md-no-ink ng-init="text_type={
                      div: 'Text',
                      p: 'Paragraph',
                      blockquote: 'Quote',
                      h2: 'Title',
                      h3: 'Subtitle',
                      h4: 'Heading',
                      h5: 'Subhead',
                   }"><span>{{_(text_type[curr_text_type] || 'Text')}}</span><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button><md-menu-content class=editor-text-style-menu width=2><md-menu-item><md-button class=btn-p> {{_(text_type.p)}} </md-button></md-menu-item><md-menu-item><md-button class=btn-blockquote> {{_(text_type.blockquote)}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-h2><span class=md-headline>{{_(text_type.h2)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h3><span class=md-title>{{_(text_type.h3)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h4><span class=md-subhead>{{_(text_type.h4)}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h5><span class=md-body-2>{{_(text_type.h5)}}</span></md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-div> {{_(text_type.div)}} </md-button></md-menu-item></md-menu-content></md-menu><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Font Size')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_size_24px></md-icon></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-big>{{_('Big')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-small>{{_('Small')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sub>{{_('Subscript')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sup>{{_('Superscript')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-i" aria-label="{{_('Italic')}}"><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button class="md-icon-button btn-b" aria-label="{{_('Bold')}}"><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button class="md-icon-button btn-strike" aria-label="{{_('Strikethrough')}}"><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button class="md-icon-button btn-underline" aria-label="{{_('Underline')}}"><md-icon md-svg-icon=editor:ic_format_underlined_24px></md-icon></md-button><md-button class="md-icon-button btn-clear" aria-label="{{_('Clear Text Format')}}"><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon></md-button><md-button class="md-icon-button btn-hr" aria-label="{{_('Divider')}}"><md-icon md-svg-icon=content:ic_remove_24px></md-icon></md-button><md-button class="md-icon-button btn-img" aria-label="{{_('Image')}}"><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button class="md-icon-button btn-ol" aria-label="{{_('Ordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon></md-button><md-button class="md-icon-button btn-ul" aria-label="{{_('Unordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon></md-button><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Align')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-jleft>{{_('Align left')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-jcenter>{{_('Align center')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-jright>{{_('Align right')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-jfull>{{_('Align Justify')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-html" aria-label="{{_('HTML Code')}}" ng-if=property.expert><md-icon md-svg-icon=custom:ic_html_code_24px></md-icon></md-button></div><md-content class=strict-editor-content><div sup-angular-wysiwyg toolbar=strict-editor-toolbar ng-model=file.content name=strict-content-editor embed-mode></div></md-content></div></div></div><md-input-container class="md-block selector" ng-show=category><label>{{_(category.name)}}</label><md-select ng-model=file.terms multiple><div ng-repeat="term in category.terms"><md-option ng-value=term.key> {{_(term.meta.name)}} </md-option><md-option class=md-caption ng-value=child.key ng-repeat="child in term.nodes"> - {{_(child.meta.name)}} </md-option></div><div class="md-padding md-caption text-center draft" ng-if=!category.terms.length> {{_('No Term')}} </div></md-select></md-input-container><div class="field-container amend"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=file.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{file.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><div class=switch-container><md-switch ng-class="{'draft': !file.status}" ng-model=file.status ng-true-value=1 ng-false-value=0> {{_('Publish')}} </md-switch></div></div><md-subheader class=md-primary> {{_('Advanced')}} </md-subheader><div class=md-padding><div class="field-container amend"><label>{{_('Date')}}</label><md-datepicker name=date md-placeholder="{{_('Enter date')}}" ng-model=date md-open-on-focus></md-datepicker><ng-messages for=strict_edit_form.date.$error><ng-message when=valid> {{ _('Must be a date.') }} </ng-message></ng-messages></div><md-input-container class=md-block><label>{{_('Author')}}</label><input name=author type=text ng-model=file.meta.author md-maxlength=60><md-icon md-svg-icon=action:ic_perm_identity_24px ng-click=get_author(file)></md-icon><ng-messages for=strict_edit_form.author.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Priority')}}</label><input name=priority type=number step=1 ng-model=file.priority><ng-messages for=strict_edit_form.priority.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('URL Slug')}}</label><input name=slug type=text ng-model=file.slug ng-pattern=regex_pattern.slug ng-disabled="!property.expert || file.is_reserved" maxlength=120 required><hint for=property_form.slug> {{_('* Used for friendly URLs and SEO.')}} </hint><ng-messages for=property_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div class=field-container><label>{{_('Template')}}</label><div class=md-padding><div class="md-body-2 md-text md-primary text-upper"> {{file.template}} </div></div></div></div></form></md-content></div></div></script><script type=text/ng-template id=blueprints/user/views/assistant.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Assistant')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="assistant_limit <= assistants.length" ng-click=assign(assistants)> {{_('Assign')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s/%s total', assistants.length, assistant_limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="assistant in assistants" ng-click="edit(assistant, assistants)" aria-label="{{_('Edit Assistant')}}"><div class=md-list-item-text><p>{{ assistant.name || '-' }}</p></div><div class="md-secondary anim-show"><md-icon md-svg-icon=maps:ic_person_pin_24px></md-icon></div></md-list-item></md-list></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Explanation')}}</span></h2></header><article ng-if="lang == 'en'"><p> Membership Assistant is a Auxiliary Tools to manage your members, events and cards. The Assistant can be install on computer, tablet and smartphone, will could be help in many different ways. </p><ul><li>Staff carries in the store.</li><li>Use on live events or site activities.</li><li>Unmanned self-service equipment.</li><li>...</li></ul></article><article ng-if="lang == 'zh'"><p>    </p><ul><li></li><li></li><li></li><li>...</li></ul></article></section></div></div><script type=text/ng-template id=user.assistant.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Assistant Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ assistant._new?_('New Assistant'):_('Edit Assistant')}}
    </h2>

    <!-- assistant form -->
    <form class="md-padding"
          name="assistant_form"
          ng-submit="save(assistant, assistant_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               ng-model="assistant.name"
               md-maxlength="24"
               required />
        <ng-messages for="assistant_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Passcode')}}</label>
        <input name="passcode"
               ng-model="assistant.passcode"
               md-maxlength="60"
               required/>
        <ng-messages for="assistant_form.passcode.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(assistant)"
               ng-show="!assistant._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(assistant, assistant_form)"
               ng-disabled="submitted">
      {{ assistant._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/user/views/invite.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Invitations')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="invite_limit <= invites.length" ng-click=generate()> {{_('Generate Invitation')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s/%s total', invites.length, invite_limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="invite in invites" aria-label="{{_('Manage Invitation')}}"><div class=md-list-item-text><p>{{ invite.code }}</p></div><md-menu class="md-secondary anim-show"><md-icon ng-class="{'md-primary': !invite.invited}" md-svg-icon="{{invite.invited
                     ? 'action:ic_assignment_ind_24px'
                     : 'social:ic_share_24px'}}" ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group><p class=md-caption ng-class="{'draft': !invite.invited}"> {{invite.invited || _('Available')}} </p></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-clipboard=copy_invite_code(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation Code')}} </md-button></md-menu-item><md-menu-item><md-button ng-clipboard=copy_invite_url(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation URL')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-disabled=invite.invited ng-click=remove(invite)> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* Use invitation code to invite your friends to register.')}} </hint></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Usage')}}</span></h2></header><article ng-if="lang == 'en'"><p> You can invite friends to sign up for a new account. Invitees can enter the invitation code while registration, or register directly through the invitation URL. We will always thank you for sharing. </p><ul><li>Each account generates up to {{invite_limit}} invitations.</li><li>Each invitation code can only be used once.</li><li>Used invitations can not be deleted.</li></ul></article><article ng-if="lang == 'zh'"><p>    </p><ul><li>{{invite_limit}}</li><li></li><li></li></ul></article></section></div></div></script><script type=text/ng-template id=blueprints/user/views/profile.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('User Profile')}}</span></h1></header><form name=profile_form ng-submit="save(profile, profile_form)" novalidate><md-input-container class="static md-block"><label>{{_('Avatar')}}</label><md-card class=s192 ng-click="switch_avatar(profile, $event)"><img class=img-bg-cover ng-src={{image.trans}} style={{(profile.meta.avatar||image.avatar)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Nickname')}}</label><input name=nickname type=text ng-model=profile.meta.nickname md-maxlength=60 required><ng-messages for=profile_form.nickname.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('E-Mail')}}</label><input name=email type=email md-maxlength=120 ng-model=profile.meta.email><ng-messages for=profile_form.email.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Location')}}</label><input name=location type=text ng-model=profile.meta.location md-maxlength=360><ng-messages for=profile_form.location.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Phone')}}</label><input name=phone type=text md-maxlength=120 ng-model=profile.meta.phone><ng-messages for=profile_form.phone.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Job Title')}}</label><input name=job type=text md-maxlength=120 ng-model=profile.meta.job><ng-messages for=profile_form.job.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Property')}}</span></h2></header><md-input-container class="static md-block"><label>{{_('Energy')}}</label><md-card class="text-center s192" plain><md-icon class="s96 md-accent" md-svg-icon=social:ic_whatshot_24px></md-icon><div class="md-margin md-display-2"> {{property.energy | abbrnum:2}} </div></md-card></md-input-container><md-input-container class=md-block><label>{{_('Login ID')}}</label><input name=login type=text ng-model=property.login disabled></md-input-container><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=username type=text ng-model=property.slug disabled></md-input-container><div class="field-container amend"><label>{{_('Capability Level')}}</label><div class=radio-wrapper><md-radio-group ng-model=property.capability ng-change=change_capability(property)><md-radio-button class=md-primary ng-repeat="capa in capabilities" ng-if="!capa.expert || property.expert" ng-value=capa.key> {{_(capa.label)}} </md-radio-button></md-radio-group></div><hint class=help ng-click=help_capability()><span> {{_('* Choose a capability level that fits your skill.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/security.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Security')}}</span></h1></header><div><form name=pwd_form ng-submit="change_pwd(pwd, pwd_form)" novalidate><md-input-container class=md-block><label>{{_('Old Password')}}</label><input name=old_passwd type=password ng-model=pwd.old_passwd ng-pattern=regex_pattern.passwd required><ng-messages for=pwd_form.old_passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=pwd.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=pwd_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=pwd_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=pwd.passwd2 password-verify=pwd.passwd maxlength=60 required><ng-messages for=pwd_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container><div><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Modify')}} </md-button></div></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10 ng-show="property.capability > 2"><header><h2 class=md-headline><span>{{_('Developer')}}</span></h2></header><div ng-show=!secret.id><p class=md-body-1> {{_('You are able to use a Develop Secret Key '+ 'to access Develop API. '+ 'The Secret Key will display after '+ 'your identity is verified, keep it secret please.')}} </p><md-button class=md-raised ng-click=get_secret_key(secret)> {{property.has_secret_key ? _('Verify identity to display') : _('Verify identity to apply')}} </md-button></div><div ng-show=secret.id><p class=md-body-1 ng-show="secret.key == ''"> {{_('You have not applied for a Secret Key yet.')}} </p><md-input-container class=md-block ng-show=secret.key><label>{{_('Develop Secret Key')}}</label><input name=secret_key type=text ng-model=secret.key disabled><md-icon md-svg-icon=content:ic_content_copy_24px ng-clipboard=copy_secret_key(secret.key)></md-icon><hint flex-order=3> {{_('* Keep your Secret key Secret. DO NOT tell anyone else.')}} </hint></md-input-container><div layout=row><md-button class=md-raised ng-click=apply_secret_key(secret)> {{secret.key ? _('Reset') : _('Apply')}} </md-button><md-button class=md-raised ng-show=secret.key ng-click=remove_secret_key(secret)> {{_('Remove')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/ticket.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1><span>{{_('Report Ticket')}}</span></h1></header><article ng-if="lang == 'en'"><p> If you got trouble while using our system, please tell us. Describe your problem then send to <a class=md-primary ng-href={{mailto_support}}>support mailbox</a>. We will reply you as soon as possible. </p></article><article ng-if="lang == 'zh'"><p>   <a class="md-primary md-body-2" ng-href={{mailto_support}}></a>  </p></article><div><a ng-href={{mailto_support}}><md-icon class="s96 md-accent" md-svg-icon=comm:ic_email_24px></md-icon></a></div></section></div></div></script><script type=text/ng-template id=blueprints/wr/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Scenes') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in scenes" aria-label="{{_('Edit Scene')}}" ng-click=edit_scene(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=image:ic_camera_front_24px></md-icon></div></md-list-item><md-list-item ng-if="scenes.length == 0" aria-label="{{_('Manage Scenes')}}" ng-click=manage_scenes()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=image:ic_camera_front_24px></md-icon></div></md-list-item></md-list><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=open_ext(ext)><p>{{ ext.meta.title }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-md></div><div layout=row><md-button class="md-raised md-primary" ng-href={{app.base_url}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><span>{{_('Preview')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wr/views/scene.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Scenes') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button ng-click=$mdMenu.open($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s scenes in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{scene_type_slug}} perpage=perpage files=files status=status selection=sel></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Scene')}}" ng-show=!sel.selection ng-click=create()><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/ws/views/content.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'draft': content_type.allowed === false}"> {{ _(content_type.title) }} </span><md-menu><md-icon md-svg-icon=nav:ic_arrow_drop_down_circle_24px ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group ng-repeat="ctype in content_types"><md-button ng-click="switch_type(ctype, content_type)" ng-class="{'draft text-strike': !ctype.allowed}"> {{_(ctype.title)}} </md-button></md-menu-item></md-menu-content></md-menu></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-show="property.capability > 2" ng-click="setting(content_type, files)" ng-disabled=sel.selection aria-label="{{_('Content Type Settings')}}"><md-icon md-svg-icon=file:ic_folder_24px></md-icon><md-tooltip>{{_('Content Type Settings')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s contents in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{content_type.slug}} perpage=perpage files=files status=status selection=sel allow-move=true></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Content')}}" ng-show=!sel.selection ng-click=create()><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=ws.content_type.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Content Type Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Content Type Settings')}}
    </h2>
    <!-- type form -->
    <form class="md-padding"
          name="type_form"
          ng-submit="submit(content_type, type_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="content_type.title"
               md-maxlength="60"
               required/>
        <hint for="type_form.title">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages for="type_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               ng-disabled="content_type.locked"
               ng-model="content_type.slug"
               maxlength="120"/>
        <hint>{{_('* Used for friendly URLs and SEO.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(content_type)"
               ng-disabled="submitted || content_type.allowed
                                      || content_type.locked">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(content_type, type_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/ws/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Content') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ctype in content_types" aria-label="{{_('Manage Content')}}" ng-click=manage_content(ctype)><div class=md-list-item-text><p ng-class="{'text-strike': !ctype.allowed}"> {{ _(ctype.title) || ctype.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=file:ic_folder_24px></md-icon></div></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="content_types.length == 0">{{_('(Empty)')}}</p><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=open_ext(ext)><p>{{ ext.meta.title }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-md></div><div layout=row><md-button class="md-raised md-primary" ng-href={{app.base_url}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><span>{{_('Preview')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/ws/views/menu.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'text-strike': !menu.allowed}"> {{ _(menu.title) }} </span></h1></header><div class=md-padding ng-if="menu.allowed === false"><p class="md-title md-text md-warn text-center"> {{_('This menu is unused.')}} </p></div><form name=menu_form ng-submit="setting(menu, menu_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=menu.title md-maxlength=60 required><hint for=menu_form.title> {{_('* Auto translate recognized words.')}} </hint><ng-messages for=menu_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text ng-model=menu.slug maxlength=120><hint>{{_('* Used for friendly URLs and SEO.')}}</hint></md-input-container><md-input-container class="md-block selector" ng-show=property.expert><label>{{_('Menu Level')|wrap}}</label><md-select name=level ng-model=menu.level placeholder="{{_('Select menu level')}}"><md-option ng-value=level.key ng-repeat="level in menu_levels"> {{_(level.label)}} </md-option></md-select><ng-messages for=menu_form.level.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class=md-margin ng-if=menu.allowed><p class=hint> {{_('The menu settings is pre-defined with current theme, '+ 'the effect of modification is depend by theme. '+ 'Only unused menu can be removed.')}} </p></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-show="!menu.allowed && !menu.locked" ng-click=destroy(menu)><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{ _('Menu') }}</span></h2></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="menu.nodes.length >= limit || !menu.allowed" ng-click="add_node(menu.nodes, menu)"> {{_('New Menu')}} {{menu.nodes.length || 0}}/{{limit}} </md-button><md-button class=md-icon-button ng-click=hardcore(menu) ng-show=property.expert aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-repeat="node in menu.nodes"><md-card-content><div class=text-nowrap-group layout=row layout-align="space-between center" aria-label="{{_('Edit Menu')}}" ng-click="edit_node(node, menu.nodes, $index, menu)"><div class="text-nowrap md-title" flex> {{ node.name }} </div><md-button class="md-icon-button md-primary"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list class=md-margin ng-show="menu.level > 1"><md-list-item class=text-nowrap-group ng-repeat="child in node.nodes" ng-click="edit_node(child, node.nodes, $index, menu)"><p>{{child.name}}</p></md-list-item><md-list-item class="md-text md-primary" ng-show="node.nodes.length < limit" ng-click="add_node(node.nodes, menu)"><p class=md-body-1> {{_('New Submenu')}} </p></md-list-item></md-list></md-card-content></md-card></section></div></div><script type=text/ng-template id=ws.menu.node.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Menu')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{node._new?_('Add Menu'):_('Edit Menu')}}
    </h2>
    <!-- node form -->
    <form class="md-padding"
          name="node_form"
          ng-submit="submit(node, node_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="node.name"
               md-maxlength="60"
               required/>
        <ng-messages for="node_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="node.key"
               maxlength="120"/>
        <hint>{{_('* Alphanumeric characters or hyphens.')}}</hint>
      </md-input-container>

      <md-autocomplete md-input-name="link"
                       md-floating-label="{{_('Link')}}"
                       md-search-text="node.link"
                       md-items="url in urls"
                       md-item-text="url.path"
                       md-menu-class="autocomplete-multi-lines"
                       md-no-cache="true"
                       md-input-maxlength="360"
                       required>
        <md-item-template>
          <p>{{url.name}}</p>
          <span>&nbsp;- {{url.path}}</span>
        </md-item-template>
        <hint for="node_form.link">
          {{_('* Link to a URL or path. use `#` for empty link.')}}
        </hint>
        <ng-messages for="node_form.link.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-autocomplete>

      <md-input-container class="md-block amend"
                          ng-show="property.capability > 2">
        <label>{{_('Target Window')}}</label>
        <input name="target"
               type="text"
               ng-model="node.target" />
        <md-icon md-svg-icon="action:ic_open_in_new_24px"
                 ng-click="target_blank(node)"></md-icon>
        <hint>{{_('* Type `_blank` for open in new window.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block selector amend"
                          ng-show="property.capability > 2">
        <label>{{_('Related Content Type')}}</label>
        <md-select name="path_scope"
                   ng-model="node.path_scope"
                   ng-disabled="submitted">
          <md-option ng-value="''">
            {{_('None')}}
          </md-option>
          <md-option ng-value="ctype.slug"
                     ng-repeat="ctype in content_types">
            {{_(ctype.title)}}
          </md-option>
        </md-select>
        <hint>
          {{_('* Mark active status under this content type as well.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.capability > 2">
        <label>{{_('CSS Class')}}</label>
        <input name="class"
               type="text"
               ng-model="node.class"
               maxlength="240" />
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="node._index"
               required />
        <ng-messages for="node_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!node._new"
               ng-click="trash(node)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(node, node_form)">
      {{node._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/article.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Articles') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button ng-click=$mdMenu.open($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s articles in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{article_type_slug}} perpage=perpage files=files status=status selection=sel></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Article')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wx/views/broadcast.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Mass Messages')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=sel.selection ng-click=add(broadcasts)> {{_('New Message')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=broadcasts.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', broadcasts.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="cast in broadcasts" ng-class="{'selected': cast._selected}" ng-hold="sel.select(cast, broadcasts)" ng-click="!sel.selection?edit(cast):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'draft': !cast.status}" md-svg-icon={{castico_map[cast.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ cast.title || cast.id }}</h3><p>{{ cast.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{cast._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': cast.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(broadcasts)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><div class="anim-enter section-wrapper" ng-if="cast.type == 'text'"><header><h2 class=md-headline><span>{{ _('Plain Text') }}</span></h2></header><form name=cast_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 placeholder=... ng-model=cast.text md-maxlength=360></textarea><ng-messages for=cast_text_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form></div><div class="anim-enter section-wrapper max-size-md" ng-if="cast.type == 'news'"><header><h2 class=md-headline><span>{{ _('Graphic Message') }}</span></h2></header><div ng-repeat="msg in cast.items"><md-card class=anim-enter ng-if="$index == 0" ng-click="edit_msg(msg, cast, $index)"><img class="md-card-image img-bg-cover" ng-src={{image.trans_20x10}} style={{(msg.picurl||image.default)|thumbnail|bg_img}}><md-card-title><md-card-title-text><span class="md-title title-break"> {{msg.title}} </span></md-card-title-text></md-card-title><md-card-content ng-if="cast.items.length == 1"><p class=text-break>{{msg.digest}}</p></md-card-content></md-card><md-card class=anim-enter ng-if="$index > 0" ng-click="edit_msg(msg, cast, $index)"><md-card-title><md-card-title-text><span class="md-title title-break"> {{msg.title}} </span></md-card-title-text><md-card-title-media><div class=md-media-sm><img ng-class="{'img-bg-cover': msg.picurl,
                          'img-bg-xl': !msg.picurl}" ng-src={{image.trans}} style={{(msg.picurl||image.default)|bg_img}}></div></md-card-title-media></md-card-title></md-card></div><div layout=row layout-align="space-between center"><md-button class=md-primary ng-disabled="cast.items.length >= msg_limit" ng-click=insert_msg(cast)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><span> {{_('Insert Message')}} {{cast.items.length || 0}}/{{msg_limit}} </span></md-button></div><div class=md-margin><md-divider></md-divider><hint>{{_('* If the original content is modified, '+ 'it must be re-insert to take effect.')}}</hint></div></div><div class="anim-enter section-wrapper" ng-if="cast.type == 'image'"><header><h2 class=md-headline><span> {{ _('Picture') }} </span></h2></header><div><md-card class=md-padding ng-click="pic(cast, $event)"><img class=img-bg-contain ng-src={{image.trans}} style={{(cast.image.src||image.default)|thumbnail|bg_img}}></md-card></div></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span>{{ _('Message Settings') }}</span></h1></header><form name=cast_form ng-submit="save(cast, cast_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=cast.title md-maxlength=60><hint for=cast_form.title> {{_('* For management only, will not applied to send.')}} </hint><ng-messages for=cast_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Type')}}</label><md-select name=type ng-model=cast.type placeholder="{{_('Select broadcast type')}}" required><md-option ng-value=type.key ng-repeat="type in cast_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=cast_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !cast.status}" ng-model=cast.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=cast.id ng-click=trash(cast)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form><div class=space-md></div><md-divider class="md-margin dotted" ng-show=cast.id></md-divider><div class=md-margin><hint> {{_('* Subscribe account is up to one of per day, '+ 'Service account is up to 4 times per month.')}} </hint></div><md-menu ng-disabled="submitted || !cast.status" ng-show=cast.id><md-button class=md-primary ng-click=$mdMenu.open($event)><md-icon md-svg-icon=content:ic_send_24px></md-icon><span>{{_('Mass Send')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click="send(cast, cast_form, false)"> {{_('Preview')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="send(cast, cast_form, true)" ng-disabled=!cast.sendable> {{cast.sendable ? _('Send to Public') : app.config.type == 0 ? _('One pre day.') : _('4 every month.')}} </md-button></md-menu-item></md-menu-content></md-menu></section></div></div><script type=text/ng-template id=wx.cast.msg.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Graphic Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{msg._new?_('Add Graphic Message'):_('Edit Graphic Message')}}
    </h2>
    <!-- msg form -->
    <form class="md-padding"
          name="msg_form"
          ng-submit="submit(msg, msg_form)"
          novalidate>
      <md-input-container class="static less md-block">
        <label>{{_('Pic')}}</label>
        <md-card class="max-size-sm"
                 ng-click="pic(msg, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(msg.picurl||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <div class="switch-container">
        <md-switch ng-class="{'draft': !msg.show_cover}"
                   ng-model="msg.show_cover"
                   ng-true-value="1"
                   ng-false-value="0">
          {{_('Show Cover Picture')}}
        </md-switch>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="msg.title"
               md-maxlength="60"
               required />
        <ng-messages for="msg_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="digest"
                  ng-model="msg.digest"
                  md-maxlength="240"></textarea>
        <ng-messages for="msg_form.digest.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Author')}}</label>
        <input name="author"
               type="text"
               ng-model="msg.author"
               md-maxlength="12"/>
        <ng-messages for="msg_form.author.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="msg.url"
               md-maxlength="360"/>
        <ng-messages for="msg_form.url.$error">
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="msg._index"
               required />
        <ng-messages for="msg_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!msg._new"
               ng-click="trash(msg)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(msg, msg_form)">
      {{msg._new?_('Create'):_('Confirm')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.cast.send.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Send')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Send')}}
    </h2>

    <div class="md-padding"
         ng-show="!sending">
      <!-- preview -->
      <form name="preview_form"
            ng-submit="preview(cast, preview_by, preview_form)"
            ng-show="!to_public"
            novalidate>
        <md-input-container class="md-block amend">
          <label>{{_('Preview by WeChat ID')}}</label>
          <input name="preview_by"
                 type="text"
                 ng-model="preview_by"
                 maxlength="120" />
          <hint for="preview_form.preview_by">
            {{_('* WeChat ID for the one who send to preview.')}}
          </hint>
          <ng-messages for="preview_form.preview_by.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>
      </form>

      <!-- send -->
      <form name="send_form"
            ng-submit="send(cast, send_form)"
            ng-show="to_public"
            novalidate>
        <md-input-container class="md-block amend"
                            ng-show="cast.sendable">
          <label>{{_('Confirm Code')}}</label>
          <input name="code"
                 type="text"
                 ng-model="confirm_code"
                 ng-pattern="/^SEND$/"
                 ng-disabled="!cast.sendable"
                 ng-required="to_public" />
          <hint for="send_form.code">
            {{_('* Type `SEND` exactly to confirm.')}}
          </hint>
          <ng-messages for="send_form.code.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
            <ng-message when="pattern">
              {{ _('Not match with confirm code.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>

      </form>

    </div>

    <!-- sending -->
    <div class="md-padding"
         ng-show="sending"
         layout="row"
         layout-align="center center">
      <img ng-src="{{image.trans}}"
           ng-if="materials.length > 0"
           style="{{materials[0].src|bg_img}}" />
      <md-progress-circular ng-show="materials|is_empty"
                            md-mode="indeterminate"
                            md-diameter="60">
      </md-progress-circular>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="!to_public"
               ng-disabled="submitted || preview_form.$invalid"
               ng-click="preview(cast, preview_by, preview_form)">
      {{_('Preview')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="to_public"
               ng-disabled="submitted || send_form.$invalid"
               ng-click="send(cast, send_form)">
      {{_('Send to Public')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.cast.sync_article.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Sync Content')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Sync Content')}}
    </h2>
    <div class="md-padding"
         layout="row"
         layout-align="center center"
         ng-show="sync_status == 1">
      <img ng-src="{{image.trans}}"
           style="{{material_urls[0].src|bg_img}}" />
      <md-progress-circular ng-show="material_urls|is_empty"
                            md-mode="indeterminate"
                            md-diameter="60">
      </md-progress-circular>
    </div>
    <div class="md-padding"
         layout="column"
         layout-align="center center"
         ng-show="sync_status == 2">
      <md-icon class="md-warn s48"
               ng-show="sync_status == 2"
               md-svg-icon="action:ic_report_problem_24px"></md-icon>
    </div>
  </md-dialog-content>
  <md-dialog-actions class="centered"
                     ng-show="sync_status == 2">
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div ng-if=analysis.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Followers') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.followers | abbrnum:2 }} <md-tooltip md-direction=top> {{analysis.followers}} </md-tooltip></p></div></div></div><div ng-if=analysis.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Growth') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ analysis.growth | abbrnum:2 }} <md-tooltip md-direction=top> {{analysis.growth}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Articles') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in articles" aria-label="{{_('Edit Article')}}" ng-click=edit_article(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=maps:ic_rate_review_24px></md-icon></div></md-list-item><md-list-item ng-if="articles.length == 0" aria-label="{{_('Manage Articles')}}" ng-click=manage_articles()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=maps:ic_rate_review_24px></md-icon></div></md-list-item></md-list><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=open_ext(ext)><p>{{ ext.meta.title }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-sm></div><div layout=row><md-button class=md-raised ng-if=config.id ng-class="{'md-primary': config.interface_url,
                                    'md-warn': !config.interface_url}" ng-click=manage_config()><md-icon md-svg-icon=action:ic_settings_24px></md-icon><span>{{_('Configuration')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/material.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Materials')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Repository')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(materials, sel_status)"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=0> {{_('Temporary Material')}} </md-option><md-option ng-value=1> {{_('Permanent Material')}} </md-option></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=materials.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', materials.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Material')}}" ng-repeat="material in materials" ng-class="{'selected': material._selected}" ng-if=material.filename ng-hold="sel.select(material, materials)" delay=!sel.selection><img class=md-avatar ng-class="{'md-primary': material.media_id}" ng-src={{material.src|thumbnail|now:material.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ material.filename }}</h3><p>{{ material.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{material._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><md-menu class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary ng-click="sel.selection?'':$mdMenu.open($event)" md-svg-icon=file:ic_attachment_24px></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click=open_url(material.src)> {{_('URL')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-click="remove(material, materials)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(materials, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/pref_configuration.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Configuration') }}</span></h1></header><form name=config_form ng-submit="save(config, config_form)" novalidate><md-input-container class="md-block selector"><label>{{_('WeChat Type')}}</label><md-select name=type ng-model=config.type placeholder="{{_('Select WeChat type')}}"><md-option ng-value=type.key ng-repeat="type in wx_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=config_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Token')}}</label><input name=token type=text ng-model=config.token ng-pattern=/^[a-zA-Z0-9]{3,32}$/ maxlength=60><hint class=help ng-click=help_wx_token_url() for=config_form.token> {{_('* The token of wechat interface.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=config_form.token.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Interface URL')}}</label><input name=interface_url type=url placeholder="{{_('Please set a Interfce URL')}}" ng-model=config.interface_url md-maxlength=360><md-icon md-svg-icon=content:ic_content_copy_24px ng-disabled=!config.interface_url ng-clipboard=copy_url(config.interface_url)></md-icon><hint class=help for=config_form.interface_url ng-click=help_wx_token_url()> {{ _('* Set the interface URL for WeChat official management.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=config_form.interface_url.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Encoding AES Key')}}</label><input name=aes_key type=text ng-model=config.encoding_aes_key ng-pattern=regex_pattern.ascii><hint class=help ng-click=help_encrypt_aes() for=config_form.aes_key> {{_('* Use it when message is encrypted.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=config_form.aes_key.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Developer AppID')}}</label><input name=wx_appid type=text ng-model=config.wx_app_id><hint class=help for=config_form.wx_appid ng-click=help_white_list()><span> {{_('* You might need to add your IP to the White-list.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Developer AppSecret')}}</label><input name=wx_secret type="{{app_secret_display ? 'text' : 'password' }}" ng-model=config.wx_app_secret><md-icon md-svg-icon="{{ app_secret_display
                   ? 'action:ic_visibility_off_24px'
                   : 'action:ic_visibility_24px' }}" ng-click=toggle_secret_display()></md-icon><hint> {{_('* This will be automatically encrypted when saved.')}} </hint></md-input-container><div class=space-xs></div><div class=field-container><label>{{_('WeChat Certification Status')}}</label><div class=md-margin><p class="md-text text-middle-group" ng-class="{'md-primary': config.certified,
                          'draft': !config.certified}"><md-icon ng-show=config.certified md-svg-icon=action:ic_verified_user_24px></md-icon><span> {{config.certified?_('Certified'):_('Uncertified')}} </span></p></div></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span> {{ _('Custom Menu') }} </span></h2></header><div><div layout=row layout-align="space-between center" ng-show=custom_menu.allowed><md-button class=md-raised ng-disabled="custom_menu.buttons.length >= menu_limit
                                  || custom_menu.allowed === false" ng-click="add_button(custom_menu.buttons, custom_menu)"> {{_('New Button')}} {{custom_menu.buttons.length || 0}}/{{menu_limit}} </md-button><md-button class=md-icon-button ng-click=hardcore(menu) ng-show="property.expert && custom_menu.allowed" aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-if=custom_menu.allowed ng-repeat="button in custom_menu.buttons"><md-card-content><div layout=row layout-align="space-between center" flex><div class="md-title text-nowrap" flex> {{ button.name }} </div><md-button class="md-icon-button md-primary" aria-label="{{_('New Sub Button')}}" ng-show="button.sub_button.length < submenu_limit" ng-click="add_button(button.sub_button, custom_menu)"><md-icon md-svg-icon=content:ic_add_24px></md-icon><md-tooltip md-direction=top> {{button.sub_button.length || 0}}/{{submenu_limit}} </md-tooltip></md-button><md-button class="md-icon-button md-primary" aria-label="{{_('Edit Button')}}" ng-click="edit_button(button, custom_menu.buttons,
                                               $index, custom_menu)"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list class=md-margin><md-list-item ng-repeat="child in button.sub_button" ng-click="edit_button(child, button.sub_button,
                                                  $index, custom_menu)"><p class="text-nowrap md-text md-primary"> {{child.name}} </p></md-list-item></md-list></md-card-content></md-card><div class=indent-padding ng-show="custom_menu.allowed === false"><p class="md-body-1 md-text md-warn"> {{_('Require cerified official account, '+ 'setup up AppID and AppSecret to activate.')}} </p></div></div><div ng-show="property.capability > 2"><div class=space-lg></div><h3 class=md-caption> {{ _('Wi-Fi Connection') }} </h3><div ng-show=wifi.allowed><md-button class=md-raised ng-show=!wifi.shop_id ng-click=setup_wifi()> {{_('Setup Wi-Fi Hub')}} </md-button><md-card ng-show=wifi.shop_id><md-card-content><div layout=row layout-align="space-between center" flex><div class="md-title text-nowrap" flex> {{wifi.name || wifi.shop_id}} </div><md-button class="md-icon-button md-primary" aria-label="{{_('New Wi-Fi Device')}}" ng-show="wifi_devices.length < wifi_device_limit" ng-click=add_device(wifi_devices)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></md-button><md-button class="md-icon-button md-primary" ng-click=config_wifi(wifi) aria-label="{{_('Wi-Fi Settings')}}"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></div><div class=md-margin ng-if="wifi_devices.length > 0"><md-button class=md-icon-button ng-class="{'md-warn': !device.pwd}" aria-label="{{_('Wi-Fi Device')}}" ng-repeat="device in wifi_devices" ng-click="edit_device(device, wifi_devices)"><md-icon md-svg-icon="{{device.pwd
                           ? 'device:ic_wifi_lock_24px'
                           : 'device:ic_signal_wifi_off_24px' }}"></md-icon><md-tooltip md-direction=top> {{device.ssid}} </md-tooltip></md-button></div></md-card-content></md-card></div><div class=indent-padding ng-show="wifi.allowed === false"><p class="md-body-1 md-text md-warn"> {{_('You must activiate Wi-Fi Module form official management.')}} </p></div></div></section></div></div><script type=text/ng-template id=wx.custom_menu.button.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Custom Button Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{button._new?_('Add Button'):_('Edit Button')}}
    </h2>
    <!-- button form -->
    <form class="md-padding"
          name="button_form"
          ng-submit="submit(button, button_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="button.name"
               str-byte-verify="16"
               required/>
        <ng-messages for="button_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   placeholder="{{_('Type')}}"
                   ng-model="button.type"
                   ng-change="change_button_type(button_form)"
                   required>
          <md-option ng-repeat="type in button_types"
                     ng-value="type.key">
            {{_(type.label)}}
          </md-option>
        </md-select>
        <ng-messages for="button_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="button.type == 'click'">
        <label>{{_('Key')}}</label>
        <input name="key"
               type="text"
               ng-model="button.key"
               maxlength="120"
               ng-required="button.type == 'click'" />
        <hint for="button_form.key">
          {{_('* Send a keyword to official account.')}}
        </hint>
        <ng-messages for="button_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide"
                          ng-if="button.type == 'view'">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="button.url"
               str-byte-verify="1024"
               ng-required="button.type == 'view'" />
        <ng-messages for="button_form.url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide amend"
                          ng-if="button.type == 'miniprogram'">
        <label>{{_('Mini AppID')}}</label>
        <input name="appid"
               type="text"
               maxlength="120"
               ng-model="button.appid"
               ng-required="button.type == 'miniprogram'" />
        <hint for="button_form.appid">
          {{_('* The mini program must be bound with '+
              'this WeChat Official Account.')}}
        </hint>
        <ng-messages for="button_form.appid.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide"
                          ng-if="button.type == 'miniprogram'">
        <label>{{_('Mini Page Path')}}</label>
        <input name="pagepath"
               type="text"
               maxlength="240"
               ng-model="button.pagepath"
               ng-required="button.type == 'miniprogram'" />
        <ng-messages for="button_form.pagepath.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide amend"
                          ng-if="button.type == 'miniprogram'">
        <label>{{_('Alternate URL')}}</label>
        <input name="alternate_url"
               type="url"
               ng-model="button.url"
               str-byte-verify="1024"
               ng-required="button.type == 'miniprogram'" />
        <hint for="button_form.alternate_url">
          {{_('* This URL will open when not compatible with mini program.')}}
        </hint>
        <ng-messages for="button_form.alternate_url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="button._index"
               required />
        <ng-messages for="button_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!button._new"
               ng-click="trash(button)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(button, button_form)">
      {{button._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.hubs.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('List Wi-Fi Hubs')}}">
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('List Wi-Fi Hubs')}}
    </h2>
    <div class="md-padding"
         ng-if="!wifi_hubs_loaded"
         layout-align="center center"
         layout="row">
      <md-progress-circular md-mode="indeterminate"
                            md-diameter="40">
      </md-progress-circular>
    </div>
    <md-list class="anim-enter"
             ng-if="wifi_hubs_loaded">
      <md-list-item class="text-nowrap-group"
                    ng-repeat="hub in wifi_hubs"
                    ng-click="select(hub)">
        <p class="text-center">
          {{hub.name}}
        </p>
      </md-list-item>
      <md-list-item class="text-nowrap-group"
                    ng-show="wifi_hubs.length <= 0">
        <p class="text-center md-text md-warn">
          {{_('Nothing Found.')}}
        </p>
      </md-list-item>
    </md-list>
    <hint>
      {{_('* This feature is completely useless.')}}
    </hint>
  </md-dialog-content>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Wi-Fi Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Wi-Fi Settings')}}
    </h2>
    <h3 class="md-body-1 text-center text-nowrap"
        wifi-shop-id="{{wifi.shop_id">
      {{wifi.name}}
    </h3>

    <!-- wifi form -->
    <form class="md-padding"
          name="wifi_form"
          ng-submit="save(wifi, wifi_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi Homepage URL')}}</label>
        <input name="home_url"
               type="url"
               ng-model="wifi.homepage_url"
               md-maxlength="360"/>
        <ng-messages for="wifi_form.home_url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi Landing page URL')}}</label>
        <input name="landing_url"
               type="url"
               ng-model="wifi.finishpage_url"
               md-maxlength="360"/>
        <ng-messages for="wifi_form.landing_url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block selector">
        <label>{{_('Welcome Message')}}</label>
        <md-select name="bartype"
                   placeholder="{{_('Welcome Message')}}"
                   ng-model="wifi.bar_type"
                   required>
          <md-option ng-repeat="type in bar_types"
                     ng-value="type.key">
            {{type.label}}
          </md-option>
        </md-select>
        <ng-messages for="wifi_form.bartype.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Remove')}}"
               ng-click="remove(wifi)">
      <md-icon md-svg-icon="content:ic_remove_circle_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(wifi, wifi_form)">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.device.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Wi-Fi Device')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{device._new?_('New Wi-Fi Device'):_('Edit Wi-Fi Device')}}
    </h2>

    <!-- device form -->
    <form class="md-padding"
          name="device_form"
          ng-submit="submit(device, device_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi SSID')}}</label>
        <input name="ssid"
               type="text"
               ng-model="device.ssid"
               ng-pattern="regex_pattern.ascii"
               md-maxlength="24"/>
        <ng-messages for="device_form.ssid.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Wi-Fi Password')}}</label>
        <input name="pwd"
               type="text"
               ng-model="device.pwd"
               ng-pattern="/^WX[\~!@#$%^&*-_=+|,.?\/:;\'\d\w]{6,22}$/"/>
        <hint for="device_form.pwd">
          {{_('* Password must starts with `WX`.')}}
        </hint>
        <ng-messages for="device_form.pwd.$error">
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="md-block field-container"
           ng-show="!device._new">
        <label>{{_('Wi-Fi QR Code')}}</label>
        <div class="md-margin s96">
          <a ng-href="{{device.qr_brand_url}}"
             target="_blank">
            <img class="img-bg-cover"
                 ng-src="{{image.trans}}"
                 style="{{device.qr_url|bg_img}}">
          </a>
        </div>
        <hint>
          {{_('* Connect the device once by QR Code to activated it.')}}
        </hint>
      </div>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!device._new"
               ng-click="trash(device)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(device, device_form)">
      {{device._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/record.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Records')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(records, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=0> {{_('Unread')}} </md-option><md-option ng-value=1> {{_('Readed')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-warn': total_count > (record_limit - 600)}" ng-click=clean() aria-label="{{_('Delete All Records')}}" ng-disabled="sel.selection || records.length <= 0"><md-icon md-svg-icon=content:ic_delete_sweep_24px></md-icon><md-tooltip>{{_('Delete All Records')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=records.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', records.length, total_count)}} </md-subheader><md-list-item class="md-3-line text-nowrap-group" aria-label="{{_('Manage Record')}}" ng-repeat="record in records" ng-class="{'selected': record._selected}" ng-hold="sel.select(record, records)" ng-click="!sel.selection?read(record):''" delay=!sel.selection><md-icon class=md-avatar-icon md-svg-icon="{{record.status == 0
                                  ? 'comm:ic_mail_24px'
                                  : record.status == 1
                                  ? 'comm:ic_mail_outline_24px'
                                  : 'content:ic_reply_24px'}}"></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ record.member.name || record.form_user }}</h3><h4>{{ record.text }}</h4><p>{{ record.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{record._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': record.status == 1}" md-svg-icon=maps:ic_local_activity_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(records, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-margin><hint> {{_('* Auto remove oldest record when reached %s.', record_limit)}} </hint></div></section></div></div><script type=text/ng-template id=wx.record.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Record Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Record Message')}}
    </h2>
    <!-- message -->
    <div class="md-padding">
      <h4 class="md-title">{{record.member.name || record.from_user}}</h4>
      <p class="md-subhead">
        {{_('Triggered by')}}{{_(': ')}}{{_(triggers_map[record.triggered])}}
      </p>
      <p class="md-subhead">
        {{_('Time')}}{{_(': ')}}{{record.creation|dateformat}}
      </p>
      <p>{{record.text}}</p>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/response.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Auto Replies')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=sel.selection ng-click=add(responses)> {{_('New Reply Rule')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=responses.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total', responses.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="resp in responses" ng-class="{'selected': resp._selected}" ng-hold="sel.select(resp, responses)" ng-click="!sel.selection?edit(resp):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'md-primary': resp.primary}" ng-class="{'draft': !resp.status}" md-svg-icon={{respico_map[resp.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ resp.title || resp.id }}</h3><p>{{ resp.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{resp._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': resp.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(responses)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/response_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><div class="anim-enter section-wrapper" ng-if="resp.type == 'text'"><header><h2 class=md-headline><span>{{ _('Reply Plain Text') }}</span></h2></header><form name=resp_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 ng-model=resp.text placeholder=... md-maxlength=360></textarea><ng-messages for=resp_text_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form></div><div class="anim-enter section-wrapper max-size-md" ng-if="resp.type == 'news'"><header><h2 class=md-headline><span>{{ _('Reply Graphic Messages') }}</span></h2></header><div ng-repeat="msg in resp.items"><md-card class=anim-enter ng-if="$index == 0" ng-click="edit_msg(msg, resp, $index)"><img class="md-card-image img-bg-cover" ng-src={{image.trans_20x10}} style={{(msg.picurl||image.default)|thumbnail|bg_img}}><md-card-title><md-card-title-text><span class="md-title title-break"> {{msg.title}} </span></md-card-title-text></md-card-title><md-card-content ng-if="resp.items.length == 1"><p class=text-break>{{msg.content}}</p></md-card-content></md-card><md-card class=anim-enter ng-if="$index > 0" ng-click="edit_msg(msg, resp, $index)"><md-card-title><md-card-title-text><span class="md-title title-break"> {{msg.title}} </span></md-card-title-text><md-card-title-media><div class=md-media-sm><img ng-class="{'img-bg-cover': msg.picurl,
                          'img-bg-xl': !msg.picurl}" ng-src={{image.trans}} style={{(msg.picurl||image.default)|bg_img}}></div></md-card-title-media></md-card-title></md-card></div><div layout=row layout-align="space-between center"><md-button class=md-primary ng-disabled="resp.items.length >= msg_limit" ng-click=add_msg(resp)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><span> {{_('Add Message')}} {{resp.items.length || 0}}/{{msg_limit}} </span></md-button><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button aria-label="{{_('Sync')}}" ng-click=$mdMenu.open($event) ng-disabled="resp.items.length >= msg_limit"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="rel_app in relateable"><md-button ng-click="sync_msg(resp, rel_app)"> {{rel_app.label}} </md-button></md-menu-item></md-menu-content></md-menu></div></div><div class="anim-enter section-wrapper" ng-if="['newest', 'search', 'random'].indexOf(resp.type) >= 0"><header><h2 class=md-headline><span> {{ resp.type == 'newest' ? _('Reply Newest Articles') : resp.type == 'search' ? _('Reply Search Articles') : _('Reply Random Articles') }} </span></h2></header><form name=resp_relate_form novalidate><md-input-container class="md-block selector amend"><label>{{_('Relate to App')}}</label><md-select name=relate_app ng-model=resp.related.app_id placeholder="{{_('Select realte app')}}" ng-change="change_relate_app(relateable, resp)" required><md-option ng-value=relate.id ng-repeat="relate in relateable"> {{relate.label}} </md-option></md-select><hint for=resp_relate_form.relate_app> {{_('* Select content from this app.')}} </hint><ng-messages for=resp_relate_form.relate_app.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector amend"><label>{{_('Content Type')}}</label><md-select name=relate_type ng-model=resp.related.content_type placeholder="{{_('Select content type')}}" ng-disabled=!resp.related.app_id><md-option ng-value="''"> {{_('All')}} </md-option><md-option ng-value=type.slug ng-repeat="type in relate_content_types"> {{_(type.label)}} </md-option></md-select><hint for=resp_relate_form.relate_app> {{_('* You can find content by type.')}} </hint><ng-messages for=resp_relate_form.relate_type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Number of replies')}}</label><md-select name=limit ng-init="resp.related.limit =
                        resp.related.limit?resp.related.limit:1" ng-model=resp.related.limit placeholder="{{_('Select limit')}}" required><md-option ng-value=number ng-repeat="number in relate_limits track by $index"> {{number}} </md-option></md-select><ng-messages for=resp_relate_form.limit.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span> {{ _('Auto Reply Settings') }} </span></h1></header><form name=resp_form ng-submit="save(resp, resp_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=resp.title md-maxlength=60><hint for=resp_form.title> {{_('* For management only, will not applied to send.')}} </hint><ng-messages for=resp_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Type')}}</label><md-select name=type ng-model=resp.type placeholder="{{_('Select reply type')}}" required><md-option ng-value=type.key ng-repeat="type in resp_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=resp_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector amend"><label>{{_('Trigger')}}</label><md-select name=trigger ng-model=resp.trigger placeholder="{{_('Select reply type')}}" required><md-option ng-value=trigger.key ng-repeat="trigger in triggers"> {{_(trigger.label)}} </md-option></md-select><hint for=resp_form.trigger> {{_('* `Default, Subscribe, Auto` can only set one each.')}} </hint><ng-messages for=resp_form.trigger.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend" ng-show="resp.trigger == 4"><label>{{_('Keywords')}}</label><md-chips name=trigger_keys ng-model=resp.keywords placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{resp.keywords.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips><hint>{{_('* Must be unique from all replies.')}}</hint></div><md-switch ng-class="{'draft': !resp.status}" ng-model=resp.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button ng-show=resp.id ng-click=trash(resp)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section></div></div><script type=text/ng-template id=wx.resp.msg.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Graphic Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{msg._new?_('Add Graphic Message'):_('Edit Graphic Message')}}
    </h2>
    <!-- msg form -->
    <form class="md-padding"
          name="msg_form"
          ng-submit="submit(msg, msg_form)"
          novalidate>
      <md-input-container class="static md-block">
        <label>{{_('Pic')}}</label>
        <md-card class="max-size-sm"
                 ng-click="pic(msg, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(msg.picurl||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="msg.title"
               md-maxlength="60"
               required />
        <ng-messages for="msg_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Content')}}</label>
        <textarea name="content"
                  ng-model="msg.content"
                  md-maxlength="240"></textarea>
        <ng-messages for="msg_form.content.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="msg.url"
               md-maxlength="360"
               required/>
        <ng-messages for="msg_form.url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               step="1"
               ng-model="msg._index"
               required />
        <ng-messages for="msg_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number, step">
            {{ _('Must be an integer.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!msg._new"
               ng-click="trash(msg)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(msg, msg_form)">
      {{msg._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wxs/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text" ng-class="{'md-warn': !analysis.allowed}"> {{ analysis.visits | abbrnum:2 }} <md-tooltip md-direction=top ng-if=analysis.allowed> {{analysis.visits}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Growth') }} </md-subheader><div class=dial-inner><p class="dig md-text" ng-class="{'md-warn': !analysis.allowed}"> {{ analysis.growth | abbrnum:2 }} <md-tooltip md-direction=top ng-if=analysis.allowed> {{analysis.growth}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text" ng-class="{'md-warn': !analysis.allowed}"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=analysis.allowed> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text" ng-class="{'md-warn': !analysis.allowed}"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=analysis.allowed> {{visit.uv}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Products') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in products" aria-label="{{_('Edit Product')}}" ng-click=edit_product(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=action:ic_shopping_cart_24px></md-icon></div></md-list-item><md-list-item ng-if="products.length == 0" aria-label="{{_('Manage Products')}}" ng-click=manage_products()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=action:ic_shopping_cart_24px></md-icon></div></md-list-item></md-list><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=open_ext(ext)><p>{{ ext.meta.title }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class="md-caption select-text">&nbsp;- {{app.slug}}</p><p class="md-caption md-text md-accent select-text" ng-if=property.expert>&nbsp;- {{app.id}}</p><div class=space-sm></div><div layout=row><md-button class=md-raised ng-if=config.id ng-class="{'md-primary': config.certified,
                                    'md-warn': !config.certified}" ng-click=manage_config()><md-icon md-svg-icon=action:ic_settings_24px></md-icon><span>{{_('Configuration')}}</span></md-button><md-button class="md-raised icon-only" ng-class="{'md-primary': app.shortcut}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon><md-tooltip md-direction=top> {{_('Toggle navigation shortcut')}} </md-tooltip></md-button></div></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Storage')}} </md-subheader><div class="info-inner text-nowrap-group"><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wxs/views/page.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Structure Pages') }}</span></h1></header><static-content-list app-slug={{app.slug}} content-type-slug={{page_type_slug}} perpage=perpage files=files strict=true></static-content-list><div class=md-margin><hint> {{_('* Structure pages are generated by theme you choose. '+ 'You can only edit, not to add or delete any of it.')}} </hint></div></section></div></div><script type=text/ng-template id=wxs.tab.node.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Menu')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Edit Menu')}}
    </h2>
    <!-- tab node form -->
    <form class="md-padding"
          name="tab_node_form"
          ng-submit="submit(node, tab_node_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="node.name"
               md-maxlength="60"
               required/>
        <ng-messages for="tab_node_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(node, tab_node_form)">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wxs/views/pref_configuration.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Configuration') }}</span></h1></header><form name=config_form ng-submit="save(config, config_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Interface URL')}}</label><input name=interface_url type=url ng-model=config.interface_url ng-pattern=regex_pattern.https maxlength=360><hint class=help for=config_form.interface_url ng-click=help_mini_interface_url()> {{ _('* Used to communicate with Mini App. Must be HTTPS.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=config_form.interface_url.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Mini AppID')}}</label><input name=mini_appid type=text ng-model=config.mini_app_id><hint> {{_('* You can find App ID form Official Mini App admin panel.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Mini AppSecret')}}</label><input name=mini_secret type="{{app_secret_display ? 'text' : 'password' }}" ng-model=config.mini_app_secret><md-icon md-svg-icon="{{ app_secret_display
                   ? 'action:ic_visibility_off_24px'
                   : 'action:ic_visibility_24px' }}" ng-click=toggle_secret_display()></md-icon><hint> {{_('* This will be automatically encrypted when saved.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Merchant ID')}}</label><input name=mch_id type=text ng-model=config.mch_id><hint> {{_('* You can find Merchant ID when WePay is activated.')}} </hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Merchant Secret')}}</label><input name=mch_secret type="{{mch_secret_display ? 'text' : 'password' }}" ng-model=config.mch_secret><md-icon md-svg-icon="{{ mch_secret_display
                   ? 'action:ic_visibility_off_24px'
                   : 'action:ic_visibility_24px' }}" ng-click=toggle_mch_secret_display()></md-icon><hint> {{_('* This will be automatically encrypted when saved.')}} </hint></md-input-container><div class=field-row><div layout=row><md-input-container flex><label>{{_('Merchant Name')}}</label><input name=mch_name type=text ng-model=config.mch_name></md-input-container><md-input-container flex><label>{{_('Merchant Class')}}</label><input name=mch_class type=text ng-model=config.mch_class></md-input-container></div><hint> {{_('* Must be exactly unified with WeChat merchant. '+ 'Otherwise, transaction may failure.')}} </hint></div><div class=field-container><div class=md-box ng-class="{'md-primary': config.certified,
                          'md-warn': !config.certified}"><div ng-show=!config.certified layout=row layout-align="center center"><md-icon class=md-margin md-svg-icon=action:ic_announcement_24px></md-icon><p class="md-body-1 md-margin" flex> {{_('Please fill in all configure options. '+ 'The Mini App must be certified, '+ 'and bind to WxPay Merchant.')}} </p></div><div ng-show=config.certified layout=row layout-align="center center"><md-icon class=md-margin md-svg-icon=action:ic_verified_user_24px></md-icon><p class="md-body-1 md-margin" flex> {{_('Fully configured. '+ 'Make sure the Mini App has been certified, '+ 'and bound to WxPay Merchant.')}} </p></div></div></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span> {{ _('Options') }} </span></h2></header><form name=store_opt_form ng-submit="save_option(store_opt, store_opt_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Uniform Delivery Fee')}}</label><input name=courier_fee type=number step=1 min=0 ng-model=courier_fee><hint for=store_opt_form.courier_fee> {{_('* Uniform delivery fee for all orders. '+ 'Please try to spread shipping costs into the unit price.')}} </hint><ng-messages for=store_opt_form.courier_fee.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message><ng-message when=min> {{ _('The number is too small.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Free Shipping Limit')}}</label><input name=free_courier type=number step=1 min=0 ng-model=free_courier><hint> {{_('* Free shipping when order payment reached this number.')}} </hint><ng-messages for=store_opt_form.free_courier.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message><ng-message when=min> {{ _('The number is too small.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label> {{_('Points Exchange %s:1', store_opt.credit_exchange||0)}} </label><input name=credit_exchange type=number step=1 min=0 ng-model=store_opt.credit_exchange><hint> {{_('* How many points exchange to one bucks. '+ 'Set to `0` to disable.')}} </hint><ng-messages for=store_opt_form.credit_exchange.$error><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message><ng-message when=min> {{ _('The number is too small.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label> {{_('Exchange Limiting %s %', store_opt.exchange_ratio)}} </label><md-slider-container><md-slider min=10 max=100 step=10 ng-model=store_opt.exchange_ratio aria-label="{{_('Exchange Limiting')}}" md-discrete md-invert></md-slider></md-slider-container><hint> {{_('* Limiting ratio of points when exchange for order.')}} </hint></div><div layout=row layout-align="space-between center"><md-button class=md-raised ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/wxs/views/pref_options.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('General Options')}}</span></h1></header><form name=app_form ng-submit="save(app, app_form)" novalidate><div layout=row><md-input-container class="md-block static" flex><label>{{_('Logo')}}</label><md-card class=thumbnail ng-click="switch_logo(app, $event)"><img ng-class="{'img-bg-contain': app.meta.logo,
                              'img-bg-lg': !app.meta.logo}" ng-src={{image.trans}} style={{(app.meta.logo||image.default)|bg_img}}><md-tooltip>.png, .jpg</md-tooltip></md-card></md-input-container><md-input-container class="md-block static" flex><label>{{_('Mini Code')}}</label><md-card class=thumbnail ng-click="switch_minicode(app, $event)"><img ng-class="{'img-bg-contain': app.meta.minicode,
                              'img-bg-lg': !app.meta.minicode}" ng-src={{image.trans}} style={{(app.meta.minicode||image.default)|bg_img}}><md-tooltip>.png, .jpg</md-tooltip></md-card></md-input-container></div><md-input-container class="md-block selector"><label>{{_('Locale')}}</label><md-select name=locale ng-model=app.locale ng-disabled=submitted required><md-option ng-value=loc.code ng-repeat="loc in locales"> {{_(loc.name)}} </md-option></md-select><ng-messages for=app_form.locale.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=app.meta.title md-maxlength=60 required><ng-messages for=app_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=app.meta.description md-maxlength=360></textarea><ng-messages for=app_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Copyright')}}</label><textarea name=copyright ng-model=app.meta.copyright maxlength=600></textarea></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-click=destroy(app) ng-disabled=submitted><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Advanced Options')}}</span></h2></header><form name=adv_form ng-submit="save_adv(app, adv_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Default Share Image')}}</label><md-icon md-svg-icon=image:ic_camera_24px ng-click=insert_share_img(app)></md-icon><input name=share_img type=url ng-model=app.meta.share_img md-maxlength=600><hint class=help for=adv_form.share_img><span> {{_('* A Image URL for Mini App default share screen.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=adv_form.share_img.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Deploy Key')}}</label><md-icon md-svg-icon=comm:ic_vpn_key_24px></md-icon><input name=deploy_key type=text ng-model=app.deploy_key ng-disabled=!property.expert maxlength=64><hint> {{_('* Use to deploy app. Latin or number only.')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class=md-raised type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-accent ng-if=app.status ng-click=toggle_status(app) ng-disabled=submitted><span>{{_('Stop')}}</span><md-icon md-svg-icon=av:ic_stop_24px></md-icon></md-button><md-button class=md-primary ng-if=!app.status ng-click=toggle_status(app) ng-disabled=submitted><span>{{_('Run')}}</span><md-icon md-svg-icon=av:ic_play_circle_outline_24px></md-icon></md-button></div></form><div class=space-lg></div><div class=space-margin><h3 class="md-caption md-text md-primary"> {{_('Custom Metas')}} </h3><md-list><md-list-item ng-repeat="(k, v) in app.meta.custom" ng-click="edit_custom(k, app.meta.custom)"><p class="md-body-1 text-nowrap"> {{ k }}{{_(': ')}}{{ v }} </p></md-list-item><md-list-item aria-label="{{_('New Custom Meta')}}" ng-click="edit_custom(null, app.meta.custom)"><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><md-divider></md-divider><div class=md-margin><hint> {{_('* Those composite metas is depend on theme supports.')}} </hint></div><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=hardcore(app) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=wxs.perf.options.custom.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Custom Meta')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Custom Meta')}}
    </h2>

    <!-- meta form -->
    <form class="md-padding"
          name="meta_form"
          ng-submit="submit(meta, meta_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Meta Key')}}</label>
        <input name="key"
               type="text"
               ng-model="meta.key"
               md-maxlength="60"
               required />
        <ng-messages for="meta_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Value')}}</label>
        <input name="value"
               type="text"
               ng-model="meta.value"
               md-maxlength="600"
               required />
        <ng-messages for="meta_form.value.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(meta)"
               ng-show="!meta._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(meta, meta_form)">
      {{meta._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wxs/views/product.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Products') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() ng-show=files.length aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s products in list', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{prd_type_slug}} perpage=perpage files=files status=status selection=sel strict></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right anim-show-hide" aria-label="{{_('Create New Article')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=components/contents/content_list.html><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': file._selected}" flex><md-card-header ng-hold="sel.select(file, files)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'draft': !file.status && !file._selected,
                   'md-accent': !file.is_reserved && file._selected,
                   'md-primary': file.is_reserved}" md-svg-icon="{{ file._selected
                   ? 'action:ic_done_24px'
                   : file.is_home ? 'action:ic_home_24px'
                   : file.is_segment ? 'action:ic_view_stream_24px'
                   : file.is_reserved ? 'editor:ic_insert_drive_file_24px'
                   : 'action:ic_description_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                   ? 'action:ic_done_24px'
                   : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status,
                           'text-italic': !file.meta.title}"> {{file.meta.title || file.slug }} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click="sel.selection?'':edit(file)" ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                    |thumbnail|bg_img}}"><md-card-actions layout=row layout-align="end center"><md-menu><md-button class=md-icon-button aria-label="{{_('Actions')}}" ng-disabled=sel.selection ng-click=$mdMenu.open($event)><md-icon md-svg-icon=nav:ic_more_vert_24px></md-icon></md-button><md-menu-content class=max-size-sm><md-menu-item><md-button class=md-primary ng-href={{file.url|now:file.updated}} target=_blank> {{_('Preview')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=toggle_status(file)> {{file.status ? _('Unpublish') : _('Publish')}} </md-button></md-menu-item><md-menu-item ng-if="options.moveable && !file.locked"><md-button ng-click="move(file, files)"> {{_('Move')}} </md-button></md-menu-item><md-menu-item ng-if=!file.locked><md-button ng-click="trash(file, files)"> {{_('Delete')}} </md-button></md-menu-item></md-menu-content></md-menu><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-disabled=sel.selection ng-click=edit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click="get_more(files, status.value)" flex><div class=float-case><div class=float-case-bg><img class=img-bg-cover ng-src={{image.trans_16x10}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div><script type=text/ng-template id=component.contents.move.tmpl.html>
<md-dialog class="max-size-sm"
           aria-label="{{_('Move Content')}}">
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Move To')}}
    </h2>
    <!-- content types -->
    <md-list class="anim-enter">
      <md-list-item class="text-nowrap-group"
                    ng-repeat="ctype in content_types"
                    ng-click="select(ctype)">
        <p class="text-center">
          {{_(ctype.title) || ctype.slug}}
        </p>
      </md-list-item>
    </md-list>
  </md-dialog-content>
</md-dialog>
</script></script><script type=text/ng-template id=components/contents/static_content_list.html><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-click=edit(file) flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'draft': !file.status,
                              'md-primary': file.is_reserved}" md-svg-icon="{{ file.is_home ? 'action:ic_home_24px'
                   : 'editor:ic_insert_drive_file_24px'}}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                   ? 'action:ic_done_24px'
                   : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-italic': !file.meta.title}"> {{file.meta.title || file.slug }} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} style="{{(file.meta.featured_image.srs||image.default)
                     |thumbnail|bg_img}}"></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=more aria-label="{{_('More')}}" ng-click=get_more(files) flex><div class=float-case><div class=float-case-bg><img class=img-bg-cover ng-src={{image.trans_16x10}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div></script><script type=text/ng-template id=modals/attrs/attrs.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Attributes')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Attributes')}} </h2><form class=md-padding name=modal_attrs_form ng-submit=save(data) novalidate><div ng-repeat="struct in options.structure"><md-input-container class=md-block ng-if="struct.type == 'text'"><label>{{struct.label || struct.key}}</label><input name={{struct.key}} type=text ng-model=data[struct.key] maxlength=600></md-input-container><md-input-container class="md-block selector" ng-if="struct.type == 'select'"><label>{{struct.label || struct.key}}</label><md-select name={{struct.key}} ng-model=data[struct.key]><md-option ng-value=op ng-repeat="op in struct.options track by $index"> {{op}} </md-option></md-select></md-input-container><div class=switch-container ng-if="struct.type == 'switch'"><md-switch ng-class="{'draft': !data[struct.key]}" ng-model=data[struct.key]> {{struct.label || struct.key}} </md-switch></div></div><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Restore')}}" ng-click=restore()><md-icon md-svg-icon=action:ic_restore_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(data, modal_attrs_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/bg/bg.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Background')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Background')}} </h2><form class=md-padding name=modal_bg_form ng-submit="save(media_bg, modal_bg_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(media_bg, $event)"><img class=img-bg-cover ng-src={{image.trans}} style={{(media_bg.src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class="md-block selector"><label>{{_('Preset Style')}}</label><md-select name=preset ng-model=media_bg.preset ng-disabled=submitted required><md-option ng-value="''"> {{_('Default')}} </md-option><md-option ng-value=preset.key ng-repeat="preset in presets"> {{preset.label}} </md-option></md-select><ng-messages for=modal_bg_form.preset.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Background Color')}}</label><input name=color type=text ng-model=media_bg.color ng-style={background:media_bg.color} maxlength=60><md-icon class=md-primary ng-click="set_color(media_bg, $event)" md-svg-icon=image:ic_palette_24px></md-icon></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Custom CSS Class')}}</label><input name=class type=text ng-model=media_bg.custom.class maxlength=120></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('Custom Inline Styles')}}</label><input name=style type=text ng-model=media_bg.custom.style maxlength=600></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(media_bg, modal_bg_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/carousel/carousel.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Carousel')}}" flex><md-toolbar class="bg-trans md-hue-3 md-menu-toolbar"><div class=md-toolbar-tools layout=row layout-align="center center" ng-show=!curr_slide> {{_('Carousel')}} </div><div class=md-toolbar-tools ng-show=curr_slide><md-button class=md-primary ng-click="save_slide(curr_slide, slides,
                                      modal_carousel_form.slide)"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><span>{{_('Save and back')}}</span></md-button><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Remove')}}" ng-click="remove_slide(curr_slide, slides)"><md-icon md-svg-icon=custom:ic_delete_outline_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><md-list ng-if=!curr_slide><md-subheader class=md-no-sticky> {{_('%s/%s total', slides.length, options.limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="slide in slides" ng-click="edit_slide(slide, $index)"><img class="md-avatar img-bg-cover" ng-if="slide.type == 'image'" ng-src={{image.trans}} style={{slide.src|thumbnail|bg_img}}><div ng-if="slide.type != 'image'"><md-icon class=md-avatar-icon md-svg-icon={{media_icons[slide.type]}}></md-icon></div><div class=md-list-item-text><p>{{ slide.title || '#'+$index }}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item ng-show="slides.length < options.limit" aria-label="{{_('Add')}}" ng-click=add_slide(slides)><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list><form class=indent-padding name=modal_carousel_form.slide ng-if=curr_slide ng-submit="save_slide(curr_slide, slides,
                                modal_carousel_form.slide)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(curr_slide, $event)"><img class=img-bg-cover ng-if="curr_slide.type == 'image' || !curr_slide.type" ng-src={{image.trans_16x10}} style={{(curr_slide.src||image.default)|bg_img}}><video ng-src={{curr_slide.src}} ng-if="curr_slide.type == 'video'" controls=true></video></md-card></md-input-container><div ng-if=!options.lite><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=curr_slide.title md-maxlength=60><ng-messages for=modal_carousel_form.slide.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Caption')}}</label><textarea name=caption type=text ng-model=curr_slide.caption md-maxlength=360></textarea><ng-messages for=modal_carousel_form.slide.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=curr_slide.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=360><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_carousel_form.slide.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages for=modal_carousel_form.slide.link.$error><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=curr_slide.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(slide)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=curr_slide.class maxlength=240></md-input-container></div><md-input-container class=md-block><label>{{_('Position')}}</label><input name=pos type=number step=1 ng-model=curr_slide._index required><ng-messages for=modal_carousel_form.slide.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions class=anim-enter ng-if=!curr_slide><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(slides)> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/catalog/catalog.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Catalog')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Catalog')}} </h2><div ng-repeat="group in catalog"><div class=md-margin><div layout=row layout-align="start center"><img class="avatar img-bg-cover" ng-src={{image.trans}} ng-click="switch_figure(group, $event)" style={{(group.figure||image.trans)|thumbnail|bg_img}}><div class="md-margin text-nowrap-group"><span class=md-body-2>{{group.name || group.key}}</span></div><span flex></span><md-menu><md-button class="md-icon-button md-accent" aria-label="{{_('Actions')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_swap_vertical_circle_24px></md-icon></md-button><md-menu-content class=max-size-xs width=2><md-menu-item><md-button ng-disabled=$first ng-click="move_group_up(catalog, $index)"> {{_('Move Up')}} </md-button></md-menu-item><md-menu-item><md-button ng-disabled=$last ng-click="move_group_down(catalog, $index)"> {{_('Move Down')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-warn ng-click="remove_group(catalog, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></div><div class=space-sm></div><div ng-if=group.items.length><div class=text-nowrap-group layout=row layout-align="space-between center" ng-repeat="(curr_idx, item) in group.items"><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Remove')}}" ng-disabled="$first && $last" ng-click=$mdMenu.open($event)><md-icon class=s16 md-svg-icon=editor:ic_drag_handle_24px></md-icon></md-button><md-menu-content width=1><md-menu-item ng-repeat="(next_idx, item) in group.items"><md-button ng-class="{'md-accent': curr_idx == next_idx}" ng-click="group_item_move_to(group.items,
                                                          curr_idx,
                                                          next_idx)"> {{next_idx}} </md-button></md-menu-item></md-menu-content></md-menu><div class=md-caption flex> {{ item.title || item.slug }} </div><md-button class="md-icon-button md-primary" aria-label="{{_('Remove')}}" ng-click="remove_group_item(group.items, $index)"><md-icon class=s16 md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></div><md-menu ng-if="group.items.length < options.items_limit"><md-button class=md-primary ng-disabled=!options.content_type ng-click="sync_group_items(group.key,
                                                $mdMenu.open($event))"><md-icon class=s16 md-svg-icon=content:ic_add_circle_outline_24px></md-icon><span class=md-caption>{{_('Add Content')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item ng-repeat="file in files"><md-button ng-click="add_group_item(file, group.items)"> {{file.meta.title || file.slug}} </md-button></md-menu-item><md-menu-item ng-if="files === false"><span class="md-caption draft">{{_('No Contents')}} </md-menu-item></md-menu-content></md-menu></div><md-divider></md-divider></div><div class="md-margin text-center"><md-menu><md-button class=md-accent ng-click=$mdMenu.open($event)><md-icon md-svg-icon=content:ic_add_24px></md-icon><span>{{_('Add Group')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item ng-repeat="term in terms"><md-button ng-class="{'text-strike': !term.status}" ng-click="add_group(term, catalog)"> {{term.meta.name || term.key}} </md-button></md-menu-item></md-menu-content></md-menu></div></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(catalog)> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/create.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Create New Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_(options.title || 'Create New Content')}} </h2><form class=md-padding name=modal_create_file_form ng-submit="submit(file, modal_create_file_form)" novalidate><md-input-container class="md-block static" ng-if=!options.forced_template><label>{{_('Template')}}</label><md-menu><md-card class=max-size-xs ng-click=$mdMenu.open($event)><img class=img-bg-contain ng-src={{image.trans_16x10}} style={{curr_tmpl.src|bg_img}}><md-tooltip md-direction=top>{{curr_tmpl.key}}</md-tooltip></md-card><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'faded': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-contain" ng-click="switch_template(tmpl, file)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p class=md-text> {{tmpl.key}} </p></md-menu-item></md-menu-content></md-menu></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=modal_create_file_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text maxlength=120 ng-model=file.slug><hint>{{_('* Used for friendly URLs and SEO.')}}</hint></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=modal_create_file_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close() ng-disabled=submitted> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="submit(file, modal_create_file_form)" ng-disabled=submitted> {{_('Create')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/sync.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Sync')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center text-nowrap"><span ng-if=!options.title> {{_('Sync')}}{{_(': ')}}{{app.meta.title || app.slug}} </span><span ng-if=options.title> {{_(options.title)}} </span></h2><div layout=row layout-align="space-between center" ng-show=!options.content_type><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select content type')}}" ng-model=sel_type ng-change="change_type(files, sel_type)"><md-optgroup label="{{_('Content Types')}}"><md-option ng-value=type.slug ng-repeat="type in content_types"> {{_(type.title || type.slug)}} </md-option></md-optgroup></md-select></div></div><md-list><md-subheader class=md-no-sticky> {{_('%s files in list', files.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="file in files" ng-click=sync(file)><p>{{ file.meta.title || file.slug }}</p></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(files, sel_type)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></md-dialog-content><md-dialog-actions class=centered><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/destroy/destroy.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Destruction')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_(options.title || 'Destruction')}} </h2><p class=md-padding><span class=md-body-2>{{_('Confirm code is')}}</span><span class="md-body  md-text md-warn text-break select-text"> {{options.key}} </span></p><form class=md-padding name=modal_destroy_form ng-submit="destroy(key, modal_destroy_form)" novalidate><md-input-container class=md-block><label>{{_('Confirm code')}}</label><input name=key type=text ng-model=key ng-pattern=match_regex><hint for=modal_destroy_form.key> {{_('* Type the check code exactly to confirm.')}} </hint><ng-messages for=modal_destroy_form.key.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with confirm code.') }} </ng-message></ng-messages></md-input-container></form></md-dialog-content><md-dialog-actions><md-button ng-click=close()> {{_('Abort')}} </md-button><md-button class=md-warn ng-disabled="modal_destroy_form.$invalid || !key" ng-click="destroy(key, modal_destroy_form)"> {{_('Destory it!')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/formsheet/formsheet.tmpl.html><md-dialog class="max-size-md dialog-overflow md-content-overflow" aria-label="{{_('Form Sheet')}}" flex><md-toolbar class=md-primary><div class=md-toolbar-tools><span> {{_('Form Sheet')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Paste')}}" ng-disabled=!has_saved_form ng-click=paste_form(form_data)><md-icon md-svg-icon=content:ic_content_paste_24px></md-icon><md-tooltip md-direction=bottom> {{_('Paste')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Copy')}}" ng-click=copy_form(form_data)><md-icon md-svg-icon=content:ic_content_copy_24px></md-icon><md-tooltip md-direction=bottom> {{_('Copy')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><form class=md-padding name=modal_formsheet_form ng-submit="save(form_data, modal_formsheet_form)" novalidate><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=form_data.title md-maxlength=60 required><ng-messages for=modal_formsheet_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector"><label>{{_('Submit to')}}</label><md-select name=type ng-model=form_data.type ng-change="form_data.action = ''" required><md-option value=event ng-show=options.allowed_form.event ng-disabled="events.length <= 0"> {{_('Submit to Event')}} </md-option><md-option value=mailto ng-show=options.allowed_form.mailto> {{_('Submit to E-Mail')}} </md-option><md-option value=custom> {{_('Use Custom Form')}} </md-option></md-select><ng-messages for=modal_formsheet_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block selector amend" ng-if="form_data.type == 'event'"><label>{{_('Target Event')}}</label><md-select name=event ng-model=form_data.action ng-required="form_data.type == 'event'"><md-option ng-value=event.slug ng-repeat="event in events"> {{event.meta.title || event.slug}} </md-option></md-select><hint for=modal_formsheet_form.event> {{_('* You can manage events from Membership.')}} </hint><ng-messages for=modal_formsheet_form.event.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if="form_data.type == 'mailto'"><label>{{_('E-Mail Address')}}</label><input name=mailto type=email ng-model=form_data.action md-maxlength=120 ng-required="form_data.type == 'mailto'"><hint for=modal_formsheet_form.mailto> {{_('* E-mail will sent by their own mail client.')}} </hint><ng-messages for=modal_formsheet_form.mailto.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if="form_data.type == 'custom'"><label>{{_('Action')}}</label><input name=custom type=text ng-model=form_data.action md-maxlength=240 ng-required="form_data.type == 'custom'"><hint for=modal_formsheet_form.custom> {{_('* Input the submit URL of custom form here.')}} </hint><ng-messages for=modal_formsheet_form.custom.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if="form_data.type == 'custom'"><label>{{_('Form Code')}}</label><textarea ng-model=form_data.custom_fields maxlength=6000 rows=6></textarea><hint> {{_('* Input the form inner HTML here. '+ '(do not include %sform%s tag)', '&lt;', '&gt;')}} </hint></md-input-container></form><div class=anim-enter ng-if="form_data.type && form_data.type != 'custom'"><div class="md-padding text-center draft" ng-if="form_data.fields.length <= 0"><p class=md-body-1> {{_('Add form fields by click icon buttons below.')}} </p><md-icon md-svg-icon=nav:ic_arrow_downward_24px></md-icon></div><div class="md-padding anim-enter-leave" ng-repeat="field in form_data.fields" ng-class="{'md-whiteframe-1dp': field._selected}" ng-click="edit_field(field, form_data)" layout=row layout-align="center top"><div flex=10><md-icon md-svg-icon={{field_icons[field.key]}} ng-class="{'md-accent': field._selected}"></md-icon></div><div ng-if="field.mode != 'static'" flex><md-input-container class="md-accent md-block" ng-show="field.type != 'hidden'"><label>{{_('Label')}}</label><input name=label type=text ng-model=field.label md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-show="field.type == 'hidden'"><label>{{_('Value')}}</label><input name=label type=text ng-model=field.value md-maxlength=240></md-input-container><div ng-show=field._selected><div ng-if="field.type == 'radio'
               || field.type == 'checkbox'
               || field.type == 'select'"><md-input-container class="tight md-caption md-accent md-block" ng-repeat="opt in field.options" md-no-float><md-icon md-svg-icon="{{field.type == 'radio'
                   ? 'toggle:ic_radio_button_unchecked_24px'
                   : field.type == 'checkbox'
                   ? 'toggle:ic_check_box_outline_blank_24px'
                   : 'action:ic_label_outline_24px'}}"></md-icon><input name=label type=text ng-model=opt.value placeholder="{{_('Empty')}}" maxlength=60><md-icon ng-click="remove_field_option(field.options, $index)" md-svg-icon=content:ic_clear_24px></md-icon></md-input-container><md-button class="md-accent anim-show-hide" ng-show="field.options.length < options.opt_limit" ng-click=add_field_option(field.options)> {{_('Add Option')}} </md-button></div><div ng-if="field.require_state != 0"><md-switch class=md-accent ng-class="{'draft': !field.required}" ng-model=field.required ng-disabled="field.require_state == 1"> {{_('Required')}} </md-switch></div><div class=space-md></div><md-input-container class="md-accent md-block"><label>{{_('Keyname')}}</label><input name=key type=text ng-model=field.key ng-blur="secure_field_key(field, form_data.fields)" ng-disabled="field.mode == 'event'" maxlength=60><hint ng-if="field.mode != 'event'"> {{_('* Keyname must be latin or number.')}} </hint></md-input-container><md-input-container class="md-accent md-block" ng-show=field._hint><label>{{_('Hint')}}</label><input name=hint type=text ng-model=field.hint maxlength=240></md-input-container><md-input-container class="md-accent md-block" ng-show=field._placeholder><label>{{_('Placeholder')}}</label><input name=placeholder type=text ng-model=field.placeholder maxlength=120></md-input-container></div></div><div ng-if="field.mode == 'static'" flex><div ng-if="field.type == 'paragraph'"><md-input-container class="md-accent md-block"><label>{{_('Title')}}</label><input name=title type=text ng-model=field.title md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-if=field._selected><label>{{_('Content')}}</label><textarea name=content ng-model=field.content md-maxlength=600></textarea></md-input-container></div><div ng-if="field.type == 'media'"><img ng-class="{'img-bg-cover': !field.src,
                      'img-bg-contain': field.src }" ng-src={{image.trans_20x10}} ng-click="switch_field_media(field, $event)" style={{((field.src|thumbnail)||image.default)|bg_img}}></div><div ng-if="field.type == 'divider'"><md-divider style="margin: 12px;"></md-divider></div></div><md-menu class="text-right anim-show-hide" ng-show=field._selected flex=10><md-icon md-svg-icon=nav:ic_more_vert_24px ng-class="{'md-accent': field._selected}" ng-click=$mdMenu.open($event)></md-icon><md-menu-content width=3><md-menu-item class=subject> {{_('Shuffle Order')}} </md-menu-item><md-menu-item><md-button class="md-icon-button md-accent" aria-label="{{_('Move Up')}}" ng-click="move_up(form_data.fields, $index)" ng-disabled=$first><md-icon md-svg-icon=nav:ic_arrow_drop_up_24px></md-icon></md-button><md-button class="md-icon-button md-accent" aria-label="{{_('Move Down')}}" ng-click="move_down(form_data.fields, $index)" ng-disabled=$last><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button></md-menu-item><md-menu-divider></md-menu-divider><div ng-if="field.placeholder != undefined ||
                  field.hint != undefined"><md-menu-item class=subject> {{_('Toggle Display')}} </md-menu-item><md-menu-item ng-if="field.placeholder != undefined"><md-button ng-class="{'draft': field._placeholder}" ng-click="toggle_field(field, '_placeholder')"> {{_('Placeholder')}} </md-button></md-menu-item><md-menu-item ng-if="field.hint != undefined"><md-button ng-class="{'draft': field._hint}" ng-click="toggle_field(field, '_hint')"> {{_('Hint')}} </md-button></md-menu-item></div><md-menu-divider ng-if="field.placeholder != undefined ||
                              field.hint != undefined"></md-menu-divider><md-menu-item><md-button class="md-primary md-accent" ng-click="remove_field(form_data, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></div><div class=space-md></div><div class=text-center ng-show="form_data.fields.length < options.limit"><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Event Field')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_event_24px></md-icon></md-button><md-menu-content width=3><md-menu-item><p class="md-body-1 draft"> {{_('Event Field')}} </p></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'event'"><md-button ng-click="add_field(struct, form_data)" ng-disabled=event_keys_map[struct.key]><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.label)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Form Field')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=av:ic_library_books_24px></md-icon></md-button><md-menu-content width=3><md-menu-item><p class="md-body-1 draft"> {{_('Common Field')}} </p></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'common'"><md-button ng-click="add_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.label)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Static')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-menu-content width=3><md-menu-item><p class="md-body-1 draft"> {{_('Static Element')}} </p></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'static'"><md-button ng-click="add_static_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.label)}}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div></md-dialog-content><md-dialog-actions class=anim-enter><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(form_data, modal_formsheet_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/hardcore/hardcore.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Hardcore Mode')}}" flex><md-toolbar><div class=md-toolbar-tools><span class="max-size-sm text-nowrap"> {{_(options.title || 'Hardcore Mode')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout-margin><form name=modal_hardcore_form ng-submit="save(hardcore, modal_hardcore_form)" novalidate flex><md-input-container class="md-block amend"><label>{{_(options.label) || _('Code')}}</label><textarea name=hardcore ng-model=hardcore parse-json-verify={{options.verify}} maxlength="{{options.maxlength || 12000}}" rows=6></textarea><hint for=modal_hardcore_form.hardcore> {{_(options.hint) || _('* Define a JSON object string.')}} </hint><ng-messages for=modal_hardcore_form.hardcore.$error><ng-message when=JSONStringVerify> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></div></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class=md-primary ng-click="save(hardcore, modal_hardcore_form)"> {{_(options.ok) || _('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/identity/identity.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Identity Verification')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Identity Verification')}} </h2><form class=md-padding name=modal_identity_form ng-submit="submit(pwd, modal_identity_form)" novalidate><md-input-container class=md-block><label>{{_('Password')}}</label><input name=passwd type=password ng-model=pwd.passwd ng-pattern=regex_pattern.passwd required><hint for=modal_identity_form.key> {{_('* Type your login password to verify.')}} </hint><ng-messages for=modal_identity_form.key.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Abort')}} </md-button><md-button class=md-primary ng-click="submit(pwd, modal_identity_form)" ng-disabled=submitted> {{_('Verify')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/lines/lines.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Lines')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Lines')}} </h2><md-list><md-subheader class=md-no-sticky> {{_('%s/%s total', lines.length, options.limit)}} </md-subheader><md-list-item class="anim-show text-nowrap-group" ng-repeat="item in lines"><div class=md-list-item-text><p>{{ item.text || '#'+$index }}</p></div><md-menu class=md-secondary><md-icon class=md-primary md-svg-icon=action:ic_swap_vert_24px ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click="move_up(lines, $index)"> {{_('Move Up')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="move_down(lines, $index)"> {{_('Move Down')}} </md-button></md-menu-item><md-menu-item><md-button class=md-primary ng-click="remove_line(lines, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><form class=md-padding name=modal_lines_form ng-submit="add_line(new_item, lines, modal_lines_form)" ng-show="lines.length < options.limit" novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><input name=text type=text ng-model=new_item.text md-maxlength=360><md-icon md-svg-icon=content:ic_add_circle_outline_24px ng-click="add_line(new_item, lines, modal_lines_form)" ng-disabled=!new_item.text></md-icon><ng-messages for=modal_lines_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button ng-disabled=!new_item.text hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(lines)> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/link/link.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Link')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Link')}} </h2><form class=md-padding name=modal_link_form ng-submit="save(link, modal_link_form)" novalidate><md-input-container class=md-block ng-if=options.usetypes.name><label>{{_('Name')}}</label><input name=name type=text ng-model=link.name md-maxlength=60><ng-messages for=modal_link_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=link.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=360 required><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_link_form.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages for=modal_link_form.link.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=link.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(link)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class="md-block static" ng-if=options.usetypes.figure><label>{{_('Media')}}</label><md-card class=max-size-xs ng-click="switch_figure(link, $event)"><img ng-class="{'img-bg-contain': link.figure,
                          'img-bg-lg': !link.figure}" ng-src={{image.trans_16x10}} style={{(link.figure||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=link.class maxlength=240></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(link, modal_link_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/media/media.tmpl.html><md-dialog class=dialog-overflow ng-class="{'md-content-overflow': mediafiles.length > 2}" aria-label="{{_('Media Repository')}}"><md-toolbar><div class=md-toolbar-tools><span> {{_('Media Repository')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Attributes')}}" ng-disabled=!selected_media.src ng-click=toggle_attrs()><md-icon md-svg-icon=action:ic_chrome_reader_mode_24px></md-icon><md-tooltip md-direction=bottom> {{_('Attributes')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout=row layout-xs=none flex-offset-gt-md=5 layout-wrap><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=!options.is_new><md-card class=md-bg-primary ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{source_media.src|thumbnail|now|bg_img}}}}></div></md-card><md-card class=md-bg-primary ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type != 'image'"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[source_media.type]}}></md-icon><md-tooltip md-direction=top> {{source_media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><input class="ng-hide media-modal-upload" type=file ngf-select=onFileSelect($files) ngf-multiple=true ngf-accept={{options.mimetypes}}><md-card class=safe-media-bg ng-click="select_file('.media-modal-upload', $event)" ng-disabled="upload_status == 1"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-icon class="s48 md-warn" ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=60></md-progress-circular></div></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=media.id ng-repeat="media in mediafiles"><md-card class="md-box safe-media-bg" ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{media.src|thumbnail|now:media.updated|bg_img}}></div></md-card><md-card class=md-box ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type != 'image'"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" ng-show=has_more flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><md-card aria-label="{{_('More')}}" ng-click=get_more(mediafiles)><div class=float-case><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div></md-dialog-content><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=media_property layout=column><md-toolbar><div class=md-toolbar-tools layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Backward')}}" ng-click=toggle_attrs()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><span flex></span><md-button ng-show=!options.is_new ng-click=remove()> {{_('Remove')}} </md-button><md-button ng-click="save(selected_media, modal_media_form)"> {{_('Confirm')}} </md-button></div></md-toolbar><md-content flex><form class=md-padding name=modal_media_form ng-submit="save(selected_media, modal_media_form)" novalidate><div class="centered-block md-padding max-size-sm"><div ng-if="selected_media.type == 'image'"><div class="md-padding safe-media-bg"><img class=img-bg-contain ng-src={{image.trans}} style={{selected_media.src|thumbnail|now|bg_img}}></div></div><div ng-if="selected_media.type == 'video'"><div class="md-padding safe-media-bg"><video ng-src={{selected_media.src}} controls=true></video></div></div><div ng-if="selected_media.type == 'audio'"><div class="md-padding safe-media-bg"><audio ng-src={{selected_media.src}} controls=true></audio></div></div><div ng-if="selected_media.type == 'application'"><div class="md-padding safe-media-bg"><md-icon class=s48 md-svg-icon={{media_icons[selected_media.type]}}></md-icon></div></div></div><div ng-show=!options.lite><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=selected_media.title md-maxlength=60><ng-messages for=modal_media_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Link')}}</label><input name=link type=text ng-model=selected_media.link maxlength=360><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!selected_media.src ng-click=link_media(selected_media)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=selected_media.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(selected_media)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=selected_media.class maxlength=240></md-input-container><md-input-container class="md-block static" ng-show="selected_media.type == 'video'"><label>{{_('Media')}}</label><md-card class=max-size-xs ng-click="switch_poster(selected_media, $event)"><img ng-src={{image.trans_16x10}} ng-class="{'img-bg-cover': selected_media.poster,
                              'img-bg-lg': !selected_media.poster}" style={{(selected_media.poster||image.default)|bg_img}}></md-card></md-input-container><div ng-show="selected_media.type == 'video' ||
                        selected_media.type == 'audio'"><md-switch ng-class="{'draft': !selected_media.autoplay}" ng-model=selected_media.autoplay> {{_('Autoplay')}} </md-switch><md-switch ng-class="{'draft': !selected_media.loop}" ng-model=selected_media.loop> {{_('Loop')}} </md-switch><md-switch ng-class="{'draft': !selected_media.controls}" ng-model=selected_media.controls> {{_('Display Controls')}} </md-switch></div></div><button hide></button></form></md-content></md-sidenav></md-dialog></script><script type=text/ng-template id=modals/preset/preset.tmpl.html><md-dialog class=max-size-lg aria-label="{{_('Content Presets')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Content Presets')}} </h2><div layout=row layout-wrap><div class=wrap-card flex-gt-sm=25 flex-sm=33 flex=100 layout=column><md-card ng-click=select(default_preset)><div class=float-case><img class="img-bg-contain float-case-bg" ng-src={{image.trans}}><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s60 draft" md-svg-icon=image:ic_crop_free_24px></md-icon></div></div></md-card></div><div class=wrap-card flex-gt-sm=25 flex-sm=33 flex=100 ng-repeat="preset in presets"><md-card ng-click=select(preset)><img class="md-card-image img-bg-contain" ng-src={{image.trans}} style={{preset.preview|bg_img}}></md-card></div></div></md-dialog-content><md-dialog-actions class=centered><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/print/print.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Download')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Download')}} </h2><div class="md-margin text-center"><a class=print-download-archer href=# hide></a><md-button ng-click="download($event, '.print-download-archer')" aria-label="{{_('Download')}}"><md-icon class="s96 md-accent" md-svg-icon=file:ic_file_download_24px></md-icon></md-button></div><div class=text-center><hint> {{_('Print into csv files for download. '+ 'It might take awhile when data is too large.')}} </hint></div></md-dialog-content><md-dialog-actions class=centered><md-button class=md-primary ng-click=finish()> {{_('Done')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/prompt/prompt.tmpl.html><md-dialog class=max-size-md aria-label="{{options.title || _('Prompt')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_(options.title) || _('Prompt')}} </h2><form class=md-padding name=modal_prompt_form ng-submit="enter(text, modal_prompt_form)" novalidate><div class=notice ng-if=options.text><p class=md-body-1> {{_(options.text)}} </p></div><md-input-container class=md-block><label>{{_(options.label) || _('Text')}}</label><input name=text type=text ng-model=text ng-pattern=options.regex md-maxlength=options.length ng-required=options.required><hint for=modal_prompt_form.text ng-if=options.hint> {{options.hint}} </hint><ng-messages for=modal_prompt_form.text.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with pattern.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class="{{options.style || 'md-primary'}}" ng-click="enter(text, modal_prompt_form)"> {{_(options.ok) || _('Enter')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/series/series.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Series Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Series Content')}} </h2><form class=md-padding name=modal_series_form ng-submit="save(item, modal_series_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="select_media(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-if="item.type == 'image'|| !item.type" style={{(item.src||image.default)|bg_img}}><video ng-if="item.type == 'video'" ng-src={{item.src}} controls=true></video><audio ng-if="item.type == 'audio'" ng-src={{item.src}} controls=true></audio><div class="md-padding text-center" ng-if="item.type == 'application'"><md-icon class=s48 md-svg-icon={{media_icons[item.type]}}></md-icon><md-tooltip md-direction=top> {{_(item.src)}} </md-tooltip></div></md-card></md-input-container><md-input-container class="md-block static" ng-if="item.type == 'video'"><label>{{_('Poster')}}</label><md-card class=max-size-sm ng-click="select_poster(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(item.poster||image.default)|bg_img}}></md-card></md-input-container><div ng-if=!options.lite><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=item.title md-maxlength=60><ng-messages for=modal_series_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Caption')}}</label><textarea name=caption ng-model=item.caption md-maxlength=360></textarea><ng-messages for=modal_series_form.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Link')}}</label><input name=link type=text ng-model=item.link maxlength=360><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!item.src ng-click=link_media(item)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=item.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(item)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><div class="field-container amend" ng-show="property.capability > 2"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=item.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{item.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Misc')}}</label><textarea name=misc ng-model=item.misc md-maxlength=600></textarea><hint for=modal_series_form.misc> {{_('* Use to input additional complex contents.')}} </hint><ng-messages for=modal_series_form.misc.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=item.class maxlength=240></md-input-container></div><md-input-container class=md-block><label>{{_('Position')}}</label><input name=pos type=number step=1 ng-model=item._index ng-required=!options.is_new><ng-messages for=modal_series_form.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when="number, step"> {{ _('Must be an integer.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove(item)><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(item, modal_series_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/shelf/shelf.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Link')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Commodity Shelf')}} </h2><form class=md-padding name=modal_shelf_form ng-submit="save(shelf, commodity, modal_shelf_form)" novalidate><md-input-container class="md-block static"><label>{{_('Commodity')}}</label><md-card ng-click="attach_commodity(shelf, $event)" ng-disabled=!loaded><div class="md-padding md-margin text-center" ng-if=!sync_status><md-icon class="s60 draft" md-svg-icon=action:ic_shopping_cart_24px></md-icon></div><div class="md-padding md-margin text-center" ng-if="sync_status == 1"><md-icon class="s60 md-primary" md-svg-icon="{{shelf.customize
                     ? 'action:ic_shopping_cart_24px'
                     : 'action:ic_shopping_basket_24px'}}"></md-icon><div class="md-caption md-text md-primary md-margin text-nowrap" ng-show=shelf.commodity_id>{{shelf.name}}</div></div><div class="md-padding md-margin text-center" ng-if="sync_status == 2"><md-icon class="s60 md-warn" md-svg-icon=action:ic_remove_shopping_cart_24px></md-icon><div class="md-caption md-text md-margin md-warn"> {{_('Commodity is not available')}} </div></div></md-card></md-input-container><md-input-container class=md-block><label>{{_('Name')}}</label><input name=name type=text ng-model=shelf.name md-maxlength=60 required><hint for=modal_shelf_form.name> {{_('* The name used to display in the shopping cart.')}} </hint><ng-messages for=modal_shelf_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !shelf.customize}" ng-change=change_customize(shelf) ng-model=shelf.customize> {{_('Custom Properties')}} </md-switch><div ng-if=shelf.customize><div class=indent-padding><hint> {{_('Customize commodity spec. is for display only, '+ 'it dose not affect transaction. '+ 'After the customize is turned on, '+ 'commodity shelf management will not synchronize '+ 'automatically.')}} </hint></div><div class=text-right><md-button class=md-primary ng-click=refresh_commodity(shelf)><span>{{_('Refresh')}}</span><md-icon md-svg-icon=nav:ic_refresh_24px></md-icon></md-button></div><md-subheader class=md-no-sticky> {{_('Commodity Spec. Alias')}} </md-subheader><div class="md-padding text-center" ng-if=commodity.spec|is_empty><p class="md-caption md-text draft"> {{_('This Commodity has no Spec.')}} </p></div><div class=space-padding ng-repeat="sp in commodity.spec"><md-input-container class=md-block><label>{{_('Label')}}</label><input type=text name={{sp.key}} ng-model=shelf.alias_map.label[sp.key] md-maxlength=24 md-no-float><ng-messages for=modal_shelf_form[sp.key].$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class=indent-margin ng-repeat="opt in sp.options" layout=row layout-align="start center"><div class="md-padding short"><img class="s36 safe-media-bg img-bg-cover" ng-src={{image.trans}} ng-click="switch_item_figure(
              shelf.alias_map.spec[sp.key][opt.value], $event)" ng-if=shelf.alias_map.spec[sp.key][opt.value].src style={{shelf.alias_map.spec[sp.key][opt.value].src|bg_img}}><md-icon class=s36 ng-if=!shelf.alias_map.spec[sp.key][opt.value].src ng-click="switch_item_figure(
                       shelf.alias_map.spec[sp.key][opt.value], $event)" md-svg-icon=image:ic_photo_24px></md-icon></div><md-input-container class="tight md-block md-caption" md-no-float flex><input type=text ng-model=shelf.alias_map.spec[sp.key][opt.value].text placeholder="{{_('Empty')}}" maxlength=24></md-input-container></div></div></div><div class=space-md></div><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=shelf.class maxlength=240></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=shelf.commodity_id ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-disabled="!sync_status || (sync_status == 2) || submitted" ng-click="save(shelf, commodity, modal_shelf_form)"> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/slot/slot.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Manage Widget Slot')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Manage Widget Slot')}} </h2><form class=md-padding name=modal_slot_form ng-submit="submit(slot, modal_slot_form)" novalidate><md-input-container class=md-block ng-if=options.usetypes.name><label>{{_('Name')}}</label><input name=name ng-model=slot.name md-maxlength=60><ng-messages for=modal_slot_form.name.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block static" ng-if=options.usetypes.media><label>{{_('Media')}}</label><input name=media type=url ng-model=slot.src md-maxlength=360><md-icon md-svg-icon=editor:ic_insert_photo_24px ng-click="switch_media(slot, $event)"></md-icon><ng-messages for=modal_slot_form.media.$error><ng-message when=url> {{ _('Must be a URL.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if=options.usetypes.route><label>{{_('Route')}}</label><input name=route ng-model=slot.route md-maxlength=120><ng-messages for=modal_slot_form.route.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-if=options.usetypes.script><label>{{_('Script')}}</label><textarea name=script ng-model=slot.script md-maxlength=6000 rows=6></textarea><hint for=modal_slot_form.script> {{_('* Support HTML or Javascript codes.')}} </hint><ng-messages for=modal_slot_form.script.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-switch ng-class="{'draft': !slot.status}" ng-model=slot.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><hint> {{_('* Those option affect every pages that use the widget slot.')}} </hint><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="submit(slot, modal_slot_form)" ng-disabled=submitted> {{_('Confirm')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/timer/timer.tmpl.html><md-dialog class=max-size-sm aria-label="{{_('Timer')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Timer')}} </h2><div class=text-center ng-if="timer > 0"><md-icon md-svg-icon=action:ic_alarm_24px class="s96 md-accent"></md-icon><div class="md-display-2 text-nowrap"> {{timer}} </div><p class=hint ng-bind-html=_(message.waiting)></p></div><div class=text-center ng-if="timer <= 0"><md-icon md-svg-icon=action:ic_alarm_on_24px class="s96 md-accent"></md-icon><p class=hint ng-bind-html=_(message.done)></p></div></md-dialog-content><md-dialog-actions class=centered><md-button ng-click=close() ng-if="timer > 0"> {{_('Ok, I will be back!')}} </md-button><md-button ng-click=continue(timer) ng-if="timer <= 0"> {{_('Continue')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=navs/views/mainnav.tmpl.html><md-sidenav class="primary-nav md-sidenav-left md-whiteframe-6dp" md-component-id=main_nav layout=column><md-content flex><md-toolbar class=md-accent ng-class="{'invisible': !profile}"><div layout-margin><div class=profile><div class="level md-box md-accent"> {{property.capability}} </div><img class="img-bg-cover md-avatar md-box md-accent" ng-src={{image.trans}} ng-click="go('user/profile')" style="{{(profile.meta.avatar||image.avatar)
                         |thumbnail|bg_img}}"><span> {{profile.meta.nickname || profile.slug}} </span></div></div></md-toolbar><ul class=navbar><li ng-if=navs.app><div><md-button class=md-accent ng-click=go()><div layout=row layout-align="start start"><md-icon md-svg-icon={{app_icons[navs.app.type]}}></md-icon><span flex>{{navs.app.label}}</span><md-icon md-svg-icon=hardware:ic_keyboard_return_24px></md-icon></div></md-button></div></li><li ng-repeat="nav in navs.data" ng-if="!nav.capability || property.capability >= nav.capability" ng-show=!nav._hide><div ng-if="!nav.key && nav.label"><div class="nav-label md-text {{nav.class}}"><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span></div></div></div><div ng-if="nav.key && !nav.nodes"><md-button class={{nav.class}} ng-click=go(nav.path) ng-disabled=nav._current><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span></div></md-button></div><div ng-if="nav.key && nav.nodes"><md-button class="menu-btn-toggle {{nav.class}}" ng-disabled=nav._current ng-click=toggle(nav)><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span><md-icon class=toggle-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': nav._active || nav._current}"></md-icon></div></md-button><ul class=menu-toggle-list ng-show="nav._active || nav._current"><li ng-repeat="child in nav.nodes" ng-if="!child.capability
                       || property.capability >= child.capability"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span> {{child._skip_translation ? child.label : _(child.label)}} </span></md-button></li><li ng-if="nav.nodes.length <= 0"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span>{{_('Empty')}}</span></md-button></li></ul></div></li></ul></md-content></md-sidenav></script><script type=text/ng-template id=navs/views/topbar.tmpl.html><md-toolbar class="topbar md-accent" ng-class="{'md-whiteframe-3dp': is_scroll_down,
                       'bg-trans md-hue-1': !is_scroll_down}"><div class=md-toolbar-tools><div class=text-nowrap-group layout=row layout-align="center center" ng-if=navs.id><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Toggle navigation')}}" ng-show=!navs.backward ng-click="toggle_nav('main_nav')"><md-icon md-svg-icon=nav:ic_menu_24px></md-icon></md-button><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Backward')}}" ng-show=navs.backward ng-click="go(navs.backward||'/')"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><h5 class="topbar-title anim-show" ng-click="navs.backward?go(navs.backward):toggle_nav('main_nav')" ng-show="navs.label || navs.app.label" flex> {{navs.app ? navs.app.label : _(navs.label)}} </h5></div><div flex></div><div layout=row layout-align="center center"><md-button aria-label="{{_('Upload')}}" class=md-icon-button ng-show="upload_repo && property.capability > 2" ng-click=upload(upload_repo)><md-icon md-svg-icon=file:ic_cloud_upload_24px md-menu-origin></md-icon></md-button><md-menu md-offset="0 -5"><md-button aria-label="{{_('Language')}}" class=md-icon-button ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_language_24px md-menu-origin></md-icon></md-button><md-menu-content width=3><md-menu-item ng-repeat="locale in locales"><md-button ng-click=switch_lang(locale) ng-disabled=is_current_lang(locale)> {{ locale.name }} </md-button></md-menu-item></md-menu-content></md-menu></div></div></md-toolbar><md-toolbar class="topbar-overlay md-accent anim-enter-leave" ng-class=overlay.class ng-if=overlay.selection><div class=md-toolbar-tools ng-dynamic-controller=overlay.controller ng-include=overlay.templateUrl></div></md-toolbar><script type=text/ng-template id=overlay.default.tmpl.html>
  <div layout="row"
       layout-align="start center">
    <md-button class="md-icon-button"
               aria-label="{{_('Backward')}}"
               ng-click="cancel()">
      <md-icon md-svg-icon="nav:ic_arrow_back_24px"></md-icon>
    </md-button>
    <h5>
      {{_('Bulk Action')}}
    </h5>
  </div>

  <div flex></div>

  <div layout="row"
       layout-align="end center">
    <md-button class="md-icon-button"
               aria-label="{{_('Batch Delete')}}"
               ng-disabled="!has_selected()"
               ng-click="trash()">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
  </div>
</script><script type=text/ng-template id=media.upload.sheet.tmpl.html>
  <md-bottom-sheet class="md-grid" layout="column">
    <!-- uploads -->
    <div class="md-padding">
      <h2 class="md-headline text-center">
        {{_('Batch Media Uploader')}}
      </h2>
      <div class="media-uploadbox"
           ngf-drop="onFileSelect($files)"
           ngf-allow-dir="true"
           ngf-accept="{{mimetypes}}"
           ngf-multiple="true"
           ng-file-drop=""
           ngf-drag-over-class="file-drag-over"
           ng-click="select_file('.media-manage-uploads')"
           layout="row"
           layout-align="center center">
        <md-icon class="s48 md-accent"
                 ng-show="upload_status == 0"
                 md-svg-icon="file:ic_cloud_upload_24px"></md-icon>

        <md-progress-circular class="md-accent"
                              ng-show="upload_status == 1"
                              md-mode="indeterminate"
                              md-diameter="60">
        </md-progress-circular>
        <md-icon class="md-warn s48"
                 ng-show="upload_status == 2"
                 md-svg-icon="action:ic_report_problem_24px"></md-icon>
        <md-icon class="md-accent s48"
                 ng-show="upload_status == 3"
                 md-svg-icon="action:ic_done_24px"></md-icon>
      </div>
      <p class="hint text-center">
        {{_('* image: < 1Mb, audio: < 5Mb, video: < 20Mb.')}}
      </p>
    </div>

    <!-- stupid ios dose not support button file uploads -->
    <input class="ng-hide media-manage-uploads"
           type="file"
           ngf-select="onFileSelect($files)"
           ngf-multiple="true"
           ngf-accept="{{mimetypes}}" />
  </md-bottom-sheet>
</script></script><script type=text/ng-template id=matters/agreement/agreement.tmpl.html><md-dialog aria-label="{{_('Agreement')}}"><md-toolbar class=md-accent><div class=md-toolbar-tools><span> {{_('Agreement')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex><div class=md-padding layout-margin><article class="document md-padding"><h2></h2><h3></h3><p>  </p><p>  </p><h3></h3><ol><li></li><li>  InternetWeb InternetInternet </li><li>  </li><li>  </li><li>  </li></ol><h3></h3><ol><li>  </li><li>  </li><li>  </li><li>  </li><li>15</li></ol><h3></h3><ol><li>  </li><li>  </li><li>  </li><li>  </li></ol><h3></h3><ol><li>  </li><li>  </li><li>  <ol><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ol></li><li>  <ol><li></li><li></li><li></li><li></li><li></li><li></li><li>  </li></ol></li><li> / </li></ol><h3></h3><ol><li> H5App </li><li>  <ol><li>  </li><li>  </li><li>  </li><li>  <ol><li></li><li>  </li><li>  </li></ol></li></ol></li><li>  <ol><li></li><li></li></ol></li><li> / </li><li>  </li><li>   </li><li>  </li></ol><h3></h3><ol><li>  </li><li>  </li><li>  <ol><li></li><li></li><li></li><li></li><li></li></ol></li><li></li></ol><h3></h3><ol><li>   </li><li>  </li></ol><h3></h3><ol><li></li><li></li><li></li></ol><h3></h3><ol><li></li><li></li><li></li><li>BUG</li><li>  <ol><li></li><li></li><li></li><li></li><li></li></ol></li><li>  </li><li>   </li></ol><h3></h3><ol><li>  <ol><li></li><li></li><li></li><li></li><li></li></ol>  </li><li></li></ol><h3></h3><ol><li>  <ol><li></li><li>IP</li></ol></li><li>  <ol><li>  </li><li>  </li><li>  </li></ol></li><li>  <ol><li></li><li>  </li><li>  </li><li>  </li><li>  </li><li>  </li></ol></li></ol><h3></h3><p>APIAPI</p><p></p><h3></h3><ol><li>  </li><li>  <ol><li></li><li></li><li></li><li></li></ol></li><li>  </li></ol><h3></h3><ol><li></li><li></li><li></li><li></li><li>201761</li></ol></article></div></md-dialog-content><md-dialog-actions><md-button ng-click=disagree()> {{_('Disagree')}} </md-button><md-button ng-click=agree()> {{_('Agree')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=matters/help/help.tmpl.html><md-dialog aria-label="{{_('Help')}}"><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Help')}} </h2><div class=md-padding ng-include=templateId></div></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Ok, I Understand.')}} </md-button></md-dialog-actions></md-dialog><script type=text/ng-template id=help.category>
  <article ng-if="lang == 'en'">
    <h4>Category</h4>
    <p>
      Categories are used to summarize content, such as articles, products, etc., so that visitors can easily find them.
    </p>
    <p>
      <i>
        Category is defined and activated by theme.
        You must switch a theme which is support the category.
      </i>
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4></h4>
    <p>
      
    </p>
    <p>
      120
      
      
      
    </p>
    <p>
      <i></i>
    </p>
  </article>
</script><script type=text/ng-template id=help.widget_slot>
  <article ng-if="lang == 'en'">
    <h4>Widget Slots</h4>
    <p>
      Widget slot is a for managing multiplexed elements.
    </p>
    <p>
      It is best for shared modules or third-party plug-in.
      such as Analytics, Advertising, Login Module, and so on.
    </p>
    <p>
      The position of the widget is fixed, you can usually find a hint when editing the page (unless the theme designer hide those information).
    </p>
    <p>
      Widget script can be JS or HTML code. Please Note, Widget require theme to support it, unsupported widget script will automatically deleted.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4></h4>
    <p>
      
    </p>
    <p>
      
      
    </p>
    <p>
      
      
    </p>
    <p>
       JS  HTML
      
      
    </p>
  </article>
</script><script type=text/ng-template id=help.verify_file>
  <article ng-if="lang == 'en'">
    <h4>Verify File</h4>
    <p>
      There are some third-party services that need to verify ownership of your domain and generally let you place a file at the root of your domain. Since we do not allow you to upload files to the "root directory" (in fact there is no root directory). So We provided a function to set those verification file.
    </p>
    <p>
      Input filename and file content exactly.
      You should be able to open those verification files in any text editor.
    </p>
    <p>
      Please note! Some third-party services require that you place the verification file in a specific folder,
In this case you should choose other way to verify,
      such as verify by DNS, or modify nginx configuration and so on.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4></h4>
    <p>
      
      txt
      
      
    </p>
    <p>
      
      
    </p>
    <p>
      
      DNSnginx
      
    </p>
  </article>
</script><script type=text/ng-template id=help.capability>
  <article ng-if="lang == 'en'">
    <h4>Capability Level</h4>
    <p>
      Capability is use to defined the knowledge level of computer
      and internet.
    </p>
    <p>
      Higher capability level can access more features or more resouces,
      but some features might require more knowledge to managing.
      The highest capability can access advanced features with coding style.
    </p>
    <p>
      Unlike permission level, user can change capability level anytime.
      We recommend you choose a capability that fits yourself.
      It is a unique design in our system, you might not see it before.
    </p>
    <p>
      We have 3 capability for now.
    </p>
    <ul>
      <li>
        Noob [lv 1]
      </li>
      <li>
        Junior [lv 2]
      </li>
      <li>
        Senior [lv 3]
      </li>
    </ul>

    <p>
      
      
      
    </p>

    <md-divider></md-divider>

    <p class="hint md-margin">
      * Remeber "More power, more cost".
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4></h4>
    <p>
      
    </p>
    <p>
      
      
      
      
      
    </p>
    <p>
      3
    </p>
    <ul>
      <li>
         [lv 1]
      </li>
      <li>
         [lv 2]
      </li>
      <li>
         [lv 3]
      </li>
    </ul>
    <p>
      
      
      
    </p>

    <md-divider></md-divider>

    <p class="hint md-margin">
      *
      
    </p>
  </article>
</script><script type=text/ng-template id=help.slug>
  <article ng-if="lang == 'en'">
    <h4>URL Slug</h4>
    <p>
      URL Slug make the URL more user-friendly and you know what to expect when you click a link. It will also improve SEO. Search engines such as Google, rank the pages higher if the search word is in the URL.
    </p>
    <p>
      Slugs identifies a page in human-readable keywords, they are typically generated automatically from a title or name.
      In some case can also be manually entered when needed (Expert only).
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>URL Slug</h4>
    <p>
      URL Slug SEO
      
    </p>
    <p>
      Slugs 

      
    </p>
  </article>
</script><script type=text/ng-template id=help.site_url>
  <article ng-if="lang == 'en'">
    <h4>Site URL</h4>
    <p>
       The URL of the app base route. After site URL is seted, the app's theme, menu and links will automatically generate valid URL with site URL. The site URL could also attach paths, parameters, ports, and so on.
    </p>
    <p>
      You have to configure a domain on your own server, the URL of the domain can be activate as the Site URL.
    </p>
    <p>
      For example a domain 'spporo.com', the URL is
      'http://www.soopro.com', just use the URL as site URL.
    </p>
    <p>
      We provider a private site URL as default.
      You have to use your own domain to make it public.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4></h4>
    <p>
      
    </p>
    <p>
      
    </p>
    <p>
      soopro.comhttp://www.soopro.com
      </p>
    <p>
      
      
    </p>
  </article>
</script><script type=text/ng-template id=help.hardcore>
  <article ng-if="lang == 'en'">
    <h4>Hardcore Mode</h4>
    <p>
      Hardcore mode is designed for developers to do advanced operations.
      Only Expert can use this mode.
    </p>
    <p>
      It allows you to input a JSON-compliant string.
      The system will automatically compile the string into an object,
      and inject into the target data field.
      This will simplify numerous operations,
      also allow you to reach high-level settings.
    </p>
    <hr>
    <h5>Input format</h5>
    <p>
      When using hardcore mode, you must input a string with specific format.
      Following example below.
    </p>
    <ul>
      <li>
        list: `[value1, value2, value3, ...]`
      </li>
      <li>
        dict: `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        list dict: `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      The `key` must be lower case letters,
      and different data structures might have specify namespace of the `key`.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4></h4>
    <p>
      
      JSON
      
      
    </p>
    <p>
      
    </p>

    <hr>
    <h5></h5>
    <p>
      
      
    </p>
    <ul>
      <li>
        (list): `[value1, value2, value3, ...]`
      </li>
      <li>
        (dict): `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        (list dict): `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      `key`  `key` 
      
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.token_url>
  <article ng-if="lang == 'en'">
    <h4>WeChat Token and Interface URL</h4>
    <p>
      WeChat Token and URL is use to connect WeChat Official Account.
    </p>
    <p>
      You need set token by your own.
      The character in token must be latin letter or number, between 3-32.
    </p>
    <p>
      The interface URL is used to receive and reply to the message form WeChat Official account. Mostly for automatic reply and customer service message. This is required when connect to WeChat Official Account.
    </p>
    <p>
      First you have to configure a domain on your own server. Then bind the URL to WeChat Settings of WeChat Buzz. Finally bind to the WeChat official admin panel to make it work.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>TokenInterface URL</h4>
    <p>
      TokenInterface URL
      Token
      263-32
    </p>
    <p>
      Interface URL
      
      
      
      
    </p>
    <p>
      
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.aes>
  <article ng-if="lang == 'en'">
    <h4>WeChat AES Key</h4>
    <p>
      When the offical account connection is seted encryption mode, you need copy the AES Key into your WeChat Configuration.
    </p>
    <p>
      In my opinion you don't have to use encryption mode,
      you got nothing to hide.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>(AES Key)</h4>
    <p>
      
      
      
    </p>
    <p>
      
    </p>
  </article>
</script><script type=text/ng-template id=help.white_list>
  <article ng-if="lang == 'en'">
    <h4>WeChat IP White-List</h4>
    <p>
      When you access the WeChat through the developer AppID and AppSecret calls, you need to set the access source IP to White-List.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>IP</h4>
    <p>
      AppIDAppSecretIP
      IPIPIP
    </p>
  </article>
</script><script type=text/ng-template id=help.wxs.mini_interface_url>
  <article ng-if="lang == 'en'">
    <h4>Mini App Interface URL</h4>
    <p>
      The interface URL is use as API to connect with Mini Store client.
      The URL protocol must be https.
    <p>
      The interface URL also use to receive notify
      form Official WeChat Mini App Service.
      Such as 'Make Order', 'Refund', etc.
    </p>
    <p>
      First you have to configure a domain on your own server.
      Then bind the URL to Mini Settings of WeChat Mini Store.
      Finally bind to the WeChat Mini App or WePay Merchant admin panel
      to make it work.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>Interface URL</h4>
    <p>
      Interface URLAPI
      HTTPS
    </p>
    <p>
      
       
      
    </p>
    <p>
      
      
      
      
    </p>
  </article>
</script></script><script type=text/ng-template id=panels/color/color_picker.tmpl.html><md-menu-content class=color-picker><div layout=row><div layout=column><div class=color-picker-method ng-repeat="color in default_swatch" ng-click=select(color)><div ng-style="{'background-color': color.hex}" ng-class="{'pick-trans': color.hex == 'transparent',
                        'pick-remove': !color.hex}"></div></div></div><div ng-repeat="swatch in color_swatchs" layout=column><div class=color-picker-item ng-repeat="color in swatch" ng-style="{'background-color': color.hex}" ng-click=select(color)></div></div></div></md-menu-content></script><script type=text/ng-template id=panels/commodity/commodity_panel.tmpl.html><md-menu-content><h2 class="md-title text-center text-nowrap"><span> {{_('Commodities')}} </span></h2><md-list><md-subheader class=md-no-sticky> {{_('%s commodities in list', commodities.length)}} </md-subheader><div class="md-padding text-center draft" ng-if=!commodities.length> {{_('Nothing here')}} </div><md-list-item class=text-nowrap-group ng-repeat="commodity in commodities" ng-click=insert(commodity)><p>{{ commodity.name || commodity.slug }}</p></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(commodities)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></md-menu-content></script><script type=text/ng-template id=panels/media/media_panel.tmpl.html><md-menu-content><div layout=row layout-wrap><div class=anim-show-hide flex=33><div class="grid float-case" aria-label="{{_('Remove')}}" ng-click=remove()><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-accent md-svg-icon=content:ic_block_24px></md-icon></div></div></div><div class=anim-show-hide flex=33><input class="ng-hide media-panel-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{options.mimetypes}}><div class="grid float-case" ng-click="select_file('.media-panel-upload', $event)" aria-label="{{_('Upload')}}" ng-disabled="upload_status == 1"><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-accent ng-show="upload_status == 0" md-svg-icon=file:ic_file_upload_24px></md-icon><md-icon class=md-warn ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=25></md-progress-circular></div></div></div></div><div class=anim-show-hide flex=33 ng-repeat="media in mediafiles" ng-if=media.id><div class="grid safe-media-bg" ng-show="media.type == 'image'" ng-click=insert(media)><img class=img-bg-cover ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div><div class="grid float-case" ng-show="media.type != 'image'" ng-click=insert(media)><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div></div></div><div class=anim-show-hide ng-show=has_more flex=33><div class="grid float-case" aria-label="{{_('More')}}" ng-click=get_more(mediafiles)><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-accent md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></div></div></md-menu-content></script><ng-include src="'navs/views/mainnav.tmpl.html'" ng-controller=mainNavCtrl ng-show=!station_mode layout=column></ng-include><div flex layout=column><ng-include src="'navs/views/topbar.tmpl.html'" ng-show=!station_mode ng-controller=topBarCtrl></ng-include><md-content class=ng-view layout=column scroll-detect=30 flex></md-content></div><script src=conf.js?md5=5d878793ec></script><script src=base.min.js?md5=5d878793ec></script><script src=app.min.js?md5=5d878793ec></script><script src=locale.min.js?md5=5d878793ec></script></body></html>