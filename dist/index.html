<!doctype html>
<html lang={{lang}} ng-app=boltApp ng-cloak><head><title ng-bind="_('Soopro Manager')"></title><meta http-equiv=content-type content=text/html;charset=utf-8><meta name=robots content="noindex, nofollow"><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=format-detection content=telephone=yes><meta name=X-UA-Compatible content=IE=edge><meta name=renderer content=webkit><link rel="shortcut icon" href=favicon.png?md5=733260ed5c><link rel=apple-touch-icon-precomposed href=favicon.png?md5=733260ed5c sizes=144x144><link rel=stylesheet href=app.min.css?md5=733260ed5c><link rel=stylesheet href=locale.min.css?md5=733260ed5c></head><body layout=row><script type=text/ng-template id=blueprints/404.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section class=text-center flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1>{{_('404 Not Found')}}</h1></header><div><p> {{_('We can not find the page you are looking for, ' + 'click the button below to return.')}} </p><md-button class="md-icon-button md-primary" aria-label="{{_('Back')}}" ng-href=/#/ ><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></div></section></div></div></script><script type=text/ng-template id=blueprints/app/views/apps.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Apps List')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s apps total.', apps.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="app in apps" flex-gt-lg=25 flex-lg=33 flex-md=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon md-svg-icon={{types_map[app.type].ico}}></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>{{app.slug}}</span><span class=md-subhead> {{types_map[app.type].name}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-click=go(app) style="{{(app.meta.snapshot||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{app.meta.title || app.id }} </span></md-card-title-text></md-card-title><md-card-content><p class=excerpt-tall> {{app.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Shortcut')}}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut
                         ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=go(app)> {{_('Enter')}} </md-button></md-card-actions></md-card></div></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New App')}}" ng-click=create(apps) ng-disabled=submitted><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=app.create.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('New App')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Create New App')}}
    </h2>

    <!-- create app -->
    <form class="md-padding"
          name="app_form"
          ng-submit="create(app, app_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   ng-model="app.type"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="type.key"
                     ng-repeat="type in app_types">
            {{_(type.name)}}
          </md-option>
        </md-select>
        <ng-messages ng-if="app_form.type.$touched"
                     for="app_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Locale')}}</label>
        <md-select name="locale"
                   ng-model="app.locale"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="loc.code"
                     ng-repeat="loc in locales">
            {{_(loc.name)}}
          </md-option>
        </md-select>
        <ng-messages ng-if="app_form.locale.$touched"
                     for="app_form.locale.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('URL Slug')}}</label>
        <input name="slug"
               type="text"
               ng-model="app.app_slug"
               ng-pattern="regex_pattern.slug"
               maxlength="120"
               required/>
        <hint for="app_form.slug">
          {{_('* URL Slug is use for friendly URLs.')}}
          {{_('Accept latin letters, numbers and dashes.')}}
        </hint>
        <ng-messages ng-if="app_form.slug.$touched"
                     for="app_form.slug.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="app.meta.title"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="app_form.title.$touched"
                     for="app_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="app.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages ng-if="app_form.des.$touched"
                     for="app_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="create(app, app_form)"
               ng-disabled="submitted">
      {{_('Create')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_appearance.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Appearance')}}</span></h1></header><md-card ng-if=!curr_theme.id><md-card-title><md-card-title-text class=text-nowrap-group><span class="md-title draft text-center"> {{_('No theme installed')}} </span></md-card-title-text></md-card-title></md-card><md-card theme-id={{curr_theme.id}} theme-payload-id={{curr_theme.payload_id}} ng-if=curr_theme.id><md-card-header><md-card-avatar><img class=md-avatar ng-src={{curr_theme.meta.icon|now:theme.updated}}></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>{{curr_theme.config.tagname}}</span><span class=md-subhead> {{curr_theme.config.ver}} </span></md-card-header-text></md-card-header><img class=img-bg-contain ng-src={{image.trans_16x10}} style={{curr_theme.meta.poster|now:theme.updated|bg_img}}><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{_t(curr_theme.meta.title) || _('Unknown Theme')}} </span></md-card-title-text></md-card-title><md-card-content><p class=excerpt-tall> {{_t(curr_theme.meta.description) || _('No Description') }} </p><p class="md-caption text-nowrap" ng-if=curr_theme.meta.author> {{_('Author')}}{{_(': ')}}{{_t(curr_theme.meta.author)}} </p></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Theme Options')}}" ng-show=property.expert ng-click=theme_options(curr_theme)><md-icon md-svg-icon=action:ic_settings_24px></md-icon><md-tooltip md-direction=top> {{_('Theme Options')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Theme Styles')}}" ng-click=theme_styles(curr_theme)><md-icon md-svg-icon=image:ic_style_24px></md-icon><md-tooltip md-direction=top> {{_('Theme Styles')}} </md-tooltip></md-button><span flex></span><md-button class="md-accent md-icon-button" aria-label="{{_('Upgrade Theme')}}" ng-show=curr_theme.upgradeable ng-click=upgrade(curr_theme)><md-icon md-svg-icon=social:ic_notifications_active_24px></md-icon><md-tooltip md-direction=top> {{_('Upgrade Theme')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Reload Theme')}}" ng-show=!curr_theme.upgradeable ng-click=reload(curr_theme)><md-icon md-svg-icon=nav:ic_refresh_24px></md-icon><md-tooltip md-direction=top> {{_('Reload Theme')}} </md-tooltip></md-button></md-card-actions></md-card></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Available Themes')}}</span></h2></header><md-list><md-subheader class=md-no-sticky> {{_('%s themes available.', themes.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-repeat="theme in themes|paginator:paging.paged" ng-click=open(theme)><img class=md-avatar ng-src={{theme.meta.icon|now:theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _t(theme.meta.title) }}</h3><p>{{ theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !theme.activated}" md-svg-icon="{{theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><md-list ng-if=property.expert><md-subheader class=md-no-sticky> {{_('Custom Theme')}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-show=custom_theme.status ng-click="open_custom(custom_theme, curr_theme)"><img class=md-avatar ng-src={{custom_theme.meta.icon|now:custom_theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _t(custom_theme.meta.title) }}</h3><p>{{ custom_theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !custom_theme.activated}" md-svg-icon="{{custom_theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item><md-list-item class="md-2-line text-nowrap-group" ng-show=!custom_theme.status aria-label="{{_('Upload')}}" ng-click="upload_custom(custom_theme, curr_theme)"><md-icon class=md-avatar-icon md-svg-icon=image:ic_palette_24px></md-icon><div class=md-list-item-text><h3>{{ _('Custom Theme') }}</h3><p>{{ _('Upload .zip file') }}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=file:ic_cloud_upload_24px></md-icon></div></md-list-item></md-list><div class=indent-padding><p class=hint> {{_('* The custom theme must fit with our theme engine, '+ 'and only upload one at time.')}} </p></div></section></div></div><script type=text/ng-template id=app.perf.theme.detail.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_t(theme_detail.meta.title)}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_t(theme_detail.meta.title)}}
    </h2>
    <div class="md-caption text-center">
      {{_t(theme_detail.latest)}}
    </div>
    <div class="md-padding">
      <div>
        <img class="img-bg-contain md-whiteframe-1dp"
             ng-src="{{image.trans_16x10}}"
             style="{{(theme_detail.meta.poster||image.default)
                       |now:theme_detail.updated|bg_img}}" />
      </div>
      <article>
        <p>{{_t(theme_detail.meta.description) || '...'}}</p>
        <p ng-show="theme_detail.meta.author">
          {{_('Author')}}{{_(': ')}}{{_t(theme_detail.meta.author)}}
        </p>
      </article>
    </div>

    <md-divider></md-divider>

    <div class="md-padding">
      <h2 class="md-title text-center">
        {{_('Previews')}}
      </h2>
      <div class="md-margin"
           ng-repeat="preview in theme_detail.meta.previews">
        <img class="md-whiteframe-1dp"
             ng-src="{{preview|now:theme_detail.updated}}"/>
      </div>
      <p class="md-caption draft text-center"
           ng-if="theme_detail.meta.previews.length <= 0">
        {{_('No Preview Image')}}
      </p>
    </div>
  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
                     aria-label="{{_('Remove Theme')}}"
                     ng-show="theme_detail.customized"
                     ng-click="trash(theme_detail)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>

    <span flex></span>

    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="theme_detail.activated"
               ng-click="activate(theme_detail)">
      {{theme_detail.activated?_('Activated'):_('Activate')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.theme.upload.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Theme Uploader')}}"
           flex>
  <md-toolbar class="md-accent">
    <div class="md-toolbar-tools">
      <span>
        {{_('Theme Uploader')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-disabled="upload_status == 1"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content class="md-dialog-content">
    <!-- uploads -->
    <div class="md-padding">
      <div class="media-uploadbox"
           ngf-drop="onFileSelect($files)"
           ngf-allow-dir="true"
           ngf-accept="{{mimetypes}}"
           ng-file-drop=""
           ngf-drag-over-class="file-drag-over"
           ng-click="select_file('.theme-custom-uploads')"
           layout="row"
           layout-align="center center">
        <md-icon class="s48"
                 ng-show="upload_status == 0"
                 md-svg-icon="file:ic_cloud_upload_24px"></md-icon>

        <md-progress-circular class="md-accent"
                              ng-show="upload_status == 1"
                              md-mode="indeterminate"
                              md-diameter="60">
        </md-progress-circular>
        <md-icon class="md-warn s48"
                 ng-show="upload_status==2"
                 md-svg-icon="action:ic_report_problem_24px"></md-icon>
        <md-icon class="s48"
                 ng-show="upload_status==3"
                 md-svg-icon="action:ic_done_24px"></md-icon>
      </div>
      <div class="text-center">
        <md-button class="md-accent"
                   ng-click="select_file('.theme-custom-uploads')"
                   ng-disabled="upload_status == 1">
          {{_('Upload')}}
        </md-button>
        <p class="hint">
          {{_('* zip: < 6Mb.')}}
        </p>
      </div>
    </div>

    <!-- stupid ios dose not support button file uploads -->
    <input class="ng-hide theme-custom-uploads"
           type="file"
           ngf-select="onFileSelect($files)"
           ngf-accept="{{mimetypes}}" />

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button ng-disabled="upload_status == 1"
               ng-click="close()">
      {{_('Done')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_extension.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Extensions')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s extensions total. %s remain.', extensions.length, amount)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="extension in extensions" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-warn': !extension.supported}" md-svg-icon=action:ic_extension_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{extension.meta.title || extension.id}} </span><span class=md-subhead ng-class="{'md-text md-warn': !extension.supported}"> {{extension.supported?extension.slot:_('Incompatible')}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(extension.meta.poster||image.default)|bg_img}}><md-card-actions layout=row layout-align="space-between center"><md-menu><md-button class=md-icon-button aria-label="{{_('Manage Extension')}}" ng-click=$mdOpenMenu($event)><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click=toggle(extension)> {{extension.status?_('Deactivate'):_('Activate')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="uninstall(extension, extensions)" ng-disabled=submitted> {{_('Uninstall')}} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-primary ng-disabled=!extension.status ng-href={{extension.entrance}} target=_blank> {{extension.status?_('Open'):_('Deactivated')}} </md-button></md-card-actions></md-card></div></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Install Extension')}}</span></h2></header><div><p class=md-body-1> {{_('In order to use those extension, you must to ensure the '+ 'installation file is reliable and updated. '+ 'Once you installed the extension, It will able to access your '+ 'contents, members and other informations. '+ 'You can prevent those access by deactivate the extension '+ 'any time.')}} </p></div><div class=space-md></div><div class=uploadbox-wrapper layout=column><div class=uploadbox ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ng-file-drop ngf-drag-over-class=file-drag-over ng-click="install('.ext-installation-upload')" layout=row layout-align="center center"><md-icon class=s48 ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show="upload_status == 1" md-mode=indeterminate md-diameter=60></md-progress-circular><md-icon class="md-warn s48" ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px></md-icon><md-icon class=s48 ng-show=upload_status==3 md-svg-icon=action:ic_done_24px></md-icon></div><md-button class="md-raised md-primary" ng-class="{'md-primary': upload_status==0,
                              'md-warn': upload_status==2}" ng-disabled=upload_status==1 ng-click="install('.ext-installation-upload')"> {{_('Install')}} </md-button></div><input class="ng-hide ext-installation-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{mimetypes}}></section></div></div></script><script type=text/ng-template id=blueprints/app/views/pref_options.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('General Options')}}</span></h1></header><form name=app_form ng-submit="save(app, app_form)" novalidate><div layout=row><md-input-container class="md-block static" flex><label>{{_('Logo')}}</label><md-card class=max-size-xs ng-click="switch_logo(app, $event)"><img ng-src={{image.trans}} ng-class="{'img-bg-lg': !app.meta.logo,
                              'img-bg-cover': app.meta.logo}" style={{(app.meta.logo||image.default)|bg_img}}></md-card><md-tooltip md-direction=top> .png, .jpg </md-tooltip></md-input-container><md-input-container class="md-block static" flex><label>{{_('Favicon')}}</label><md-card class=max-size-xs ng-click="switch_favicon(app, $event)"><img ng-src={{image.trans}} ng-class="{'img-bg-lg': !app.meta.favicon,
                              'img-bg-contain': app.meta.favicon}" style={{(app.meta.favicon||image.default)|bg_img}}></md-card><md-tooltip md-direction=top> .png </md-tooltip></md-input-container></div><md-input-container class="md-block amend"><label>{{_('Locale')}}</label><md-select name=locale ng-model=app.locale ng-disabled=submitted required><md-option ng-value=loc.code ng-repeat="loc in locales"> {{_(loc.name)}} </md-option></md-select><ng-messages ng-if=app_form.locale.$touched for=app_form.locale.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=app.meta.title md-maxlength=60 required><ng-messages ng-if=app_form.title.$touched for=app_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=app.meta.description md-maxlength=360></textarea><ng-messages ng-if=app_form.des.$touched for=app_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Keywords')}}</label><md-chips name=tags ng-model=app.tags placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{app.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-input-container class=md-block><label>{{_('Copyright')}}</label><textarea name=copyright ng-model=app.meta.copyright maxlength=600></textarea></md-input-container><md-input-container class=md-block><label>{{_('License')}}</label><textarea name=license ng-model=app.meta.license maxlength=600></textarea></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-click=destroy(app) ng-disabled=submitted><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Advanced Options')}}</span></h2></header><form name=adv_form ng-submit="save_adv(app, adv_form)" novalidate><md-input-container class=md-block ng-class="{'amend': property.capability > 3}"><label>{{_('Home URL')}}</label><md-icon md-svg-icon=action:ic_http_24px></md-icon><input name=home_url type=text ng-model=app.home_url ng-pattern=regex_pattern.url_base maxlength=600><hint class=help for=adv_form.home_url ng-click=help_home_url()><span> {{_('* A URL for app public base route. (HTTP only)')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages ng-if=adv_form.url_base.$touched for=adv_form.url_base.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-class="{'amend': property.capability > 3}" ng-show=property.expert><label>{{_('Deploy Key')}}</label><md-icon md-svg-icon=action:ic_lock_open_24px></md-icon><input name=deploy_key type=text ng-model=app.deploy_key><hint for=adv_form.deploy_key> {{_('* Use to deploy app. Latin or number only.')}} </hint></md-input-container><md-input-container class=md-block ng-show="property.capability > 3"><label>{{_('Additional Head Metadata')}}</label><md-icon md-svg-icon=action:ic_code_24px></md-icon><textarea name=head_metadata ng-model=app.meta.head_metadata maxlength=960></textarea><hint> {{_('* Add custom HTML code intro head metadata.')}} </hint></md-input-container><div><md-button class=md-raised type=submit ng-disabled=submitted> {{_('Save')}} </md-button></div></form><div class=space-lg></div><h3 class=md-subhead> {{_('Composite Metas')}} </h3><div class=space-sm></div><div class="field-container amend"><label>{{_('Mutli-Languages')}}</label><md-list class=md-padding><md-list-item ng-repeat="lang in languages" ng-click="edit_lang(lang, languages, $index)"><p class="md-body-1 text-nowrap"> {{ lang.key }} - {{ lang.name }} </p></md-list-item><md-list-item aria-label="{{_('New Language')}}" ng-click="edit_lang(null, languages)"><div class=list-func-wrapper><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class="field-container amend"><label>{{_('Socials')}}</label><md-list class=md-padding><md-list-item ng-repeat="social in socials" ng-click="edit_social(social, socials, $index)"><p class="md-body-1 text-nowrap"> {{ social.key }} - {{ social.name }} </p></md-list-item><md-list-item aria-label="{{_('New Social Media')}}" ng-click="edit_social(null, socials)"><div class=list-func-wrapper><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class=field-container><label>{{_('Custom Metas')}}</label><md-list class=md-padding><md-list-item ng-repeat="(k, v) in custom_metas" ng-click="edit_custom(k, custom_metas)"><p class="md-body-1 text-nowrap"> {{ k }}{{_(': ')}}{{ v }} </p></md-list-item><md-list-item aria-label="{{_('New Custom Meta')}}" ng-click="edit_custom(null, custom_metas)"><div class=list-func-wrapper><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><md-divider></md-divider><div class=md-padding><hint> {{_('* Those composite metas is depend on theme supports.')}} </hint></div><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=hardcore(app) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=app.perf.options.lang.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Language')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{lang._new?_('Add New Language'):_('Edit Language')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="lang_form"
          ng-submit="submit(lang, lang_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="lang.name"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="lang_form.name.$touched"
                     for="lang_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Code')}}</label>
        <md-select name="code"
                   ng-model="lang.key"
                   placeholder="{{_('Select a lang code')}}"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="locale.code"
                     ng-repeat="locale in locales">
            {{locale.code}}
          </md-option>
        </md-select>
        <hint for="lang_form.code">
          {{_('* International standard language code.')}}
        </hint>
        <ng-messages ng-if="lang_form.code.$touched"
                     for="lang_form.code.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="lang.url"
               md-maxlength="240" />
        <ng-messages ng-if="lang_form.url.$touched"
                     for="lang_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(lang)"
               ng-show="!lang._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(lang, lang_form)">
      {{lang._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.social.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Social')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{social._new?_('Add New Social Media'):_('Edit Social Media')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="social_form"
          ng-submit="submit(social, social_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   ng-model="social.key"
                   placeholder="{{_('Select a social media')}}"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="so_media.code"
                     ng-repeat="so_media in social_medias">
            {{so_media.name}}
          </md-option>
        </md-select>
        <ng-messages ng-if="social_form.type.$touched"
                     for="social_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="social.name"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="social_form.name.$touched"
                     for="social_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="social.url"
               md-maxlength="240" />
        <hint for="social_form.url">
          {{_('* URL of the social media.')}}
        </hint>
        <ng-messages ng-if="social_form.url.$touched"
                     for="social_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block static">
        <label>{{_('Poster')}}</label>
        <md-card ng-click="switch_figure(social, $event)">
          <img class="img-bg-contain"
               ng-src="{{image.trans_16x10}}"
               style="{{(social.figure||image.default)|bg_img}}">
        </md-card>
        <hint>
          {{_('* Use to social media poster or qr code.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.expert">
        <label>{{_('Script')}}</label>
        <textarea name="script"
                  ng-model="social.scirpt"
                  maxlength="1200"></textarea>
        <hint>
          {{_('* Script is provide by the social media. (Optional)')}}
        </hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(social)"
               ng-show="!social._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(social, social_form)">
      {{social._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.custom.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Custom Meta')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Custom Meta')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="meta_form"
          ng-submit="submit(meta, meta_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Key')}}</label>
        <input name="key"
               type="text"
               ng-model="meta.key"
               md-maxlength="60"
               required />
        <ng-messages ng-if="meta_form.key.$touched"
                     for="meta_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Value')}}</label>
        <input name="value"
               type="text"
               ng-model="meta.value"
               md-maxlength="600"
               required />
        <ng-messages ng-if="meta_form.value.$touched"
                     for="meta_form.value.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(meta)"
               ng-show="!meta._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(meta, meta_form)">
      {{lang._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/assistant.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Assistant')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-click=assign(assistants)> {{_('Assign')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s assistants total.', assistants.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="assistant in assistants" ng-click="edit(assistant, assistants)" aria-label="{{_('Edit Assistant')}}"><div class=md-list-item-text><p>{{ assistant.meta.name || '-' }}</p></div><div class="md-secondary anim-show"><md-icon md-svg-icon=maps:ic_person_pin_24px></md-icon></div></md-list-item></md-list></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Introduction')}}</span></h2></header><article ng-if="lang == 'en'"><p> Membership Assistant is a Auxiliary Tools to manage your members, events and cards. The Assistant can be install on computer, tablet and smartphone, will could be help in many different ways. </p><ul><li>Staff carries in the store.</li><li>Use on live events or site activities.</li><li>Unmanned self-service equipment.</li><li>...</li></ul></article><article ng-if="lang == 'zh'"><p> 会员助手是一个用来帮助会员、活动、卡券等的辅助工具。 助手能够在电脑、平板、手机等多种设备上安装使用， 可以在许多应用场景中帮助到您： </p><ul><li>工作人员在实体店内携带使用。</li><li>在活动现场中便携使用。</li><li>安置于无人托管的设备上。</li><li>...</li></ul></article></section></div></div><script type=text/ng-template id=assistant.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Assistant Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ assistant._new?_('New Assistant'):_('Edit Assistant')}}
    </h2>

    <!-- assistant form -->
    <form class="md-padding"
          name="assistant_form"
          ng-submit="save(assistant, assistant_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               ng-model="assistant.meta.name"
               md-maxlength="24"
               required/>
        <ng-messages ng-if="assistant_form.name.$touched"
                     for="assistant_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Passcode')}}</label>
        <input name="passcode"
               ng-model="assistant.passcode"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="assistant_form.passcode.$touched"
                     for="assistant_form.passcode.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(assistant)"
               ng-show="!assistant._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(assistant, assistant_form)"
               ng-disabled="submitted">
      {{ assistant._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/card_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5 ng-if=!cardstyle_map[card.style].generic><header><h1 class="md-headline text-nowrap" ng-class="{'draft': !card.status}" created={{card.creation|dateformat}} modified={{card.updated|dateformat}}><md-icon md-svg-icon=action:ic_credit_card_24px></md-icon><span>#{{card.slug}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change=change_status(sel_status)><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Available')}} </md-option><md-option ng-value=0> {{_('Scrapped')}} </md-option><md-option ng-value=undefined ng-click=change_status(true)> {{_('By Card Number')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button aria-label="{{_('New Card number')}}" ng-disabled="amount <= 0 || sel.selection" ng-click=add(cardnums)><md-icon md-svg-icon=maps:ic_local_activity_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s card number in list. %s remain.', cardnums.length, amount)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Card Number')}}" ng-class="{'selected': cardnum._selected}" ng-repeat="cardnum in cardnums|paginator:paging.paged" ng-hold="sel.select(cardnum, cardnums)" ng-click="sel.selection?'':edit(cardnum, cardnums)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><p class=text-upper ng-class="{'text-strike':!cardnum.status}"> {{ cardnum.code }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{cardnum._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': cardnum.status == 1}" md-svg-icon=maps:ic_local_activity_24px></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* Up to %s card numbers can be displayed.', cardnums_display_limit)}} </hint></div><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=print(card) aria-label="{{_('Print')}}"><md-icon md-svg-icon=action:ic_print_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=card.number.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Card Number Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <div layout="row">
      <div class="s24"></div>
      <h2 class="md-display-1 text-center text-upper"
          flex>
        {{cardnum.code}}
      </h2>
      <div>
        <md-icon md-svg-icon="content:ic_content_copy_24px"
                 ng-click="copy(card.slug, cardnum.code)"></md-icon>
      </div>
    </div>

    <!-- cardnum form -->
    <form class="md-padding"
          name="cardnum_form"
          ng-submit="submit(cardnum, cardnum_form)"
          novalidate>

      <div class="field-container" ng-show="use_balance">
        <label>{{_('Balance')}}</label>
        <div layout="row"
             layout-align="center center">
          <md-button class="md-icon-button"
                     aria-label="-"
                     ng-disabled="cardnum.balance <= 0"
                     ng-mousedown="start_calculate(cardnum, -1)"
                     ng-mouseup="stop_calculate()"
                     ng-mouseleave="stop_calculate()">
            <md-icon md-svg-icon="image:ic_exposure_neg_1_24px"></md-icon>
          </md-button>
          <p class="md-display-2 text-center min-size-xs">
            {{cardnum.balance}}
          </p>
          <md-button class="md-icon-button"
                     aria-label="+"
                     ng-mousedown="start_calculate(cardnum, 1)"
                     ng-mouseup="stop_calculate()"
                     ng-mouseleave="stop_calculate()">
            <md-icon md-svg-icon="image:ic_exposure_plus_1_24px"></md-icon>
          </md-button>
        </div>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Member ID')}}</label>
        <input name="member"
               type="text"
               ng-model="cardnum.member_login"
               maxlength="120"/>
      </md-input-container>

      <md-switch ng-model="cardnum.status"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Available')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(cardnum)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(cardnum, cardnum_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/cards.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Cards')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s cards total. %s remain.', cards.length, amount)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="card in cards" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'draft': !card.status}" md-svg-icon=action:ic_credit_card_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>#{{card.slug}}</span><span class=md-subhead> {{cardstyle_map[card.style].label}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-class="{'disabled': cardstyle_map[card.style].generic}" ng-click="cardstyle_map[card.style].generic?'':open(card)" style="{{(card.meta.figure||image.default)
                           |thumbnail|bg_img}}"><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Settings')}}" ng-click="edit(card, cards)"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-primary ng-disabled=cardstyle_map[card.style].generic ng-click=open(card)> {{cardstyle_map[card.style].generic ?_('Generic'):_('Collection')}} </md-button></md-card-actions></md-card></div></div><div class=md-padding><hint> {{_('* You can use cards for marketing promotions.')}} </hint></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Card')}}" ng-click=create(cards) ng-show="amount > 0"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=card.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Card Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ card._new?_('New Card'):_('Edit Card')}}
    </h2>

    <!-- card form -->
    <form class="md-padding"
          name="card_form"
          ng-submit="submit(card, card_form)"
          novalidate>

      <md-input-container class="static md-block">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(card, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_16x10}}"
               style="{{(card.meta.figure||image.default)|thumbnail|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{property.expert?(_('Style')|wrap):_('Style')}}</label>
        <md-select name="style"
                   placeholder="{{_('Card Style')}}"
                   ng-model="card.style"
                   ng-disabled="!card._new && !property.expert"
                   ng-change="change_style(card.style)"
                   required>
          <md-option ng-repeat="style in styles"
                     ng-value="style.key">
            {{_(style.label)}}
          </md-option>
        </md-select>
        <ng-messages ng-if="card_form.style.$touched"
                     for="card_form.style.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>
          {{property.expert?(_('Base Code')|wrap):_('Base Code')}}
        </label>
        <input name="slug"
               type="text"
               maxlength="60"
               ng-model="card.slug"
               ng-disabled="!card._new && !property.expert"
               ng-pattern="regex_pattern.slug"
               ng-required="card._new || property.expert"/>
        <hint>
          {{_('* Base code is use to generate all card numbers.')}}
        </hint>
        <ng-messages ng-if="card_form.slug.$touched"
                     for="card_form.slug.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="card.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages ng-if="card_form.des.$touched"
                     for="card_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="field-container" ng-show="use_qty">
        <label>{{_('Quantity')}}</label>
        <md-slider-container>
          <md-slider min="0" max="1000"
                     ng-model="card.qty"
                     aria-label="{{_('Quantity')}}"
                     flex>
          </md-slider>
          <md-input-container>
            <input type="number"
                   name="qty"
                   min="0" max="9999"
                   ng-model="card.qty"
                   ng-required="use_qty"
                   aria-label="{{_('Quantity')}}">
          </md-input-container>
        </md-slider-container>
        <ng-messages ng-if="card_form.qty.$touched"
                     for="card_form.qty.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
          <ng-message when="max">
            {{ _('The number is too big.') }}
          </ng-message>
        </ng-messages>
      </div>

      <div class="field-container amend" ng-show="use_due">
        <label>{{_('Due Date')}}</label>
        <md-datepicker name="due"
                       ng-model="due_date"
                       ng-required="use_due"
                       md-placeholder="{{_('Due Date')}}"
                       md-open-on-focus></md-datepicker>
        <ng-messages ng-if="card_form.due.$touched"
                     for="card_form.due.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="valid">
            {{ _('Must be a date.') }}
          </ng-message>
        </ng-messages>
      </div>

      <md-switch ng-model="card.status"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Publish')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(card)"
               ng-show="!card._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(card, card_form)"
               ng-disabled="submitted">
      {{ card._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/event_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap" created={{event.creation|dateformat}} modified={{event.updated|dateformat}}><md-icon md-svg-icon="{{event.status
                   ? 'notify:ic_event_available_24px'
                   : 'notify:ic_event_busy_24px'}}"></md-icon><span>{{event.meta.title}}<span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change=change_status(sel_status)><md-optgroup label="{{_('Filters')}}"><md-option ng-value=1> {{_('Available')}} </md-option><md-option ng-value=0> {{_('Closed')}} </md-option><md-option ng-value=2> {{_('Canceled')}} </md-option><md-option ng-value=undefined ng-click=change_status(true)> {{_('By Appointee')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button aria-label="{{_('New Appointment')}}" ng-disabled=sel.selection ng-click=add(appointments)><md-icon md-svg-icon=action:ic_alarm_add_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s appointments in list.', appointments.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Appointment')}}" ng-class="{'selected': apnt._selected}" ng-repeat="apnt in appointments|paginator:paging.paged" ng-hold="sel.select(apnt, appointments)" ng-click="sel.selection?'':open(apnt, appointments)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><h3> {{ apnt.appointee }} </h3><p ng-class="{'text-strike': apnt.status != 1}"> {{ apnt.date | dateformat }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{apnt._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': apnt.status == 1}" md-svg-icon="{{
                       apnt.status == 1 ? 'action:ic_assignment_ind_24px'
                     : apnt.status == 2 ? 'action:ic_assignment_late_24px'
                     : 'action:ic_assignment_turned_in_24px'}}"></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* Up to %s appointments can be displayed.', apnts_display_limit)}} </hint></div><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=permit_role(event) aria-label="{{_('Member Permission')}}"><md-icon md-svg-icon=action:ic_perm_contact_calendar_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=event.permit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Permission')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Member Permission')}}
    </h2>
    <div class="md-padding">
      <md-switch ng-model="event.permit"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Members only')}}
      </md-switch>
      <md-switch ng-model="limited_role"
                 ng-disabled="!event.permit"
                 class="md-accent">
        {{_('Limited by Member Role')}}
      </md-switch>
    </div>

    <!-- permit role list -->
    <div class="md-padding anim-enter"
         ng-show="limited_role && event.permit">
      <md-input-container class="md-block"
                          ng-repeat="role in roles">
        <label>{{role.slug=='-'?_('Default'):role.name}}</label>
        <md-icon md-svg-icon="{{role._activated
                 ? 'toggle:ic_check_box_24px'
                 : 'toggle:ic_check_box_outline_blank_24px'}}"
                 ng-class="{'md-primary': role._activated}"
                 ng-click="toggle_role(role)"></md-icon>
        <input type="number"
               max="999"
               aria-label="{{_('Limit')}}"
               ng-model="role._limit"
               ng-disabled="!role._activated" />
      </md-input-container>
      <hint>
        {{_('* Set unlimited by `0`.')}}
      </hint>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(event, roles, limited_role)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=event.appointment.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Appointment Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{apnt._new ? _('New Appointment') : _('Appointment')}}
    </h2>
    <!-- appointment form -->
    <form class="md-padding"
          name="apnt_form"
          ng-submit="submit(apnt, apnt_form)"
          novalidate>

      <div class="field-container amend">
        <md-datepicker name="date"
                       md-placeholder="{{_('Enter date')}}"
                       ng-model="date"
                       md-open-on-focus></md-datepicker>
        <ng-messages ng-if="apnt_form.date.$touched"
                     for="apnt_form.date.$error">
          <ng-message when="valid">
            {{ _('Must be a date.') }}
          </ng-message>
        </ng-messages>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Appointee')}}</label>
        <input name="appointee"
               type="text"
               ng-model="apnt.appointee"
               md-maxlength="60"
               mg-disabled="!apnt._new"
               required/>
        <ng-messages ng-if="apnt_form.appointee.$touched"
                     for="apnt_form.appointee.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Contact')}}</label>
        <input name="contact"
               type="text"
               ng-model="apnt.meta.contact"
               md-maxlength="120"/>
        <ng-messages ng-if="apnt_form.contact.$touched"
                     for="apnt_form.contact.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Member ID')}}</label>
        <input name="member"
               type="text"
               ng-model="apnt.member_login"
               maxlength="120"/>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Location')}}</label>
        <input name="location"
               type="text"
               ng-model="apnt.location"
               md-maxlength="120"/>
        <ng-messages ng-if="apnt_form.location.$touched"
                     for="apnt_form.location.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Status')}}</label>
        <md-select name="status"
                   placeholder="{{_('Status')}}"
                   ng-model="apnt.status">
          <md-option ng-value="1">
            {{_('Available')}}
          </md-option>
          <md-option ng-value="0">
            {{_('Closed')}}
          </md-option>
          <md-option ng-value="2">
            {{_('Canceled')}}
          </md-option>
        </md-select>
        <ng-messages ng-if="apnt_form.status.$touched"
                     for="apnt_form.status.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="apnt.memo"
                  md-maxlength="600"></textarea>
        <ng-messages ng-if="apnt_form.memo.$touched"
                     for="apnt_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

    <!-- extends fields -->
    <md-list ng-if="property.capability > 3">
      <md-subheader class="md-no-sticky">
        {{_('Extended Metas')}}
      </md-subheader>
      <md-list-item class="md-2-line text-nowrap-group"
                    ng-repeat="(k, v) in apnt.meta">

        <div class="md-list-item-text text-nowrap-group">
          <h3>{{v.label || k}}</h3>
          <p>{{v.value || _('None')}}</p>
        </div>
        <md-menu class="md-secondary anim-show"
                 ng-show="property.expert">
          <md-icon md-svg-icon="image:ic_edit_24px"
                   ng-click="$mdOpenMenu($event)">
          </md-icon>
          <md-menu-content class="max-size-sm" width="3">
            <md-menu-item class="text-nowrap-group">
              <p class="md-body-1 draft">
                {{k|wrap}}
              </p>
            </md-menu-item>
            <md-menu-divider></md-menu-divider>
            <md-menu-item>
              <md-button class="md-accent"
                         ng-click="remove_meta(k, apnt.meta)">
                {{_('Remove')}}
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>
      </md-list-item>
      <md-list-item class="anim-show"
                    aria-label="{{_('Edit Meta')}}"
                    ng-click="switch_meta_mode(true)"
                    ng-show="property.expert && !edit_meta_mode">
        <div class="list-func-wrapper">
          <md-icon class="md-primary"
                   md-svg-icon="content:ic_add_circle_24px"></md-icon>
        </div>
      </md-list-item>
    </md-list>

    <form class="md-padding anim-enter md-whiteframe-1dp"
          name="apnt_meta_form"
          ng-submit="add_meta(new_meta, apnt.meta, apnt_meta_form)"
          ng-if="property.expert && edit_meta_mode"
          novalidate>
      <div class="text-right">
        <md-button class="md-icon-button md-accent"
                   aria-label="{{_('Remove')}}"
                   ng-click="switch_meta_mode(false)">
          <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
        </md-button>
        <md-button class="md-icon-button md-accent"
                   aria-label="{{_('Add')}}"
                   type="submit">
          <md-icon md-svg-icon="editor:ic_publish_24px"></md-icon>
        </md-button>
      </div>

      <md-input-container class="md-accent md-block">
        <label>{{_('Key')}}</label>
        <input name="meta_key"
               type="text"
               ng-model="new_meta.key"
               ng-pattern="regex_pattern.key"
               md-maxlength="24"
               required/>
        <ng-messages ng-if="apnt_meta_form.meta_key.$touched"
                     for="apnt_meta_form.meta_key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-accent md-block">
        <label>{{_('Label')}}</label>
        <input name="meta_label"
               type="text"
               ng-model="new_meta.label"
               md-maxlength="60" />
        <ng-messages ng-if="apnt_meta_form.meta_label.$touched"
                     for="apnt_meta_form.meta_label.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-accent md-block">
        <label>{{_('Value')}}</label>
        <textarea name="meta_value"
                  ng-model="new_meta.value"
                  maxlength="600"></textarea>
      </md-input-container>

    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(appointment)"
               ng-show="!apnt._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(apnt, apnt_form)"
               ng-disabled="submitted">
      {{apnt._new ? _('Create') : _('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/events.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Events')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s events total. %s remain.', events.length, amount)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="event in events" flex-gt-lg=25 flex-gt-sm=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'draft': !event.status}" md-svg-icon="{{event.status
                         ? 'notify:ic_event_available_24px'
                         : 'notify:ic_event_busy_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{event.slug}} </span><span class=md-subhead>{{event.creation|dateformat}}</span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_20x10}} ng-click=open(event) style="{{(event.meta.figure||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{event.meta.title || event.slug }} </span></md-card-title-text></md-card-title><md-card-content><p class=excerpt> {{event.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Settings')}}" ng-click="edit(event, events)"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-primary ng-click=open(event)> {{_('Appointments')}} </md-button></md-card-actions></md-card></div></div><div class=md-padding><hint> {{_('* You can use events for marketing activities.')}} </hint></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Event')}}" ng-click=create(events) ng-show="amount > 0"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=event.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Event Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{event._new?_('Add New Event'):_('Event Settings')}}
    </h2>
    <!-- event form -->
    <form class="md-padding"
          name="event_form"
          ng-submit="submit(event, event_form)"
          novalidate>

      <md-input-container class="static md-block">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(event, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(event.meta.figure||image.default)
                        |thumbnail|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="event.meta.title"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="event_form.title.$touched"
                     for="event_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               maxlength="120"
               ng-model="event.slug"/>
        <hint>{{_('* URL Slug is use for friendly URLs.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="event.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages ng-if="event_form.des.$touched"
                     for="event_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="event.memo"
                  md-maxlength="600"></textarea>
        <ng-messages ng-if="event_form.memo.$touched"
                     for="event_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch ng-model="event.permit"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Members only')}}
      </md-switch>

      <md-switch ng-model="event.status"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Publish')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(event)"
               ng-show="!event._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(event, event_form)"
               ng-disabled="submitted">
      {{event._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/members.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Members')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=role md-container-class=max-size-sm placeholder="{{_('Member Role')}}" ng-model=sel_role ng-disabled=sel.selection ng-change=change_role(sel_role)><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('Everyone')}} </md-option><md-option ng-value=role.slug ng-repeat="role in roles"> {{_(role.name)}} </md-option></md-optgroup><md-optgroup label="{{_('Actions')}}"><md-option ng-value=null ng-click="go('/crm/role')"> {{_('Edit Member Role')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-click="add(members, roles)" aria-label="{{_('New Member')}}" ng-disabled=sel.selection><md-icon md-svg-icon=social:ic_person_add_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s members total.', members.length)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Member')}}" ng-repeat="member in members|paginator:paging.paged" ng-class="{'selected': member._selected}" ng-hold="sel.select(member, members)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><p>{{ member.meta.name || member.login }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{member._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><md-menu class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': member.status}" md-svg-icon="{{member.status
                     ?'social:ic_person_24px'
                     :'social:ic_person_outline_24px'}}" ng-click="sel.selection?'':$mdOpenMenu($event)"></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button class=md-primary ng-click=set_status(member)> {{member.status?_('Deactivate'):_('Activate')}} </md-button></md-menu-item><md-menu-item><md-button class=md-primary ng-click="edit(member, members, roles)"> {{_('Edit')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=check_cards(member) ng-disabled=!member.status> {{_('Cards')}} </md-button></md-menu-item><md-menu-item><md-button ng-click=check_events(member) ng-disabled=!member.status> {{_('Events')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=member.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{member._new?_('Add New Member'):_('Edit Member')}}
    </h2>
    <!-- member form -->
    <form class="md-padding"
          name="member_form"
          ng-submit="submit(member, member_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Login')}}</label>
        <input name="login"
               type="text"
               ng-model="member.login"
               ng-disabled="!member._new"
               maxlength="60"
               required/>
        <hint for="member_form.login">
          {{_('* Can be any text.')}}
        </hint>
        <ng-messages ng-if="member_form.login.$touched"
                     for="member_form.login.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Password')}}</label>
        <input name="passwd"
               type="text"
               ng-model="member.passwd"
               ng-pattern="regex_pattern.passwd"
               ng-required="member._new"/>
        <hint for="member_form.passwd">
          {{_('* 6 to 60 characters.')}}
        </hint>
        <ng-messages ng-if="member_form.passwd.$touched"
                     for="member_form.passwd.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Member Role')}}</label>
        <md-select name="role"
                   ng-model="member.role"
                   ng-disabled="submitted">
          <md-option ng-value="''">
            {{_('Default')}}
          </md-option>
          <md-option ng-value="role.slug"
                     ng-repeat="role in roles">
            {{_(role.name)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="member.meta.name"
               md-maxlength="60"/>
        <ng-messages ng-if="member_form.name.$touched"
                     for="member_form.name.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Mobile Phone')}}</label>
        <input name="mobile"
               type="text"
               ng-model="member.meta.mobile"
               md-maxlength="60"/>
        <ng-messages ng-if="member_form.mobile.$touched"
                     for="member_form.mobile.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('E-Mail')}}</label>
        <input name="email"
               type="email"
               ng-model="member.meta.email"
               md-maxlength="120"/>
        <ng-messages ng-if="member_form.email.$touched"
                     for="member_form.email.$error">
          <ng-message when="email">
            {{ _('Must be an E-Mail address.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="member.memo"
                  md-maxlength="600"></textarea>
        <ng-messages ng-if="member_form.memo.$touched"
                     for="member_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch ng-model="member.status"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Activation')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(member, member_form)"
               ng-disabled="submitted">
      {{member._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=member.cards.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Cards')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Member Cards')}}
    </h2>
    <!-- cards -->
    <div class="md-padding text-nowrap-group select-text">
      <p class="md-title">{{member.meta.name}}</p>
      <p class="md-body-1">{{member.login}}</p>
    </div>
    <md-list class="md-padding">
      <md-subheader class="md-no-sticky">
        {{_('%s cards.', cardnums.length)}}
      </md-subheader>
      <md-list-item class="md-2-line"
                    ng-repeat="cardnum in cardnums">
        <md-icon class="md-avatar-icon"
                 aria-label="{{_('Card Number')}}"
                 ng-mousedown="copy(cardnum.card.slug, cardnum.code)"
                 ng-class="{'draft':!cardnum.card.status}"
                 md-svg-icon="maps:ic_local_activity_24px"></md-icon>
        <div class="md-list-item-text text-nowrap-group select-text">
          <h3 class="text-upper select-text">
            {{cardnum.code}}
          </h3>
          <p class="text-upper select-text"
             ng-class="{'text-strike': !cardnum.status}">
            - {{cardnum.card.slug}}
          </p>
        </div>
      <md-list-item>
    </md-list>


  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=member.events.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Activities')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Member Activities')}}
    </h2>
    <!-- events -->
    <div class="md-padding text-nowrap-group select-text">
      <p class="md-title">{{member.meta.name}}</p>
      <p class="md-body-1">{{member.login}}</p>
    </div>

    <md-list class="md-padding">
      <md-subheader class="md-no-sticky">
        {{_('%s activities.', activities.length)}}
      </md-subheader>
      <md-list-item class="md-2-line"
                    ng-repeat="activity in activities">
        <md-icon class="md-avatar-icon"
                 aria-label="{{_('Activity')}}"
                 ng-class="{'draft':!activity.event.status}"
                 ng-mousedown="copy(activity.event.slug, activity.appointee)"
                 md-svg-icon="{{
                   activity.status == 1 ? 'action:ic_assignment_ind_24px'
                 : activity.status == 2 ? 'action:ic_assignment_late_24px'
                 : 'action:ic_assignment_turned_in_24px'}}"></md-icon>
        <div class="md-list-item-text text-nowrap-group select-text">
          <h3>{{activity.appointee}}</h3>
          <p ng-class="{'text-strike': activity.status != 1}">
            - {{activity.date}} @ {{activity.event.meta.title || slug}}
          </p>
        </div>
      <md-list-item>
    </md-list>

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/roles.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Member Roles')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection || amount <= 0" ng-click=add(roles)> {{_('New Member Role')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s member roles total. %s remain.', roles.length, amount)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Member Role')}}" ng-repeat="role in roles|paginator:paging.paged" ng-class="{'selected': role._selected}" ng-hold="sel.select(role, roles)" ng-click="sel.selection?'':edit(role, roles)" delay=!sel.selection><md-icon class=md-avatar-icon md-svg-icon=social:ic_people_outline_24px></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ role.name || role.id }}</h3><p>&nbsp;- {{ role.slug }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{role._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon md-svg-icon=action:ic_build_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* You can create member roles to group up members.')}} </hint></div></section></div></div><script type=text/ng-template id=role.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Role Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center"
        created="{{role.creation|dateformat}}"
        modified="{{role.updated|dateformat}}">
      {{role._new ? _('New Member Role') : _('Edit Member Role')}}
    </h2>
    <!-- member role form -->
    <form class="md-padding"
          name="role_form"
          ng-submit="submit(role, role_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="role.name"
               md-maxlength="24"
               required />
        <ng-messages ng-if="role_form.name.$touched"
                     for="role_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               maxlength="120"
               ng-model="role.slug"/>
        <hint>{{_('* URL Slug is use for friendly URLs.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(role)"
               ng-show="!role._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(role, role_form)"
               ng-disabled="submitted">
      {{role._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/editor/views/station.html><div class=station layout=row flex><div class=editor-sidebar layout=column ng-class="{'mobile': is_mobile}" ng-show=sidebar_opened><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Back') }}" ng-click=back()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><md-tooltip md-direction=right> {{_('Back')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group show-gt-sm hide><md-button class=md-icon-button aria-label="{{ _('Desktop') }}" ng-disabled="device == 'desktop'" ng-click="select_device('desktop')"><md-icon md-svg-icon=hardware:ic_computer_24px></md-icon><md-tooltip md-direction=right> {{_('Desktop')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Tablet') }}" ng-disabled="device == 'tablet'" ng-click="select_device('tablet')"><md-icon md-svg-icon=hardware:ic_tablet_24px></md-icon><md-tooltip md-direction=right> {{_('Tablet')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Smartphone') }}" ng-disabled="device == 'phone'" ng-click="select_device('phone')"><md-icon md-svg-icon=hardware:ic_smartphone_24px></md-icon><md-tooltip md-direction=right> {{_('Smartphone')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Preview') }}" ng-href="{{file.url | now}}" target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><md-tooltip md-direction=right> {{_('Preview')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Property') }}" ng-click=property_toggle()><md-icon md-svg-icon=action:ic_assignment_24px></md-icon><md-tooltip md-direction=right> {{_('Property')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Save') }}" ng-click="save(file, property_form)"><md-icon md-svg-icon=content:ic_save_24px></md-icon><md-tooltip md-direction=right> {{_('Save')}} </md-tooltip></md-button></div><md-divider></md-divider><span flex></span><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Delete') }}" ng-disabled=file.locked ng-click=trash(file)><md-icon md-svg-icon=action:ic_delete_24px></md-icon><md-tooltip md-direction=right> {{_('Delete')}} </md-tooltip></md-button></div></div><div class=editor-body layout=row flex><div class="editor-toolbar anim-show-hide md-whiteframe-1dp" ng-show=toolbar_opened name=sup-editor-toolbar><div class=btn-group><md-menu class=max-size-sm md-offset="0 -5"><md-button class=select-menu ng-click=$mdOpenMenu($event) md-no-ink> {{_('Text Style')}} <md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button><md-menu-content class=editor-text-style-menu width=2><md-menu-item><md-button class=btn-p> {{_('Paragraph')}} </md-button></md-menu-item><md-menu-item><md-button class=btn-quote> {{_('Quote')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-h2><span class=md-headline>{{_('Headline')}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h3><span class=md-title>{{_('Title')}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h4><span class=md-subhead>{{_('Subhead')}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h5><span class=md-body-2>{{_('Subject')}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Font Size')}}" ng-click=$mdOpenMenu($event)><md-icon md-svg-icon=editor:ic_format_size_24px></md-icon></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-big>{{_('Big')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-small>{{_('Small')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sub>{{_('Subscript')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sup>{{_('Superscript')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-i" aria-label="{{_('Italic')}}"><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button class="md-icon-button btn-b" aria-label="{{_('Bold')}}"><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button class="md-icon-button btn-strike" aria-label="{{_('Strikethrough')}}"><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button class="md-icon-button btn-underline" aria-label="{{_('Underline')}}"><md-icon md-svg-icon=editor:ic_format_underlined_24px></md-icon></md-button><md-button class="md-icon-button btn-mark" aria-label="{{_('Mark Text')}}"><md-icon md-svg-icon=editor:ic_format_paint_24px></md-icon></md-button><md-button class="md-icon-button btn-clear" aria-label="{{_('Clear Text Format')}}"><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon></md-button><md-button class="md-icon-button btn-hr" aria-label="{{_('Divider')}}"><md-icon md-svg-icon=content:ic_remove_24px></md-icon></md-button><md-button class="md-icon-button btn-a" aria-label="{{_('Link')}}"><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button><md-button class="md-icon-button btn-img" aria-label="{{_('Image')}}"><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button class="md-icon-button btn-script" aria-label="{{_('Script Code')}}"><md-icon md-svg-icon=action:ic_extension_24px></md-icon></md-button><md-button class="md-icon-button btn-preset" aria-label="{{_('Content Presets')}}"><md-icon md-svg-icon=device:ic_now_widgets_24px></md-icon></md-button></div><div class=btn-group show-gt-sm hide><md-button class="md-icon-button btn-ol" aria-label="{{_('Ordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon></md-button><md-button class="md-icon-button btn-ul" aria-label="{{_('Unordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon></md-button><md-button class="md-icon-button btn-outdent" aria-label="{{_('Outdent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_decrease_24px></md-icon></md-button><md-button class="md-icon-button btn-indent" aria-label="{{_('Indent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_increase_24px></md-icon></md-button></div><div class=btn-group show-gt-sm hide><md-button class="md-icon-button btn-jleft" aria-label="{{_('Align left')}}"><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-button class="md-icon-button btn-jcenter" aria-label="{{_('Align center')}}"><md-icon md-svg-icon=editor:ic_format_align_center_24px></md-icon></md-button><md-button class="md-icon-button btn-jright" aria-label="{{_('Align right')}}"><md-icon md-svg-icon=editor:ic_format_align_right_24px></md-icon></md-button><md-button class="md-icon-button btn-jfull" aria-label="{{_('Align Justify')}}"><md-icon md-svg-icon=editor:ic_format_align_justify_24px></md-icon></md-button></div><div class=btn-group show-gt-md hide><md-button class="md-icon-button btn-undo" aria-label="{{_('Undo')}}"><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button class="md-icon-button btn-redo" aria-label="{{_('Redo')}}"><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button><md-button class="md-icon-button btn-html" aria-label="{{_('HTML Code')}}"><md-icon md-svg-icon=action:ic_code_24px></md-icon></md-button></div></div><div class=editor-canvas ng-click=blur_canvas() layout=row layout-align="center center" flex><iframe class="canvas {{device}}" scrolling=auto src=canvas></iframe></div></div><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=editor_property layout=column><md-content flex><md-subheader class="md-no-sticky md-primary"> {{_('Property')}} </md-subheader><form class=md-padding name=property_form ng-submit="save(file, property_form)" novalidate><md-input-container class="md-block amend"><label>{{_('URL Slug')}}</label><input name=slug type=text ng-model=file.slug ng-pattern=regex_pattern.slug ng-disabled="!property.expert || file.locked" maxlength=120 required><hint for=property_form.slug> {{_('* URL Slug is use for friendly URLs.')}} </hint><ng-messages ng-if=property_form.type.$touched for=property_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block static"><label>{{_('Featured Image')}}</label><md-card ng-click=select_featured_img(file)><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(file.meta.featured_img.src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages ng-if=property_form.title.$touched for=property_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages ng-if=property_form.des.$touched for=property_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=file.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{file.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-input-container class="md-block static"><label>{{_('Template')}}</label><md-menu layout=column><md-button class="md-primary text-nowrap" ng-click=$mdOpenMenu($event)> {{file.template}} </md-button><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'week': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-contain" ng-click="switch_template(file, tmpl)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p>{{tmpl.key}}</p></md-menu-item></md-menu-content></md-menu></md-input-container><div class=field-container ng-show="taxonomies.length > 0"><label>{{_('Taxonomies')}}</label><md-list><md-list-item class=text-nowrap-group ng-repeat="tax in taxonomies" ng-click=open_tax(tax)><div class=md-list-item-text><p>{{_(tax.title)}}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=maps:ic_local_offer_24px></md-icon></div></md-list-item></md-list></div><div class="field-container amend"><label>{{_('Date')}}</label><md-datepicker name=date md-placeholder="{{_('Enter date')}}" ng-model=date md-open-on-focus></md-datepicker><ng-messages ng-if=property_form.date.$touched for=property_form.date.$error><ng-message when=valid> {{ _('Must be a date.') }} </ng-message></ng-messages></div><md-input-container class=md-block><label>{{_('Author')}}</label><input name=author type=text ng-model=file.meta.author md-maxlength=60><md-icon md-svg-icon=action:ic_perm_identity_24px ng-click=get_author(file)></md-icon><ng-messages ng-if=property_form.author.$touched for=property_form.author.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Parent')}}</label><input name=parent type=text ng-pattern=regex_pattern.slug ng-model=file.parent maxlength=240><ng-messages ng-if=property_form.parent.$touched for=property_form.parent.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Priority')}}</label><input name=priority type=number ng-model=file.priority><ng-messages ng-if=property_form.priority.$touched for=property_form.priority.$error><ng-message when=number> {{ _('Must be a number.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Redirect to')}}</label><input name=redirect type=url ng-model=file.redirect md-maxlength=360><ng-messages ng-if=property_form.redirect.$touched for=property_form.redirect.$error><ng-message when=md-maxlength> {{ _('Must be a URL.') }} </ng-message></ng-messages></md-input-container><md-switch ng-model=file.status ng-true-value=1 ng-false-value=0 class=md-accent> {{_('Publish')}} </md-switch><div class=space-md></div><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=meta_hardcore(file) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></form></md-content></md-sidenav></div></script><script type=text/ng-template id=blueprints/gate/views/login.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><md-icon class=logo md-svg-src=logo.svg></md-icon></header><form name=auth_form ng-submit="login(auth, auth_form)" novalidate><md-input-container class=md-block><label>{{_('Account')}}</label><input name=login type=email ng-model=auth.login required><ng-messages ng-if=auth_form.login.$touched for=auth_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Password')}}</label><input name=passwd type=password ng-model=auth.passwd ng-pattern=regex_pattern.passwd required><ng-messages ng-if=auth_form.passwd.$touched for=auth_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Login')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/recovery> {{_('Forget password?')}} </md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/recovery.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Recovery')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(rec, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=rec.login ng-disiabled=checked required><ng-messages ng-if=check_form.login.$touched for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><form name=rec_form layout=column ng-show=step==1 ng-submit="recovery(rec, rec_form)" novalidate><div><p> {{_('An Recovery captcha has been sent to %s.', rec.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Recovery captcha')}}</label><input name=captcha type=text ng-model=rec.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(rec)></md-icon><ng-messages ng-if=rec_form.captcha.$touched for=rec_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=rec.passwd maxlength=50 ng-pattern=regex_pattern.passwd required><hint for=rec_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages ng-if=rec_form.passwd.$touched for=rec_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password maxlength=50 ng-model=rec.passwd2 password-verify=rec.passwd required><ng-messages ng-if=rec_form.passwd2.$touched for=rec_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Recovery')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been recovered.', rec.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class=md-raised ng-disabled=submitted ng-href=/#/gate/login> {{_('Go Login')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/register.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Free Register')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(reg, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=reg.login ng-disiabled=checked required><ng-messages ng-if=check_form.login.$touched for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Invitation Code')}}</label><input name=code type=text ng-model=reg.code maxlength=100 ng-required=invite_required><ng-messages ng-if=check_form.code.$touched for=check_form.code.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><form name=reg_form ng-show="step == 1" ng-submit="register(reg, reg_form)" novalidate><div><p> {{_('A Register captcha has been sent to %s.', reg.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Register captcha')}}</label><input name=captcha type=text ng-model=reg.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(reg)></md-icon><ng-messages ng-if=reg_form.captcha.$touched for=reg_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=slug type=text ng-model=reg.slug ng-pattern=regex_pattern.slug maxlength=60 required><hint for=reg_form.slug> {{_('* Latin letters, numbers or dashes.')}} </hint><ng-messages ng-if=reg_form.slug.$touched for=reg_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('Set Password')}}</label><input name=passwd type=password ng-model=reg.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=reg_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages ng-if=reg_form.passwd.$touched for=reg_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=reg.passwd2 password-verify=reg.passwd maxlength=60 required><ng-messages ng-if=reg_form.passwd2.$touched for=reg_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Create')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been registered.', reg.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class="btn md-raised" ng-disabled=submitted ng-href=/#/property> {{_('Enter')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/info/views/info.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header layout-align-gt-xs="start center" layout-align="center center"><md-icon class=logo md-svg-src=logo.svg></md-icon></header><article ng-if="lang == 'en'"><p> This is a cloud base content creation software, Aka., Content as a Service. </p><p> We can help you eaiser manage multi-channel online contents. such as Brand Website, WeChat Buzz, Mobile Showreel and Manuscript. In addition, We also provide a lightweight CRM system, it can help you manage members, appointments, coupons and so on. </p></article><article ng-if="lang == 'zh'"><p> 这是一个云端内容管理应用软件。 </p><p> 我们可以帮助您轻松的管理得管理多个线上发布渠道的内容。 例如，品牌网站、微信公众号、移动展示、电子手稿等。 除此之外我们还提供了轻量级的CRM系统，能够帮助您管理会员、预约、卡券等等。 </p></article><md-divider></md-divider><div><p class=md-caption> {{_('R.I.P: %s', project.rip.join(', '))}} </p><p class=md-caption> {{_('Version: %s %s', project.name, project.version)}} </p><p class=md-caption> {{_('Creators: %s', project.creator.join(', '))}} </p></div></section></div></div></script><script type=text/ng-template id=blueprints/media/views/media.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Media Files')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center" ng-if=ready><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Repository')}}" ng-model=sel_repo ng-disabled="sel.selection
                                  || (isolated && !property.expert)" ng-change="change_repo(sel_repo, repositories)"><md-option ng-value="'r'"> {{_('Generic')}} </md-option><md-option ng-repeat="repo in repositories" ng-value=repo.slug> {{repo.meta.title || repo.slug}} </md-option></md-select></div><span flex></span><md-button class=md-icon-button aria-label="{{_('Upload Media')}}" ng-disabled="amount <= 0 || sel.selection" ng-click=upload(mediafiles)><md-icon md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-tooltip>{{_('Upload')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s media files.', mediafiles.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Media')}}" ng-repeat="media in mediafiles|paginator:paging.paged" ng-class="{'selected': media._selected}" ng-if=media.filename ng-hold="sel.select(media, mediafiles)" ng-click="sel.selection?'':edit(media, mediafiles)" delay=!sel.selection><img class="md-avatar img-bg-cover" ng-if="media.type == 'image'" ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}><md-icon class=md-avatar-icon md-svg-icon={{media_icons[media.type]}} ng-if="media.type != 'image'"></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ media.filename }}</h3><p>&nbsp;- {{ media.mimetype }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{media._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary md-svg-icon=image:ic_brush_24px></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=media.uploads.tmpl.html>
<md-dialog class="max-size-md"
           flex>
  <md-toolbar class="md-accent">
    <div class="md-toolbar-tools">
      <span>
        {{_('Media Uploader')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <!-- uploads -->
    <div class="md-padding">
      <div class="media-uploadbox"
           ngf-drop="onFileSelect($files)"
           ngf-allow-dir="true"
           ngf-accept="{{mimetypes}}"
           ngf-multiple="true"
           ng-file-drop=""
           ngf-drag-over-class="file-drag-over"
           ng-click="select_file('.media-manage-uploads')"
           layout="row"
           layout-align="center center">
        <md-icon class="s48"
                 ng-show="upload_status == 0"
                 md-svg-icon="file:ic_cloud_upload_24px"></md-icon>

        <md-progress-circular class="md-accent"
                              ng-show="upload_status == 1"
                              md-mode="indeterminate"
                              md-diameter="60">
        </md-progress-circular>
        <md-icon class="md-warn s48"
                 ng-show="upload_status==2"
                 md-svg-icon="action:ic_report_problem_24px"></md-icon>
        <md-icon class="s48"
                 ng-show="upload_status==3"
                 md-svg-icon="action:ic_done_24px"></md-icon>
      </div>
      <div class="text-center">
        <md-button class="md-accent"
                   ng-click="select_file('.media-manage-uploads')"
                   ng-disabled="upload_status == 1">
          {{_('Select Files')}}
        </md-button>
        <p class="hint">
          {{_('* image: < 600Kb, video: < 24Mb, audio: < 6Mb.')}}
        </p>
      </div>
    </div>

    <!-- stupid ios dose not support button file uploads -->
    <input class="ng-hide media-manage-uploads"
           type="file"
           ngf-select="onFileSelect($files)"
           ngf-multiple="true"
           ngf-accept="{{mimetypes}}" />

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button ng-click="close()">
      {{upload_status == 1 ? _('Cancel') : _('Done')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=media.edit.tmpl.html>
<md-dialog aria-label="{{_('Media Edit')}}"
           flex>
  <md-toolbar class="bg-trans md-hue-3">
    <div class="md-toolbar-tools">
      <span>
        {{_('Media Edit')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('Copy URL')}}"
                 ng-click="copy_media_url(media.src)">
        <md-icon md-svg-icon="content:ic_link_24px"></md-icon>
      </md-button>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content layout="row"
                     flex>
    <!-- edit area -->
    <div class="media-preview"
         ng-if="!editable_media"
         layout="column"
         layout-align="center center"
         flex>
      <img ng-src="{{media.src}}"
           ng-if="media.type == 'image'"
           flex />
      <video ng-src="{{media.src}}"
             ng-if="media.type == 'video'"
             controls></video>
      <audio ng-src="{{media.src}}"
             ng-if="media.type == 'audio'"
             controls></audio>
      <md-icon class="s96"
               md-svg-icon="{{media_icons[media.type]}}"
               ng-if="media.type == 'application'"></md-icon>
    </div>
    <div ng-if="editable_media"
         layout="column"
         layout-align="center center"
         flex>
      <div class="media-editor md-accent"
           flex="80">
        <div bagua-image-editor
             img-src="media.original"
             img-recipe="media.recipe">
        </div>
      </div>
    </div>

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(media)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="submitted"
               ng-click="save(media)">
      {{editable_media ? _('Save') : _('Refresh')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/support/views/ticket.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1><span>{{_('Support')}}</span></h1></header><article ng-if="lang == 'en'"><p> If you got trouble while using our system, please tell us. Describe your problem then send to <a ng-href={{mailto_support}}>support mailbox</a>. We will reply you as soon as possible. </p></article><article ng-if="lang == 'zh'"><p> 如果您在使用中遭遇了什么不测，请务必告知我们。 描述下您遇到的问题，并且发到 <a ng-href={{mailto_support}}>技术支持</a>。 放心，我们会尽快给您回复。 </p></article><div><a ng-href={{mailto_support}}><md-icon class="s96 md-primary" md-svg-icon=comm:ic_email_24px></md-icon></a></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/invite.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Invitations')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="amount <= 0" ng-click=generate()> {{_('Generate Invitation')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s invitations total. %s remain.', invites.length, amount)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="invite in invites" aria-label="{{_('Manage Invitation')}}"><div class=md-list-item-text><p>{{ invite.code }}</p></div><md-menu class="md-secondary anim-show"><md-icon ng-class="{'md-primary': !invite.invited}" md-svg-icon="{{invite.invited
                     ? 'action:ic_assignment_ind_24px'
                     : 'social:ic_share_24px'}}" ng-click=$mdOpenMenu($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group><p class=md-caption ng-class="{'draft': !invite.invited}"> {{invite.invited || _('Available')}} </p></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=copy_invite_code(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation Code')}} </md-button></md-menu-item><md-menu-item><md-button ng-click=copy_invite_url(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation URL')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-disabled=invite.invited ng-click=remove(invite)> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* Use invitation code to invite your friends to register.')}} </hint></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Usage')}}</span></h2></header><article ng-if="lang == 'en'"><p> You can invite friends to sign up for a new account. Invitees can enter the invitation code while registration, or register directly through the invitation URL. We will always thank you for sharing. </p><ul><li>Each account generates up to {{invite_limit}} invitations.</li><li>Each invitation code can only be used once.</li><li>Used invitations can not be deleted.</li></ul></article><article ng-if="lang == 'zh'"><p> 您可以在这里生成邀请码，邀请您的好友前来注册新帐号。 被邀者可以在注册的时候输入您分享的邀请码，也可以直接通过邀请网址进行注册。 我们会永远记得您邀请的新用户，有朝一日必会给您更多的回馈。 </p><ul><li>每个帐号最多生成{{invite_limit}}个邀请码，省着点用。</li><li>每个邀请码只能使用一次。</li><li>已经使用过的邀请码是不能删除的。</li></ul></article></section></div></div></script><script type=text/ng-template id=blueprints/user/views/oauth.html></script><script type=text/ng-template id=blueprints/user/views/profile.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Profile')}}</span></h1></header><form name=profile_form ng-submit="save(profile, profile_form)" novalidate><md-input-container class="static md-block"><label>{{_('Avatar')}}</label><md-card class=s192 ng-click="switch_avatar(profile, $event)"><img class=img-bg-cover ng-src={{image.trans}} style={{(profile.meta.avatar||image.avatar)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Nickname')}}</label><input name=display_name type=text ng-model=profile.meta.display_name md-maxlength=60><ng-messages ng-if=profile_form.display_name.$touched for=profile_form.display_name.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Location')}}</label><input name=location type=text ng-model=profile.meta.location md-maxlength=360><ng-messages ng-if=profile_form.location.$touched for=profile_form.location.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('E-Mail')}}</label><input name=email type=email md-maxlength=120 ng-model=profile.meta.email><ng-messages ng-if=profile_form.email.$touched for=profile_form.email.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Phone')}}</label><input name=phone type=text md-maxlength=120 ng-model=profile.meta.phone><ng-messages ng-if=profile_form.phone.$touched for=profile_form.phone.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Job Title')}}</label><input name=job type=text md-maxlength=120 ng-model=profile.meta.job><ng-messages ng-if=profile_form.job.$touched for=profile_form.job.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Property')}}</span></h2></header><md-input-container class="static md-block"><label>{{_('Energy')}}</label><div class="box-wrapper s192"><md-icon class="s96 md-accent" md-svg-icon=social:ic_whatshot_24px></md-icon><div class="md-margin md-display-2"> {{property.energy | abbrnum:2}} </div></div></md-input-container><md-input-container class=md-block><label>{{_('Login ID')}}</label><input name=login type=text ng-model=property.login disabled></md-input-container><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=username type=text ng-model=property.slug disabled></md-input-container><div class="field-container amend"><label>{{_('Capability Level')}}</label><div class=radio-wrapper><md-radio-group ng-model=property.capability ng-change=change_capability(property)><md-radio-button class=md-primary ng-repeat="capa in capabilities" ng-value=capa.key> {{_(capa.label)}} </md-radio-button></md-radio-group></div><hint class=help ng-click=help_capability()><span> {{_('* Choose a capability level that fits your skill.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/security.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Security')}}</span></h1></header><div><form name=pwd_form ng-submit="change_pwd(pwd, pwd_form)" novalidate><md-input-container class=md-block><label>{{_('Old Password')}}</label><input name=old_passwd type=password ng-model=pwd.old_passwd ng-pattern=regex_pattern.passwd required><ng-messages ng-if=pwd_form.old_passwd.$touched for=pwd_form.old_passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=pwd.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=pwd_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages ng-if=pwd_form.passwd.$touched for=pwd_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=pwd.passwd2 password-verify=pwd.passwd maxlength=60 required><ng-messages ng-if=pwd_form.passwd2.$touched for=pwd_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container><div><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Modify')}} </md-button></div></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10 ng-show=property.expert><header><h2 class=md-headline><span>{{_('Develop')}}</span></h2></header><md-input-container class=md-block><label>{{_(' Secret Key')}}</label><input name=secret_key type=text ng-model=secret.key disabled><md-icon md-svg-icon=content:ic_content_copy_24px ng-click=copy_secret_key(secret.key)></md-icon><hint flex-order=3> {{_('* Secret key code allow you access '+ 'several powerful develop api. '+ 'DO NOT tell anyone else.')}} </hint></md-input-container><div layout=row><md-button class=md-raised ng-click=reset_secret_key(secret)> {{_('Reset')}} </md-button></div><div class=space-lg></div><h3 class=md-subhead> {{_('Oauth Verification')}} </h3><div class="field-container amend"><md-list><md-list-item ng-repeat="oauth in oauths" ng-click="edit_oauth(oauth, oauths)"><p class="md-body-1 text-nowrap"> {{ oauth.name }} </p></md-list-item><md-list-item aria-label="{{_('New OAuth')}}" ng-show="oauths.length < oauth_limit" ng-click=add_oauth(oauths)><div class=list-func-wrapper><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div></section></div></div><script type=text/ng-template id=oauth.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('OAuth Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center"
        created="{{oauth.creation|dateformat}}"
        modified="{{oauth.updated|dateformat}}">
      {{oauth._new ? _('New OAuth') : _('Edit OAuth')}}
    </h2>
    <!-- oauth form -->
    <form class="md-padding"
          name="oauth_form"
          ng-submit="submit(oauth, oauth_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="oauth.name"
               md-maxlength="60"
               required />
        <ng-messages ng-if="oauth_form.name.$touched"
                     for="oauth_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="oauth._new && restore_oauth">
        <label>{{_('App Key')}}</label>
        <input name="app_key"
               type="text"
               maxlength="60"
               ng-disabled="!oauth._new"
               ng-model="oauth.app_key"/>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="oauth._new && restore_oauth">
        <label>{{_('App Secret')}}</label>
        <input name="app_secret"
               type="text"
               maxlength="60"
               ng-disabled="!oauth._new"
               ng-model="oauth.app_secret"/>
      </md-input-container>

      <div class="field-container"
           ng-if="!oauth._new">
        <label>{{_('App Key')}}</label>
        <p class="indent-padding md-body-1 text-break select-text">
          {{oauth.app_key}}
        </p>
      </div>

      <div class="field-container"
           ng-if="!oauth._new">
        <label>{{_('App Secret')}}</label>
        <div layout="row">
          <p class="indent-padding md-body-1 text-break select-text draft"
             flex>
            <span ng-show="!show_secret"
                  ng-click="show_secret = true">
              {{_('Click to display secret code.')}}
            </span>

            <span ng-show="show_secret"
                  ng-class="{'md-text md-primary': oauth.refresh}">
              {{oauth.refresh
                ?_('Secret will refresh after saved.')
                :oauth.app_secret}}
            </span>
          </p>
          <md-icon md-svg-icon="nav:ic_refresh_24px"
                   ng-click="refresh_secret(oauth)"
                   ng-show="show_secret && !oauth.refresh"></md-icon>
        </div>
      </div>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Restore')}}"
               ng-click="restore_oauth = true"
               ng-show="oauth._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_restore_24px"></md-icon>
    </md-button>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(oauth)"
               ng-show="!oauth._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(oauth, oauth_form)"
               ng-disabled="submitted">
      {{oauth._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wa/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div><md-subheader class=md-no-sticky> {{_('Content Storage')}} </md-subheader><div class=md-padding><md-progress-linear ng-class="{'md-warn': storage.overload}" md-mode=determinate value={{storage.percent}}></md-progress-linear><div class=text-right><hint class=help ng-click=help_storage()><span>{{storage.used}} / {{storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-subheader class=md-no-sticky> {{_('Media Storage')}} </md-subheader><div class=md-padding><div flex><md-progress-linear ng-class="{'md-warn': media_storage.overload}" md-mode=determinate value={{media_storage.percent}}></md-progress-linear></div><div class=text-right><hint class=help ng-click=help_storage()><span>{{media_storage.used}} / {{media_storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-divider class=md-margin></md-divider></div><div><md-subheader class=md-no-sticky> {{ _('Scenes') }} </md-subheader><md-list class="md-margin short" ng-if="scenes.length > 0"><md-list-item class=text-nowrap-group ng-repeat="file in scenes" aria-label="{{_('Edit Scene')}}" ng-click=edit_scene(file)><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="scenes.length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Scenes')}}" ng-click=manage_scenes()><md-icon md-svg-icon=image:ic_camera_front_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 3"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short" ng-if="extensions.length > 0"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="extensions.length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Extensions')}}" ng-click=manage_ext()><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Title')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Preview URL')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-body-1><a class=md-primary ng-href={{app.base_url}} target=_blank>{{app.base_url}}</a></p></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wa/views/scene.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Scenes') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change=change_status(sel_status)><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 3"><md-button class=md-icon-button ng-click=$mdOpenMenu($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Contents')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s scenes in list.', files.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files|paginator:paging.paged" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': file._selected}" flex><md-card-header ng-hold="file.locked?'':sel.select(file, files)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'md-accent': file._selected,
                         'draft': !file.status && !file._selected,
                         'md-primary': file.locked && !file._selected}" md-svg-icon="{{ file._selected
                         ? 'action:ic_done_24px'
                         : file.locked ? 'action:ic_lock_24px'
                         : file.reserved ? 'editor:ic_insert_drive_file_24px'
                         : 'action:ic_description_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                         ? 'action:ic_done_24px'
                         : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status}"> {{file.slug}} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click="sel.selection?'':edit(file)" ng-hold="file.locked?'':sel.select(file, files)" delay=!sel.selection ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{file.meta.title || file.slug }} </span></md-card-title-text></md-card-title><md-card-content><p class="excerpt md-body-1"> {{file.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="end center"><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-disabled=sel.selection ng-click=edit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div></div><div class=anim-show-hide ng-show=paging.has_more layout=column><md-button aria-label="{{_('More')}}" ng-click=paging.more()><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-button></div><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Scene')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wb/views/chapter.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Chapters') }}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="amount <= 0" ng-click=add(chapters)> {{_('New Chapter')}} </md-button><md-button class=md-icon-button ng-click=go_chapter()><md-icon md-svg-icon=action:ic_bookmark_border_24px></md-icon><md-tooltip md-direction=top> {{_('Temporary Chapter')}} </md-tooltip></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s chapters in list. %s remain.', chapters.length, amount)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="chapter in chapters" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'draft': !chapter.status}" md-svg-icon=action:ic_bookmark_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>{{chapter.key}}</span><span class=md-subhead> {{(chapter.updated | dateformat)}} </span></md-card-header-text></md-card-header><md-card-title ng-click=go_chapter(chapter)><md-card-title-text class=text-nowrap-group><span class=md-title ng-class="{'draft text-strike': !chapter.status}"> {{chapter.meta.name || chapter.key }} </span></md-card-title-text></md-card-title><md-card-actions layout=row layout-align="space-between center"><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-click="edit(chapter, chapters)"><md-icon md-svg-icon=image:ic_collections_bookmark_24px></md-icon></md-button><md-button class="md-icon-button md-primary" aria-label="{{_('Enter Chapter')}}" ng-click=go_chapter(chapter)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div></div></section></div></div><script type=text/ng-template id=wb.chapter.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Chapter Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{chapter._new?_('Add New Chapter'):_('Edit Chapter')}}
    </h2>
    <!-- chapter form -->
    <form class="md-padding"
          name="chapter_form"
          ng-submit="submit(chapter, chapter_form)"
          novalidate>

      <md-input-container class="static md-block"
                          ng-show="property.capability > 3">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(chapter, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_16x10}}"
               style="{{(chapter.meta.figure||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="chapter.meta.name"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="chapter_form.name.$touched"
                     for="chapter_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="chapter.key"
               maxlength="120"/>
        <hint>{{_('* Latin letters, numbers or dashes.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.capability > 3">
        <label>{{_('Priority')}}</label>
        <input name="priority"
               type="number"
               ng-model="chapter.priority"/>
        <ng-messages ng-if="chapter_form.priority.$touched"
                     for="chapter_form.priority.$error">
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch ng-model="chapter.status"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Enabled')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!chapter._new"
               ng-click="trash(chapter)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(chapter, chapter_form)"
               ng-disabled="submitted">
      {{chapter._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wb/views/chapter_article.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap"><span>{{ chapter ? _('Chapter: %s', chapter.meta.name) : _('Temporary') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=chapter md-container-class=max-size-sm placeholder="{{_('Select a chapter')}}" ng-model=sel_chapter ng-disabled=sel.selection ng-change=change_chapter(sel_chapter)><md-optgroup label="{{_('Chapters')}}"><md-option ng-value=chapter.id ng-repeat="chapter in chapters"> {{chapter.meta.name || chapter.slug}} </md-option><md-option ng-value="''"> {{_('Temporary')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 3"><md-button class=md-icon-button ng-click=$mdOpenMenu($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Contents')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files, chapter)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s articles in list.', files.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files|paginator:paging.paged" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': file._selected}" flex><md-card-header ng-hold="file.locked?'':sel.select(file, files)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'md-accent': file._selected,
                         'draft': !file.status && !file._selected,
                         'md-primary': file.locked && !file._selected}" md-svg-icon="{{ file._selected
                         ? 'action:ic_done_24px'
                         : file.locked ? 'action:ic_lock_24px'
                         : file.reserved ? 'editor:ic_insert_drive_file_24px'
                         : 'action:ic_description_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                         ? 'action:ic_done_24px'
                         : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status}"> {{file.slug}} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click="sel.selection?'':edit(file)" ng-hold="file.locked?'':sel.select(file, files)" delay=!sel.selection ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{file.meta.title || file.slug }} </span></md-card-title-text></md-card-title><md-card-content><p class="excerpt md-body-1"> {{file.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="end center"><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-disabled=sel.selection ng-click=edit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div></div><div class=anim-show-hide ng-show=paging.has_more layout=column><md-button aria-label="{{_('More')}}" ng-click=paging.more()><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-button></div><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Article')}}" ng-show=!sel.selection ng-click="create(files, chapter)"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wb/views/cover.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap"><span>{{ _('Covers')}}</span></h1></header><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'draft': !file.status,
                                    'md-primary': file.locked}" md-svg-icon="{{ file.locked ? 'action:ic_lock_24px'
                         : file.reserved ? 'editor:ic_insert_drive_file_24px'
                         : 'action:ic_description_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon=alert:ic_warning_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status}"> {{file.slug}} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click=edit(file) ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{file.meta.title || file.slug }} </span></md-card-title-text></md-card-title><md-card-content><p class="excerpt md-body-1"> {{file.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="end center"><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-click=edit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div></div><div class=space-padding></div></section></div></div></script><script type=text/ng-template id=blueprints/wb/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div><md-subheader class=md-no-sticky> {{_('Content Storage')}} </md-subheader><div class=md-padding><md-progress-linear ng-class="{'md-warn': storage.overload}" md-mode=determinate value={{storage.percent}}></md-progress-linear><div class=text-right><hint class=help ng-click=help_storage()><span>{{storage.used}} / {{storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-subheader class=md-no-sticky> {{_('Media Storage')}} </md-subheader><div class=md-padding><div flex><md-progress-linear ng-class="{'md-warn': media_storage.overload}" md-mode=determinate value={{media_storage.percent}}></md-progress-linear></div><div class=text-right><hint class=help ng-click=help_storage()><span>{{media_storage.used}} / {{media_storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-divider class=md-margin></md-divider></div><div><md-subheader class=md-no-sticky> {{ _('Chapters') }} </md-subheader><md-list class="md-margin short" ng-if="chapters.length > 0"><md-list-item class=text-nowrap-group ng-repeat="chapter in chapters" aria-label="{{_('Edit Chapter')}}" ng-click=edit_chapter(chapter)><p>{{ chapter.meta.name || chapter.key }}</p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="chapters.length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Chapters')}}" ng-click=manage_chapters()><md-icon md-svg-icon=image:ic_collections_bookmark_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 3"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short" ng-if="extensions.length > 0"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="extensions.length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Extensions')}}" ng-click=manage_ext()><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Title')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Preview URL')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-body-1><a class=md-primary ng-href={{app.base_url}} target=_blank>{{app.base_url}}</a></p></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/ws/views/content.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'draft': content_type.allowed == false}"> {{ _(content_type.title) }} </span><md-menu><md-icon md-svg-icon=nav:ic_arrow_drop_down_circle_24px ng-click=$mdOpenMenu($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group ng-repeat="ctype in content_types"><md-button ng-click="switch_type(ctype, content_type)" ng-class="{'text-strike': !ctype.allowed}"> {{_(ctype.title)}} </md-button></md-menu-item></md-menu-content></md-menu></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a term')}}" ng-model=sel_term ng-disabled="!current_tax || sel.selection" ng-change="change_term(current_tax.slug, sel_term)"><md-optgroup label="{{_(current_tax.title || current_tax.slug)}}"><md-option ng-value=null> {{_('All')}} </md-option><md-option ng-value=term.key ng-repeat="term in terms"> {{term.meta.name || term.slug}} </md-option></md-optgroup><md-optgroup label="{{_('Switch Taxonomies')}}" ng-show="taxonomies.length > 1"><md-option ng-value=undefined ng-repeat="tax in taxonomies" ng-click=change_taxonomy(tax)> {{_(tax.title)}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-click="setting(content_type, files)" ng-disabled=sel.selection aria-label="{{_('Content Type Settings')}}"><md-icon md-svg-icon=file:ic_folder_24px></md-icon><md-tooltip>{{_('Content Type Settings')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s contents in list.', files.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files|paginator:paging.paged" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': file._selected}" flex><md-card-header ng-hold="file.locked?'':sel.select(file, files)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'md-accent': file._selected,
                         'draft': !file.status && !file._selected,
                         'md-primary': file.locked && !file._selected}" md-svg-icon="{{ file._selected
                         ? 'action:ic_done_24px'
                         : file.locked ? 'action:ic_lock_24px'
                         : file.reserved ? 'editor:ic_insert_drive_file_24px'
                         : 'action:ic_description_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                         ? 'action:ic_done_24px'
                         : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status}"> {{file.slug}} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click="sel.selection?'':edit(file)" ng-hold="file.locked?'':sel.select(file, files)" delay=!sel.selection ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{file.meta.title || file.slug }} </span></md-card-title-text></md-card-title><md-card-content><p class="excerpt md-body-1"> {{file.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="end center"><md-menu ng-show="!file.locked && !file.reserved"><md-button class=md-icon-button aria-label="{{_('Move')}}" ng-disabled=sel.selection ng-click=$mdOpenMenu($event)><md-icon md-svg-icon=content:ic_reply_24px></md-icon></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group ng-repeat="ctype in content_types" ng-if="ctype.slug != file.content_type"><md-button ng-click="move(file, files, ctype.slug)"> {{_('Move to')}} {{_(ctype.title)}} </md-button></md-menu-item></md-menu-content></md-menu><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-disabled=sel.selection ng-click=edit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div></div><div class=anim-show-hide ng-show=paging.has_more layout=column><md-button aria-label="{{_('More')}}" ng-click=paging.more()><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-button></div><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Content')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=ws.content_type.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Content Type Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Content Type Settings')}}
    </h2>
    <!-- type form -->
    <form class="md-padding"
          name="type_form"
          ng-submit="submit(content_type, type_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="content_type.title"
               md-maxlength="60"
               required/>
        <hint for="type_form.title">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages ng-if="type_form.title.$touched"
                     for="type_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               ng-disabled="content_type.locked"
               ng-model="content_type.slug"
               maxlength="120"/>
        <hint>{{_('* URL Slug is use for friendly URLs.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="content_type._removeable"
               ng-click="trash(content_type)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(content_type, type_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/ws/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div><md-subheader class=md-no-sticky> {{_('Content Storage')}} </md-subheader><div class=md-padding><md-progress-linear ng-class="{'md-warn': storage.overload}" md-mode=determinate value={{storage.percent}}></md-progress-linear><div class=text-right><hint class=help ng-click=help_storage()><span>{{storage.used}} / {{storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-subheader class=md-no-sticky> {{_('Media Storage')}} </md-subheader><div class=md-padding><div flex><md-progress-linear ng-class="{'md-warn': media_storage.overload}" md-mode=determinate value={{media_storage.percent}}></md-progress-linear></div><div class=text-right><hint class=help ng-click=help_storage()><span>{{media_storage.used}} / {{media_storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-divider class=md-margin></md-divider></div><div ng-repeat="type in allowed_types"><md-subheader class=md-no-sticky> {{ _(type.title) }} </md-subheader><md-list class="md-margin short" ng-if="filestore[type.slug].length > 0"><md-list-item class=text-nowrap-group ng-repeat="file in filestore[type.slug]" aria-label="{{_('Edit Content')}}" ng-click=edit_content(file)><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="filestore[type.slug].length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Content')}}" ng-click=manage_contents(type)><md-icon md-svg-icon=file:ic_folder_open_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 3"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short" ng-if="extensions.length > 0"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="extensions.length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Extensions')}}" ng-click=manage_ext()><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Title')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Preview URL')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-body-1><a class=md-primary ng-href={{app.base_url}} target=_blank>{{app.base_url}}</a></p></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/ws/views/menu.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'text-strike': !menu.allowed}"> {{ _(menu.title) }} </span></h1></header><div class=md-padding ng-if="menu.allowed == false"><p class="md-title md-text md-warn text-center"> {{_('This menu is unused.')}} </p></div><div ng-if=menu.allowed><p class=md-body-1> {{_('The menu settings is pre-defined with current theme.'+ 'You can modify the settings, '+ 'but not guarantee to effect then theme when display.')}} </p><p class=md-body-1> {{_('Only the menu which is not used by theme can be destroy.')}} </p></div><div class=space-md></div><form name=menu_form ng-submit="setting(menu, menu_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=menu.title md-maxlength=60 required><hint for=menu_form.title> {{_('* Auto translate recognized words.')}} </hint><ng-messages ng-if=menu_form.title.$touched for=menu_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text ng-model=menu.slug maxlength=120><hint>{{_('* URL Slug is use for friendly URLs.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('Menu Level')|wrap}}</label><md-select name=level ng-model=menu.level placeholder="{{_('Select menu level')}}"><md-option ng-value=level.key ng-repeat="level in menu_levels"> {{_(level.label)}} </md-option></md-select><ng-messages ng-if=menu_form.level.$touched for=menu_form.level.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-disabled=menu.allowed ng-click=destroy(menu)><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{ _('Menu Structure') }}</span></h2></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="menu.nodes.length >= limit || !menu.allowed" ng-click="add_node(menu.nodes, menu)"> {{_('New Menu')}} {{menu.nodes.length || 0}}/{{limit}} </md-button><md-button class=md-icon-button ng-click=hardcore(menu) ng-show=property.expert aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-repeat="node in menu.nodes"><md-card-content><div class=text-nowrap-group layout=row layout-align="space-between center"><div class="text-nowrap md-title" flex> {{ node.name }} </div><md-button class="md-icon-button md-primary" aria-label="{{_('Edit Menu')}}" ng-click="edit_node(node, menu.nodes, $index, menu)"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list class=md-margin ng-show="menu.level > 1"><md-list-item class=text-nowrap-group ng-repeat="child in node.nodes" ng-click="edit_node(child, node.nodes, $index, menu)"><p>{{child.name}}</p></md-list-item><md-list-item class="md-text md-primary" ng-show="node.nodes.length < limit" ng-click="add_node(node.nodes, menu)"><p class=md-body-1> {{_('New Submenu')}} </p></md-list-item></md-list></md-card-content></md-card></section></div></div><script type=text/ng-template id=ws.menu.node.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Menu')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{node._new?_('Add Menu'):_('Edit Menu')}}
    </h2>
    <!-- node form -->
    <form class="md-padding"
          name="node_form"
          ng-submit="submit(node, node_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="node.name"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="node_form.name.$touched"
                     for="node_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="node.key"
               maxlength="120"/>
        <hint>{{_('* Latin letters, numbers or dashes.')}}</hint>
      </md-input-container>

      <md-autocomplete md-input-name="link"
                       md-floating-label="{{_('Link')}}"
                       md-search-text="node.link"
                       md-items="url in urls"
                       md-item-text="url.path"
                       md-menu-class="autocomplete-multi-lines"
                       md-no-cache="true"
                       md-input-maxlength="240"
                       required>
        <md-item-template>
          <p>{{url.name}}</p>
          <span>&nbsp;- {{url.path}}</span>
        </md-item-template>
        <hint for="node_form.link">
          {{_('* Link to a URL or path. use `#` for empty link.')}}
        </hint>
        <ng-messages ng-if="node_form.link.$touched"
                     for="node_form.link.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-autocomplete>

      <md-input-container class="md-block amend"
                          ng-show="property.capability > 3">
        <label>{{_('Target Window')}}</label>
        <input name="target"
               type="text"
               ng-model="node.target" />
        <md-icon md-svg-icon="action:ic_open_in_new_24px"
                 ng-click="target_blank(node)"></md-icon>
        <hint>{{_('* Type `_blank` for open in new window.')}}</hint>
      </md-input-container>

      <md-autocomplete md-input-name="path_scope"
                       md-floating-label="{{_('Path Scope')}}"
                       md-search-text="node.path_scope"
                       md-items="ctype in content_types"
                       md-item-text="ctype.slug"
                       md-menu-class="autocomplete-multi-lines"
                       md-no-cache="true"
                       md-input-maxlength="240">
        <md-item-template>
          <p>{{ctype.slug}}</p>
        </md-item-template>
        <hint for="node_form.path_scope">
          {{_('* Mark active status with this path scope as well.')}}
        </hint>
        <ng-messages ng-if="node_form.path_scope.$touched"
                     for="node_form.path_scope.$error">
          <ng-message when="maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-autocomplete>

      <md-input-container class="md-block"
                          ng-show="property.expert">
        <label>{{_('CSS Class')}}</label>
        <input name="class"
               type="text"
               ng-model="node.class" />
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               ng-model="node._index"
               required />
        <ng-messages ng-if="node_form.pos.$touched"
                     for="node_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!node._new"
               ng-click="trash(node)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(node, node_form)">
      {{node._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/ws/views/taxonomy.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'text-strike': !taxonomy.allowed}"> {{ _(taxonomy.title) }} </span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection
                                || amount <= 0
                                || !taxonomy.allowed" ng-click=add_term(terms)> {{_('New Term')}} </md-button><span flex></span><md-button class=md-icon-button ng-click=setting(taxonomy) aria-label="{{_('Settings')}}" ng-disabled=sel.selection><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s terms total. %s remain.', terms.length, amount)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Term')}}" ng-repeat="term in terms|paginator:paging.paged" ng-class="{'selected': term._selected}" ng-hold="sel.select(term, terms)" ng-click="sel.selection?'':edit_term(term, terms)" delay=!sel.selection><img class=md-avatar ng-if="term.meta.figure && !term.parent" ng-src={{term.meta.figure|thumbnail|now:term.updated}}><md-icon class=md-avatar-icon md-svg-icon=action:ic_bookmark_24px ng-if="!term.meta.figure && !term.parent"></md-icon><div class="md-list-item-text text-nowrap-group" ng-class="{'md-offset indent-padding': term.parent}"><h3 ng-class="{'text-strike': !term.status}"> {{ term.meta.name || term.id }} </h3><p>&nbsp;- {{ term.key }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{term._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': term.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding ng-if="taxonomy.allowed == false"><p class="hint md-text md-warn"> {{_('* This taxonomy is unused, '+ 'You can delete it form taxonomy settings. '+ 'All terms will be remove when the taxonomy been deleted.')}} </p></div></section></div></div><script type=text/ng-template id=ws.taxonomy.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Taxonomy Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Taxonomy Settings')}}
    </h2>
    <!-- taxonomy form -->
    <form class="md-padding"
          name="taxonomy_form"
          ng-submit="submit(taxonomy, taxonomy_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="taxonomy.title"
               md-maxlength="60"
               required/>
        <hint for="taxonomy_form.title">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages ng-if="taxonomy_form.title.$touched"
                     for="taxonomy_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               ng-model="taxonomy.slug"
               maxlength="120"/>
        <hint>{{_('* URL Slug is use for friendly URLs.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Content Type Supports')|wrap}}</label>
        <md-select name="content_types"
                   ng-model="taxonomy.content_types"
                   placeholder="{{_('Select content types')}}"
                   multiple="true">
          <md-option ng-value="ctype.slug"
                     ng-repeat="ctype in content_types">
            {{_(ctype.title)}}
          </md-option>
        </md-select>
        <ng-messages ng-if="taxonomy_form.content_types.$touched"
                     for="taxonomy_form.content_types.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="field-container"
           ng-show="!property.expert">
        <label>{{_('Supported Content Types')}}</label>
        <ul>
          <li class="md-body-1"
              ng-repeat="ctype in content_types">
            {{_(ctype.title)}}
          </li>
        </ul>
      </div>

      <md-switch ng-show="property.expert"
                 ng-model="taxonomy.multiple"
                 class="md-accent">
        {{_('Allow Multiple Terms')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!taxonomy.allowed"
               ng-click="trash(taxonomy)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(taxonomy, taxonomy_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=ws.term.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Term Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{term._new?_('Add New Term'):_('Edit Term')}}
    </h2>
    <!-- term form -->
    <form class="md-padding"
          name="term_form"
          ng-submit="submit(term, term_form)"
          novalidate>

      <md-input-container class="static md-block"
                          ng-show="property.capability > 3">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(term, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_16x10}}"
               style="{{(term.meta.figure||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="term.meta.name"
               md-maxlength="60"
               required/>
        <ng-messages ng-if="term_form.name.$touched"
                     for="term_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="term.key"
               maxlength="120"/>
        <hint>{{_('* Latin letters, numbers or dashes.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.capability > 3">
        <label>{{_('Parent')}}</label>
        <md-select name="parent"
                   ng-disabled="term._is_parent"
                   ng-model="term.parent">
          <md-option ng-value="''">
            {{_('No Parent')}}
          </md-option>
          <md-option ng-repeat="term in parents"
                     ng-value="term.key">
            {{term.meta.name || term.key}}
          </md-option>
        </md-select>
        <hint ng-if="term._is_parent">
          {{_('* Terms can only allow 2 level nested.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.capability > 3">
        <label>{{_('Priority')}}</label>
        <input name="priority"
               type="number"
               ng-model="term.priority" />
        <ng-messages ng-if="term_form.priority.$touched"
                     for="term_form.priority.$error">
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch ng-model="term.status"
                 ng-true-value="1"
                 ng-false-value="0"
                 class="md-accent">
        {{_('Enabled')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!term._new"
               ng-click="trash(term)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(term, term_form)"
               ng-disabled="submitted">
      {{term._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/article.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Articles') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change=change_status(sel_status)><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 3"><md-button class=md-icon-button ng-click=$mdOpenMenu($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Contents')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s articles in list.', files.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files|paginator:paging.paged" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card ng-class="{'selected': file._selected}" flex><md-card-header ng-hold="sel.select(file, files)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'md-accent': file._selected,
                         'draft': !file.status && !file._selected}" md-svg-icon="{{ file._selected
                         ? 'action:ic_done_24px'
                         : 'editor:ic_insert_drive_file_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                         ? 'action:ic_done_24px'
                         : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status}"> {{file.slug}} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click="sel.selection?'':edit(file)" ng-hold="sel.select(file, files)" delay=!sel.selection ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{file.meta.title || file.slug }} </span></md-card-title-text></md-card-title><md-card-content><p class="excerpt md-body-1"> {{file.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="end center"><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-disabled=sel.selection ng-click=edit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div></div><div class=anim-show-hide ng-show=paging.has_more layout=column><md-button aria-label="{{_('More')}}" ng-click=paging.more()><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></md-button></div><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Article')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wx/views/attachment.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Attachments')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Repository')}}" ng-model=sel_status ng-disabled=sel.selection ng-change=change_status(sel_status)><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=0> {{_('Temporary Material')}} </md-option><md-option ng-value=1> {{_('Permanent Material')}} </md-option></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s attachments.', attachments.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Attachment')}}" ng-repeat="attach in attachments|paginator:paging.paged" ng-class="{'selected': attach._selected}" ng-if=attach.filename ng-hold="sel.select(attach, attachments)" delay=!sel.selection><img class=md-avatar ng-class="{'md-accent': attach.media_id}" ng-src={{attach.src|thumbnail|now:attach.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ attach.filename }}</h3><p>{{ attach.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{attach._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><md-menu class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary ng-click="sel.selection?'':$mdOpenMenu($event)" md-svg-icon=file:ic_attachment_24px></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click=copy_src(attach)> {{_('Copy Image Source')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-click="remove(attach, attachments)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Mass Messages')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection || amount <= 0" ng-click=add(broadcasts)> {{_('New Message')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s broadcast messages total.', broadcasts.length)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="cast in broadcasts|paginator:paging.paged" ng-class="{'selected': cast._selected}" ng-hold="sel.select(cast, broadcasts)" ng-click="!sel.selection?edit(cast):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'draft': !cast.status}" md-svg-icon={{castico_map[cast.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ cast.title || cast.id }}</h3><p>{{ cast.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{cast._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': cast.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Message Settings') }}</span></h1></header><form name=cast_form ng-submit="save(cast, cast_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=cast.title md-maxlength=60 required><hint for=cast_form.title> {{_('* You can change the title anytime.')}} </hint><ng-messages ng-if=cast_form.title.$touched for=cast_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Author')}}</label><input name=author type=text ng-model=cast.author md-maxlength=60><ng-messages ng-if=cast_form.author.$touched for=cast_form.author.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Type')}}</label><md-select name=type ng-model=cast.type placeholder="{{_('Select broadcast type')}}" required><md-option ng-value=type.key ng-repeat="type in cast_types"> {{_(type.label)}} </md-option></md-select><ng-messages ng-if=cast_form.type.$touched for=cast_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-switch ng-model=cast.show_cover ng-true-value=1 ng-false-value=0 class=md-accent> {{_('Show Cover Picture')}} </md-switch><md-switch ng-model=cast.status ng-true-value=1 ng-false-value=0 class=md-accent> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button class=md-raised ng-disabled="submitted || !cast.status" ng-show=cast.id ng-click="send(cast, cast_form)"> {{_('Send')}} </md-button><span flex></span><md-button class=md-icon-button aria-label="{{_('Delete')}}" ng-show=cast.id ng-click=trash(cast)><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><div class="anim-enter section-wrapper" ng-if="cast.type == 'text'"><header><h2 class=md-headline><span>{{ _('Plain Text') }}</span></h2></header><div class=alert-container ng-if=cast._error><md-icon class="md-warn s48" md-svg-icon=alert:ic_warning_24px></md-icon><p class="md-body-2 md-text md-warn"> {{_('Settings is invalid.')}} </p></div><form name=cast_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 placeholder=... ng-model=cast.text md-maxlength=360 required></textarea><ng-messages ng-if=cast_text_form.text.$touched for=cast_text_form.text.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div><md-button class=md-raised ng-class="{'md-warn': cast._error}" ng-disabled="submitted || cast_text_form.$invalid" ng-click="save(cast, cast_form)"> {{_('Save Text')}} </md-button></div></form></div><div class="anim-enter section-wrapper" ng-if="cast.type == 'news'"><header><h2 class=md-headline><span>{{ _('Graphic Message') }}</span></h2></header><div class=alert-container ng-if=cast._error><md-icon class="md-warn s48" md-svg-icon=alert:ic_warning_24px></md-icon><p class="md-body-2 md-text md-warn"> {{_('Settings is invalid.')}} </p></div><md-card class=anim-enter><img class="md-card-image img-bg-cover" ng-click="msg_poster(cast, $event)" ng-src={{image.trans_20x10}} style={{(cast.message.media_url||image.default)|bg_img}}><md-card-content><form class=md-padding name=msg_form ng-submit="save_msg(cast, msg_form)" novalidate><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=cast.message.title md-maxlength=60 required><ng-messages ng-if=msg_form.title.$touched for=msg_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=digest ng-model=cast.message.digest md-maxlength=240></textarea><ng-messages ng-if=msg_form.digest.$touched for=msg_form.digest.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Article Path')}}</label><input name=path type=text ng-model=cast.message.path ng-pattern=regex_pattern.path required><md-icon md-svg-icon=image:ic_edit_24px ng-click=msg_content(cast)></md-icon><hint>{{_('* The path of the article.')}}</hint><ng-messages ng-if=msg_form.path.$touched for=msg_form.path.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('URL')}}</label><input name=url type=url ng-model=cast.message.url required><md-icon md-svg-icon=content:ic_link_24px ng-click=msg_link_url(cast)></md-icon><ng-messages ng-if=msg_form.url.$touched for=msg_form.url.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=url> {{ _('Must be a URL.') }} </ng-message></ng-messages></md-input-container></form></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Sync')}}" ng-click="msg_sync(cast, cast_form)"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip md-direction=top> {{_('Sync')}} </md-tooltip></md-button><md-button class=md-primary aria-label="{{_('Save')}}" ng-click="msg_save(cast, msg_form, cast_form)"> {{_('Save')}} </md-button></md-card-actions></md-card></div><div class="anim-enter section-wrapper" ng-if="cast.type == 'image'"><header><h2 class=md-headline><span> {{ ('Picture') }} </span></h2></header><div class=alert-container ng-if=cast._error><md-icon class="md-warn s48" md-svg-icon=alert:ic_warning_24px></md-icon><p class="md-body-2 md-text md-warn"> {{_('Settings is invalid.')}} </p></div><div><md-card class=md-padding ng-click="pic(cast, cast_form, $event)"><img class=img-bg-contain ng-src={{image.trans}} style={{(cast.pic_url||image.default)|bg_img}}></md-card></div></div></section></div></div><script type=text/ng-template id=wx.cast.send.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Send Broadcast')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Send Broadcast')}}
    </h2>

    <div class="md-padding"
         ng-show="!sending">
      <!-- preview -->
      <form name="preview_form"
            ng-submit="preview(cast, preview_form)"
            ng-show="!to_public"
            novalidate>
        <md-input-container class="md-block amend">
          <label>{{_('Preview by')}}</label>
          <input name="preview_by"
                 type="text"
                 ng-model="cast.preview_by"
                 maxlength="120"
                 ng-required="!to_public" />
          <hint for="preview_form.preview_by">
            {{_('* WeChat ID for the one who send to preview.')}}
          </hint>
          <ng-messages ng-if="preview_form.preview_by.$touched"
                       for="preview_form.preview_by.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>
      </form>

      <!-- send -->
      <form name="send_form"
            ng-submit="send(cast, send_form)"
            ng-show="to_public"
            novalidate>
        <md-input-container class="md-block amend"
                            ng-show="cast.sendable">
          <label>{{_('Confirm Code')}}</label>
          <input name="code"
                 type="text"
                 ng-model="confirm_code"
                 ng-pattern="/^SEND$/"
                 ng-disabled="!cast.sendable"
                 required />
          <hint for="send_form.code">
            {{_('* Type `SEND` exactly to confirm.')}}
          </hint>
          <ng-messages ng-if="send_form.code.$touched"
                       for="send_form.code.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
            <ng-message when="pattern">
              {{ _('Not match with confirm code.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>

        <div class="md-padding text-center"
             ng-if="!cast.sendable">
          <md-icon md-svg-icon="image:ic_timer_off_24px"
             class="s96 md-accent"></md-icon>
          <p class="md-body-2 md-text md-warn"
             ng-if="wx_type == 0">
            {{_('One pre day.')}}
          </p>
          <p class="md-body-2 md-text md-warn"
             ng-if="wx_type == 1">
            {{_('4 every month.')}}
          </p>
          <md-divider></md-divider>
        </div>

      </form>

      <md-switch class="md-accent"
                 ng-model="to_public">
        {{_('Send to Public')}}
      </md-switch>
    </div>

    <!-- sending -->
    <div class="md-padding"
         ng-show="sending"
         layout="row"
         layout-align="center center">
      <img ng-src="{{image.trans}}"
           ng-if="attachments.length > 0"
           style="{{attachments[0].src|bg_img}}" />
      <md-progress-circular ng-show="!attachment || attachments.length <= 0"
                            md-mode="indeterminate"
                            md-diameter="60">
      </md-progress-circular>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-disabled="submitted"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="!to_public"
               ng-disabled="submitted || preview_form.$invalid"
               ng-click="preview(cast, preview_form)">
      {{_('Preview')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="to_public"
               ng-disabled="submitted || send_form.$invalid"
               ng-click="send(cast, send_form)">
      {{_('Send to Public')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div><md-subheader class=md-no-sticky> {{_('Content Storage')}} </md-subheader><div class=md-padding><md-progress-linear ng-class="{'md-warn': storage.overload}" md-mode=determinate value={{storage.percent}}></md-progress-linear><div class=text-right><hint class=help ng-click=help_storage()><span>{{storage.used}} / {{storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-subheader class=md-no-sticky> {{_('Media Storage')}} </md-subheader><div class=md-padding><div flex><md-progress-linear ng-class="{'md-warn': media_storage.overload}" md-mode=determinate value={{media_storage.percent}}></md-progress-linear></div><div class=text-right><hint class=help ng-click=help_storage()><span>{{media_storage.used}} / {{media_storage.max}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></div><md-divider class=md-margin></md-divider></div><div><md-subheader class=md-no-sticky> {{ _('Articles') }} </md-subheader><md-list class="md-margin short" ng-if="articles.length > 0"><md-list-item class=text-nowrap-group ng-repeat="file in articles" aria-label="{{_('Edit Article')}}" ng-click=edit_article(file)><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="articles.length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Articles')}}" ng-click=manage_articles()><md-icon md-svg-icon=maps:ic_rate_review_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 3"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short" ng-if="extensions.length > 0"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="extensions.length == 0">{{_('(Empty)')}}</p><div class=text-right><md-button class="md-icon-button md-primary" aria-label="{{_('Manage Extensions')}}" ng-click=manage_ext()><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></div><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div layout=row layout-wrap><div ng-if=follower.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Followers') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ follower.followers | abbrnum:2 }} <md-tooltip md-direction=top> {{follower.errors > 0 ? '!' : ''}} {{follower.followers}} </md-tooltip></p></div></div></div><div ng-if=follower.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Growth') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ follower.growth | abbrnum:2 }} <md-tooltip md-direction=top> {{follower.errors > 0 ? '!' : ''}} {{ follower.growth }} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Title')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Interface URL')}} </md-subheader><div class="info-inner text-nowrap-group"><p class="md-body-1 md-text md-primary select-text text-break" ng-show=config.interface_url><span>{{config.interface_url}}</span></p><p class="hint help md-text md-warn" ng-show=!config.interface_url ng-click=help_wx_interface()><span>{{_('* Set a Home URL to activate interface.')}}</span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></p></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/record.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Records')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change=change_status(sel_status)><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=0> {{_('Unread')}} </md-option><md-option ng-value=1> {{_('Readed')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class="md-icon-button md-warn" ng-click=clean() aria-label="{{_('Delete All Records')}}" ng-disabled="sel.selection || records.length <= 0"><md-icon md-svg-icon=content:ic_delete_sweep_24px></md-icon><md-tooltip>{{_('Delete All Records')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s records total.', records.length)}} </md-subheader><md-list-item class="md-3-line text-nowrap-group" aria-label="{{_('Manage Record')}}" ng-repeat="record in records|paginator:paging.paged" ng-class="{'selected': record._selected}" ng-hold="sel.select(record, records)" ng-click="!sel.selection?read(record):''" delay=!sel.selection><md-icon class=md-avatar-icon md-svg-icon="{{record.status == 0
                                  ? 'comm:ic_mail_24px'
                                  : record.status == 1
                                  ? 'comm:ic_mail_outline_24px'
                                  : 'content:ic_reply_24px'}}"></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ record.member.name || record.form_user }}</h3><h4>{{ record.text }}</h4><p>{{ record.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{record._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': record.status == 1}" md-svg-icon=maps:ic_local_activity_24px></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* Only the most recent %s records', record_limit)}} </hint></div></section></div></div><script type=text/ng-template id=wx.record.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Record Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Record Message')}}
    </h2>
    <!-- message -->
    <div class="md-padding">
      <h4 class="md-title">{{record.member.name || record.from_user}}</h4>
      <p class="md-subhead">
        {{_('Triggered')}}{{_(': ')}}{{triggers_map[record.triggered_by]}}
      </p>
      <p class="md-subhead">
        {{_('Time')}}{{_(': ')}}{{record.creation|dateformat}}
      </p>
      <p>{{record.text}}</p>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/response.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Auto Replies')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection || amount <= 0" ng-click=add(responses)> {{_('New Auto Reply')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s auto replies total. %s remain.', responses.length, amount)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="resp in responses|paginator:paging.paged" ng-class="{'selected': resp._selected}" ng-hold="sel.select(resp, responses)" ng-click="!sel.selection?edit(resp):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'draft': !resp.status}" md-svg-icon={{respico_map[resp.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ resp.title || resp.id }}</h3><p>{{ resp.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{resp._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': resp.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/response_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span> {{ _('Auto Reply Settings') }} </span></h1></header><form name=resp_form ng-submit="save(resp, resp_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=resp.title md-maxlength=60 required><hint for=resp_form.title> {{_('* You can change the title anytime.')}} </hint><ng-messages ng-if=resp_form.title.$touched for=resp_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Type')}}</label><md-select name=type ng-model=resp.type placeholder="{{_('Select reply type')}}" required><md-option ng-value=type.key ng-repeat="type in resp_types"> {{_(type.label)}} </md-option></md-select><ng-messages ng-if=resp_form.type.$touched for=resp_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Trigger')}}</label><md-select name=trigger ng-model=resp.trigger.type placeholder="{{_('Select reply type')}}" required><md-option ng-value=trigger.key ng-repeat="trigger in triggers"> {{_(trigger.label)}} </md-option></md-select><ng-messages ng-if=resp_form.trigger.$touched for=resp_form.trigger.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend" ng-show="resp.trigger.type == 3"><label>{{_('Keywords')}}</label><md-chips name=trigger_keys ng-model=resp.trigger.keys placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{resp.trigger.keys.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-switch ng-model=resp.status ng-true-value=1 ng-false-value=0 class=md-accent> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Delete')}}" ng-show=resp.id ng-click=trash(resp)><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><div class="anim-enter section-wrapper" ng-if="resp.type == 'text'"><header><h2 class=md-headline><span>{{ _('Plain Text') }}</span></h2></header><div class=alert-container ng-if=resp._error><md-icon class="md-warn s48" md-svg-icon=alert:ic_warning_24px></md-icon><p class="md-body-2 md-text md-warn"> {{_('Settings is invalid.')}} </p></div><form name=resp_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 ng-model=resp.text placeholder=... md-maxlength=360 required></textarea><ng-messages ng-if=resp_text_form.text.$touched for=resp_text_form.text.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div><md-button class=md-raised ng-class="{'md-warn': resp._error}" ng-disabled="submitted || resp_text_form.$invalid" ng-click="save(resp, resp_form)"> {{_('Save Text')}} </md-button></div></form></div><div class="anim-enter section-wrapper" ng-if="resp.type == 'news'"><header><h2 class=md-headline><span>{{ _('Graphic Messages') }}</span></h2></header><div layout=row layout-align="space-between center"><md-button class=md-raised ng-class="{'md-warn': resp._error,
                                'md-primary': !resp._error}" ng-disabled="resp.messages.length >= msg_limit" ng-click="add_msg(resp, resp_form)"> {{_('New Message')}} {{resp.messages.length || 0}}/{{msg_limit}} </md-button><md-menu ng-show="property.capability > 3"><md-button class=md-icon-button aria-label="{{_('Sync')}}" ng-click=$mdOpenMenu($event) ng-disabled="resp.messages.length >= msg_limit"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Contents')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="rel_app in relateable"><md-button ng-click="sync_msg(resp, rel_app, resp_form)"> {{rel_app.label}} </md-button></md-menu-item></md-menu-content></md-menu></div><div class=alert-container ng-if=resp._error><md-icon class="md-warn s48" md-svg-icon=alert:ic_warning_24px></md-icon><p class="md-body-2 md-text md-warn"> {{_('Settings is invalid.')}} </p></div><div ng-repeat="msg in resp.messages"><md-card class=anim-enter ng-if="$index == 0"><img class="md-card-image img-bg-cover" ng-click="edit_msg(msg, resp, resp_form, $index)" ng-src={{image.trans_20x10}} style={{(msg.picurl||image.default)|bg_img}}><md-card-title><md-card-title-text><span class="md-title text-break text-clamp-2"> {{msg.title}} </span></md-card-title-text></md-card-title><md-card-content ng-if="resp.messages.length == 1"><p class=text-break>{{msg.content}}</p></md-card-content><md-card-actions layout=row layout-align="end center"><md-button class=md-icon-button aria-label="{{_('Edit')}}" ng-class="{'md-warn': resp._error,
                                    'md-primary': !resp._error}" ng-click="edit_msg(msg, resp, resp_form, $index)"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card><md-card class=anim-enter ng-if="$index > 0"><md-card-title><md-card-title-text><span class="md-title text-break text-clamp-2"> {{msg.title}} </span></md-card-title-text><md-card-title-media><div class=md-media-sm><img ng-class="{'img-bg-cover': msg.picurl,
                                  'img-bg-xl': !msg.picurl}" ng-src={{image.trans}} ng-click="edit_msg(msg, resp, resp_form, $index)" style={{(msg.picurl||image.default)|bg_img}}></div></md-card-title-media></md-card-title><md-card-actions layout=row layout-align="end center"><md-button class=md-icon-button aria-label="{{_('Edit')}}" ng-class="{'md-warn': resp._error,
                                    'md-primary': !resp._error}" ng-click="edit_msg(msg, resp, resp_form, $index)"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div><div class=md-padding><hint> {{_('* At least one message.')}} </hint></div><script type=text/ng-template id=wx.resp.msg.tmpl.html>
        <md-dialog class="max-size-md"
                   aria-label="{{_('Graphic Message')}}"
                   flex>
          <md-dialog-content class="md-dialog-content"
                             flex>
            <h2 class="md-headline text-center">
              {{msg._new?_('Add Graphic Message'):_('Edit Graphic Message')}}
            </h2>
            <!-- msg form -->
            <form class="md-padding"
                  name="msg_form"
                  ng-submit="submit(msg, msg_form)"
                  novalidate>
              <md-input-container class="static md-block">
                <label>{{_('Pic')}}</label>
                <md-card class="max-size-sm"
                         ng-click="pic(msg, $event)">
                  <img class="img-bg-cover"
                       ng-src="{{image.trans_20x10}}"
                       style="{{(msg.picurl||image.default)|bg_img}}">
                </md-card>
              </md-input-container>
        
              <md-input-container class="md-block">
                <label>{{_('Title')}}</label>
                <input name="title"
                       type="text"
                       ng-model="msg.title"
                       md-maxlength="60"
                       required />
                <ng-messages ng-if="msg_form.title.$touched"
                             for="msg_form.title.$error">
                  <ng-message when="required">
                    {{ _('This field is mandatory.') }}
                  </ng-message>
                  <ng-message when="md-maxlength">
                    {{ _('This is too long.') }}
                  </ng-message>
                </ng-messages>
              </md-input-container>
        
              <md-input-container class="md-block">
                <label>{{_('Content')}}</label>
                <textarea name="content"
                          ng-model="msg.content"
                          md-maxlength="240"></textarea>
                <ng-messages ng-if="msg_form.content.$touched"
                             for="msg_form.content.$error">
                  <ng-message when="md-maxlength">
                    {{ _('This is too long.') }}
                  </ng-message>
                </ng-messages>
              </md-input-container>
        
              <md-input-container class="md-block">
                <label>{{_('URL')}}</label>
                <input name="url"
                       type="url"
                       ng-model="msg.url"
                       required/>
                <ng-messages ng-if="msg_form.url.$touched"
                             for="msg_form.url.$error">
                  <ng-message when="required">
                    {{ _('This field is mandatory.') }}
                  </ng-message>
                  <ng-message when="url">
                    {{ _('Must be a URL.') }}
                  </ng-message>
                </ng-messages>
              </md-input-container>
        
              <md-input-container class="md-block">
                <label>{{_('Position')}}</label>
                <input name="pos"
                       type="number"
                       ng-model="msg._index"
                       required />
                <ng-messages ng-if="msg_form.pos.$touched"
                             for="msg_form.pos.$error">
                  <ng-message when="required">
                    {{ _('This field is mandatory.') }}
                  </ng-message>
                  <ng-message when="number">
                    {{ _('Must be a number.') }}
                  </ng-message>
                </ng-messages>
              </md-input-container>
        
              <button hide></button>
            </form>
        
          </md-dialog-content>
          <md-dialog-actions>
            <md-button class="md-icon-button"
                       aria-label="{{_('Delete')}}"
                       ng-show="!msg._new"
                       ng-click="trash(msg)">
              <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
            </md-button>
            <span flex></span>
            <md-button class="md-primary"
                       ng-click="close()">
              {{_('Cancel')}}
            </md-button>
            <md-button class="md-primary"
                       ng-click="submit(msg, msg_form)">
              {{msg._new?_('Create'):_('Save')}}
            </md-button>
          </md-dialog-actions>
        </md-dialog>
        </script></div><div class="anim-enter section-wrapper" ng-if="['newest', 'search', 'random'].indexOf(resp.type) >= 0"><header><h2 class=md-headline><span> {{ resp.type == 'newest' ? _('Newest Articles') : resp.type == 'search' ? _('Search Articles') : _('Random Articles') }} </span></h2></header><div class=alert-container ng-if=resp._error><md-icon class="md-warn s48" md-svg-icon=alert:ic_warning_24px></md-icon><p class="md-body-2 md-text md-warn"> {{_('Settings is invalid.')}} </p></div><form name=resp_relate_form novalidate><md-input-container class="md-block amend"><label>{{_('Relate to App')}}</label><md-select name=relate_app ng-model=resp.related.app_id placeholder="{{_('Select realte app')}}" ng-change="change_relate_app(relateable, resp)" required><md-option ng-value=relate.id ng-repeat="relate in relateable"> {{relate.label}} </md-option></md-select><ng-messages ng-if=resp_relate_form.relate_app.$touched for=resp_relate_form.relate_app.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Content Type')}}</label><md-select name=relate_type ng-model=resp.related.content_type placeholder="{{_('Select content type')}}" ng-disabled=!resp.related.app_id><md-option ng-value="''"> {{_('All')}} </md-option><md-option ng-value=type.slug ng-repeat="type in relate_content_types"> {{type.label}} </md-option></md-select><ng-messages ng-if=resp_relate_form.relate_type.$touched for=resp_relate_form.relate_type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Number of replies')}}</label><md-select name=limit ng-init="resp.related.limit =
                                resp.related.limit?resp.related.limit:1" ng-model=resp.related.limit placeholder="{{_('Select limit')}}" required><md-option ng-value=number ng-repeat="number in relate_limits track by $index"> {{number}} </md-option></md-select><ng-messages ng-if=resp_relate_form.limit.$touched for=resp_relate_form.limit.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div><md-button class=md-raised ng-class="{'md-warn': resp._error}" ng-disabled="submitted || resp_relate_form.$invalid" ng-click="save(resp, resp_form)"> {{_('Save Strategy')}} </md-button></div></form></div></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/wx_config.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Configuration') }}</span></h1></header><form name=config_form ng-submit="save_config(config, config_form)" novalidate><md-input-container class="md-block amend"><label>{{_('WeChat Type')}}</label><md-select name=type ng-model=config.type placeholder="{{_('Select WeChat type')}}"><md-option ng-value=type.key ng-repeat="type in wx_types"> {{_(type.label)}} </md-option></md-select><ng-messages ng-if=config_form.type.$touched for=config_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Token')}}</label><input name=token type=text ng-model=config.token ng-pattern=regex_pattern.slug maxlength=60><hint class=help ng-click=help_wx_token_url() for=config_form.title> {{_('* The token of wechat interface.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages ng-if=config_form.token.$touched for=config_form.token.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Interface URL')}}</label><input name=interface_url type=text placeholder="{{_('No Interfce URL')}}" ng-model=config.interface_url disabled><md-icon md-svg-icon=content:ic_content_copy_24px ng-disabled=!config.interface_url ng-click=copy_url(config.interface_url)></md-icon><hint class=help ng-click=help_wx_token_url()> {{config.interface_url ? _('* Copy the interface URL to WeChat official management.') : _('* Require both Home URL and Token.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></md-input-container><div ng-show=adv_show><div class=space-lg></div><h3 class=md-subhead> {{ _('Advanced Options') }} </h3><div class=space-sm></div><md-input-container class=md-block><label>{{_('WeChat AppID')}}</label><input name=wx_appid type=text ng-model=config.wx_appid ng-pattern=regex_pattern.ascii><ng-messages ng-if=config_form.wx_appid.$touched for=config_form.wx_appid.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('WeChat AppSecret')}}</label><input name=wx_secret type=text ng-model=config.wx_secret ng-pattern=regex_pattern.ascii><ng-messages ng-if=config_form.wx_secret.$touched for=config_form.wx_secret.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Encoding AES Key')}}</label><input name=aes_key type=text ng-model=config.encoding_aes_key ng-pattern=regex_pattern.ascii><hint class=help ng-click=help_encrypt_aes() for=config_form.aes_key> {{_('* Use it when message is encrypted.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages ng-if=config_form.aes_key.$touched for=config_form.aes_key.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-switch ng-model=config.adv_mode ng-disabled="!config.wx_appid || !config.wx_secret" class=md-accent> {{ _('Certified Official Account') }} </md-switch><md-switch ng-model=config.wifi_mode ng-disabled=!config.adv_mode class=md-accent> {{ _('Provide Wi-Fi Connection') }} </md-switch><hint> {{_('* You have input WeChat AppId and AppSecret '+ 'to turn on Certified Official Account. '+ 'Only certified account can provide wifi connection.')}} </hint></div><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-menu><md-icon md-svg-icon=nav:ic_more_vert_24px ng-click=$mdOpenMenu($event)></md-icon><md-menu-content width=3><md-menu-item><md-button aria-label="{{_('Advanced Mode')}}" ng-click=toggle_adv()> {{adv_show ? _('Hide Advanced Options') : _('Show Advanced Options')}} </md-button></md-menu-item></md-menu-content></md-menu></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span> {{ _('Modules') }} </span></h1></header><div><p class=md-body-1> {{_('A Certified WeChat official account support '+ 'Custom Menu and Wi-Fi Connection.'+ 'To use Wi-Fi Connection, Your capabiliy must reched `Senior` '+ 'and Wi-Fi Module is activiated form official management.')}} </p></div><div><div class=space-md></div><h3 class=md-subhead> {{ _('Custom Menu') }} </h3><div layout=row layout-align="space-between center" ng-show=custom_menu.allowed><md-button class="md-raised md-primary" ng-disabled="custom_menu.buttons.length >= menu_limit
                                  || custom_menu.allowed == false" ng-click="add_button(custom_menu.buttons, custom_menu)"> {{_('New Button')}} {{custom_menu.buttons.length || 0}}/{{menu_limit}} </md-button><md-button class=md-icon-button ng-click=hardcore(menu) ng-show="property.expert && custom_menu.allowed" aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-repeat="button in custom_menu.buttons"><md-card-content><div layout=row layout-align="space-between center" flex><div class="md-title text-nowrap" flex> {{ button.name }} </div><md-button class="md-icon-button md-primary" aria-label="{{_('Edit Button')}}" ng-click="edit_button(button, custom_menu.buttons,
                                               $index, custom_menu)"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list class=md-margin><md-list-item ng-repeat="child in button.sub_button" ng-click="edit_button(child, button.sub_button,
                                                  $index, custom_menu)"><p class=text-nowrap> {{child.name}} </p></md-list-item><md-list-item class="md-text md-primary" ng-show="button.sub_button.length < submenu_limit" ng-click="add_button(button.sub_button, custom_menu)"><p class=md-body-1> {{_('New Sub Button')}} {{button.sub_button.length || 0}}/{{submenu_limit}} </p></md-list-item></md-list></md-card-content></md-card><div class=indent-padding ng-show="custom_menu.allowed == false"><p class="md-body-2 md-text md-warn"> {{_('Require cerified official account.')}} </p></div></div><div ng-show="property.capability > 3"><div class=space-lg></div><h3 class=md-subhead> {{ _('Wi-Fi Connection') }} </h3><div ng-show=wifi.allowed><md-button class=md-raised ng-show=!wifi.shop_id ng-click=setup_wifi()> {{_('Setup Wi-Fi Hub')}} </md-button><md-card ng-show=wifi.shop_id><md-card-content><div layout=row layout-align="space-between center" flex><div class="md-title text-nowrap" flex> {{wifi.name || wifi.shop_id}} </div><md-button class="md-icon-button md-primary" aria-label="{{_('New Wi-Fi Device')}}" ng-show="wifi_devices.length < wifi_device_limit" ng-click=add_device(wifi_devices)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></md-button><md-button class="md-icon-button md-primary" ng-click=config_wifi(wifi) aria-label="{{_('Wi-Fi Settings')}}"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></div><div class=md-margin ng-if="wifi_devices.length > 0"><md-button class=md-icon-button ng-class="{'md-warn': !device.pwd}" aria-label="{{_('Wi-Fi Device')}}" ng-repeat="device in wifi_devices" ng-click="edit_device(device, wifi_devices)"><md-icon md-svg-icon="{{device.pwd
                           ? 'device:ic_wifi_lock_24px'
                           : 'device:ic_signal_wifi_off_24px' }}"></md-icon><md-tooltip md-direction=top> {{device.ssid}} </md-tooltip></md-button></div></md-card-content></md-card></div><div class=indent-padding ng-show="wifi.allowed == false"><p class="md-body-2 md-text md-warn"> {{_('Require Wi-Fi connection.')}} </p></div></div></section></div></div><script type=text/ng-template id=wx.custom_menu.button.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Custom Button Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{button._new?_('Add Button'):_('Edit Button')}}
    </h2>
    <!-- button form -->
    <form class="md-padding"
          name="button_form"
          ng-submit="submit(button, button_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="button.name"
               str-byte-verify="16"
               required/>
        <ng-messages ng-if="button_form.name.$touched"
                     for="button_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   placeholder="{{_('Type')}}"
                   ng-model="button.type"
                   ng-change="change_button_type(button_form)"
                   required>
          <md-option ng-repeat="type in button_types"
                     ng-value="type.key">
            {{type.label}}
          </md-option>
        </md-select>
        <ng-messages ng-if="button_form.type.$touched"
                     for="button_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="button.type == 'click'">
        <label>{{_('Key')}}</label>
        <input name="key"
               type="text"
               ng-model="button.key"
               ng-required="button.type == 'click'" />
        <hint for="button_form.key">
          {{_('* Send a keyword to official account.')}}
        </hint>
        <ng-messages ng-if="button_form.key.$touched"
                     for="button_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide"
                          ng-if="button.type == 'view'">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="button.url"
               ng-required="button.type == 'view'" />
        <ng-messages ng-if="button_form.url.$touched"
                     for="button_form.url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               ng-model="button._index"
               required />
        <ng-messages ng-if="button_form.pos.$touched"
                     for="button_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!button._new"
               ng-click="trash(button)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(button, button_form)">
      {{button._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.hubs.tmpl.html>
<md-dialog class="max-size-sm"
           aria-label="{{_('List Wi-Fi Hubs')}}">
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('List Wi-Fi Hubs')}}
    </h2>
    <div class="md-padding"
         ng-if="!wifi_hubs_loaded"
         layout-align="center center"
         layout="row">
      <md-progress-circular md-mode="indeterminate"
                            md-diameter="40">
      </md-progress-circular>
    </div>
    <md-list class="anim-enter"
             ng-if="wifi_hubs_loaded">
      <md-list-item class="text-nowrap-group"
                    ng-repeat="hub in wifi_hubs"
                    ng-click="select(hub)">
        <p class="text-center">
          {{hub.name}}
        </p>
      </md-list-item>
      <md-list-item class="text-nowrap-group"
                    ng-show="wifi_hubs.length <= 0">
        <p class="text-center">
          {{_('Nothing Found.')}}
        </p>
      </md-list-item>
    </md-list>
  </md-dialog-content>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Wi-Fi Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Wi-Fi Settings')}}
    </h2>
    <h3 class="md-body-1 text-center text-nowrap"
        wifi-shop-id="{{wifi.shop_id">
      {{wifi.name}}
    </h3>

    <!-- wifi form -->
    <form class="md-padding"
          name="wifi_form"
          ng-submit="save(wifi, wifi_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi Homepage URL')}}</label>
        <input name="home_url"
               type="url"
               ng-model="wifi.homepage_url"
               md-maxlength="240"/>
        <ng-messages ng-if="wifi_form.home_url.$touched"
                     for="wifi_form.home_url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi Landing page URL')}}</label>
        <input name="landing_url"
               type="url"
               ng-model="wifi.finishpage_url"
               md-maxlength="240"/>
        <ng-messages ng-if="wifi_form.landing_url.$touched"
                     for="wifi_form.landing_url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Welcome Message')}}</label>
        <md-select name="bartype"
                   placeholder="{{_('Welcome Message')}}"
                   ng-model="wifi.bar_type"
                   required>
          <md-option ng-repeat="type in bar_types"
                     ng-value="type.key">
            {{type.label}}
          </md-option>
        </md-select>
        <ng-messages ng-if="wifi_form.bartype.$touched"
                     for="wifi_form.bartype.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Remove')}}"
               ng-click="remove(wifi)">
      <md-icon md-svg-icon="content:ic_remove_circle_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(wifi, wifi_form)">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.device.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Wi-Fi Device')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{device._new?_('New Wi-Fi Device'):_('Edit Wi-Fi Device')}}
    </h2>

    <!-- device form -->
    <form class="md-padding"
          name="device_form"
          ng-submit="submit(device, device_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi SSID')}}</label>
        <input name="ssid"
               type="text"
               ng-model="device.ssid"
               ng-pattern="regex_pattern.ascii"
               md-maxlength="24"/>
        <ng-messages ng-if="device_form.ssid.$touched"
                     for="device_form.ssid.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Wi-Fi Password')}}</label>
        <input name="pwd"
               type="text"
               ng-model="device.pwd"
               ng-pattern="/^WX[\~!@#$%^&*-_=+|,.?\/:;\'\d\w]{6,22}$/"/>
        <hint for="device_form.pwd">
          {{_('* Password must starts with `WX`.')}}
        </hint>
        <ng-messages ng-if="device_form.pwd.$touched"
                     for="device_form.pwd.$error">
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="md-block field-container"
           ng-show="!device._new">
        <label>{{_('Wi-Fi QR Code')}}</label>
        <div class="md-margin s96">
          <a ng-href="{{device.qr_brand_url}}"
             target="_blank">
            <img class="img-bg-cover"
                 ng-src="{{image.trans}}"
                 style="{{device.qr_url|bg_img}}">
          </a>
        </div>
        <hint>
          {{_('* Connect the device once by QR Code to activated it.')}}
        </hint>
      </div>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!device._new"
               ng-click="trash(device)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(device, device_form)">
      {{device._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=modals/attrs/attrs.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Attributes')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Attributes')}} </h2><form class=md-padding name=attrs_form ng-submit="save(data, attrs_form)" novalidate><div ng-repeat="struct in options.structure"><md-input-container class=md-block ng-if="!struct.select && !struct.switch"><label>{{struct.label || struct.key}}</label><input name={{struct.key}} type=text ng-model=data[struct.key] ng-pattern=struct.regex md-maxlength=struct.length ng-required=struct.required><ng-messages ng-if=attrs_form[struct.key].$touched for=attrs_form[struct.key].$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with pattern.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-if=struct.select><label>{{struct.label || struct.key}}</label><md-select name={{struct.key}} ng-model=data[struct.key] ng-required=struct.required><md-option ng-value=op ng-repeat="op in struct.select track by $index"> {{op}} </md-option></md-select><ng-messages ng-if=attrs_form[struct.key].$touched for=attrs_form[struct.key].$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class=switch-container ng-if=struct.switch><md-switch class=md-accent ng-model=data[struct.key]> {{struct.label || struct.key}} </md-switch></div></div><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Restore')}}" ng-click=restore()><md-icon md-svg-icon=action:ic_restore_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-disabled=attrs_form.$invalid ng-click="save(data, attrs_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/bg/bg.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Background')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Background')}} </h2><form class=md-padding name=modal_bg_form ng-submit="save(media_bg, modal_bg_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(media_bg, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(media_bg.src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class="md-block amend"><label>{{_('Preset Style')}}</label><md-select name=preset ng-model=media_bg.preset ng-disabled=submitted required><md-option ng-value="''"> {{_('Default')}} </md-option><md-option ng-value=preset.key ng-repeat="preset in presets"> {{_(preset.label)}} </md-option></md-select><ng-messages ng-if=modal_bg_form.preset.$touched for=modal_bg_form.preset.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Background Color')}}</label><input class=color-picker-input name=color type=color ng-model=media_bg.color maxlength=120 hide><div layout=row><div class="md-padding md-margin color-picker" ng-class="{'empty': !media_bg.color}" ng-style="{'background-color': media_bg.color}" ng-click="set_color('.color-picker-input', $event)" flex></div><md-icon ng-class="{'md-accent': media_bg.color}" md-svg-icon=editor:ic_format_color_reset_24px ng-disabled=!media_bg.color ng-click=remove_color(media_bg)></md-icon></div></div><md-input-container class=md-block ng-show=property.expert><label>{{_('Custom CSS Class')}}</label><input name=class type=text ng-model=media_bg.custom.class maxlength=120></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('Custom Inline Styles')}}</label><input name=style type=text ng-model=media_bg.custom.style maxlength=600></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(media_bg, modal_bg_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/carousel/carousel.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Carousel')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{clip_mode?_('Edit Carousel Clip'):_('Carousel')}} </h2><div ng-show=!clip_mode><md-list class=md-padding><md-subheader class=md-no-sticky> {{_('%s/%s clips.', carousel.length, options.limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="clip in carousel" ng-click="edit_clip(clip, carousel, $index)"><img class="md-avatar img-bg-cover" ng-if="clip.type == 'image'" ng-src={{image.trans}} style={{clip.src|thumbnail|bg_img}}><md-icon class=md-avatar-icon ng-if="clip.type != 'image'" md-svg-icon={{media_icons[clip.type]}}></md-icon><div class=md-list-item-text><p>{{ clip.title || '#'+$index }}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item ng-show="carousel.length < options.limit" aria-label="{{_('Add Clip')}}" ng-click=add_clip(carousel)><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div ng-show=clip_mode><form class=indent-padding name=modal_carousel_form.clip ng-submit="save_clip(curr_clip, carousel, modal_carousel_form.clip)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(curr_clip, $event)" ng-show=!curr_clip.error><img class=img-bg-cover ng-if="curr_clip.type == 'image' || !curr_clip.type" ng-src={{image.trans_16x10}} style={{(curr_clip.src||image.default)|bg_img}}><video ng-src={{curr_clip.src}} ng-if="curr_clip.type == 'video'" controls=true></video><audio ng-src={{curr_clip.src}} ng-if="curr_clip.type == 'audio'" controls=true></audio><div class="md-padding text-center" ng-if="curr_clip.type == 'application'"><md-icon class=s48 md-svg-icon={{media_icons[curr_clip.type]}}></md-icon><md-tooltip md-direction=top> {{_(curr_clip.src)}} </md-tooltip></div></md-card><md-card ng-click="switch_media(curr_clip, $event)" ng-show=curr_clip.error><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{image.error|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=curr_clip.title md-maxlength=60 required><ng-messages ng-if=modal_carousel_form.clip.title.$touched for=modal_carousel_form.clip.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Caption')}}</label><textarea name=caption type=text ng-model=curr_clip.caption md-maxlength=360></textarea><ng-messages ng-if=modal_carousel_form.clip.caption.$touched for=modal_carousel_form.clip.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=curr_clip.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=240><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_carousel_form.clip.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages ng-if=modal_carousel_form.clip.link.$touched for=modal_carousel_form.clip.link.$error><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend" ng-show="property.capability > 3"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=curr_clip.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(item)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('Misc')}}</label><textarea name=misc ng-model=curr_clip.misc maxlength=600></textarea></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=curr_clip.class maxlength=120></md-input-container><md-input-container class=md-block><label>{{_('Position')}}</label><input name=pos type=number ng-model=curr_clip._index required><ng-messages ng-if=modal_carousel_form.clip.pos.$touched for=modal_carousel_form.clip.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=number> {{ _('Must be a number.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></div></md-dialog-content><md-dialog-actions class=anim-enter ng-if=clip_mode><md-button class=md-icon-button aria-label="{{_('Delete')}}" ng-show=!curr_clip._new ng-click="remove_clip(carousel, curr_clip._index)"><md-icon md-svg-icon=content:ic_backspace_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=back_to_list()> {{_('Back to list')}} </md-button><md-button class=md-primary ng-click="save_clip(curr_clip, carousel,
                                   modal_carousel_form.clip)"> {{_('Save Clip')}} </md-button></md-dialog-actions><md-dialog-actions class=anim-enter ng-if=!clip_mode><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(carousel)> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/create.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Create New Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_(options.title || 'Create New Content')}} </h2><form class=md-padding name=file_form ng-submit="submit(file, file_form)" novalidate><md-input-container class="md-block static"><label>{{_('Template')}}</label><md-menu><md-card class=max-size-xs ng-click=$mdOpenMenu($event)><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{curr_tmpl.src|bg_img}}><md-tooltip>{{curr_tmpl.key}}</md-tooltip></md-card><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'week': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-cover md-box" ng-click="switch_template(tmpl, file)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p class=md-text> {{tmpl.key}} </p></md-menu-item></md-menu-content></md-menu></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages ng-if=file_form.title.$touched for=file_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text maxlength=120 ng-model=file.slug><hint>{{_('* URL Slug is use for friendly URLs.')}}</hint></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages ng-if=file_form.des.$touched for=file_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close() ng-disabled=submitted> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="submit(file, file_form)" ng-disabled=submitted> {{_('Create')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/sync.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Sync')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center text-nowrap"><span ng-if=!options.title> {{_('Sync')}}{{_(': ')}}{{app.meta.title || app.slug}} </span><span ng-if=options.title> {{_(options.title)}} </span></h2><div layout=row layout-align="space-between center" ng-show=options.show_filter><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select content type')}}" ng-model=sel_type ng-change=change_type(sel_type)><md-optgroup label="{{_('Content Types')}}"><md-option ng-value=type.slug ng-repeat="type in content_types"> {{_(type.title || type.slug)}} </md-option></md-optgroup></md-select></div></div><md-list><md-subheader class=md-no-sticky> {{_('%s files in list.', files.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="file in files|paginator:paging.paged" ng-click=sync(file)><p>{{ file.meta.title || file.slug }}</p></md-list-item><md-list-item class=anim-show-hide aria-label="{{_('More')}}" ng-show=paging.has_more ng-click=paging.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></md-dialog-content><md-dialog-actions class=centered layout=row layout-align="center center"><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/destroy/destroy.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Destruction')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_(options.title || 'Destruction')}} </h2><p class=md-padding><span class=md-body-2>{{_('Check Code: ')}}</span><span class="md-body  md-text md-warn text-break select-text"> {{options.key}} </span></p><form class=md-padding name=destroy_form ng-submit="destroy(key, destroy_form)" novalidate><md-input-container class=md-block><label>{{'Confirm code' }}</label><input name=key type=text ng-model=key ng-pattern=match_regex><hint for=destroy_form.key> {{_('* Type the check code exactly to confirm.')}} </hint><ng-messages ng-if=destroy_form.key.$touched for=destroy_form.key.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with confirm code.') }} </ng-message></ng-messages></md-input-container></form></md-dialog-content><md-dialog-actions class=centered><md-button ng-click=close()> {{_('Abort')}} </md-button><md-button class=md-warn ng-disabled="destroy_form.$invalid || !key" ng-click="destroy(key, destroy_form)"> {{_('Destory it!')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/formsheet/formsheet.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Form Settings')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Form Settings')}} </h2><form class=md-padding name=modal_formsheet_form ng-submit="save(form_data, modal_formsheet_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Type')}}</label><md-select name=type ng-model=form_data.type required><md-option value=event ng-disabled="events.length <= 0"> {{_('Event')}} </md-option><md-option value=mailto> {{_('E-Mail')}} </md-option><md-option value=custom ng-if="property.capability > 3"> {{_('Custom')}} </md-option></md-select><ng-messages ng-if=modal_formsheet_form.type.$touched for=modal_formsheet_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-if="form_data.type == 'event'"><label>{{_('Target Event')}}</label><md-select name=event ng-model=form_data.event ng-required="form_data.type == 'event'"><md-option ng-value=event.slug ng-repeat="event in events"> {{event.meta.title || event.slug}} </md-option></md-select><ng-messages ng-if=modal_formsheet_form.event.$touched for=modal_formsheet_form.event.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if="form_data.type == 'mailto'"><label>{{_('E-Mail Address')}}</label><input name=mailto type=email ng-model=form_data.mailto md-maxlength=120 ng-required="form_data.type == 'mailto'"><ng-messages ng-if=modal_formsheet_form.mailto.$touched for=modal_formsheet_form.mailto.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show="form_data.type == 'custom'"><label>{{_('Form Code')}}</label><textarea name=source ng-model=form_data.code rows=12 md-maxlength=1200></textarea><ng-messages ng-if=modal_formsheet_form.source.$touched for=modal_formsheet_form.source.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form><div class=anim-enter ng-if="form_data.type && form_data.type != 'custom'"><div class="md-padding anim-enter-leave" ng-repeat="field in form_data.fields" ng-class="{'md-whiteframe-1dp': field._selected}" ng-click="edit_field(field, form_data)" layout=row layout-align="center top"><div flex=10><md-icon md-svg-icon={{field_icons[field.type]}} ng-class="{'md-accent': field._selected}"></md-icon></div><div ng-if="field.mode != 'static'" flex><md-input-container class="md-accent md-block" ng-show="field.type != 'hidden'"><label>{{_('Label')}}</label><input name=label type=text ng-model=field.label md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-show="field.type == 'hidden'"><label>{{_('Value')}}</label><input name=label type=text ng-model=field.value md-maxlength=240></md-input-container><div ng-show=field._selected><div ng-if="field.type == 'radio'

                     || field.type == 'checkbox'

                     || field.type == 'select'"><md-input-container class="tight md-accent md-block" ng-repeat="opt in field.options" md-no-float><md-icon md-svg-icon="{{field.type == 'radio'

                         ? 'toggle:ic_radio_button_unchecked_24px'

                         : field.type == 'checkbox'

                         ? 'toggle:ic_check_box_outline_blank_24px'

                         : 'action:ic_label_outline_24px'}}"></md-icon><input name=label type=text ng-model=opt.value placeholder="{{_('Option')}}" maxlength=60><md-icon ng-click="remove_field_option(field.options, $index)" md-svg-icon=content:ic_clear_24px></md-icon></md-input-container><md-button class="md-accent anim-show-hide" ng-show="field.options.length < options.opt_limit" ng-click=add_field_option(field.options)> {{_('Add Option')}} </md-button></div><div ng-if="field.type != 'hidden'"><md-switch ng-model=field.required ng-disabled=field.force_required class=md-accent> {{_('Required')}} </md-switch></div><div class=space-md></div><md-input-container class="md-accent md-block"><label>{{_('Keyname')}}</label><input name=key type=text ng-model=field.key ng-disabled="field.mode == 'event'" maxlength=60></md-input-container><md-input-container class="md-accent md-block" ng-show=field._hint><label>{{_('Hint')}}</label><input name=hint type=text ng-model=field.hint maxlength=240></md-input-container><md-input-container class="md-accent md-block" ng-show=field._placeholder><label>{{_('Placeholder')}}</label><input name=placeholder type=text ng-model=field.placeholder maxlength=120></md-input-container></div></div><div ng-if="field.mode == 'static'" flex><div ng-if="field.type == 'title'"><md-input-container class="md-accent md-block"><label>{{_('Title')}}</label><input name=title type=text ng-model=field.title md-maxlength=120></md-input-container></div><div ng-if="field.type == 'paragraph'"><md-input-container class="md-accent md-block"><label>{{_('Title')}}</label><input name=title type=text ng-model=field.title md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-if=field._selected><label>{{_('Content')}}</label><textarea name=content ng-model=field.content md-maxlength=600></textarea></md-input-container></div><div ng-if="field.type == 'media'"><img ng-class="{'img-bg-cover': !field.src,

                            'img-bg-contain': field.src }" ng-src={{image.trans_20x10}} ng-click="switch_filed_media(field, $event)" style={{(field.src||image.default)|thumbnail|bg_img}}></div><div ng-if="field.type == 'divider'" ng-class="{'text-right': !field._selected,

                          'text-center': field._selected}"><span class="md-caption draft">&lt; {{_('Divider')}} &gt;</span></div></div><md-menu class="text-right anim-show-hide" ng-show=field._selected flex=10><md-icon md-svg-icon=nav:ic_more_vert_24px ng-class="{'md-accent': field._selected}" ng-click=$mdOpenMenu($event)></md-icon><md-menu-content width=3><md-menu-item class=subject> {{_('Shuffle Order')}} </md-menu-item><md-menu-item><md-button class="md-icon-button md-accent" aria-label="{{_('Move Up')}}" ng-click="move_up(form_data.fields, $index)" ng-disabled=$first><md-icon md-svg-icon=nav:ic_arrow_drop_up_24px></md-icon></md-button><md-button class="md-icon-button md-accent" aria-label="{{_('Move Down')}}" ng-click="move_down(form_data.fields, $index)" ng-disabled=$last><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=subject ng-if="field.mode != 'static'"> {{_('Toggle Display')}} </md-menu-item><md-menu-item ng-if="show_opt('placeholder', field)"><md-button ng-class="{'draft': field._placeholder}" ng-click="toggle_field(field, '_placeholder')"> {{_('Placeholder')}} </md-button></md-menu-item><md-menu-item ng-if="show_opt('hint', field)"><md-button ng-class="{'draft': field._hint}" ng-click="toggle_field(field, '_hint')"> {{_('Hint')}} </md-button></md-menu-item><md-menu-divider ng-if="field.mode != 'static'"></md-menu-divider><md-menu-item><md-button class="md-primary md-accent" ng-click="remove_field(form_data, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></div><div class=space-md></div><div class=text-center ng-show="form_data.fields.length < options.limit"><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Event Field')}}" ng-click=$mdOpenMenu($event)><md-icon md-svg-icon=notify:ic_event_note_24px></md-icon><md-tooltip md-direction=top> {{_('Event fields')}} </md-tooltip></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'event'"><md-button ng-click="add_event_field(struct, form_data)" ng-disabled="form_data.event_keys.indexOf(struct.key) >= 0"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.title)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Form Field')}}" ng-click=$mdOpenMenu($event)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><md-tooltip md-direction=top> {{_('Form fields')}} </md-tooltip></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'common'"><md-button ng-click="add_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.title)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Static Content')}}" ng-click=$mdOpenMenu($event)><md-icon md-svg-icon=action:ic_description_24px></md-icon><md-tooltip md-direction=top> {{_('Static Content')}} </md-tooltip></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'static'"><md-button ng-click="add_static_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.title)}}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div></md-dialog-content><md-dialog-actions class=anim-enter><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(form_data, modal_formsheet_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/hardcore/hardcore.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Hardcore Mode')}}" flex><md-toolbar><div class=md-toolbar-tools><span class="max-size-sm text-nowrap"> {{_(options.title || 'Hardcore Mode')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout-margin><form name=hardcore_form ng-submit="save(hardcore, hardcore_form)" novalidate flex><md-input-container class="md-block amend"><label>{{_(options.label) || _('Code')}}</label><textarea name=hardcore ng-model=hardcore parse-json-verify={{options.verify}} maxlength="{{options.maxlength || 12000}}" rows=6></textarea><hint for=hardcore_form.hardcore> {{_(options.hint) || _('* Define a JSON object string.')}} </hint><ng-messages ng-if=hardcore_form.hardcore.$dirty for=hardcore_form.hardcore.$error><ng-message when=JSONStringVerify> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></div></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class=md-primary ng-disabled=enter_form.$invalid ng-click="save(hardcore, hardcore_form)"> {{_(options.ok) || _('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/lines/lines.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Lines')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Lines')}} </h2><md-list><md-subheader class=md-no-sticky> {{_('%s/%s lines.', lines.length, options.limit)}} </md-subheader><md-list-item class="anim-show text-nowrap-group" ng-repeat="item in lines"><div class=md-list-item-text><p>{{ item.text || '#'+$index }}</p></div><md-menu class=md-secondary><md-icon class=md-primary md-svg-icon=action:ic_swap_vert_24px ng-click=$mdOpenMenu($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click="move_up(lines, $index)"> {{_('Move Up')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="move_down(lines, $index)"> {{_('Move Down')}} </md-button></md-menu-item><md-menu-item><md-button class=md-primary ng-click="remove_line(lines, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><form class=md-padding name=modal_lines_form ng-submit="add_line(new_item, lines, modal_lines_form)" ng-show="lines.length < options.limit" novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><input name=text type=text ng-model=new_item.text md-maxlength=240><md-icon md-svg-icon=content:ic_add_circle_outline_24px ng-click="add_line(new_item, lines, modal_lines_form)" ng-disabled=!new_item.text></md-icon><ng-messages ng-if=modal_lines_form.text.$touched for=modal_lines_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button ng-disabled=!new_item.text hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(lines)> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/link/link.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Link')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Link')}} </h2><form class=md-padding name=modal_link_form ng-submit="save(link, modal_link_form)" novalidate><md-input-container class=md-block><label>{{_('Name')}}</label><input name=name type=text ng-model=link.name md-maxlength=60 required><ng-messages ng-if=modal_link_form.name.$touched for=modal_link_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=link.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=240 required><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_link_form.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages ng-if=modal_link_form.link.$touched for=modal_link_form.link.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend" ng-show="property.capability > 3"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=link.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(link)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card class=max-size-xs ng-click="switch_figure(link, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(link.figure||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=link.class maxlength=120></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(link, modal_link_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/media/media.tmpl.html><md-dialog class=dialog-overflow ng-class="{'md-content-overflow': mediafiles.length > 2}" aria-label="{{_('Media Repository')}}"><md-toolbar><div class=md-toolbar-tools><span> {{_('Media Repository')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Attributes')}}" ng-disabled=!selected_media.src ng-click=toggle_attrs()><md-icon md-svg-icon=action:ic_chrome_reader_mode_24px></md-icon></md-button><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout=row layout-xs=none flex-offset-gt-md=5 layout-wrap><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=!options.is_new><md-card class=md-whiteframe-7dp ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type == 'image'"><div class=media-wrapper><img class=img-bg-cover ng-src={{image.trans}} style={{source_media.src|thumbnail|now|bg_img}}></div></md-card><md-card class=md-whiteframe-7dp ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type != 'image'"><div class=float-case><div class=float-case-bg><img class=img-bg-cover ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[source_media.type]}}></md-icon><md-tooltip md-direction=top> {{source_media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><input class="ng-hide media-modal-upload" type=file ngf-select=onFileSelect($files) ngf-multiple=true ngf-accept={{options.mimetypes}}><md-card ng-click="select_file('.media-modal-upload', $event)" ng-disabled="upload_status == 1"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-icon class="s48 md-warn" ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=60></md-progress-circular></div></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=media.id ng-repeat="media in mediafiles|paginator:p.paged:p.perpage"><md-card class=md-box ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{media.src|thumbnail|now:media.updated|bg_img}}></div></md-card><md-card class=md-box ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type != 'image'"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" ng-show=p.has_more flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><md-card aria-label="{{_('More')}}" ng-click=p.more()><div class=float-case><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div></md-dialog-content><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=media_property layout=column><md-toolbar><div class=md-toolbar-tools layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Backward')}}" ng-click=toggle_attrs()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><span flex></span><md-button ng-show=!options.is_new ng-click=remove()> {{_('Remove')}} </md-button><md-button ng-click="save(selected_media, modal_media_form)"> {{_('Save')}} </md-button></div></md-toolbar><md-content flex><form class=md-padding name=modal_media_form novalidate><div class="centered-block max-size-sm"><div ng-if="selected_media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{selected_media.src|thumbnail|now|bg_img}}></div></div><div ng-if="selected_media.type == 'video'"><div class="md-padding media-wrapper"><video ng-src={{selected_media.src}} controls=true></video></div></div><div ng-if="selected_media.type == 'audio'"><div class="md-padding media-wrapper"><audio ng-src={{selected_media.src}} controls=true></audio></div></div><div ng-if="selected_media.type == 'application'"><div class="md-padding media-wrapper"><md-icon class=s48 md-svg-icon={{media_icons[selected_media.type]}}></md-icon></div></div></div><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=selected_media.title md-maxlength=60><ng-messages ng-if=modal_media_form.title.$touched for=modal_media_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 3"><label>{{_('Link')}}</label><input name=link type=text ng-model=selected_media.link maxlength=240><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!selected_media.src ng-click=link_media(selected_media)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 3"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=selected_media.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(selected_media)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=link.class maxlength=120></md-input-container><md-input-container class="md-block static" ng-show="selected_media.type == 'video'"><label>{{_('Media')}}</label><md-card class=max-size-xs ng-click="switch_poster(selected_media, $event)"><img ng-src={{image.trans_16x10}} ng-class="{'img-bg-lg': !selected_media.poster,
                            'img-bg-cover': selected_media.poster}" style={{(selected_media.poster||image.default)|bg_img}}></md-card></md-input-container><div ng-show="selected_media.type == 'video' ||
                      selected_media.type == 'audio'"><md-switch ng-model=selected_media.autoplay class=md-accent> {{_('Autoplay')}} </md-switch><md-switch ng-model=selected_media.loop class=md-accent> {{_('Loop')}} </md-switch><md-switch ng-model=selected_media.controls class=md-accent> {{_('Display Controls')}} </md-switch></div></form></md-content></md-sidenav></md-dialog></script><script type=text/ng-template id=modals/preset/preset.tmpl.html><md-dialog class=max-size-lg aria-label="{{_('Content Presets')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Content Presets')}} </h2><div layout=row layout-wrap><div class=wrap-card flex-gt-sm=25 flex-sm=33 flex=100 layout=column><md-card ng-click=select(default_preset)><div class=float-case><img class="img-bg-contain float-case-bg" ng-src={{image.trans}}><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s60 draft" md-svg-icon=image:ic_crop_free_24px></md-icon></div></div><md-card-title><md-card-title-text class="text-center text-nowrap-group"><span class=md-body-2> {{_(default_preset.name)}} </span></md-card-title-text></md-card-title></md-card></div><div class=wrap-card flex-gt-sm=25 flex-sm=33 flex=100 ng-repeat="preset in presets"><md-card ng-click=select(preset)><img class="md-card-image img-bg-cover" ng-src={{image.trans}} style={{preset.preview|bg_img}}><md-card-title><md-card-title-text class="text-center text-nowrap-group"><span class=md-body-2> {{_t(preset.name)}} </span></md-card-title-text></md-card-title></md-card></div></div></md-dialog-content><md-dialog-actions class=centered layout=row layout-align="center center"><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/print/print.tmpl.html><md-dialog aria-label="{{_('Print')}}"><md-toolbar class="bg-trans md-hue-3"><div class=md-toolbar-tools><span> {{_('Print')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content layout=row flex><div layout=column flex><textarea class=max-textarea flex>{{article}}</textarea><div><p class=hint> {{_('* The print only output pure text.')}} </p></div></div></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=finish()> {{_('Done')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/prompt/prompt.tmpl.html><md-dialog class=max-size-md aria-label="{{options.title || _('Prompt')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{options.title || _('Prompt')}} </h2><form class=md-padding name=prompt_form ng-submit="enter(text, prompt_form)" novalidate><div class=notice ng-if=options.text><p class=md-body-1> {{options.text}} </p></div><md-input-container class=md-block><label>{{_(options.label) || _('Text')}}</label><input name=text type=text ng-model=text ng-pattern=options.regex md-maxlength=options.length ng-required=options.required><hint for=prompt_form.text ng-if=options.hint> {{options.hint}} </hint><ng-messages ng-if=prompt_form.text.$touched for=prompt_form.text.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with pattern.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class="{{options.style || 'md-primary'}}" ng-disabled=prompt_form.$invalid ng-click="enter(text, prompt_form)"> {{_(options.ok) || _('Enter')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/series/series.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Series Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Series Content')}} </h2><form class=md-padding name=modal_series_form ng-submit="save(item, modal_series_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="select_media(item, $event)"><img class=img-bg-contain ng-src={{image.trans_16x10}} ng-if="item.type == 'image'|| !item.type" style={{(item.src||image.default)|bg_img}}><video ng-if="item.type == 'video'" ng-src={{item.src}} controls=true></video><audio ng-if="item.type == 'audio'" ng-src={{item.src}} controls=true></audio><div class="md-padding text-center" ng-if="item.type == 'application'"><md-icon class=s48 md-svg-icon={{media_icons[item.type]}}></md-icon><md-tooltip md-direction=top> {{_(item.src)}} </md-tooltip></div></md-card></md-input-container><md-input-container class="md-block static" ng-if="item.type == 'video'"><label>{{_('Poster')}}</label><md-card class=max-size-sm ng-click="select_poster(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(item.poster||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=item.title md-maxlength=60><ng-messages ng-if=modal_series_form.title.$touched for=modal_series_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Caption')}}</label><textarea name=caption ng-model=item.caption md-maxlength=360></textarea><ng-messages ng-if=modal_series_form.caption.$touched for=modal_series_form.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 3"><label>{{_('Link')}}</label><input name=link type=text ng-model=item.link maxlength=240><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!item.src ng-click=link_media(item)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 3"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=item.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(item)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><div class="field-container amend" ng-show="property.capability > 3"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=item.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{item.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-input-container class="md-block amend" ng-show="property.capability > 3"><label>{{_('Misc')}}</label><textarea name=misc ng-model=item.misc md-maxlength=600></textarea><hint for=modal_series_form.misc> {{_('* Use to input additional complex contents.')}} </hint><ng-messages ng-if=modal_series_form.misc.$touched for=modal_series_form.misc.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=item.class maxlength=120></md-input-container><md-input-container class=md-block ng-show=!options.is_new><label>{{_('Position')}}</label><input name=pos type=number ng-model=item._index ng-required=!options.is_new><ng-messages ng-if=modal_series_form.pos.$touched for=modal_series_form.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=number> {{ _('Must be a number.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove(item)><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(item, modal_series_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/taxonomy/taxonomy.tmpl.html><md-dialog class=max-size-md aria-label="{{_(taxonomy.title || 'Taxonomy')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_(taxonomy.title || 'Taxonomy')}} </h2><md-list><md-list-item ng-repeat="term in terms" ng-click="term._selected = !term._selected"><p>{{term.meta.name || term.key}}</p><md-checkbox class=md-secondary ng-model=term._selected></md-checkbox></md-list-item></md-list></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-disabled=submitted ng-show=has_related ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-disabled=submitted ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-disabled=submitted ng-click=save(terms)> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/timer/timer.tmpl.html><md-dialog class=max-size-sm aria-label="{{_('Timer')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Timer')}} </h2><div class=text-center ng-if="timer > 0"><md-icon md-svg-icon=action:ic_alarm_24px class="s96 md-accent"></md-icon><div class="md-display-2 text-nowrap"> {{timer}} </div><p class=hint ng-bind-html=_(message.waiting)></p></div><div class=text-center ng-if="timer <= 0"><md-icon md-svg-icon=action:ic_alarm_on_24px class="s96 md-accent"></md-icon><p class=hint ng-bind-html=_(message.done)></p></div></md-dialog-content><md-dialog-actions class=centered layout-align="center center"><md-button ng-click=close() ng-if="timer > 0"> {{_('Ok, I will be back!')}} </md-button><md-button ng-click=continue(timer) ng-if="timer <= 0"> {{_('Continue')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=navs/views/mainnav.tmpl.html><md-sidenav class="primary-nav md-sidenav-left md-whiteframe-6dp" md-component-id=main_nav layout=column><md-content flex><md-toolbar ng-class="{'invisible': !profile}"><div layout-margin><div class=profile><div class="level md-box md-primary"> {{property.capability}} </div><img class="img-bg-cover md-avatar md-box md-primary" ng-src={{image.trans}} ng-click="go('user/profile')" style={{(profile.meta.avatar||image.avatar)|bg_img}}><span> {{profile.meta.display_name || profile.slug}} </span></div></div></md-toolbar><ul class=navbar><li ng-if=navs.app><div><md-button class=md-primary ng-click=go()><div layout=row layout-align="start start"><md-icon md-svg-icon={{app_icons[navs.app.type]}}></md-icon><span flex>{{navs.app.label}}</span><md-icon md-svg-icon=hardware:ic_keyboard_return_24px></md-icon></div></md-button></div></li><li ng-repeat="nav in navs.data" ng-if=!nav._empty><div ng-if=!nav.key><div class="nav-label md-text {{nav.class}}"><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{nav._no_translate ? nav.label : _(nav.label)}} </span></div></div></div><div ng-if="nav.key && !nav.nodes"><md-button class={{nav.class}} ng-click=go(nav.path) ng-disabled=nav._current><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{nav._no_translate ? nav.label : _(nav.label)}} </span></div></md-button></div><div ng-if="nav.key && nav.nodes"><md-button class="menu-btn-toggle {{nav.class}}" ng-disabled=nav._current ng-click=toggle(nav)><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{nav._no_translate ? nav.label : _(nav.label)}} </span><md-icon class=toggle-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': nav._active || nav._current}"></md-icon></div></md-button><ul class=menu-toggle-list ng-show="nav._active || nav._current"><li ng-repeat="child in nav.nodes"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span> {{child._no_translate ? child.label : _(child.label)}} </span></md-button></li><li ng-if="nav.nodes.length <= 0"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span>{{_('Empty')}}</span></md-button></li></ul></div></li></ul></md-content></md-sidenav></script><script type=text/ng-template id=navs/views/topbar.tmpl.html><md-toolbar class="topbar md-primary" ng-class="{'md-whiteframe-2dp': is_scroll_down(),
                       'bg-trans md-hue-3': !is_scroll_down()}"><div class=md-toolbar-tools><div class=text-nowrap-group layout=row layout-align="center center" ng-if=navs.id><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Toggle navigation')}}" ng-show=!navs.backward ng-click="toggle_nav('main_nav')"><md-icon md-svg-icon=nav:ic_menu_24px></md-icon></md-button><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Backward')}}" ng-show=navs.backward ng-click="go(navs.backward||'/')"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><h5 class="topbar-title anim-show" ng-click="navs.backward?go(navs.backward):toggle_nav('main_nav')" ng-show="navs.label || navs.app.label" flex> {{navs.app ? navs.app.label : _(navs.label)}} </h5></div><div flex></div><div layout=row layout-align="center center"><md-menu md-offset="0 -5"><md-button aria-label="{{_('Language')}}" class=md-icon-button ng-click=$mdOpenMenu($event)><md-icon md-svg-icon=action:ic_language_24px md-menu-origin></md-icon></md-button><md-menu-content width=3><md-menu-item ng-repeat="locale in locales"><md-button ng-click=switch_lang(locale) ng-disabled=is_current_lang(locale)> {{ locale.name }} </md-button></md-menu-item></md-menu-content></md-menu></div></div></md-toolbar><md-toolbar class="topbar-overlay md-accent anim-enter-leave" ng-class=overlay.class ng-if=overlay.templateUrl><div class=md-toolbar-tools ng-dynamic-controller=overlay.controller ng-include=overlay.templateUrl></div></md-toolbar><script type=text/ng-template id=overlay.default.tmpl.html>
  <div layout="row"
       layout-align="center center">
    <md-button class="md-icon-button"
               aria-label="{{_('Backward')}}"
               ng-click="cancel()">
      <md-icon md-svg-icon="nav:ic_arrow_back_24px"></md-icon>
    </md-button>
    <h5>
      {{_('Bulk Action')}}
    </h5>
  </div>

  <div flex></div>

  <div layout="row"
       layout-align="center center">
    <md-button class="md-icon-button"
               aria-label="{{_('Batch Delete')}}"
               ng-disabled="!has_selected()"
               ng-click="trash()">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
  </div>
</script></script><script type=text/ng-template id=matters/agreement/agreement.tmpl.html><md-dialog aria-label="{{_('Agreement')}}"><md-toolbar class=md-accent><div class=md-toolbar-tools><span> {{_('Agreement')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex><div class=md-padding layout-margin><article ng-if="lang == 'en'"><h2>Content Guidelines</h2><p>These types of sites are not allowed on Soopro:</p><ol><li> Adult: involving nudity in a sexual context, exposed genitalia oradult themes </li><li> Copyrighted Content: music, movies or games that you do not own the rights to </li><li> Spam/SEO: a site whose sole purpose is to gain Google ranking, Facebook "likes", etc </li><li> Phishing: a site meant to trick users into providing their username and password </li><li> Illegal Content: content which may be illegal in the P.R China </li><li> Scams: get rich quick, pyramid/MLM, or other dubious schemes </li><li> Excessive Advertising: placing excessive advertising on your site, including more than three ad units per page </li><li> File Hosting: stores files for purposes other than the use Soopro. </li><li> Injurious Experience: sites using the "Custom HTML" element that provide a horrible user experience, such as extreme flashing banners, excessive animated movement, or content that could provoke seizures in unsuspecting visitors</li></ol><p> This list is a quick reference and is not meant to be complete. For more specific information, please refer to the Terms below. </p><h3>1. Acceptance of terms</h3><p> Welcome to Soopro, Inc.'s content creation service (the "Service"). Your use of the Service is subject to these Terms of Service ("Terms"). These Terms will also be applicable to your use of the Service on a trial basis. By using the Service, you signify your acceptance of these Terms. If you do not agree to these Terms, do not use the Service. </p><h3>2. Description of service</h3><p> Our web-based Service allows users who register for an account (each an "Account Holder") to create and update an online web site. Once registered, each Account Holder receives his or her own Web Site and may post "Content" (defined in Section 7). Any new features on the Service, including the release of new Soopro tools and resources, shall be subject to these Terms. To use the Service, you must have access to the Internet, either directly or through devices that access web-based content, and you must pay any fees associated with Internet access. In addition, you must provide all equipment necessary to make such connection to the Internet, including a web-enabled computer. The Service may include certain communications from us, such as service announcements, administrative messages, and the Soopro Newsletter. These communications are considered part of Soopro membership. You may not access the Service by any means other than through the Service interfaces we provide you. </p><h3>3. Registration</h3><p> To register as an Account Holder, you must provide us with a valid email address and other information ("Registration Data").You will choose a password and account designation for your web sites during the registration process and you will obtain a Soopro ID. You are responsible for maintaining the confidentiality of the password and account, and for all activities that occur under your account. In consideration of use of the Service, you agree to maintain and update true, accurate, current and complete Registration Data. If you provide any information that is untrue, inaccurate, not current or incomplete, or if Soopro has reasonable grounds to suspect that such information is untrue, inaccurate, not current or incomplete, we may suspend or terminate your account and refuse any and all current or future use of the Service or any portion thereof. Individuals under the age of 16 are prohibited from creating or using accounts through Soopro. </p><h3>4. Cancellation and termination</h3><p> If you cancel the Service, your cancellation will take effect immediately. After cancellation, you will no longer have access to your web site and we may delete all information on your web site. We accept no liability for such deleted information or content. </p><p> For as long as we continue to offer the Services, we will provide and seek to update, improve and expand the Service. As a result, we allow you to access the Service as it may exist and be available on any given day and have no other obligations, except as expressly stated in this Agreement. We may modify, replace, refuse access to, suspend or discontinue the Service, partially or entirely, or change and modify prices for all or part of the Services for you or for all our users in our sole discretion. All of these changes shall be effective upon their posting on our site or by direct communication to you unless otherwise noted. We further reserve the right to withhold, remove and or discard any Content available as part of your account, with or without notice if deemed by us to be contrary to this Agreement. For avoidance of doubt, we have no obligation to store, maintain or provide you a copy of any content that you or others provide when using the Service. </p><h3>5. Soopro privacy policy</h3><p> How we collect, protect and use your Registration Data and certain other information about you are contained in our Privacy Policy, which is part of these Terms. </p><h3>6. Website account and security</h3><p> You are responsible for maintaining the security of your account and web site, for all activities that occur or actions taken under the account or in connection with the web site. You agree to immediately notify us in writing of any unauthorized uses of the account or any other breaches of security. We will not be liable for any loss or damage from your failure to comply with this security obligation. You acknowledge and agree that under no circumstances will we be liable, in any way, for any or your acts or omissions or those of any third party, including damages of any kind incurred as a result of such acts or omissions. </p><h3>7. Your rights in your content</h3><p> Soopro does not claim ownership of your Content, but you give us your permission to host your Content on the Service. This permission exists only for as long as you continue to use the Service or remain an Account Holder. </p><h3> 8. Content and conduct rules and obligations </h3><p> All information, data, text, software, music, sound, photographs, graphics, video, messages, goods, products, services or other materials you post on a web site via the Service ("Content") are the sole responsibility of the person from which such Content originated. You are responsible for all Content that you upload, post, transmit or otherwise make available via the Service. We do not control the Content you post via the Service. </p><p> By using the Service, you may be exposed to content that is offensive, indecent or objectionable. Under no circumstances will we be liable for your Content or the content of any third party, including, but not limited to, for any errors or omissions in your Content, or for any loss or damage of any kind incurred as a result of the use of any Content posted, transmitted or otherwise made available via the Service. You acknowledge that we do not pre-screen Content, but that we shall have the right (but not the obligation) to refuse, move or delete any Content that is available via the Service. We shall also have the right to remove any Content that violates these Terms or is otherwise objectionable in our sole discretion. You must evaluate, and bear all risks associated with, the use of any Content. You may not rely on any Content created by us. You acknowledge and agree that we may preserve Content and may also disclose Content if required to do so by law or in the good faith belief that such preservation or disclosure is reasonably necessary to: (a) comply with legal process; (b) enforce these Terms; (c) respond to claims that any Content violates the rights of third-parties; or (d) protect our rights, property, or personal safety and those of our users and the public. </p><p> The technical processing and transmission of the Service, including Content, may involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices. </p><h3>9. Fees/payment</h3><p> Some of the features on the Service require payment of fees. If you elect to sign up for these features, you shall pay all applicable fees, as described on the Service in connection with such features selected by you. We reserve the right to change our prices and at any time. You authorize us. to make any reasonably necessary inquiries to validate your account and financial information. </p><p> All fees are exclusive of all taxes, levies, or duties imposed by taxing authorities, and you shall be responsible for payment thereof. You agree to pay for any taxes that might be applicable to your use of the Service and payments you make to us. </p><h3>10. Additional software</h3><p> If you elect to download or access any additional software or third party content made available by us through the Service, you must agree to additional terms and conditions before you use such software or third party content. If you do not agree to the third party’s terms of service or license agreement, do not download the software or content. </p><p> Your use of any third party software or content obtained through the Service does not transfer to you any rights, title or interest in or to the third party software or such content beyond the terms contained in the third party provider's terms of service or license. </p><h3>11. International use</h3><p> Recognizing the global nature of the Internet, you agree to comply with all local rules regarding online conduct and acceptable content. Specifically, you agree to comply with all applicable laws regarding the transmission of technical data exported from the P.R China or the country in which you reside. </p><h3>12. Links</h3><p> The Service may provide, or third parties may provide, links to other web sites or resources. Because we have no control over such sites and resources, we are not responsible for the availability of such external sites or resources, and we do not endorse and are not responsible or liable for any content, advertising, products, or other materials on or available from such sites or resources. We are not liable for any damage or loss caused or alleged to be caused by or in connection with use of or reliance on any such content, goods or services available on or through any such site or resource. </p><h3>13. Themes</h3><p> If you choose, you may contribute website themes ("Custom Themes") to the Service for use by other users. You hereby grant and agree to grant us an exclusive, perpetual, sublicensable, worldwide, irrevocable, royalty-free right and license to use, copy, modify, and create derivative works of any Custom Themes contributed by You to the Service, including the HTML code and media assets therefor. </p><h3>14. Designer platform terms</h3><p> If you use our Designer Platform Service to design a web site (a “Client Website”) for a third party (your “Client”), your use of the Service shall be subject to these additional terms. </p><ol><li> Your relationship with your Client is strictly between you and the Client. We will not be a party to any agreement you have with your Client. The manner and means that you choose to perform your services are in your sole discretion and control; however you agree to perform these services in a timely and professional manner, consistent with industry practice and in conformance with these Terms. </li><li> You accept full responsibility for all Client Content under your account and for each Client’s adherence to these Terms. </li><li> While we intend to allow you to resell the service under a private label, this private label is in no way guaranteed and we will in no way be held responsible for any failure to maintain its private label. </li><li> In the event your Client contacts us, we will direct them to contact you. In the event you fail to support your Client and we receive a request from your Client stating that you have not been responsive, we reserve the right to support your Client directly. </li><li> You understand and agree that you, as the Account Holder, are ultimately responsible for payment for every Client Website under your account. If, at any time, the billing obligations of any Client Website are not met, we will have the right to disable the Client Website until the billing obligation is met. </li></ol><h3>15. Indemnity</h3><p> You agree to indemnify and hold Soopro, and its subsidiaries, affiliates, officers, directors, agents, co-branders, partners and employees, harmless from any claim or demand, including reasonable attorneys' fees, made by any third party due to or arising out of your Content, use of or connection to the Service, violation of these Terms, or violation of any rights of another. </p><h3>16. Resale of service</h3><p> You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service without our express written permission. </p><p> Soopro is often used by Designers to design websites for a third party. Such use is explicitly permitted under the Designer Platform terms above. Should you design websites for third parties on any other version of Soopro, such sites must each have their own account controlled by the third party, and you may not group multiple client sites under one account owned by you. </p><h3>17. General practices regarding use and storage</h3><p>We may establish general practices and limits concerning use of the Service and may modify such practices and limits from time to time with or without notice to you.</p><h3>18. Our proprietary rights</h3><p>You acknowledge and agree that the Service and any necessary software used in connection with the Service ("Software") contains proprietary and confidential information that is protected by applicable intellectual property and other laws. You further acknowledge and agree that content contained in sponsor advertisements or in information presented to you through the Service or advertisers is protected by copyrights, trademarks, service marks, patents or other proprietary rights and laws. Except as expressly authorized by us or our advertisers, you agree not to modify, rent, lease, loan, sell, distribute or create derivative works based on the Service, in whole or in part.</p><p>We do not want to receive confidential or proprietary information from you through the Service or by email. Unless otherwise agreed in writing by an authorized Soopro representative, any material, information or idea you transmit to us by any means may be disseminated or used by us or our affiliates without compensation or liability to you for any purpose whatsoever, including, but not limited to, developing, manufacturing and marketing products. However, this provision does not apply to Content (as defined herein), or to personal information that is subject to our Privacy Policy.</p><h3>19. Disclaimer of warranties</h3><p>YOU EXPRESSLY UNDERSTAND AND AGREE THAT:</p><ol><li>YOUR USE OF THE SERVICE IS AT YOUR SOLE RISK. THE SERVICE IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS. WE EXPRESSLY DISCLAIM ALL WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.</li><li>WE NOT RESPONSIBLE FOR ANY DAMAGE, LOSS OF DATA, CUSTOMER INFORMATION OR VENDOR DATA, REVENUE, OR OTHER HARM TO BUSINESS ARISING OUT OF DELAYS, MISDELIVERY OR NONDELIVERY OF INFORMATION, RESTRICTION OR LOSS OF ACCESS, BUGS OR OTHER ERRORS, UNAUTHORIZED USE DUE TO YOUR SHARING OF ACCESS TO THE SERVICE, OR OTHER INTERACTION WITH THE SERVICE. YOU ARE RESPONSIBLE FOR MAINTAINING AND BACKING-UP YOUR DATA AND INFORMATION THAT MAY RESIDE ON THE SERVICE. Soopro DOES NOT WARRANT THAT (i) THE SERVICE WILL MEET YOUR SPECIFIC REQUIREMENTS, (ii) THE SERVICE WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE, (iii) THE RESULTS THAT MAY BE OBTAINED FROM THE USE OF THE SERVICE WILL BE ACCURATE OR RELIABLE, (iv) THE QUALITY OF ANY PRODUCTS, SERVICES, INFORMATION, OR OTHER MATERIAL PURCHASED OR OBTAINED BY YOU THROUGH THE SERVICE WILL MEET YOUR EXPECTATIONS, AND (V) ANY ERRORS IN THE SERVICE WILL BE CORRECTED.</li><li>ANY MATERIAL DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE SERVICE IS DONE AT YOUR OWN DISCRETION AND RISK AND THAT YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR LOSS OF DATA THAT RESULTS FROM THE DOWNLOAD OF ANY SUCH MATERIAL.</li></ol><h3>20. Limitation of liability</h3><p>WE WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO, DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA OR OTHER INTANGIBLE LOSSES (EVEN IF Soopro HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), RESULTING FROM: (i) THE USE OR THE INABILITY TO USE THE SERVICE; (ii) THE COST OF PROCUREMENT OF SUBSTITUTE GOODS AND SERVICES RESULTING FROM ANY GOODS, DATA, INFORMATION OR SERVICES PURCHASED OR OBTAINED OR MESSAGES RECEIVED OR TRANSACTIONS ENTERED INTO THROUGH OR FROM THE SERVICE; (iii) UNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR TRANSMISSIONS OR DATA; (iv) STATEMENTS OR CONDUCT OF ANY THIRD PARTY ON THE SERVICE; OR (v) ANY OTHER MATTER RELATING TO THE SERVICE. OUR AGGREGATE LIABILITY FOR ALL CLAIMS RELATING TO THE SERVICE SHALL NOT EXCEED THE AMOUNTS PAID BY YOU TO FOR THE PAST THREE MONTHS OF THE SERVICE IN QUESTION.</p><h3>21. Exclusions and limitations</h3><p>SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES. ACCORDINGLY, SOME OF THE ABOVE LIMITATIONS OF SECTIONS 20 AND 21 MAY NOT APPLY TO YOU.</p></article><article class=md-padding ng-if="lang == 'zh'"><h2>内容指南</h2><p>速铺不允许这些类型的内容：</p><ol><li> 成人：在性方面裸露的内容，以暴露的生殖器或躯干为主题 </li><li> 版权内容：您未拥有版权的音乐，电影或游戏 </li><li> 垃圾邮件/ SEO：网站的唯一目的是为了获得谷歌排名，Facebook “点赞” 等 </li><li> 网络钓鱼：网站意图欺骗用户并向提供其用户名和密码给他人 </li><li> 非法内容：在中华人民共和国可能是非法的内容 </li><li> 诈骗：快速富有，金字塔/ MLM或其他可疑计划 </li><li> 过度广告：在您的网站上投放过多的广告，包括每页超过三个广告模块 </li><li> 文件托管：存储文件用于速铺服务之外的内容。 </li><li> 伤害经验：网站使用“自定义HTML”元素提供可怕的用户体验， 如极端闪烁的横幅，过多的动画运动或内容，可能引来不期望的访客 </li></ol><p> 此列表是一个快速参考，并不意味着完整。 有关更多具体信息，请参阅下面的条款。 </p><h3>1. 接受条款</h3><p> 欢迎来到速铺，Inc.的内容管理服务「服务」。 您对服务的使用必须遵守这些服务条款「条款」。 这些条款也适用于您试用本服务的情况。 使用服务即表示您接受这些条款。 如果您不同意这些条款，请不要使用本服务。 </p><h3>2. 服务说明</h3><p> 我们的网络服务允许注册帐户的用户（每个帐户持有人）管理和更新在线内容。 一旦注册，每个帐户持有人收到他或她自己的网站 并可以张贴“内容”（在第7节中定义）。 服务上的任何新功能，包括发布新的工具和资源，都应遵守这些条款。 要使用服务，您必须能够直接访问 Internet（因特网）， 或通过访问基于Web的内容的设备访问 Internet（因特网）， 并且您必须支付与Internet（因特网）访问相关的任何费用。 此外，您必须提供必要的所有设备才能连接到互联网，包括启用网络的计算机。 服务可能包括来自我们的某些通信，如服务公告，管理消息和速铺通讯。 这些通信被视为速铺会员资格的一部分。 您不能通过我们为您提供的服务接口以外的任何方式访问服务。 </p><h3>3. 注册</h3><p> 要注册为帐户持有人， 您必须向我们提供有效的电子邮件地址和其他信息「注册数据」。 您将在注册过程中为您的网站选择密码和帐户名称， 您将获得一个速铺 ID。 您有责任保持密码和帐户以及您帐户下发生的所有活动的机密性。 考虑使用本服务，您将同意维护和更新真实，准确，最新和完整的注册数据。 如果您提供任何不真实，不准确，陈旧或不完整的信息， 或者如果速铺有合理理由怀疑此类信息不真实，不准确，不当前或不完整， 我们可能会暂停或终止您的帐户， 并拒绝任何和所有当前或未来使用本服务或其任何部分。 禁止16岁以下的个人创建或使用帐户。 </p><h3>4. 取消和终止</h3><p> 如果您取消服务，您的取消将立即生效。 取消后，您将无法再访问您通过速铺<sup>tm</sup>创建的内容， 我们可能会删除您的所有信息。 我们对这些删除的信息或内容不承担任何责任。 </p><p> 只要我们继续提供服务，我们将提供和寻求更新，改进和扩展服务。 因此，我们允许您访问服务，因为它可 能存在， 并在任何指定的日期可用，没有其他义务，除非本协议中明确声明。 我们可以自行决定为您或所有用户修改，替换，拒绝访问， 暂停或停止服务，部分或全部，或更改和修改全部或部分服务的价格。 除非另有说明， 所有这些更改应在他们在我们的网站上发布或直接与您联系时生效。 我们进一步保留在我们认为违反本协议的情况下， 在通知或不通知的情况下扣留， 除或丢弃作为您帐户一部分的权利。 为了避免疑问，我们没有义务存储， 维护或提供您或他人在使用服务时提供的任何内容的副本。 </p><h3>5. 速铺隐私政策</h3><p> 我们如何收集，保护和使用您的注册数据和有关您的某些其他信息， 包含在我们的隐私政策，这是这些条款的一部分。 </p><h3>6. 网站帐户和安全</h3><p> 您有责任维护您的帐户和网站的安全性， 所有发生的活动或在该帐户下或与网站相关的操作。 您同意立即以书面形式通知我们任何未经授权的使用帐户， 或任何其他违反安全的行为。 我们不会对您未能遵守此安全义务所造成的任何损失或损害承担责任。 您承认并同意，在任何情况下， 我们不以任何方式对任何或您的任何第三方的行为或不作为， 包括由于此类行为或疏忽而导致的任何形式的损害承担责任。 </p><h3>7. 您对内容的权利</h3><p> 速铺不声明您的内容的所有权， 但您授予我们在服务上托管您的内容的权限。 此权限仅在您继续使用服务或保留帐户持有人时才存在。 </p><h3>8. 内容和行为规则和义务</h3><p> 通过本服务在网站上发布的所有信息， 数据、文本、软件、音乐、声音、照片、图形、视频、消息、产品、服务， 或其他材料。您负责上传，发布，传输或以其他方式通过服务提供的所有内容。 </p><p> 使用服务时，您可能会接触到冒犯性，不雅或令人反感的内容。 在任何情况下，我们都不会对您的内容或任何第三方的内容负责， 包括但不限于您的内容中的任何错误或遗漏， 或任何由于使用错误而导致的任何损失或损害通过本服务发布， 传输或以其他方式提供的任何内容。 您同意我们不预先筛选内容，但我们有权拒绝， 移动或删除通过服务提供的任何内容（但不是义务）。 我们也有权移除任何违反这些条款的内容，或者我们全权酌情决定反对。 您必须评估并承担与使用任何内容相关的所有风险。 您不能依赖我们创建的任何内容。 您承认并同意，我们可能保留内容，并可能还会披露内容， 如果法律或确实需要这样做的话，这样的保存或披露是合理必要的： （a）遵守法律程序; （b）执行这些条款; （c）回应任何内容侵犯第三方权利的声明; （d）保护我们以及我们的用户和公众的权利，财产或人身安全。 </p><p> 服务（包括内容）的技术处理和传输可能涉及 （a）通过各种网络的传输; （b）改变以符合并适应连接网络或设备的技术要求。 </p><h3>9. 费用/付款</h3><p> 服务的一些功能需要支付费用。 如果您选择注册这些功能，您应支付所有适用的费用， 如服务中描述的与您选择的功能有关。 我们保留随时更改价格的权利。 您授权我们，进行任何合理必要的查询以验证您的帐户和财务信息。 </p><p> 所有费用不包括税务机关征收的所有税费， 征费或税费，您应负责支付。 您同意支付可能适用于您使用本服务和您向我们付款的任何税款。 </p><h3>10. 附加软件</h3><p> 如果您选择下载或访问我们通过本服务提供的任何其他软件或第三方内容， 则在使用此类软件或第三方内容之前，您必须同意其他条款和条件。 如果您不同意第三方的服务条款或许可协议，请勿下载软件或内容。 </p><p> 您使用任何第三方软件或通过本服务获得的内容时， 不会将您转让给您的第三方软件或此类内容的任何权利， 所有权或利益超出第三方提供商的服务条款或许可条款中包含的条款。 </p><h3>11. 国际使用</h3><p> 认识到互联网的全球性， 您同意遵守有关在线行为和可接受内容的所有本地规则。 具体来说，您同意遵守所有关于从中华人民共和国， 或您所在国家/地区输出的技术数据传输的适用法律。 </p><h3>12. 链接</h3><p> 服务可以提供或第三方可以提供到其他网站或资源的链接。 由于我们无法控制此类网站和资源， 因此我们不对此类外部网站或资源的可用性负责， 我们不对任何内容，广告，产品或其他素材承担任何责任或义务。 我们不对因使用或依赖任何此类网站或资源上提供的任何此类内容， 商品或服务而导致或指称造成或涉嫌造成的任何损害或损失负责。 </p><h3>13. 主题</h3><p> 如果您选择，您可以将内容主题「自定义主题」提供给服务以供其他用户使用。 您特此授予并同意授予我们独家，永久，可再授权，全球性， 不可撤销，免版税的权利和许可，以使用，复制， 修改和创建您对服务提供的任何自定义主题的衍生作品， 包括代码和媒体资产。 </p><h3>14. 设计师平台术语</h3><p> 如果您使用我们的平台服务为第三方（您的「客户」） 设计一个网站「客户网站」，您对本服务的使用应遵守这些附加条款。 </p><ol><li> 您与客户的关系只存在于您与客户之间。 我们不会成为您与客户的任何协议的当事方。 您选择执行服务的方式和方法由您自行决定和控制， 但是您同意按照行业惯例和遵守这些条款，及时并专业地执行这些服务。 </li><li> 您对自己帐户下的所有客户内容，以及每个客户遵守这些条款承担全部责任。 </li><li> 虽然我们允许您以私人标签转售服务， 但我们绝不会对任何未能维护其私人标签的行为负责。 </li><li> 如果您的客户与我们联系，我们将指导他们与您联系。 如果您未能支持您的客户，并且我们收到您的客户的请求， 声明您没有回应，我们保留直接为您的客户提供支持的权利。 </li></ol><h3>15. 弥偿</h3><p> 您同意赔偿并保留速铺及其子公司， 附属机构，高级职员，董事，代理人，联合品牌商，合作伙伴和员工， 使其免于任何第三方因任何索赔或要求（包括合理的律师费）在您的内容， 使用或连接到服务，违反这些条款或违反任何权利的另一个。 </p><h3>16. 服务转售</h3><p> 您同意在未经我们明确书面许可的情况下不得复制， 销售，转售或利用服务的任何部分。 </p><p> 速铺经常被设计师用来为第三方设计网站。 这种使用在上述Designer平台术语中明确允许。 如果您为任何其他版本的速铺设计第三方网站， 这些网站必须各自拥有由第三方控制的帐户， 并且您不能将多个客户网站分组到您拥有的一个帐户下。 </p><h3>17. 使用和储存的一般做法</h3><p> 我们可能建立有关服务使用的一般做法和限制， 并可能在不通知您的情况下不时修改此类做法和限制。 </p><h3>18. 我们的所有权</h3><p> 您承认并同意，本服务和与本服务「软件」相关的任何必要软件包含受 适用知识产权和其他法律保护的专有和机密信息。 您进一步确认并同意，赞助商广告或通过本服务或广告客户向您提供的 信息中包含的内容受版权，商标，服务标记，专利或其他专有权利和法律的保护。 除非经我们或我们的广告客户明确授权，否则您不能修改，租赁，借贷，销售， 分发或创建基于本服务的衍生作品，全部或部分。 </p><p> 我们不希望通过服务或电子邮件接收您的机密或专有信息。 除非经授权的速铺代表以书面形式另行约定， 您通过任何方式传送给我们的任何材料， 信息或想法均可能被我们或我们的关联公司传播或使用，不会有任何目的使用， 包括但不限于开发，制造和营销产品。 但是，本条款不适用于内容（如本文所定义）或受我们隐私政策约束的个人信息。 </p><h3>19. 免责声明</h3><p>您明确了解并同意:</p><ol><li> 您使用服务的风险由您自己承担。本服务按“现状”和“可用”基础提供。 我们明确否认任何种类的明示或暗示的保证， 包括但不限于适销性，适用于特定用途和非侵权的默示担保。 </li><li> 我们不对任何损害，数据丢失，客户信息或供应商数据， 或其他由于延迟，信息缺失或无法访问，限制或失去访问，BUG或其他错误， 未经授权使用而造成的损害负责由于您访问服务的共享， 或与服务的其他互动负责。 您有责任维护和备份您的数据和可能关于服务的信息。 速铺不保证： （i）服务将满足您的特定要求； （ii）服务将是不间断的，及时，安全或无错误； （iii）可以从服务使用中获得的结果准确或可靠； （iv）您通过本服务购买或获得的任何产品，服务； 信息或其他材料的质量将符合您的期望，以及 （V）服务中的任何错误将得到纠正。 </li><li> 通过使用服务下载或以其他方式获得的任何材料将自行承担风险， 并且您将完全负责对您的计算机系统的任何损害或任何此类材料 下载结果的数据丢失。 </li></ol><h3>20. 责任限制</h3><p> 我们不对任何直接，间接，偶发，特殊，后果性或惩戒性损害 包括但不限于损失利润，商誉，使用，数据或其他无形损失 （即使速铺已被告知）这些损害的可能性，结果： （i）使用或无法使用服务； （ii）从任何通过或通过服务获得的任何商品，数据，信息或服务， 收到的或收到的消息或交易产生的替代商品和服务的成本费用； （iii）未经授权访问或更改您的传输或数据； （iv）任何第三方对服务的陈述或行为； （v）与服务有关的任何其他事项。对于与服务相关的所有索赔， 我们的整体责任不超过您在过去三个月的服务期间中支付的金额。 </p><h3>21. 排除和限制</h3><p> 某些司法管辖区不允许排除某些担保或限制， 或排除偶然性或后果性损害的责任。 因此，部分20和21的上述限制可能不适用于您。 </p></article></div></md-dialog-content><md-dialog-actions><md-button ng-click=disagree()> {{_('Disagree')}} </md-button><md-button ng-click=agree()> {{_('Agree')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=matters/help/help.tmpl.html><md-dialog aria-label="{{_('Help')}}"><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Help')}} </h2><div class=md-padding ng-include=templateId></div></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Ok, I Understand.')}} </md-button></md-dialog-actions></md-dialog><script type=text/ng-template id=help.capability>
  <article ng-if="lang == 'en'">
    <h4>capability Level</h4>
    <p>
      Capability is use to defined the knowledge level of computer
      and internet.
    </p>
    <p>
      Higher capability level can access more features or more resouces,
      but some features might require more knowledge to managing.
      The highest capablity can access advanced features with coding style.
    </p>
    <p>
      Unlike permission level, user can change capability level anytime.
      We recommend you choose a capability that fits yourself.
      It is a unique design in our system, you might not see it before.
    </p>
    <p>
      We have 6 level capability for now.
    </p>
    <ul>
      <li>
        Beginner [lv 1]
      </li>
      <li>
        Familiar[lv 2]
      </li>
      <li>
        Advanced [lv 3]
      </li>
      <li>
        Senior [lv 4]
      </li>
      <li>
        Genius [lv 5]
      </li>
      <li>
        Expert [lv 6]
      </li>
    </ul>

    <md-divider></md-divider>

    <p class="hint md-margin">
      * Remeber "More power, more cost".
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>能力等级</h4>
    <p>
      能力等级用来定义使用者对计算和互联网的知识程度。
    </p>
    <p>
      更高的能力等级可以使用更多的功能和资源，同时也要求您具备更多的知识去驾驭它们。
      最高的「专家」级将允许通过代码级的形式修改设置或是修改一些常人看不见的属性，
      当然使用不当的话这些操作也可以带来毁灭性的后果。。。谁叫您是专家呢。
    </p>
    <p>
      不同于用户权限的设置，用户们可以随时更改这个能力等级。
      当然，我们希望用户能够选择适合他们的能力等级。
      如果您设的等级太高，超出了您的知识范围。出现很多你无法理解的词汇、选项之类，
      又或是搞乱了什么看不懂的设置，遇到这样写情况，不出点血是不会有人来管您的。
      这种坑爹的设计恐怕只有我们这里才有，您应该没在别的地方见过。
    </p>
    <p>
      现在我们提供了六种不同的能力等级。
    </p>
    <ul>
      <li>
        初学 [lv 1]
      </li>
      <li>
        熟练 [lv 3]
      </li>
      <li>
        进阶 [lv 2]
      </li>
      <li>
        老练 [lv 4]
      </li>
      <li>
        天才 [lv 5]
      </li>
      <li>
        专家 [lv 6]
      </li>
    </ul>

    <md-divider></md-divider>

    <p class="hint md-margin">
      *「能力等级」可以在账号设置中自助设定，您可以根据自己的需要随时设定，
      但是要记住一句古话：”能力越强，开销越大。“
    </p>
  </article>
</script><script type=text/ng-template id=help.slug>
  <article ng-if="lang == 'en'">
    <h4>URL Slug</h4>
    <p>
      The URL Slugs make the URL more user-friendly and better SEO.
      Search engines such as Google, rank the pages higher
      if the searchword is in the URL.
    </p>
    <p>
      URL Slug is part of a URL that identifies a page in
      human-readable keywords.
      Slugs are typically generated automatically from a title or name
      but can also be entered or altered manually (Expert only).
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>网址标识（URL Slug）</h4>
    <p>
      网址标识能够使网址显得更佳友好，并且有利于搜索引擎优化（SEO）。
      上档次的搜索引擎（如谷歌），会给予使用语义良好的网址标识的网站更高的排名。
    </p>
    <p>
      网址标识是网址的一部分，它使用人类可读的关键字定义了这个网址。
      一般来说，网址标识是根据标题或者名称自动生成的，
      但是也允许直接手工编辑。
      然而，在我们提供的服务中，只有专家级的用户才允许这样做，
      要成为一个专家级用户应该会要花掉您许多钱，除非您非常有出众的颜值。
    </p>
  </article>
</script><script type=text/ng-template id=help.home_url>
  <article ng-if="lang == 'en'">
    <h4>Home URL</h4>
    <p>
      The URL of the app base route. After home URL is seted, the app's theme, menu and links will automatically generate valid URL with home URL. The home URL could also attach paths, parameters, ports, and so on.
    </p>
    <p>
      We provider a private home URL as default.
      You have to use your own domain to make it public.
    </p>
    <p>
      Please note, We only support HTTP for now.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>基础网址</h4>
    <p>
      一个用于指向到应用的基础网络地址。设置基础网址之后，主题、菜单、链接等将自动使用基础网址为根本来生成有效的网址。基本网址需要符合一般网址的规则，也可以附加路径、参数、端口等。
    </p>
    <p>
      我们提供了一个默认的基础网址，但是这个地址只有您自己可以访问，
      如果您希望能够公开访问，就必须要拥有一个域名作为基础网址。
      由于一些不言而喻的原因，注册域名之后还要通过若干道行政机关的免费报备。
      然后将需要使用的域名发申请给我们，我们会人工审核行政手续是否完备，
      核实之后就可以使用这个域名为基础来设置基本网址了。
      如果说您觉得这些事情很麻烦，也可以找我们帮助你完成。考虑到我们的服务大多数都是免费的，于是这类“帮助”您多少得意思意思，或者颜值特别特别高也行。。。
    </p>
    <p>
      我们现在只提供了HTTP的支持，等闲暇时我们会改进这一点。
    </p>
  </article>
</script><script type=text/ng-template id=help.hardcore>
  <article ng-if="lang == 'en'">
    <h4>Hardcore Mode</h4>
    <p>
      Hardcore mode is designed for developers to do advanced operations.
      Only Expert can use this mode.
    </p>
    <p>
      It allows you to input a JSON-compliant string.
      The system will automatically compile the string into an object,
      and inject into the target data field.
      This will simplify numerous operations,
      also allow you to reach high-level settings.
    </p>
    <hr>
    <h5>Input format</h5>
    <p>
      When using hardcore mode, you must input a string with specific format.
      Following example below.
    </p>
    <ul>
      <li>
        list: `[value1, value2, value3, ...]`
      </li>
      <li>
        dict: `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        list dict: `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      The `key` must be lower case letters,
      and different data structures might have specify namespace of the `key`.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>专家模式</h4>
    <p>
      专家模式是专门为拥有开发常识的用户设计的高级操作。
      它允许您使用硬编码模式以文本形式输入一个符合JSON规则的字符串。
      系统将会自动将这个字符串编译成一个对象注入到数据的目标字段中去。
      这将大幅简化繁琐的设置和输入操作，也允许进行一般用户无法达到的高阶设定。
    </p>
    <p>
      在我们提供的服务中，只有专家级的用户才允许这样做，
      要成为一个专家级用户应该会要花掉您许多钱，除非您非常有出众的颜值。
    </p>

    <hr>
    <h5>输入格式</h5>
    <p>
      使用专家模式时，为了确保编译结果符合预期，
      必须输入需要符合一定格式的字符串，下面就列举一些常见的格式。
    </p>
    <ul>
      <li>
        列表格式(list): `[value1, value2, value3, ...]`
      </li>
      <li>
        字典格式(dict): `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        列表套字典格式(list dict): `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      `key` 必须是小写的英文字母，不同的数据结构可能会规定 `key` 的命名。
      如果您实在不明白我在说什么，那么千万别使用这种模式，用了多半也是要坑的。
    </p>
  </article>
</script><script type=text/ng-template id=help.storage>
  <article ng-if="lang == 'en'">
    <h4>Storage</h4>
    <p>
      For some reasons, We limit the content stored per application.
      This limit is related to the `Capability Level`
      which seted by your account,
      higher level of capability can get more storage.
    </p>
    <p>
      High level capability can convert content to a `Archive`
      to save more storage. But archive can only access by Open API
      with ajax request.
    </p>
    <p>
      Media file is host on third-party CDN service.
      It is limited by total file size and 6000 files top.
    </p>
    <ul>
      <li>
        Beginner [lv 1]: 20 files / 50Mb media
      </li>
      <li>
        Familiar[lv 2]: 80 files / 200Mb media
      </li>
      <li>
        Advanced [lv 3]: 180 files / 450Mb media
      </li>
      <li>
        Senior [lv 4]: 320 files / 800Mb media with Unlimited Archive
      </li>
      <li>
        Genius [lv 5]: 500 files / 1250Mb media with Unlimited Archive
      </li>
      <li>
        Expert [lv 6]: 720 files / 1800Mb media with Unlimited Archive
      </li>
    </ul>

    <md-divider></md-divider>

    <p class="hint md-margin">
      * You can always modify your capability level by your self.
      But please remeber "More power, more cost".
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>存储容量</h4>
    <p>
      因为某些不言而喻原因，在我们对每个应用的内容存储总量做了限制。
      这一限制于您的账号所设置的「能力等级」有关，能力等级越高可以管理的内容数量越多。
    </p>
    <p>
      我们还允许上档次的用户使用「归档」功能，把不太常用的内容进行归档。
      归档后的内容将不再占用存储资源，但是也只能通过开放接口(Open API)，
      使用AJAX请求访问。如果您不明白我在说什么，那么只要理解“这是给高手用的”就行了。
    </p>
    <p>
      多媒体文件是存储在第三方CDN服务上的，而且对不同「能力等级」的用户设置了容量限制。
      除了容量的限制，任何人的文件总数量也不能超过6000个。
    </p>
    <ul>
      <li>
        初学 [lv 1]：20篇 / 50兆 多媒体
      </li>
      <li>
        熟练 [lv 3]：180篇 / 200兆 多媒体
      </li>
      <li>
        进阶 [lv 2]：80篇 / 450兆 多媒体
      </li>
      <li>
        老练 [lv 4]：320篇 / 800兆 多媒体，以及无限量归档
      </li>
      <li>
        天才 [lv 5]：500篇 / 1250兆 多媒体，以及无限量归档
      </li>
      <li>
        专家 [lv 6]：720篇 / 1800兆 多媒体，以及无限量归档
      </li>
    </ul>

    <md-divider></md-divider>

    <p class="hint md-margin">
      *「能力等级」可以在账号设置中自助设定，您可以根据自己的需要随时设定，
      但是要记住一句古话：”能力越强，开销越大。“
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.token_url>
  <article ng-if="lang == 'en'">
    <h4>WeChat Token and URL</h4>
    <p>
      WeChat Token and URL is use to connect WeChat Official Account.
    </p>
    <p>
      You need set token by your own.
      The character in token must be latin letter, number or dash.
      The URL is automatic generated when token and Home URL is setted.
      You can set Home URL from app's Preference -> Options.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信令牌（Token）和接口网址（Interface URL）</h4>
    <p>
      微信令牌（Token）和接口网址（Interface URL）是用来连接微信公众号的。
    </p>
    <p>
      您需要自己设置一个令牌（Token），
      只能使用拉丁字母（就是那26个英文字母）、数字、和横杠(就是减号'-')。
      那个接口网址（Interface URL）是根据令牌和应用的基础网址组合以后生成的。
      基础网址的设置是在应用的偏好设置 -> 选项。
    </p>
    <p>
      这些都是接入微信公众号最基础的常识，如果您还是搞不清楚的话，
      那就买一本《七天掌握微信公众号——从入门到放弃》之类的书好好学学。
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.aes>
  <article ng-if="lang == 'en'">
    <h4>WeChat AES Key</h4>
    <p>
      When the offical account connection is seted encryption mode, you need copy the AES Key into your WeChat Configuration.
    </p>
    <p>
      In my opinion you don't have to use encryption mode,
      you got nothing to hide.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信加密密钥(AES Key)</h4>
    <p>
      在接入微信公众号的时候，如果你设置消息使用加密模式传递，
      那么你就需要把那个加密密钥拿过来填写在这里。
      要是密钥错误的话最多就是不能用，也没别的什么大问题。
    </p>
    <p>
      不过我奉劝您，还是不要搞什么加密了。现在我们的平台也上也没有什么功能需要加密了传来传去的，非要去弄个加密模式，还要填个密钥，这不是黄胖塽年糕吗？明文用用么好了。
    </p>
  </article>
</script></script><script type=text/ng-template id=panels/media/media_panel.tmpl.html><md-content><div layout=row layout-wrap><div class=anim-show-hide flex=25><div class="grid float-case" aria-label="{{_('Remove')}}" ng-click=remove()><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary md-svg-icon=content:ic_block_24px></md-icon></div></div></div><div class=anim-show-hide flex=25><input class="ng-hide media-panel-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{mimetypes}}><div class="grid float-case" ng-click="select_file('.media-panel-upload', $event)" aria-label="{{_('Upload')}}" ng-disabled="upload_status == 1"><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary ng-show="upload_status == 0" md-svg-icon=file:ic_file_upload_24px></md-icon><md-icon class=md-warn ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=25></md-progress-circular></div></div></div></div><div class=anim-show-hide flex=25 ng-repeat="media in mediafiles|paginator:p.paged:p.perpage" ng-if=media.id><div class="grid bg-gray-trans" ng-show="media.type == 'image'" ng-click=insert(media)><img class=img-bg-cover ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}></div><div class="grid float-case" ng-show="media.type != 'image'" ng-click=insert(media)><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div></div></div><div class=anim-show-hide ng-show=p.has_more flex=25><div class="grid float-case" aria-label="{{_('More')}}" ng-click=p.more()><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></div></div></md-content></script><ng-include src="'navs/views/mainnav.tmpl.html'" ng-controller=mainNavCtrl ng-show=!editor_opened layout=column></ng-include><div flex layout=column><ng-include src="'navs/views/topbar.tmpl.html'" ng-show=!editor_opened ng-controller=topBarCtrl></ng-include><md-content class=ng-view layout=column flex></md-content></div><script src=server_conf.js?md5=733260ed5c></script><script src=base.min.js?md5=733260ed5c></script><script src=app.min.js?md5=733260ed5c></script><script src=locale.min.js?md5=733260ed5c></script></body></html>