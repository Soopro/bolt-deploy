<!DOCTYPE html>
<html lang={{lang}} ng-app=boltApp modern-browser=self ><head><title ng-bind="_('Soopro')+' | '+ _('Management')"></title><meta http-equiv=Content-Type content=text/html;charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=format-detection content=telephone=yes><meta http-equiv=X-UA-Compatible content=IE=edge><meta name=renderer content=webkit><meta name=description content=......><meta name=author content=redy><meta name=renderer content=webkit><link rel=apple-touch-icon-precomposed sizes=144x144 href=apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=favicon.png><link rel=stylesheet href=sup.app.min.css?md5=e1bacd4254></head><body layout=row><script type=text/ng-template id=blueprints/404.html><div flex=flex layout=column class=view-animate><div flex=flex layout=row layout-align="center center"><section flex=50><h1 class=md-display-3>{{ _('404!') }}</h1><p ng-bind-html="_('We can not find the page you are looking for. Maybe the address of the page was wrong. Anyway, click the button below to return.')"></p><md-button ng-href=/#/ aria-label="{{ _('Return') }}" class="md-icon-button md-raised md-primary"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></section></div></div></script><script type=text/ng-template id=blueprints/common/views/mainnav.tmpl.html><md-sidenav ng-if=root.hasSideNav() ng-class="{'open': isOpen()}" md-is-locked-open=isLockedOpen() md-component-id=main_nav flex=flex layout=column class="primary-nav md-sidenav-left md-whiteframe-z3 no-scroll"><md-toolbar><div class=md-toolbar-tools><div class=logo></div><span flex=flex></span><md-button aria-label="Toggle main nav" ng-click="toggleNav('main_nav')" ng-show=isOpen() class=md-icon-button><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></div></md-toolbar><md-content flex=flex><ul class=sidenav-menu><li></li><li ng-repeat="nav in navs.data"><div ng-if=!nav.alias class=name-tag> <span class="md-caption text-primary">{{ _(nav.name)}}</span></div><div ng-if="nav.alias && !nav.nodes"><md-button ng-click=go(nav.path) ng-class=nav.class ng-disabled=isCurrent(nav.alias) class=main-nav-btn><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico class=ico></md-icon><span class=text>{{_(nav.name)}}</span></md-button></div><div ng-if="nav.alias && nav.nodes"><md-button ng-click=toggle(nav.alias) ng-class=nav.class ng-disabled=isCurrent(nav.alias) class="main-nav-btn menu-btn-toggle"><div layout=row class=row><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico class=ico></md-icon><span flex=flex class=text>{{_(nav.name)}}</span><md-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': isShow(nav.alias) }" class=menu-toggle-icon></md-icon></div></md-button><ul ng-show=isShow(nav.alias) ng-class="{'active':isCurrent(nav.alias)}" class=menu-toggle-list><li ng-repeat="child in nav.nodes"><md-button ng-class=child.class ng-click=go(child.path) app-id={{child.app_id}}>{{child.app_id ? child.name : _(child.name)}}</md-button></li></ul></div></li></ul></md-content><div class=cr>&copy; Soopro Co.,ltd.</div></md-sidenav></script><script type=text/ng-template id=blueprints/common/views/topnav.tmpl.html><md-toolbar ng-if=root.hasTopNav() class="top-nav anim-fade"><div class=md-toolbar-tools><div ng-if="!showMenu() && root.hasSideNav()" class=anim-fade><md-button aria-label="Toggle main nav" ng-click="toggleNav('main_nav')" class=md-icon-button><md-icon md-svg-icon=nav:ic_menu_24px></md-icon></md-button></div><div ng-if=!root.hasSideNav() flex=flex class="logo anim-fade noleave"></div><div ng-if=root.hasSideNav() flex=flex class="breadcrumb anim-fade"><md-icon ng-if=navs.currIcon hide=hide show-gt-md=show-gt-md md-svg-icon={{navs.currIcon}} layout-margin=layout-margin></md-icon><span class=md-headline>{{ navs.currApp ? navs.currTitle : _(navs.currTitle) }}</span><md-icon ng-if=navs.currSubTitle hide=hide show-gt-md=show-gt-md md-svg-icon=nav:ic_chevron_right_24px></md-icon><span ng-if=navs.currSubTitle hide=hide show-gt-md=show-gt-md class=md-headline>{{ _(navs.currSubTitle) }}</span></div><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-button aria-label="{{_('Language')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_language_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{_('Language')}}"><md-drop-option ng-repeat="locale in locales" ng-disabled=currentLang(locale) ng-click=changeLang(locale)>{{ locale.text }}</md-drop-option></md-drop-optgroup></md-dropmenu><md-dropmenu disabled-auto-focus=disabled-auto-focus ng-if=root.isLogged()><md-drop-label><md-button aria-label="{{_('Settings')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{profile.display_name || profile.alias}}"><md-drop-option ng-click="go('user/profile')">{{ _('Profile') }}</md-drop-option><md-drop-option ng-click="go('user/security')">{{ _('Security') }}</md-drop-option><md-drop-option ng-click="go('user/invite')">{{ _('Invite Codes') }}</md-drop-option><md-divider></md-divider><md-drop-option ng-click=logout()>{{ _('Exit') }}</md-drop-option></md-drop-optgroup></md-dropmenu></div></md-toolbar></script><script type=text/ng-template id=blueprints/common/views/trashbar.tmpl.html><md-button aria-label="{{_('Delete')}}" ng-click=trash() ng-disabled=isEmptySelected() hide-sm=hide-sm class="md-warn md-hue-2 md-fab md-fab-bottom-right fixed"><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/crm/views/apply_edit.tmpl.html><md-dialog aria-label="{{_('Reservation')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Reservation') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content><h3 class=md-headline>{{ event.title }}</h3><h4 class=md-title>{{ apply.name }}</h4><p>{{ apply.message }}</p></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Ok')}}" ng-click=close() class="md-raised md-primary"> <span class=text>{{ _('Ok') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/crm/views/applyments.html><div flex=flex layout-margin=layout-margin class=view-animate><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('%s Reservations', event.title) }}</h2><div class=funcbar><md-button ng-click=back() class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to %s', event.title)}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('%s have <span class=text-primary>%s</span> reservations.', event.title, applyments.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="apply in applyments | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(event),'selected':isSelected(event)}" class="md-2-line md-padding vertical-center"><div ng-click=toggleSelect(event) class=md-list-item-text><h3>{{ apply.name }}</h3><p>{{apply.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Reservation')}}" ng-click=open(apply) class="md-raised md-icon-button"><md-icon md-svg-icon=action:ic_assignment_ind_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/event_edit.tmpl.html><md-dialog aria-label="{{_('Event')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Event') }}</span><span ng-if=!new>{{ _('Edit Event') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=event_form ng-submit=submit()><md-dialog-content><md-tabs md-dynamic-height=md-dynamic-height><md-tab label="{{_('Property')}}"><div class=tab-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=event.title md-maxlength=20 required=required><ng-messages for=event_form.title.$error ng-if=event_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=event.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 required=required ng-disabled=!new><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=event_form.alias.$error ng-if=event_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Time')}}</label><input type=text name=time ng-model=event.time md-maxlength=200></md-input-container><md-input-container><label>{{_('Location')}}</label><input type=text name=time ng-model=event.location md-maxlength=200></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=event.description md-maxlength=400 rows=3></textarea></md-input-container><p flex-order=3 ng-bind-html="_('* Remember to insert a form template after finish filling in properties.')" class="md-caption tip"></p></div></md-tab><md-tab label="{{_('Template')}}"><div class=tab-content><md-input-container><label>{{_('Template Code')}}</label><textarea name=template ng-model=event.template rows=8></textarea></md-input-container><p flex-order=3 class="md-caption tip">{{_('* Form template must be HTML format.')}}</p></div></md-tab></md-tabs></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" ng-click=trash() type=button ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Check')}}" ng-click=check() type=button ng-show=!new class=md-raised> <span class=text>{{ _('Check') }}</span></md-button><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/crm/views/events.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Events') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Event')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_event_24px class=ico></md-icon><span class=text>{{_('Add New Event')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> events.', events.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="event in events | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><div class=md-list-item-text><h3>{{ event.title }}</h3><p>{{ _('Location:') }}&nbsp;{{event.location}}</p><p>{{ _('Time:') }}&nbsp;{{event.time}}</p></div><div class=func><md-button aria-label="{{_('Reservation')}}" ng-click=check(event) class="md-raised md-icon-button"><md-icon md-svg-icon=notify:ic_event_note_24px></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click=edit(event) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/crm/views/members.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Members') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> members.', membersCount)"></span></md-subheader><md-list><div layout-gt-sm=row class=input-row><div flex-sm=flex-sm flex-gt-sm=33 layout=row><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=role ng-model=select_role placeholder="{{_('Member Role')}}"><md-optgroup label="{{_('Member Role')}}"><md-option value>{{_('Everyone')}}</md-option><md-option ng-repeat="role in roles" ng-value=role.id>{{ role.title }}</md-option></md-optgroup></md-select></md-input-container></div></div><div ng-repeat="member in members | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(member),'selected':isSelected(member)}" ng-show=showMember(member.role) class="md-3-line md-padding vertical-center"><img ng-click=toggleSelect(member) ng-src={{member.avatar}}?{{now}} alt={{member.name}} class="md-avatar s60"><div ng-click=toggleSelect(member) class=md-list-item-text><h3>{{ member.name }}</h3><p>{{member.role}}</p><p>{{member.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(member) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><md-list-item ng-show=checkEmpty() class=anim-item><div>{{ _('Sorry, did not find any member.') }}</div></md-list-item></md-list></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/crm/views/role_edit.tmpl.html><md-dialog aria-label="{{_('Member Role')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Member Role') }}</span><span ng-if=!new>{{ _('Edit Member Role') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=role_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=role.title md-maxlength=20 required=required><ng-messages for=role_form.title.$error ng-if=role_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=role.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 required=required ng-disabled=!new><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=role_form.alias.$error ng-if=role_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-disabled=submitted ng-show=!new class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-disabled=submitted ng-show=new class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/crm/views/roles.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Member Role') }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Role')}}" ng-disabled=!checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Role')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> member roles.', roles.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="role in roles" class=anim-item><md-list-item class="md-2-line md-padding vertical-center"><div class=md-list-item-text><h3 class=md-title>{{ role.title }}</h3><p>{{ role.alias }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(role) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=blueprints/editor/views/link_property_sheet.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=link_property_form ng-submit=save()><md-input-container class=anim-item><label>{{_('Link')}}</label><input type=text name=link ng-model=link.href maxlength=500 required=required><ng-messages for=link_form.link.$error ng-if=link_form.link.$touched><ng-message when=required>{{_("A link is required.")}}</ng-message></ng-messages></md-input-container><div ng-show=link.href class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=link.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=link_form.class.$error ng-if=link_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=blueprints/editor/views/media_property_sheet.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><md-input-container><label class=static-label>{{_('Image')}}</label><div flex-order=3 layout=row class=imgholder><div class="imgholder-inner anim-fade noleave"><img ng-src="{{media.thumbnail || media.src}}" ng-click=selectImg() alt="{{_('Image')}}"></div></div></md-input-container><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=media.title md-maxlength=60><ng-messages for=media_property_form.title.$error ng-if=media_property_form.title.$touched><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container class=anim-item><label>{{_('Link')}}</label><input type=text name=link ng-model=media.link maxlength=500></md-input-container><div ng-show=media.link class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=blueprints/editor/views/station.html><div flex=flex layout=row class=no-scroll><div layout=column ng-class="{'mobile': is_mobile}" class=editor-bar><div><md-button ng-click=back() aria-label="{{ _('Back') }}" class=md-icon-button><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><md-divider class=thick></md-divider></div><div ng-show=hasDeviceSwitcher()><md-button tabindex=-1 ng-click="selectDevice('desktop')" ng-disabled="currentDevice('desktop')" aria-label="{{ _('Desktop View') }}" class=md-icon-button><md-icon md-svg-icon=hardware:ic_desktop_mac_24px></md-icon></md-button><md-button tabindex=-1 ng-click="selectDevice('tablet')" ng-disabled="currentDevice('tablet')" aria-label="{{ _('Tablet View') }}" class=md-icon-button><md-icon md-svg-icon=hardware:ic_tablet_mac_24px></md-icon></md-button><md-button tabindex=-1 ng-click="selectDevice('phone')" ng-disabled="currentDevice('phone')" aria-label="{{ _('Phone View') }}" class=md-icon-button><md-icon md-svg-icon=hardware:ic_phone_iphone_24px></md-icon></md-button><md-divider class=thick></md-divider></div><div><md-button ng-href={{file.url}}?preview={{now}} target=_preview aria-label="{{ _('Preview') }}" class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><md-button ng-click=toggleProperty() aria-label="{{ _('Property') }}" ng-disabled=isPropertyLockedOpen() class=md-icon-button><md-icon md-svg-icon=action:ic_assignment_24px></md-icon></md-button><md-button ng-click=save() aria-label="{{ _('Save') }}" class=md-icon-button><md-icon md-svg-icon=content:ic_save_24px></md-icon></md-button><md-divider class=thick></md-divider></div><span flex=flex></span><div><md-button tabindex=-1 ng-click=trash() aria-label="{{ _('Delete') }}" ng-disabled=file.locked class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></div><div flex=flex layout=row class=editor-body><div ng-class="{'device-desktop': currentDevice('desktop'), 'device-tablet': currentDevice('tablet'), 'device-phone': currentDevice('phone'),'device-none': currentDevice()}" layout=column flex=flex><div flex=flex ng-show="toolbar_open && showCanvas && !useMarkdown" name=sup-editor-toolbar class="editor-toolbar md-whiteframe-z4"><div class=btn-group><md-button type=button class=btn-h2>H2</md-button><md-button type=button class=btn-h3>H3</md-button><md-button type=button class=btn-h4>H4</md-button><md-button type=button class=btn-h5>H5</md-button><md-button type=button class=btn-h6>H6</md-button><md-button aria-label=Paragraph type=button class=btn-p><md-icon md-svg-icon=custom:ic_paragraph_24px></md-icon></md-button><md-button aria-label=Quote type=button class=btn-quote><md-icon md-svg-icon=editor:ic_format_quote_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Italic class=btn-i><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button type=button aria-label=Bold class=btn-b><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button type=button aria-label=Strikethrough class=btn-strike><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button type=button aria-label=Underline class=btn-underline><md-icon md-svg-icon=editor:ic_format_underline_24px></md-icon></md-button><md-button type=button aria-label=Sub class=btn-sub><md-icon md-svg-icon=custom:ic_subscript_24px></md-icon></md-button><md-button type=button aria-label=Sup class=btn-sup><md-icon md-svg-icon=custom:ic_superscript_24px></md-icon></md-button><md-button type=button aria-label=Mark class=btn-mark><md-icon md-svg-icon=editor:ic_format_paint_24px></md-icon></md-button><md-button type=button aria-label=Clear class=btn-clear><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Image class=btn-img><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button type=button aria-label=Link class=btn-a><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button><md-button type=button aria-label=Hr class=btn-hr><md-icon md-svg-icon=custom:ic_page_break_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Ol class=btn-ol><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon></md-button><md-button type=button aria-label=Ul class=btn-ul><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon></md-button><md-button type=button aria-label=Outdent class=btn-outdent><md-icon md-svg-icon=editor:ic_format_indent_decrease_24px></md-icon></md-button><md-button type=button aria-label=Indent class=btn-indent><md-icon md-svg-icon=editor:ic_format_indent_increase_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label="Align left" class=btn-jleft><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-button type=button aria-label="Align center" class=btn-jcenter><md-icon md-svg-icon=editor:ic_format_align_center_24px></md-icon></md-button><md-button type=button aria-label="Align right" class=btn-jright><md-icon md-svg-icon=editor:ic_format_align_right_24px></md-icon></md-button><md-button type=button aria-label="Align Justify" class=btn-jfull><md-icon md-svg-icon=editor:ic_format_align_justify_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Undo class=btn-undo><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button type=button aria-label=Redo class=btn-redo><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label="Html Code" class=btn-html><md-icon md-svg-icon=custom:ic_html_code_24px></md-icon></md-button></div></div><div id=media-property-sheet ng-show="media_property_open && !useMarkdown"></div><div id=link-property-sheet ng-show="link_property_open && !useMarkdown"></div><div id=form flex=flex ng-if=showForm layout=column><div flex=flex layout=column class=vh-max><md-content layout=column flex=flex><md-subheader class="md-no-sticky md-primary">{{_('Content')}}</md-subheader><form novalidate=novalidate name=forms.editor_form ng-submit=save() class=md-padding><div ng-repeat="elm in editor_filed_elements" ng-init="elm.field = elm.key+'-'+$index"><md-input-container ng-if="elm.type == 'input'"><label>{{_t(elm.name)}}</label><input name={{elm.field}} ng-model=file.meta[elm.key] md-maxlength=elm.max><ng-messages for=forms.editor_form[elm.field].$error ng-if=forms.editor_form[elm.field].$touched><ng-message when=md-maxlength>{{_("Text is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-if="elm.type == 'textarea'"><label>{{_t(elm.name)}}</label><textarea name={{elm.field}} rows=4 ng-model=file.meta[elm.key] md-maxlength=elm.max></textarea><ng-messages for=forms.editor_form[elm.field].$error ng-if=forms.editor_form[elm.field].$touched><ng-message when=md-maxlength>{{_("Text is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-if="elm.type == 'media'" layout-align="center start"><label class=static-label>{{_t(elm.name)}}</label><div flex-order=3 class=md-padding><md-button ng-show=!file.meta[elm.key].src aria-label="{{_('Media')}}" ng-click=selectMediaImg(elm.key) type=button class=md-raised><md-icon md-svg-icon=action:ic_perm_media_24px class=ico></md-icon><span class=text>{{_('Insert a Media')}}</span></md-button><div ng-show=file.meta[elm.key].src class=imgholder><div class="imgholder-inner anim-fade noleave"><img ng-src={{file.meta[elm.key].src}} ng-click=selectMediaImg(elm.key) alt={{_t(elm.name)}} class=md-whiteframe-z2><md-button aria-label="{{_('Cancel')}}" type=button ng-click="selectMediaImg(elm.key, true)" class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></div></md-input-container><md-input-container ng-if="elm.type == 'bg'" layout-align="center start"><label class=static-label>{{_t(elm.name)}}</label><div flex-order=3 class=md-padding><md-button ng-show=!file.meta[elm.key].src aria-label="{{_('Background')}}" ng-click=selectBgImg(elm.key) type=button class=md-raised><md-icon md-svg-icon=image:ic_landscape_24px class=ico></md-icon><span class=text>{{_('Insert a Background')}}</span></md-button><div ng-show=file.meta[elm.key].src class=imgholder><div class="imgholder-inner anim-fade noleave"><img ng-src={{file.meta[elm.key].src}} ng-click=selectBgImg(elm.key) alt={{_t(elm.name)}} class=md-whiteframe-z2><md-button aria-label="{{_('Cancel')}}" type=button ng-click="selectBgImg(elm.key, true)" class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></div></md-input-container><md-input-container ng-if="elm.type == 'gallery'" layout-align="center start"><label class=static-label>{{_t(elm.name)}}</label><div flex-order=3 class=md-padding><md-button ng-show="!file.meta[elm.key] || file.meta[elm.key].length <= 0" aria-label="{{_('Gallery')}}" ng-click=selectGallery(elm.key) type=button class=md-raised><md-icon md-svg-icon=image:ic_photo_album_24px class=ico></md-icon><span class=text>{{_('Insert a Gallery')}}</span></md-button><div ng-show="file.meta[elm.key].length > 0" class=gallery-holder><div ng-repeat="gallery_img in file.meta[elm.key]" class=imgholder><div ng-click=selectGallery(elm.key) class="imgholder-inner anim-fade noleave"><img ng-src={{gallery_img.src}} alt={{gallery_img.title}} class=md-whiteframe-z2></div></div><md-button aria-label="{{_('Cancel')}}" type=button ng-click="selectGallery(elm.key, true)" class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container ng-if="elm.type == 'button'"><label class=static-label>{{_t(elm.name)}}</label><div flex-order=3 class=md-padding><md-button aria-label="{{_('Button')}}" ng-click=selectButton(elm.key) type=button class=md-raised><md-icon md-svg-icon=hardware:ic_mouse_24px class=ico></md-icon><span class=text>{{_('Edit Button')}}</span></md-button></div></md-input-container><md-input-container ng-if="elm.type == 'collect'"><label class=static-label>{{_t(elm.name)}}</label><div flex-order=3 class=md-padding><md-button aria-label="{{_('Collect')}}" ng-click="selectCollect(elm.key, elm.limit)" type=button class=md-raised><md-icon md-svg-icon=device:ic_storage_24px class=ico></md-icon><span class=text>{{_('Edit Collect')}}</span></md-button></div></md-input-container><md-input-container ng-if="elm.type == 'select'"><label class=static-label>{{_t(elm.name)}}</label><md-select ng-if=!elm.multiple flex-order=2 layout=column ng-model=file.meta[elm.key] placeholder="{{_('Select a Item')}}"><md-option ng-value=item.value ng-repeat="item in elm.options"><span class=text>{{_t(item.name)}}</span></md-option></md-select><md-select ng-if=elm.multiple multiple=multiple flex-order=2 layout=column ng-model=file.meta[elm.key] placeholder="{{_('Select a Item')}}"><md-option ng-value=item.value ng-repeat="item in elm.options"><span class=text>{{_t(item.name)}}</span></md-option></md-select></md-input-container><md-input-container ng-if="elm.type == 'switch'"><label class=static-label>{{_t(elm.name)}}</label><md-switch ng-model=file.meta[elm.key] aria-label={{_t(elm.name)}} flex-order=3><span ng-if=!file.meta[elm.key]>{{ _(elm.checked) }}</span><span ng-if=file.meta[elm.key]>{{ _(elm.unchecked) }}</span></md-switch></md-input-container><md-input-container ng-if="elm.type == 'script'"><label class=static-label>{{_t(elm.name)}}</label><div flex-order=3 class=md-padding><md-button aria-label="{{_('Script')}}" ng-click=selectScript(elm.key) type=button class=md-raised><md-icon md-svg-icon=action:ic_perm_data_setting_24px class=ico></md-icon><span class=text>{{_('Edit Script')}}</span></md-button></div></md-input-container><div ng-if="elm.type == 'content'" class=input-container><label class=static-label>{{_t(elm.name)}}</label><md-card flex-order=3 ng-if=!useMarkdown><div name=sup-editor-{{$index}}-toolbar ng-disabled=!toolbar_open class="editor-toolbar inner"><div class=btn-group><md-button type=button class=btn-h2>H2</md-button><md-button type=button class=btn-h3>H3</md-button><md-button type=button class=btn-h4>H4</md-button><md-button type=button class=btn-h5>H5</md-button><md-button type=button class=btn-h6>H6</md-button><md-button aria-label=Paragraph type=button class=btn-p><md-icon md-svg-icon=custom:ic_paragraph_24px></md-icon></md-button><md-button aria-label=Quote type=button class=btn-quote><md-icon md-svg-icon=editor:ic_format_quote_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Italic class=btn-i><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button type=button aria-label=Bold class=btn-b><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button type=button aria-label=Strikethrough class=btn-strike><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button type=button aria-label=Underline class=btn-underline><md-icon md-svg-icon=editor:ic_format_underline_24px></md-icon></md-button><md-button type=button aria-label=Sub class=btn-sub><md-icon md-svg-icon=custom:ic_subscript_24px></md-icon></md-button><md-button type=button aria-label=Sup class=btn-sup><md-icon md-svg-icon=custom:ic_superscript_24px></md-icon></md-button><md-button type=button aria-label=Mark class=btn-mark><md-icon md-svg-icon=editor:ic_format_paint_24px></md-icon></md-button><md-button type=button aria-label=Clear class=btn-clear><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Image class=btn-img><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button type=button aria-label=Link class=btn-a><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button><md-button type=button aria-label=Hr class=btn-hr><md-icon md-svg-icon=custom:ic_page_break_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Ol class=btn-ol><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon></md-button><md-button type=button aria-label=Ul class=btn-ul><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon></md-button><md-button type=button aria-label=Outdent class=btn-outdent><md-icon md-svg-icon=editor:ic_format_indent_decrease_24px></md-icon></md-button><md-button type=button aria-label=Indent class=btn-indent><md-icon md-svg-icon=editor:ic_format_indent_increase_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label="Align left" class=btn-jleft><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-button type=button aria-label="Align center" class=btn-jcenter><md-icon md-svg-icon=editor:ic_format_align_center_24px></md-icon></md-button><md-button type=button aria-label="Align right" class=btn-jright><md-icon md-svg-icon=editor:ic_format_align_right_24px></md-icon></md-button><md-button type=button aria-label="Align Justify" class=btn-jfull><md-icon md-svg-icon=editor:ic_format_align_justify_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Undo class=btn-undo><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button type=button aria-label=Redo class=btn-redo><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label="Html Code" class=btn-html><md-icon md-svg-icon=custom:ic_html_code_24px></md-icon></md-button></div></div><md-card-content><div ng-model=file.content sup-angular-wysiwyg=sup-editor-{{$index}} skip-iframe=true class="content-area editor-rich-content"></div></md-card-content></md-card><md-card flex-order=3 ng-if=useMarkdown><div name=sup-markdown-{{$index}}-toolbar class="editor-toolbar inner"><div class=btn-group><md-button type=button aria-label=Italic class=btn-i><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button type=button aria-label=Bold class=btn-b><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button type=button aria-label=Strikethrough class=btn-strike><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button type=button aria-label=Hr class=btn-hr><md-icon md-svg-icon=custom:ic_page_break_24px></md-icon></md-button><md-button type=button aria-label=Code class=btn-code><md-icon md-svg-icon=custom:ic_code_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Image class=btn-img><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button type=button aria-label=Link class=btn-a><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Undo class=btn-undo><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button type=button aria-label=Redo class=btn-redo><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button></div><div class="btn-group pull-right"><md-button type=button aria-label=Markdown class=btn-markdown><md-icon md-svg-icon=custom:ic_markdown_24px></md-icon></md-button></div></div><md-card-content layout=row><textarea flex=flex sup-angular-markdown=sup-markdown-{{$index}} aria-label="{{_('Markdown')}}" ng-model=file.markdown output=file.content rows=12 skip-iframe=true class=content-area></textarea></md-card-content></md-card></div></div></form></md-content></div></div><div id=canvas flex=flex ng-if="showCanvas && !useMarkdown" layout=column layout-align="center center" ng-class="{'tablet-bg':currentDevice('tablet'),'phone-bg': currentDevice('phone')}" ng-click=blurCanvas()><iframe flex=flex src=canvas ng-class="{'empty':currentDevice(),'tablet':currentDevice('tablet'),'phone': currentDevice('phone')}" scrolling=auto></iframe></div><div id=markdown flex=flex ng-if="useMarkdown && !showForm" layout=row><div flex=45 layout=column class=vh-max><md-content layout=column flex=flex><form flex=flex novalidate=novalidate name=forms.editor_markdown ng-submit=save() layout=column><div flex=flex layout=column class="input-container no-padding"><div name=sup-markdown-toolbar class="editor-toolbar inner"><div class=btn-group><md-button type=button aria-label=Italic class=btn-i><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button type=button aria-label=Bold class=btn-b><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button type=button aria-label=Strikethrough class=btn-strike><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button type=button aria-label=Hr class=btn-hr><md-icon md-svg-icon=custom:ic_page_break_24px></md-icon></md-button><md-button type=button aria-label=Code class=btn-code><md-icon md-svg-icon=custom:ic_code_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Image class=btn-img><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button type=button aria-label=Link class=btn-a><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button></div><div class=btn-group><md-button type=button aria-label=Undo class=btn-undo><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button type=button aria-label=Redo class=btn-redo><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button></div><div class="btn-group pull-right"><md-button type=button aria-label=Markdown class=btn-markdown><md-icon md-svg-icon=custom:ic_markdown_24px></md-icon></md-button></div></div><textarea flex=flex sup-angular-markdown=sup-markdown aria-label="{{_('Markdown')}}" ng-model=file.markdown output=file.content rows=12 skip-iframe=true class=no-resize></textarea><p flex-order=3 ng-bind-html="_('* It is specifically for text content. Insert Markdown in side HTML tag might not work exactly the same with other platform, for example github.com.')" class="md-margin md-caption tip"></p></div></form></md-content></div><div flex=55 layout=column class=vh-max><iframe flex=flex src=canvas scrolling=auto></iframe></div></div></div><md-sidenav md-component-id=editor_property md-is-locked-open=isPropertyLockedOpen() layout=column class="md-sidenav-right md-whiteframe-z3"><md-content><md-subheader class="md-no-sticky md-primary">{{_('Property')}}</md-subheader><form novalidate=novalidate name=property_form ng-submit=save() class=md-padding><md-input-container ng-show="themeSupport('featured_img')"><label class=static-label>{{_('Featured Image')}}</label><div flex-order=3 layout=row layout-align="center center" class="imgholder aside-img"><md-icon ng-show=!file.meta.featured_img.src md-svg-icon=action:ic_perm_media_24px ng-click=selectFeaturedImg() class="ico s48"></md-icon><div ng-show=file.meta.featured_img.src class="imgholder-inner anim-fade noleave"><img ng-src={{file.meta.featured_img.src}} ng-click=selectFeaturedImg() alt="{{_('Featured Image')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-click=selectFeaturedImg(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container ng-show="themeSupport('title')"><label>{{_('Title')}}</label><input type=text name=title ng-model=file.meta.title md-maxlength=120><ng-messages for=property_form.title.$error ng-if=property_form.title.$touched><ng-message when=md-maxlength>{{_("Text is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="themeSupport('description')"><label>{{_('Description')}}</label><textarea type=text name=description rows=3 ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=property_form.description.$error ng-if=property_form.description.$touched><ng-message when=md-maxlength>{{_("Text is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-repeat="tax in taxonomy" ng-show="themeSupport('taxonomy')"><label class=static-label>{{_(tax.title)}}</label><md-select aria-label="{{_('tax.title')}}" flex-order=2 layout=column multiple=multiple placeholder="{{_('Uncategorized')}}" ng-model=file.meta[tax.alias]><md-option ng-value=term.alias ng-repeat="term in tax.terms"><span class=tip>{{repeatStr(term.level, '&ndash;')}} </span><span class=text>{{_(term.title)}}</span></md-option></md-select></md-input-container><md-input-container ng-show="themeSupport('tags')"><label>{{_('Tags')}}</label><textarea rows=3 name=tags ng-model=tags></textarea></md-input-container><md-input-container><md-button ng-click=toggleAdvProperty() type=button><md-icon ng-class="{'toggled':property_adv}" md-svg-icon=nav:ic_expand_more_24px class="ico toggle-icon"></md-icon><span class=text>{{_('Advanced Options')}}</span></md-button></md-input-container><div ng-show=property_adv class=anim-block><md-input-container><label class=static-label>{{_('Template')}}</label><md-select flex-order=2 layout=column name=template ng-model=file.meta.template placeholder="{{_('Select a template')}}"><md-option ng-value=tpl.alias ng-repeat="tpl in templates"> <span class=text>{{_t(tpl.name)}}</span></md-option></md-select></md-input-container><md-input-container ng-show="themeSupport('date')"><label>{{_('Date')}}</label><div layout=row flex-order=2><input type=date name=date ng-model=date><md-button flex-order=2 aria-label="{{_('Get Today Date')}}" ng-click=getToday() type=button class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button></div><ng-messages for=property_form.date.$error ng-if=property_form.date.$touched><ng-message when=date>{{_("Invalid date format.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="themeSupport('author')"><label>{{_('Author')}}</label><div layout=row flex-order=2><input type=text name=author ng-model=file.meta.author md-maxlength=60><md-button flex-order=2 aria-label="{{_('Get Author Name')}}" ng-click=getAuthor() type=button class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button></div><ng-messages for=property_form.author.$error ng-if=property_form.author.$touched><ng-message when=md-maxlength>{{_("Text is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="themeSupport('priority')"><label>{{_('Priority')}}</label><input type=number name=priority ng-model=file.priority><ng-messages for=property_form.priority.$error ng-if=property_form.priority.$touched><ng-message when=number>{{_("Must be a number.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="themeSupport('parent')"><label>{{_('Parent')}}</label><input type=parent name=parent ng-model=file.parent ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=200><ng-messages for=property_form.parent.$error ng-if=property_form.parent.$touched><ng-message when=pattern>{{_("Parent is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="themeSupport('redirect')"><label>{{_('Redirect to')}}</label><input type=url name=redirect ng-model=file.meta.redirect><ng-messages for=property_form.redirect.$error ng-if=property_form.redirect.$touched><ng-message when=url>{{_("Must be a URL.")}}</ng-message></ng-messages></md-input-container></div><md-input-container><md-switch ng-model=file.status aria-label="{{_('Status')}}" ng-true-value=1 ng-false-value=0><span ng-if="file.status == 1">{{ _('Published') }}</span><span ng-if="file.status == 0">{{ _('Draft') }}</span></md-switch></md-input-container><md-input-container><md-button class="md-raised md-primary"><span class=text>{{_('Save')}}</span></md-button></md-input-container></form></md-content></md-sidenav></div></div></script><script type=text/ng-template id=blueprints/portal/views/create_app.html><div flex=flex layout=column class=view-animate><div flex=flex layout=row layout-align="center center"><section flex=60><h2 class=md-headline>{{ _('Create New App') }}</h2><form novalidate=novalidate name=app_form ng-submit=create()><md-input-container><md-select layout=column name=type ng-model=app.type placeholder="{{_('Select an App Type')}}" ng-disabled=reached_max required=required><md-option ng-value=type.alias ng-repeat="type in app_types"><md-icon md-svg-icon={{type.ico}}></md-icon><span class=text>{{_(type.name)}}</span></md-option></md-select><ng-messages for=app_form.type.$error ng-if=app_form.type.$dirty><ng-message when=required>{{_("App type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('URL Alias')}}</label><input type=text name=alias ng-model=app.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=50 ng-disabled=reached_max required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=app_form.alias.$error ng-if=app_form.alias.$touched><ng-message when=required>{{_("URL Alias is required.")}}</ng-message><ng-message when=pattern> {{_("URL Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=app.title md-maxlength=60 ng-disabled=reached_max required><ng-messages for=app_form.title.$error ng-if=app_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{ _('Cancel') }}" type=button ng-click=cancel() class=md-icon-button><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><span flex=flex></span><md-button ng-disabled=reached_max type=submit class="md-raised md-primary"> <span class=text>{{_('Create')}}</span></md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/portal/views/portal.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row class=cards-horizontal><md-card flex-gt-lg=30 flex-lg=45 flex-md=45 flex-sm=90 flex=flex layout=column ng-repeat="app in apps" class=app><div flex=flex layout=column ng-if=!app._empty><div flex=flex tabindex=-1 ng-if=app.banner ng-click=enterApp(app) style="{{'background-image:url('+app.featured_img+'?'+now+')'}}" class=feature></div><div flex=flex layout=row layout-align="center center" tabindex=-1 ng-if=!app.banner ng-click=enterApp(app) class=feature><md-icon md-svg-icon={{getAppIcon(app.type)}}></md-icon></div><md-card-content layout=column class=description><div flex=flex><h2 class=md-title>{{app.title}}</h2><p class=line-clamp>{{app.description}}</p></div><div class=func><md-button ng-click=enterApp(app) class="md-raised md-primary">{{_("Enter")}}</md-button></div></md-card-content></div><div flex=flex layout=column ng-if=app._empty><md-card-content flex=flex layout=row layout-align="center center" ng-click=createApp(app.alias)><md-icon md-svg-icon=content:ic_add_box_24px class="md-primary s60"></md-icon></md-card-content></div></md-card></div></div></script><script type=text/ng-template id=blueprints/store/views/detail.tmpl.html><md-dialog aria-label={{item.title}} flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if="item.type == 'theme'">{{ _('Theme') }}</span><span ng-if="item.type == 'extension'">{{ _('Extension') }}</span><span flex=flex></span><md-button aria-label="Copy URL" ng-click=copy() class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content ng-style="{'background-image': item.meta.poster ? 'url('+item.meta.poster+')':'none'}" class=bg-img-top-right><img ng-src={{item.thumbnail}} alt={{item.alias}} class=s60><h2 class=md-headline><span>{{ _t(item.title)}}</span></h2><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Description') }}</h3><p>{{ _t(item.description) }}</p></div><div class=text-block><h3 class=md-title>{{ _('Capability') }}</h3><p> <span ng-repeat="capa in capabilities">{{_(capa)}}{{!$last?_(', '):''}}</span></p></div><div class=text-block><h3 class=md-title>{{ _('Price') }}</h3><p class="text-primary md-display-1"> <span ng-if="item.price > 0">{{item.price}}</span><span ng-if="item.price <= 0">{{_("Free")}}</span></p></div><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Last Updated') }}</h3><p>{{item.updated | dateformat}}</p></div></md-dialog-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Buy')}}" ng-class="{'md-primary':!item.purchased}" ng-click=buy() ng-disabled=item.purchased class=md-raised> <span ng-if="item.price == 0 && !item.purchased" class=text>{{ _('Free') }}</span><span ng-if="item.price > 0 && !item.purchased" class=text>{{_('Buy')}}</span><span ng-if=item.purchased class=text>{{ _('Owned') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/store/views/purchased.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Purchased Items') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You own <span class=text-primary>%s</span> themes and <span class=text-primary>%s</span> extensions.', themes_count, exts_count)"></span></md-subheader><md-list><div ng-repeat="item in goods | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{item.thumbnail}} alt={{item.alias}} class="md-avatar s48"><div class=md-list-item-text><h3>{{ _t(item.title) }}</h3><p>{{ _t(item.description) }}</p></div><div class=func><md-button hide-sm=hide-sm aria-label="{{_('Detail')}}" ng-click=open(item) class=md-raised> <span class=text>{{ _('Detail') }}</span></md-button><md-button hide-gt-sm=hide-gt-sm aria-label="{{_('Detail')}}" ng-click=open(item) class="md-raised md-icon-button"><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><md-list-item ng-if=empty class="anim-item noleave"><div>{{ _('Sorry, did not find anything.') }}</div></md-list-item></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><md-button class="md-accent md-fab md-fab-top-right fixed-escape-top">{{customer.property.credit}}</md-button></div></script><script type=text/ng-template id=blueprints/store/views/store.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Themes and Extensions') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('We have <span class=text-primary>%s</span> themes and <span class=text-primary>%s</span> extensions in store.', themes_count, exts_count)"></span></md-subheader><md-list><div layout-gt-sm=row class=input-row><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=type ng-model=selected_type placeholder="{{_('Type')}}"><md-optgroup label="{{_('Type')}}"><md-option value>{{_('All')}}</md-option><md-option value=extension>{{_('Extension')}}</md-option><md-option value=theme>{{_('Theme')}}</md-option></md-optgroup></md-select></md-input-container></div><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=type ng-model=selected_capability placeholder="{{_('Capability')}}"><md-optgroup label="{{_('Capability')}}"><md-option value>{{_('for All')}}</md-option><md-option value=ws>{{_('for Website')}}</md-option><md-option value=wx>{{_('for WeChat Buzz')}}</md-option><md-option value=wb>{{_('for Digital Book')}}</md-option></md-optgroup></md-select></md-input-container></div><form name=search_form ng-submit=search() flex=flex layout=row class=icon-input><md-input-container flex=flex layout-margin=layout-margin md-no-float=md-no-float><input type=text name=search ng-model=search_key placeholder="{{_('Search...')}}" maxlength=100></md-input-container><md-icon md-svg-icon=action:ic_search_24px ng-click=search()></md-icon></form></div><div ng-repeat="item in goods | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{item.thumbnail}} alt={{item.alias}} class="md-avatar s48"><div class=md-list-item-text><h3>{{ _t(item.title) }}</h3><p>{{ _t(item.description)}}</p></div><div class=func><md-button hide-sm=hide-sm aria-label="{{_('Detail')}}" ng-class="{'md-primary':!item.purchased}" ng-click=open(item) class=md-raised> <span ng-if="item.price == 0 && !item.purchased" class=text>{{ _('Free') }}</span><span ng-if="item.price > 0 && !item.purchased" class=text>{{item.price | number:2}}</span><span ng-if=item.purchased class=text>{{ _('Owned') }}</span></md-button><md-button hide-gt-sm=hide-gt-sm aria-label="{{_('Detail')}}" ng-class="{'md-primary':!item.purchased}" ng-click=open(item) class="md-raised md-icon-button"><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div><md-list-item ng-show=checkEmpty() class=anim-fade><div>{{ _('Sorry, didn\&apos;t find anything.') }}</div></md-list-item></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><md-button class="md-accent md-fab md-fab-top-right fixed-escape-top">{{customer.property.credit}}</md-button></div></script><script type=text/ng-template id=blueprints/user/views/activate.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=!activated class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Activate') }}</h1><form novalidate=novalidate name=activate_form ng-submit=submit()><div layout=row><div style="line-height:70px; padding-right:16px;">i.soopro.com/</div><div flex=flex><md-input-container><label>{{_('User Name')}}</label><input type=text name=alias ng-model=activate.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=activate_form.alias.$error ng-if=activate_form.alias.$touched><ng-message when=required>{{_("Username is required.")}}</ng-message><ng-message when=pattern> {{_("Username can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></div></div><md-input-container><label>{{_('Set Password')}}</label><input type=password name=pwd ng-model=activate.pwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=activate_form.pwd.$error ng-if=activate_form.pwd.$touched><ng-message when=required>{{_("Password is required.")}}</ng-message><ng-message when=pattern>{{_("Password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Confirm Password')}}</label><input type=password name=pwd2 ng-model=activate.pwd2 maxlength=50 data-password-verify=activate.pwd required=required><ng-messages for=activate_form.pwd2.$error ng-if=activate_form.pwd2.$touched><ng-message when=required>{{_("Password confirmation is required.")}}</ng-message><ng-message when=passwordVerify>{{_("The password confirmation does not match.")}}</ng-message></ng-messages></md-input-container><md-input-container><div layout=row><md-checkbox ng-model=accept ng-change=checkAccept() class=md-primary> {{ _('I agree to the') }} </md-checkbox><div flex=flex class=checkbox-tail><a ng-href={{getTermsURL()}} target=_blank class=md-primary>{{ _('Terms of Use') }}</a></div></div><input type=hidden aria-label="for accept checkbox" name=accept ng-model=acceptbox required=required><ng-messages for=activate_form.accept.$error ng-if=activate_form.accept.$touched><ng-message when=required>{{_("You must accpet for activation.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit ng-disabled=!inactive class="md-raised md-primary"> <span class=text>{{_('Activate')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=activated class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Activated') }}</h1><p class=md-display-1>{{user_alias}}</p><p ng-bind-html="_('This account has been activated successfully!')"></p><md-button ng-href=/#/ class="md-raised md-primary"> <span class=text>{{_('Enter')}}</span></md-button></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/activate_resend.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=!resended class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Re Activate') }}</h1><form novalidate=novalidate name=resend_form ng-submit=submit()><md-input-container><label>{{_('Registered Email address')}}</label><input type=email name=log ng-model=resend.log ng-pattern=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/ maxlength=100 required><ng-messages for=resend_form.log.$error ng-if=resend_form.log.$touched><ng-message when=required>{{_("Email address is required.")}}</ng-message><ng-message when=pattern>{{_("Please enter a valid email address.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Re Send')}}</span></md-button><span flex=flex></span><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/login> <span class=text>{{_('Go Login')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=resended class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Activate Mail Sent') }}</h1><p class=md-display-1>{{resend.log}}</p><p ng-bind-html="_('Activation email has been sent to your address. Please follow the instructions in the email to activate your account.')"></p><md-button ng-href=/#/login class="md-raised md-primary"> <span class=text>{{_('Return')}}</span></md-button></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/invite.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('My Invitation Codes') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> invitation codes.', invites.length)"></span></md-subheader><md-list><div ng-repeat="item in invites" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><div class=md-list-item-text><p class="md-caption text-break">{{item.code}}</p></div><div class=func><md-button aria-label="{{_('Copy Invite Code')}}" ng-click=copyCode(item.code) ng-disabled=item.invited class=md-icon-button><md-icon md-svg-icon=comm:ic_vpn_key_24px></md-icon></md-button><md-button aria-label="{{_('Copy Invite URL')}}" ng-click=copyURL(item.code) ng-disabled=item.invited class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div><div flex-gt-md=40 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin ng-show=invites_loaded class=anim-fade><h2 class=md-title>{{ _('Generate Invite Code') }}</h2><div class=text-container><span class=md-display-3>{{codes_remained}}</span><span> &nbsp; {{ _('Codes remained') }}</span></div><div class=text-container><span ng-bind-html="_('* This invite code can be used to invite your friends to register.')" class=md-caption></span></div><div layout=row><md-button ng-click=generate() ng-disabled="!codes_remained || codes_remained <= 0" class="md-raised md-primary"> <span class=text>{{_('Generate')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/user/views/login.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Login') }}</h1><form novalidate=novalidate name=login_form ng-submit=submit()><md-input-container><label>{{_('Login by Email')}}</label><input type=email name=log ng-model=login.log maxlength=100 required><ng-messages for=login_form.log.$error ng-if=login_form.log.$touched><ng-message when=required>{{_("Login is required.")}}</ng-message><ng-message when=email>{{_("Login must be a registered email address.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Password')}}</label><input type=password name=pwd ng-model=login.pwd ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" maxlength=100 required=required><ng-messages for=login_form.pwd.$error ng-if=login_form.pwd.$touched><ng-message when=required>{{_("Password is required.")}}</ng-message><ng-message when=pattern>{{_("Password is invalid.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Enter')}}</span></md-button><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/recover_pwd> <span class=text>{{_('Forget password?')}}</span></md-button><span flex=flex></span><md-button ng-href=/#/register class=md-primary> <span class=text>{{_('Register A New Account')}}</span></md-button></div></form></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/oauth.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center"><section flex-gt-sm=60 flex=flex><h1 ng-if=oauth_error class=md-display-3>{{ _('Sorry! Authentication failed.') }}</h1></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/profile.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('User Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=saveProfile()><md-input-container><label>{{_('Name')}}</label><input type=text name=display_name ng-model=profile.display_name md-maxlength=30><ng-messages for=profile_form.display_name.$error ng-if=profile_form.display_name.$touched><ng-message when=md-maxlength>{{_("Name must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Email')}}</label><input type=email name=email ng-model=profile.email ng-pattern=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/ ><p flex-order=3 ng-bind-html="_('* This email address will also be used to retrieve password.')" class="md-caption tip"></p><ng-messages for=profile_form.email.$error ng-if=profile_form.email.$touched><ng-message when=pattern>{{_("Please enter a valid email address.")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Account Information') }}</h2><form novalidate=novalidate name=account_form ng-submit=saveAccount()><md-input-container><label class=static-label>{{_('Login')}}</label><p flex-order=2 class=text-primary>{{profile.login}}</p></md-input-container><md-input-container><label class=static-label>{{_('User Name')}}</label><p flex-order=2 class=text-primary>{{profile.alias}}</p></md-input-container><md-input-container><label class=static-label>{{ _('Plan')}}</label><p flex-order=2 class=text-primary>{{_(plan[property.plan])}}</p></md-input-container></form></div></div></div></script><script type=text/ng-template id=blueprints/user/views/recover_pwd.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=!recovered class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Recovery') }}</h1><form novalidate=novalidate name=recovery_form ng-submit=submit()><md-input-container><label>{{_('Registered Email Address')}}</label><input type=email name=log ng-model=recover.log ng-pattern=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/ maxlength=100 required><ng-messages for=recovery_form.log.$error ng-if=recovery_form.log.$touched><ng-message when=required>{{_("Registered email is required.")}}</ng-message><ng-message when=pattern>{{_("Please enter a valid email address.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Recover')}}</span></md-button><span flex=flex></span><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/login> <span class=text>{{_('Go Login')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=recovered class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Recovered') }}</h1><p class=md-display-1>{{recover.log}}</p><p ng-bind-html="_('Activation email has been sent to your address. Please follow the instructions in the email to activate your account.')"></p><md-button ng-href=/#/login class="md-raised md-primary"> <span class=text>{{_('Return')}}</span></md-button></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/register.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=!registered class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Register') }}</h1><form novalidate=novalidate name=register_form ng-submit=submit()><md-input-container><label>{{_('Login (Email Address)')}}</label><input type=email name=log ng-model=register.log maxlength=100 required><ng-messages for=register_form.log.$error ng-if=register_form.log.$touched><ng-message when=required>{{_("Register email is required.")}}</ng-message><ng-message when=email>{{_("Please enter a valid email address.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-if=has_code><label>{{_('Invite Code')}}</label><input type=text name=code ng-model=register.code maxlength=100><p flex-order=3 class=md-caption>{{_('* Leave it blank if you do not have any invite code.')}}</p></md-input-container><md-input-container><div layout=row><md-checkbox ng-model=accept ng-change=checkAccept() class=md-primary> {{ _('I agree to the') }} </md-checkbox><div flex=flex class=checkbox-tail><a ng-href={{getTermsURL()}} target=_blank class=md-primary>{{ _('Terms of Use') }}</a></div></div><input type=hidden aria-label="for accept checkbox" name=accept ng-model=acceptbox required=required><ng-messages for=register_form.accept.$error ng-if=register_form.accept.$touched><ng-message when=required>{{_("You must accept for registration.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Register')}}</span></md-button><span flex=flex></span><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/activate/resend> <span class=text>{{_('Resend activate email')}}</span></md-button><md-button ng-href=/#/login> <span class=text>{{_('Go Login')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=registered class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Register successed') }}</h1><p class=md-display-1>{{register.log}}</p><p ng-bind-html="_('Your registration is successful. You will receive an activation email. If you do not receive it after a long time, it might be mistaken for a spam.')"></p><md-button ng-href=/#/login class="md-raised md-primary"> <span class=text>{{_('Return')}}</span></md-button></section></div><div layout=row layout-align="center center" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/reset_pwd.html><div flex=flex layout=column layout-margin=layout-margin class=view-animate><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=!reseted class="anim-fade noleave"><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Reset Password') }}</h1><form novalidate=novalidate name=reset_form ng-submit=submit()><md-input-container><label>{{_('New Password')}}</label><input type=password name=pwd ng-model=reset.pwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=reset_form.pwd.$error ng-if=reset_form.pwd.$touched><ng-message when=required>{{_("New password is required.")}}</ng-message><ng-message when=pattern>{{_("New password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Confirm Password')}}</label><input type=password name=pwd2 ng-model=reset.pwd2 maxlength=50 data-password-verify=reset.pwd required=required><ng-messages for=reset_form.pwd2.$error ng-if=reset_form.pwd2.$touched><ng-message when=required>{{_("Password confirmation is required.")}}</ng-message><ng-message when=passwordVerify>{{_("The password confirmation does not match.")}}</ng-message></ng-messages></md-input-container><div layout=column layout-gt-md=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Reset')}}</span></md-button><span flex=flex></span><md-divider hide-gt-md=hide-gt-md class=gap></md-divider><md-button ng-href=/#/login> <span class=text>{{_('Go Login')}}</span></md-button></div></form></section></div><div flex=flex layout=row layout-align-gt-sm="center center" ng-show=reseted class=anim-fade><section flex-gt-sm=60 flex=flex><h1 class=md-display-3>{{ _('Reseted') }}</h1><p class=md-display-1>{{reset.log}}</p><p ng-bind-html="_('Your Password has been reset.')"></p><md-button ng-href=/#/login class="md-raised md-primary"> <span class=text>{{_('Return')}}</span></md-button></section></div><div layout=row layout-align="center center" layout-align-gt-md="end end" class=copyright><small ng-bind-html=copyright> </small></div></div></script><script type=text/ng-template id=blueprints/user/views/security.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Password') }}</h2><form novalidate=novalidate name=pwd_form ng-submit=savePwd()><md-input-container><label>{{_('Current Password')}}</label><input type=password name=opwd ng-model=pwd.opwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=pwd_form.opwd.$error ng-if=pwd_form.opwd.$touched><ng-message when=required>{{_("Current password is required.")}}</ng-message><ng-message when=pattern>{{_("Current password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('New Password')}}</label><input type=password name=pwd ng-model=pwd.pwd maxlength=50 ng-pattern="/^[\~!@#$%^&*()-_=+|{}\[\],.?/:;''\d\w]{6,50}$/" required=required><ng-messages for=pwd_form.pwd.$error ng-if=pwd_form.pwd.$touched><ng-message when=required>{{_("New password is required.")}}</ng-message><ng-message when=pattern>{{_("New Password is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Confirm Password')}}</label><input type=password name=pwd2 ng-model=pwd.pwd2 maxlength=50 data-password-verify=pwd.pwd required=required><ng-messages for=pwd_form.pwd2.$error ng-if=pwd_form.pwd2.$touched><ng-message when=required>{{_("Password confirmation is required.")}}</ng-message><ng-message when=passwordVerify>{{_("The password confirmation does not match.")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Secret Key') }}</h2><md-input-container><label class=static-label>{{_('Current Key Code')}}</label><p flex-order=2>{{sercet.key}}</p><p flex-order=3 ng-bind-html="_('* Secret Key grants you the developer permissions and do not tell anybody else.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button ng-click=resetSecretKey() class=md-raised>{{_('Reset')}}</md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/wb/views/articles.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Book') }}</h2><div layout-gt-sm=row layout-align="space-between center" class=funcbar><md-button aria-label="{{_('Add New Chapter')}}" ng-disabled=!gutter_loaded ng-click=addChapter() class=md-raised><md-icon md-svg-icon=maps:ic_layers_24px class=ico></md-icon><span class=text>{{_('Add New Chapter')}}</span></md-button><md-button aria-label="{{_('Bookbinding')}}" ng-disabled=!gutter_loaded ng-click=saveChapter($event) class="md-raised md-accent"><md-icon md-svg-icon=image:ic_style_24px class=ico></md-icon><span class=text>{{_('Bookbinding')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> chapters.', chapters.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="chapter in chapters" class=anim-item><md-list-item ng-class="{'nohover': showChapter(chapter)}" class="md-2-line md-padding vertical-center"><div ng-click=toggleChapter(chapter) class=md-list-item-text><h3 class=md-title> <span>{{ chapter.title }} </span><span class=text-accent>&nbsp;({{ chapter.nodes.length || 0 }})</span></h3></div><div class=func><md-button aria-label="{{_('Toggle Display')}}" ng-click=toggleChapter(chapter) hide-sm=hide-sm class=md-icon-button><md-icon ng-class="{'toggled': showChapter(chapter) }" md-svg-icon=nav:ic_expand_more_24px class=toggle-icon></md-icon></md-button><md-button aria-label="{{_('Add New Chapter')}}" ng-click="add(chapter, true)" class=md-icon-button><md-icon md-svg-icon=content:ic_add_24px class=toggle-icon></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click=editChapter(chapter) class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><div ng-show=showChapter(chapter) class="anim-block text-container"><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in chapter.nodes" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=lite><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{$index+1}}</div><span flex=flex></span><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 tip"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead line-clamp"> {{ file.meta.title }} </div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href="{{file.url+'?preview='+now}}" target=preview ng-show=isSelected(file) class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card><div layout=row layout-align="{{chapter?'space-between':'center center'}}" ng-if=isSelected(file)><md-button aria-label="{{_('Move Forward')}}" ng-click="moveForward(chapter, $index, $event)" ng-show=chapter ng-disabled=$first class=md-icon-button><md-icon md-svg-icon=nav:ic_chevron_left_24px></md-icon></md-button><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-button aria-label="{{_('Select')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_swap_vert_circle_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{_('Chapter')}}"><md-drop-option ng-click="switchChapter(chapter, unallocated, file)">{{ _('Unallocated') }}</md-drop-option><md-drop-option ng-repeat="chap in chapters" ng-show="chap != chapter" ng-click="switchChapter(chapter, chap, file)">{{ chap.title }}</md-drop-option></md-drop-optgroup></md-dropmenu><md-button aria-label="{{_('Move Backward')}}" ng-click="moveBackward(chapter, $index, $event)" ng-show=chapter ng-disabled=$last class=md-icon-button><md-icon md-svg-icon=nav:ic_chevron_right_24px></md-icon></md-button></div></div><div flex=flex layout=column flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50><md-card flex=flex ng-click=add(chapter) class=lite><md-card-content layout=colmun layout-align="center center" flex=flex><md-icon md-svg-icon=action:ic_note_add_24px class="md-primary s48"></md-icon></md-card-content></md-card></div></div></div><md-divider class=dotted></md-divider></div><p ng-bind-html="_('* Do not forget to save your edits after modify any chapter. Click the button [Bookbinding] upper right to save and publish.')" class="md-caption tip"></p></md-list><md-divider class=gap></md-divider><md-list><div class=anim-item><md-list-item class="md-2-line md-padding vertical-center nohover"><div class=md-list-item-text><h3 class=md-title> <span>{{ _('Unallocated') }}</span><span class=text-accent>&nbsp;({{ unallocated.nodes.length || 0 }})</span></h3></div></md-list-item><div class=text-container><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in unallocated.nodes" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=lite><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{$index+1}}</div><span flex=flex></span><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 tip"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead line-clamp"> {{ file.meta.title || file.alias }} </div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href="{{file.url+'?preview='+now}}" target=preview ng-show=isSelected(file) class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card><div layout=row layout-align="center center" ng-if=isSelected(file)><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-button aria-label="{{_('Switch')}}" class=md-icon-button><md-icon md-svg-icon=action:ic_swap_vert_circle_24px></md-icon></md-button></md-drop-label><md-drop-optgroup label="{{_('Chapter')}}"><md-drop-option ng-repeat="chap in chapters" ng-click="switchChapter(unallocated, chap, file)">{{ chap.title }}</md-drop-option></md-drop-optgroup></md-dropmenu></div></div></div></div><md-divider class=dotted></md-divider></div><p ng-bind-html="_('* Unallocated book articls will not go public with this book, even the article status is published.')" class="md-caption tip"></p></md-list></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wb/views/bookframes.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 layout=row layout-align="start center" class=md-title><span>{{ _('Book Frames') }}</span></h2><div class=funcbar><md-button aria-label="{{_('Add New Content')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Content')}}</span></md-button></div><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> contents, <span class=text-primary>%s</span> displayed in list.', files.length, contents.length)"></span></md-subheader><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in files"><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=lite><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{file.updated | dateformat}}</div><span flex=flex></span><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 tip"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead line-clamp"> {{ file.meta.title }} </div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href="{{file.url+'?preview='+now}}" target=preview ng-show=isSelected(file) class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wb/views/chapter_edit.tmpl.html><md-dialog aria-label="{{_('Chapter')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Chapter') }}</span><span ng-if=!new>{{ _('Edit Chapter') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=chapter_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=chapter.title md-maxlength=20 required=required><ng-messages for=chapter_form.title.$error ng-if=chapter_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=chapter.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 ng-disabled=!new required=required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=chapter_form.alias.$error ng-if=chapter_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wb/views/content_create.tmpl.html><md-dialog aria-label="{{_('Create Article')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Create Article') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=file_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=file.meta.title md-maxlength=40 required=required><ng-messages for=file_form.title.$error ng-if=file_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '40')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('URL Alias')}}</label><input type=text name=alias ng-model=file.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 required=required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=file_form.alias.$error ng-if=file_form.alias.$touched><ng-message when=required>{{_("URL Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Create')}}" ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wb/views/dashboard.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Analytics Data') }}</h2><div flex=flex layout-gt-sm=row><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Page Viewing') }}</div><div class=md-display-3>{{ analytic_data.app.pv }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Visits') }}</div><div class=md-display-3>{{ analytic_data.app.vs }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Unique Visitors') }}</div><div class=md-display-3>{{ analytic_data.app.uv }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Unique IPs') }}</div><div class=md-display-3>{{ analytic_data.app.ip }}</div></md-card-content></md-card></div><md-divider class=gap></md-divider><h2 class=md-title>{{ _('App Information') }}</h2><div flex=flex layout-gt-sm=row layout-wrap=layout-wrap><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('Title') }}</div><p class=text-primary>{{ app.title }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('URL Alias') }}</div><p class="text-break text-primary">{{ app.alias }}</p></div><div flex=90 layout-padding=layout-padding><div class=md-subhead>{{ _('Preview URL') }}</div><p class="text-break text-primary"> <a ng-href={{app.base_url}} target=_blank>{{ app.base_url }}</a></p><p ng-if=!app.domain class="md-caption text-warn">{{ _('* You must bind a domain before go public.') }}</p></div><div flex=90 layout-padding=layout-padding><div><div class=md-subhead>{{ _('Description') }}</div><p>{{ app.description }}</p></div></div></div></div></div></div></script><script type=text/ng-template id=blueprints/wb/views/media.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Media Library') }}</h2><div class=funcbar><md-button aria-label="{{_('Upload New Media')}}" ngf-select=onFileSelect($files) data-multiple=true accept="image/*, application/zip, application/pdf" ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload New Media')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> media files.', mediafiles.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="media in mediafiles | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(media),'selected':isSelected(media)}" class="md-2-line md-padding vertical-center"><img ng-if=hasPreview(media.type) ng-src="{{media.thumbnail || media.src || media.uri }}?{{now}}" alt={{media.filename}} class="md-avatar s48"><md-icon ng-if="media.type == 'svg'" md-svg-icon=image:ic_palette_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'zip' || media.type == 'pdf'" md-svg-icon=editor:ic_attach_file_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'mp4' || media.type == 'mov'" md-svg-icon=av:ic_videocam_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'mp3'" md-svg-icon=image:ic_audiotrack_24px class="md-avatar s48"></md-icon><div ng-click=toggleSelect(media) class=md-list-item-text><h3 class="md-title text-nowrap">{{media.filename}}</h3><p class=md-caption><span class=text-primary>{{media.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Re Upload')}}" ngf-select="onFileSelect($files, media.filename)" accept="image/*, application/zip, application/pdf" class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button><md-button aria-label="{{_('Copy URL')}}" ng-click="copyURL(media.src || media.uri)" class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wb/views/settings/destroy.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Destroy App') }}</h2><form flex=flex novalidate=novalidate name=destroy_form><md-input-container><label>{{_('Type %s to confirm', 'REMOVE')}}</label><input type=text name=code ng-model=code ng-pattern=/^REMOVE$/ maxlength=10 required=required><p flex-order=3 ng-bind-html="_('* Once you destroy the app, all date will be lost.')" class="md-caption tip"></p><ng-messages for=destroy_form.code.$error ng-if=destroy_form.code.$touched><ng-message when=required>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message><ng-message when=pattern>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button ng-click=destroy() ng-disabled=submitted class="md-raised md-warn">{{_('Destroy')}}</md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wb/views/settings/metas.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Metas') }}</h2><form novalidate=novalidate name=metas_form ng-submit=save()><div flex=flex layout-gt-md=row><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Logo')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.logo md-svg-icon=action:ic_perm_media_24px ng-click=selectLogo() class="ico s60"></md-icon><div ng-show=meta.site_meta.logo class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.logo}} ng-click=selectLogo() alt="{{_('Logo')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.logo ng-click=selectLogo(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('Copyright')}}</label><textarea type=text name=copyright rows=3 ng-model=meta.site_meta.copyright></textarea></md-input-container><md-input-container><label>{{_('Contacts')}}</label><textarea name=contacts ng-model=meta.site_meta.contacts rows=3></textarea></md-input-container><md-input-container><label>{{_('Keywords')}}</label><textarea name=keywords rows=3 ng-model=meta.site_meta.keywords></textarea></md-input-container></div><div flex=flex></div><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Favicon')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.favicon md-svg-icon=action:ic_perm_media_24px ng-click=selectIcon() class="ico s60"></md-icon><div ng-show=meta.site_meta.favicon class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.favicon}} ng-click=selectIcon() alt="{{_('Favicon')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.favicon ng-click=selectIcon(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('License')}}</label><textarea type=text name=license rows=3 ng-model=meta.site_meta.license></textarea></md-input-container><md-input-container><label>{{_('Analytics')}}</label><textarea name=analytics ng-model=meta.site_meta.analytics rows=3></textarea></md-input-container><md-input-container><label>{{_('SEO')}}</label><textarea name=seo ng-model=meta.site_meta.seo rows=3></textarea></md-input-container></div></div><div layout=row><p class="md-caption tip"> {{_('* Do not forget to save the metas after changing them.')}} </p></div><div layout=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Save')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button> <span class=text>{{_('Hardcode Mode')}}</span></md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wb/views/settings/metas_hardcode.tmpl.html><md-dialog aria-label="{{_('Metas Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Metas Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea rows=9 name=hardcode ng-model=meta_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wb/views/settings/options.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Basic Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=profile.title md-maxlength=60 required=required><ng-messages for=profile_form.title.$error ng-if=profile_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Locales')}}</label><md-select flex-order=2 layout=column name=locales ng-model=profile.locale placeholder="{{_('Select Locales')}}" required=required><md-option ng-value=loc.code ng-repeat="loc in locales"> <span class=text>{{ loc.text }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The definition of app locales will influence the automatic translation.')" class="md-caption tip"></p><ng-messages for=profile_form.locales.$error ng-if=profile_form.locales.$touched><ng-message when=required>{{_("Locales is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=profile.description md-maxlength=160 rows=4></textarea><ng-messages for=profile_form.description.$error ng-if=profile_form.description.$touched><ng-message when=md-maxlength>{{_("The text must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Custom Domain") }}</h2><form novalidate=novalidate name=domain_form ng-submit=bind()><md-input-container><label>{{_('Domain')}}</label><input type=text name=domain ng-model=domain.domain ng-pattern=/^[a-zA-Z0-9-]{1,61}(?:\.[a-zA-Z0-9]{1,})+[\/a-zA-Z0-9]+$/ md-maxlength=200 required=required><ng-messages for=domain_form.domain.$error ng-if=domain_form.domain.$touched><ng-message when=required>{{_("Domain is required.")}}</ng-message><ng-message when=pattern>{{_("Domain is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Protocol')}}</label><md-select flex-order=2 layout=column name=protocol ng-model=domain.protocol placeholder="{{_('Select a Protocol')}}"><md-option ng-value=protocol.key ng-repeat="protocol in protocols"> <span class=text>{{ protocol.name }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Only HTTP protocol can be bound with for now.')" class="md-caption tip"></p><ng-messages for=domain_form.protocol.$error ng-if=domain_form.protocol.$touched><ng-message when=required>{{_("Protocol is required.")}}</ng-message></ng-messages></md-input-container><div class=text-container><div class="md-subhead text-warn">{{_('Warning:')}} &nbsp;</div><p ng-bind-html="_('* Please contact us before binding a domain because unauthorized binding domain will be useless. This kind of operation must be authorized and confirmed by us first.')" class="md-caption tip"></p></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button><div ng-show=binded class=anim-fade><md-button ng-click=unbind() type=button class="md-raised md-warn">{{_('Remove')}}</md-button></div></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wb/views/settings/theme_detail.tmpl.html><md-dialog aria-label={{theme.alias}} flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Theme') }}</span><span flex=flex></span><md-button aria-label="Copy URL" ng-click=copy() ng-show=copy_able class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content ng-style="{'background-image': theme.meta.poster ? 'url('+theme.meta.poster+')':'none'}" class=bg-img-top-right><img ng-src={{theme.thumbnail}} alt={{theme.alias}} class=s60><h2 class=md-headline><span>{{_t(theme.title)}}</span></h2><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Description') }}</h3><p ng-bind-html=_t(theme.description)></p></div><md-divider ng-if=theme.updated class="thick dotted"></md-divider><div ng-if=theme.updated class=text-block><h3 class=md-title>{{ _('Last Updated') }}</h3><p>{{theme.updated | dateformat}}</p></div></md-dialog-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Activate')}}" ng-click=activate() ng-disabled="theme.activated && !theme.upgradeable" class=md-raised> <span class=text>{{ !theme.upgradeable ? _('Activate') : _('upgradeable')}}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/wb/views/settings/themes.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Current Theme") }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('Your current activated theme.')"></span></md-subheader><md-card ng-show=show_current_theme class="theme anim-fade"><img ng-src={{image.trans}} alt={{current_theme.alias}} ng-style="{'background-image':'url('+current_theme.thumbnail_src+')'}" class=preview><md-card-content theme={{current_theme.id}} alias={{current_theme.alias}}><h3 class=md-title>{{ _t(current_theme.title) }}</h3><p ng-bind-html="_('Made by %s', current_theme.author)" class=md-caption></p><p ng-bind-html=_t(current_theme.description)></p><form ng-show=config_mode novalidate=novalidate name=config_form ng-submit=saveConfig() class=anim-block><md-input-container><label>{{_('Options')}}</label><textarea rows=9 name=theme_options ng-model=theme_meta_options></textarea><p flex-order=3 ng-bind-html="_('* Make sure that you have the required knowledge before making the changes because these advanced configuration options are JSON format.')" class="md-caption tip"></p><ng-messages for=config_form.theme_options.$error ng-if=config_form.theme_options.$touched><ng-message when=format>{{_("Options parse error.")}}</ng-message></ng-messages></md-input-container><div><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form><form ng-show=style_mode novalidate=novalidate name=style_form ng-submit=saveStyle() class=anim-block><md-input-container><label>{{_('Custom Styles')}}</label><textarea rows=9 name=theme_styles ng-model=current_theme.styles></textarea><p flex-order=3 ng-bind-html="_('* Write your custom CSS here.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></md-card-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Config')}}" ng-click=toggleConfig() class=md-icon-button><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button aria-label="{{_('Style')}}" ng-click=toggleStyle() class=md-icon-button><md-icon md-svg-icon=image:ic_style_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Reload')}}" ng-click=reloadTheme() class=md-icon-button><md-icon md-svg-icon=notify:ic_sync_24px></md-icon></md-button><md-button aria-label="{{_('Detail')}}" ng-click=open(current_theme) class=md-icon-button><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-card></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Available Themes') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> available themes.', themes.length)"></span></md-subheader><md-list><div ng-repeat="theme in themes | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{theme.thumbnail}} alt={{theme.alias}} class="md-avatar s48"><div theme={{theme.id}} alias={{theme.alias}} ng-click=open(theme) class=md-list-item-text><small ng-if=theme.upgradeable class=text-primary>{{ _("Upgraded") }}</small><h3 class=text-nowrap>{{ _t(theme.title) }}</h3><p ng-bind-html=_t(theme.description) class=line-clamp></p><p>{{ theme.updated | dateformat }}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(theme) class="md-raised md-icon-button"><md-icon ng-show=!theme.activated md-svg-icon=action:ic_class_24px></md-icon><md-icon ng-show="theme.activated && !theme.upgradeable" md-svg-icon=action:ic_done_24px></md-icon><md-icon ng-show="theme.activated && theme.upgradeable" md-svg-icon=custom:ic_play_for_work_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div><h2 class=md-title>{{ _('Custom Theme') }}</h2><div ng-if="custom_theme_loaded && custom_theme.alias" class=anim-item><md-list><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{custom_theme.thumbnail}}?{{now}} alt={{custom_theme.alias}} class="md-avatar s48"><div theme={{custom_theme.id}} alias={{custom_theme.alias}} class=md-list-item-text><h3 class=text-wrap>{{ _t(custom_theme.title) }}</h3><p class=line-clamp>{{ _t(custom_theme.description) }}</p><p>{{ custom_theme.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(custom_theme) class="md-raised md-icon-button"><md-icon ng-show=!custom_theme.activated md-svg-icon=action:ic_class_24px></md-icon><md-icon ng-show=custom_theme.activated md-svg-icon=action:ic_done_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></md-list><md-input-container layout=row><md-button flex=flex aria-label="{{_('Re Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Re Upload')}}</span></md-button><md-button flex=flex aria-label="{{_('Remove Custom Theme')}}" ng-click=removeCustom() class="md-raised md-warn"><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Remove')}}</span></md-button></md-input-container></div><div ng-if="custom_theme_loaded && !custom_theme.alias" class=anim-item><div class="text-container text-center"><p ng-bind-html="_('Activate the theme in the available themes, or upload your custom theme.')" class=md-caption></p></div><md-input-container><md-button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload Custom Theme')}}</span></md-button><p flex-order=3 ng-bind-html="_('* You need to take this risk by using a custom theme that is unknown.')" class="md-caption text-center tip"></p></md-input-container></div></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/content_create.tmpl.html><md-dialog aria-label="{{_('Create Content')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Create Content') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=file_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=file.meta.title md-maxlength=40 required=required><ng-messages for=file_form.title.$error ng-if=file_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '40')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('URL Alias')}}</label><input type=text name=alias ng-model=file.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 required=required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=file_form.alias.$error ng-if=file_form.alias.$touched><ng-message when=required>{{_("URL Alias is required.")}}</ng-message><ng-message when=pattern> {{_("URL Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Create')}}" ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/content_type_edit.tmpl.html><md-dialog aria-label="{{_('Content Type')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Content Type') }}</span><span ng-if=!new>{{ _('Edit Content Type') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=content_type_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=content_type.title md-maxlength=20 required=required><ng-messages for=content_type_form.title.$error ng-if=content_type_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=content_type.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 ng-disabled=!new required=required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=content_type_form.alias.$error ng-if=content_type_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show="!new && !content_type.locked" ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/content_types.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Manage Content Types") }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Content Type')}}" ng-disabled=!checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Content Type')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> content types.', content_types.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="ctype in content_types" class=anim-item><md-list-item class="md-2-line md-padding vertical-center"><div ng-click=toggleSelect(ctype) class=md-list-item-text><h3 class=md-title><md-icon ng-show=ctype.locked md-svg-icon=action:ic_lock_24px class=ico-inline></md-icon><span>{{ _(ctype.title) }}</span></h3><p>{{_('Alias:')}}&nbsp; {{ ctype.alias }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(ctype) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/contents.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 layout=row layout-align="start center" class=md-title><span>{{ _(current_type.title) }}</span><span>&nbsp;</span><md-dropmenu disabled-auto-focus=disabled-auto-focus><md-drop-label><md-icon md-svg-icon=nav:ic_arrow_drop_down_circle_24px></md-icon></md-drop-label><md-drop-optgroup label="{{_('Switch Content Type')}}"><md-drop-option ng-repeat="type in app.content_types" ng-disabled="type.alias == current_type.alias" ng-click=switchContentType(type)>{{ type.title }}</md-drop-option></md-drop-optgroup></md-dropmenu></h2><div class=funcbar><md-button aria-label="{{_('Add New Content')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Content')}}</span></md-button></div><div layout-gt-sm=row ng-show="taxonomies.length > 0" class=input-row><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=tax ng-model=selected_tax placeholder="{{_('Taxonomies')}}"><md-optgroup label="{{_('Taxonomies')}}"><md-option value>{{_('All')}}</md-option><md-option ng-repeat="tax in taxonomies" ng-value=tax.alias>{{_(tax.title)}}</md-option></md-optgroup></md-select></md-input-container></div><div flex=flex flex-gt-sm=25><md-input-container flex=flex layout-margin=layout-margin><md-select layout=column name=tax ng-disabled=!current_tax ng-model=selected_term placeholder="{{_('Terms')}}"><md-optgroup label={{_(current_tax.title)}}><md-option value>{{_('All')}}</md-option><md-option ng-repeat="term in current_tax.terms" ng-value=term.alias>{{_(term.title)}}</md-option></md-optgroup><md-optgroup label="{{_('Actions')}}"><md-option ng-click=editTaxonomy(current_tax)><div class=text-primary>{{_('Manage')}}</div></md-option></md-optgroup></md-select></md-input-container></div></div><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> contents, <span class=text-primary>%s</span> displayed in list.', files.length, contents.length)"></span></md-subheader><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in contents | paginator:paged" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=content><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{file.updated | dateformat}}</div><span flex=flex></span><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 tip"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead line-clamp"> {{ file.meta.title }} </div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href="{{file.url+'?preview='+now}}" target=preview ng-show=isSelected(file) class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div><div layout-padding=layout-padding><md-input-container><md-select flex-order=2 name=copyto ng-model=copyto placeholder="{{_('Copy to Content Type')}}" ng-disabled=!hasSelected()><md-option ng-value=type.alias ng-repeat="type in app.content_types" ng-show="type.alias != current_type.alias"> <span class=text>{{_(type.title)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Select a content first and then select an another content type to copy.')" class="md-caption tip"></p></md-input-container><md-button ng-click=copyFileToType() ng-disabled="!copyto || !hasSelected()" class=md-raised><span class=text>{{_('Copy')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/ws/views/dashboard.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Analytics Data') }}</h2><div flex=flex layout-gt-sm=row><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Page Viewing') }}</div><div class=md-display-3>{{ analytic_data.app.pv }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Visits') }}</div><div class=md-display-3>{{ analytic_data.app.vs }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Unique Visitors') }}</div><div class=md-display-3>{{ analytic_data.app.uv }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Unique IPs') }}</div><div class=md-display-3>{{ analytic_data.app.ip }}</div></md-card-content></md-card></div><md-divider class=gap></md-divider><h2 class=md-title>{{ _('App Information') }}</h2><div flex=flex layout-gt-sm=row layout-wrap=layout-wrap><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('Title') }}</div><p class=text-primary>{{ app.title }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('URL Alias') }}</div><p class="text-break text-primary">{{ app.alias }}</p></div><div flex=90 layout-padding=layout-padding><div class=md-subhead>{{ _('Preview URL') }}</div><p class="text-break text-primary"> <a ng-href={{app.base_url}} target=_blank>{{ app.base_url }}</a></p><p ng-if=!app.domain class="md-caption text-warn">{{ _('* You must bind a domain before go public.') }}</p></div><div flex=90 layout-padding=layout-padding><div><div class=md-subhead>{{ _('Description') }}</div><p>{{ app.description }}</p></div></div></div></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/exts.html></script><script type=text/ng-template id=blueprints/ws/views/media.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Media Library') }}</h2><div class=funcbar><md-button aria-label="{{_('Upload New Media')}}" ngf-select=onFileSelect($files) data-multiple=true accept="image/*, application/zip, application/pdf" ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload New Media')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> media files.', mediafiles.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="media in mediafiles | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(media),'selected':isSelected(media)}" class="md-2-line md-padding vertical-center"><img ng-if=hasPreview(media.type) ng-src="{{media.thumbnail || media.src || media.uri }}?{{now}}" alt={{media.filename}} class="md-avatar s48"><md-icon ng-if="media.type == 'svg'" md-svg-icon=image:ic_palette_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'zip' || media.type == 'pdf'" md-svg-icon=editor:ic_attach_file_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'mp4' || media.type == 'mov'" md-svg-icon=av:ic_videocam_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'mp3'" md-svg-icon=image:ic_audiotrack_24px class="md-avatar s48"></md-icon><div ng-click=toggleSelect(media) class=md-list-item-text><h3 class="md-title text-nowrap">{{media.filename}}</h3><p class=md-caption><span class=text-primary>{{media.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Re Upload')}}" ngf-select="onFileSelect($files, media.filename)" accept="image/*, application/zip, application/pdf" class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button><md-button aria-label="{{_('Copy URL')}}" ng-click="copyURL(media.src || media.uri)" class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/ws/views/menu_edit.tmpl.html><md-dialog aria-label="{{_('Menu')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Menu') }}</span><span ng-if=!new>{{ _('Edit Menu') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=menu_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=menu.title md-maxlength=20 required=required><ng-messages for=menu_form.title.$error ng-if=menu_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=menu.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 ng-disabled=!new required=required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=menu_form.alias.$error ng-if=menu_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show="!new && !menu.locked" ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/menus.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Manage Menus") }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Menu')}}" ng-disabled=!checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Menu')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> menus.', menus.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="menu in menus" class=anim-item><md-list-item class="md-2-line md-padding vertical-center"><div class=md-list-item-text><h3 class=md-title><md-icon ng-show=menu.locked md-svg-icon=action:ic_lock_24px class=ico-inline></md-icon><span>{{ _(menu.title) }}</span></h3><p>{{_('Alias:')}}&nbsp;{{ menu.alias }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(menu) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/single_menu.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _(menu.title) }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Item')}}" ng-disabled=checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=av:ic_playlist_add_24px class=ico></md-icon><span class=text>{{_('Add New Item')}}</span></md-button></div><div layout-padding=layout-padding><p ng-show="menu_nodes.length > 0" class="md-caption tip"><md-icon md-svg-icon=action:ic_open_with_24px class=ico></md-icon><span ng-bind-html="_('* Try dragging to move menus.')"></span></p><ng-include src="'blueprints/ws/views/single_menu_nodes.tmpl.html'"></ng-include><p ng-bind-html="_('* Do not forget to save your edits after modify the menu.')" class="md-caption tip"></p></div><div layout=row><md-button ng-click=save() class="md-raised md-primary"><span class=text>{{_('Save')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button> <span class=text>{{_('Hardcode Mode')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/single_menu_edit.tmpl.html><md-dialog aria-label="{{_('Menu Edit')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Menu Edit') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=node_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=node.title md-maxlength=50 required=required><ng-messages for=node_form.title.$error ng-if=node_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '50')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=node.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=50 required=required><ng-messages for=node_form.alias.$error ng-if=node_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Link')}}</label><input type=text name=link ng-model=node.link maxlength=500></md-input-container><md-input-container><md-switch ng-model=blank ng-disabled=!allow_target aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=node.meta.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=node_form.class.$error ng-if=node_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Ok')}}" class="md-raised md-primary"> <span class=text>{{ _('Ok') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/single_menu_hardcode.tmpl.html><md-dialog aria-label="{{_('Menu Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Menu Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea name=hardcode ng-model=nodes_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message><ng-message when=duplicated>{{_("Alias can not be repeated at the same level.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/single_menu_nodes.tmpl.html><div dnd-list=menu_nodes dnd-dragover=dragoverCallback(menu_nodes) dnd-drop="dropCallback(item, menu_nodes)" class=dragdrop><div ng-repeat="node in menu_nodes" dnd-draggable=node dnd-effect-allowed=move dnd-dragstart=dragStart(node) dnd-selected=toggleSelect(node) dnd-moved="menu_nodes.splice($index, 1)" ng-init="node.nodes = node.nodes ? node.nodes:[]" class=container><md-card ng-class="{'md-whiteframe-z4':isSelected(node),'selected':isSelected(node)}" class="container-inner md-whiteframe-z2"><md-card-content><div layout=row><h3 flex=flex class=md-title>{{node.title}}</h3><md-button aria-label="{{_('Add Submenu')}}" ng-click="add(node.nodes, $event)" ng-disabled=checkAddable(node.nodes) class=md-icon-button><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click="edit(node, menu_nodes, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list><div dnd-list=node.nodes dnd-dragover=dragoverCallback(node.nodes) dnd-drop="dropCallback(item, node.nodes)" class=children><div ng-repeat="child in node.nodes" dnd-draggable=child dnd-effect-allowed=move dnd-dragstart="dragStart(child, node.nodes)" dnd-moved="node.nodes.splice($index, 1)"><md-divider class=dotted></md-divider><md-list-item class="md-2-line vertical-center"><div class="md-list-item-text text-break"><h4 class=md-subhead>{{child.title}}</h4></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click="edit(child, node.nodes, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div></md-list-item></div></div></md-list></md-card-content></md-card></div></div></script><script type=text/ng-template id=blueprints/ws/views/taxonomies.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Manage Taxonomies") }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Taxonomy')}}" ng-disabled=!checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Taxonomy')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> taxonomies.', taxonomies.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="tax in taxonomies" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><div class=md-list-item-text><h3 class=md-title>{{ _(tax.title) }}</h3><p>{{_('Alias:')}}&nbsp;{{ tax.alias }}</p><p>{{_('Support:')}}&nbsp;<span ng-repeat="ctitle in contentTypes(tax)">{{_(ctitle)}}{{!$last?_(', '):''}}</span></p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(tax) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/taxonomy_edit.tmpl.html><md-dialog aria-label="{{_('Taxonomy')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Taxonomy') }}</span><span ng-if=!new>{{ _('Edit Taxonomy') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=taxonomy_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=taxonomy.title md-maxlength=20 required=required><ng-messages for=taxonomy_form.title.$error ng-if=taxonomy_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=taxonomy.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 ng-disabled=!new required=required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=taxonomy_form.alias.$error ng-if=taxonomy_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Support Content types')}}</label><div flex-order=3 layout=row layout-wrap=layout-wrap><md-checkbox aria-label={{type.alias}} ng-repeat="type in relateable_types" ng-model=type.checked>{{_(type.title)}}</md-checkbox></div><input type=hidden aria-label="for content types checkbox" name=supported ng-model=supported required=required><ng-messages for=taxonomy_form.supported.$error ng-if=taxonomy_form.supported.$touched><ng-message when=required>{{_("You must select at least one supported content type.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/term_edit.tmpl.html><md-dialog aria-label="{{_('Term')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Term') }}</span><span ng-if=!new>{{ _('Edit Term') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=term_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=term.title md-maxlength=20 required=required><ng-messages for=term_form.title.$error ng-if=term_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Alias')}}</label><input type=text name=alias ng-model=term.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 required=required ng-disabled=!new><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=term_form.alias.$error ng-if=term_form.alias.$touched><ng-message when=required>{{_("Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Priority')}}</label><input type=number name=priority ng-model=term.priority><p flex-order=3 ng-bind-html="_('* Priority should be an integer.')" class="md-caption tip"></p><ng-messages for=term_form.priority.$error ng-if=term_form.priority.$touched><ng-message when=number>{{_("Priority must be a number.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Parent')}}</label><input type=text name=parent ng-model=term.parent ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100><p flex-order=3 ng-bind-html="_('* Define the parental relationship by alias.')" class="md-caption tip"></p><ng-messages for=term_form.parent.$error ng-if=term_form.parent.$touched><ng-message when=pattern> {{_("A parent Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=term.meta.description md-maxlength=160></textarea><ng-messages for=term_form.description.$error ng-if=term_form.description.$touched><ng-message when=maxlength>{{_('The description must be less than %s characters.', '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Pic URL')}}</label><input type=url name=pic ng-model=term.meta.pic maxlength=500><p flex-order=3 ng-bind-html="_('* Copy a pic url into this feild.')" class="md-caption tip"></p><ng-messages for=term_form.pic.$error ng-if=term_form.pic.$touched><ng-message when=url>{{_('Pic URL is invalid.')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=term.meta.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=term_form.class.$error ng-if=term_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/terms.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _(current_taxonomy.title) }}</h2><div layout=row layout-align="start center" class=funcbar><md-button aria-label="{{_('Add New Term')}}" ng-disabled=!checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_group_add_24px class=ico></md-icon><span class=text>{{_('Add New Term')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You created <span class=text-primary>%s</span> terms.', terms.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="term in terms" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(term),'selected':isSelected(term)}" class="md-2-line md-padding vertical-center"><div ng-click=toggleSelect(term) class=md-list-item-text><h3 ng-class="{'text-draft': term.waste}" class=md-title>{{ term.title }} </h3><p>{{_('Alias:')}}&nbsp;{{ term.alias }}</p><p ng-if=term.parent ng-class="{'text-warn': term.waste}">{{_('Parent:')}}&nbsp;{{ term.parent }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(term) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/ws/views/settings/destroy.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Destroy App') }}</h2><form flex=flex novalidate=novalidate name=destroy_form><md-input-container><label>{{_('Type %s to confirm', 'REMOVE')}}</label><input type=text name=code ng-model=code ng-pattern=/^REMOVE$/ maxlength=10 required=required><p flex-order=3 ng-bind-html="_('* Once you destroy the app, all date will be lost.')" class="md-caption tip"></p><ng-messages for=destroy_form.code.$error ng-if=destroy_form.code.$touched><ng-message when=required>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message><ng-message when=pattern>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button ng-click=destroy() class="md-raised md-warn">{{_('Destroy')}}</md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/settings/metas.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Metas') }}</h2><form novalidate=novalidate name=metas_form ng-submit=save()><div flex=flex layout-gt-md=row><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Logo')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.logo md-svg-icon=action:ic_perm_media_24px ng-click=selectLogo() class="ico s60"></md-icon><div ng-show=meta.site_meta.logo class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.logo}} ng-click=selectLogo() alt="{{_('Logo')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.logo ng-click=selectLogo(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('Copyright')}}</label><textarea type=text name=copyright rows=3 ng-model=meta.site_meta.copyright></textarea></md-input-container><md-input-container><label>{{_('Contacts')}}</label><textarea name=contacts ng-model=meta.site_meta.contacts rows=3></textarea></md-input-container><md-input-container><label>{{_('Keywords')}}</label><textarea name=keywords rows=3 ng-model=meta.site_meta.keywords></textarea></md-input-container></div><div flex=flex></div><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Favicon')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.favicon md-svg-icon=action:ic_perm_media_24px ng-click=selectIcon() class="ico s60"></md-icon><div ng-show=meta.site_meta.favicon class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.favicon}} ng-click=selectIcon() alt="{{_('Favicon')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.favicon ng-click=selectIcon(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('License')}}</label><textarea type=text name=license rows=3 ng-model=meta.site_meta.license></textarea></md-input-container><md-input-container><label>{{_('Analytics')}}</label><textarea name=analytics ng-model=meta.site_meta.analytics rows=3></textarea></md-input-container><md-input-container><label>{{_('SEO')}}</label><textarea name=seo ng-model=meta.site_meta.seo rows=3></textarea></md-input-container></div></div><div layout=row><p class="md-caption tip"> {{_('* Do not forget to save the metas after changing them.')}} </p></div><div layout=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Save')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button> <span class=text>{{_('Hardcode Mode')}}</span></md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/settings/metas_hardcode.tmpl.html><md-dialog aria-label="{{_('Metas Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Metas Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea rows=9 name=hardcode ng-model=meta_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/settings/options.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Basic Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=profile.title md-maxlength=60 required=required><ng-messages for=profile_form.title.$error ng-if=profile_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Locales')}}</label><md-select flex-order=2 layout=column name=locales ng-model=profile.locale placeholder="{{_('Select Locales')}}" required=required><md-option ng-value=loc.code ng-repeat="loc in locales"> <span class=text>{{ loc.text }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The definition of app locales will influence the automatic translation.')" class="md-caption tip"></p><ng-messages for=profile_form.locales.$error ng-if=profile_form.locales.$touched><ng-message when=required>{{_("Locales is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=profile.description md-maxlength=160 rows=4></textarea><ng-messages for=profile_form.description.$error ng-if=profile_form.description.$touched><ng-message when=md-maxlength>{{_("The text must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Custom Domain") }}</h2><form novalidate=novalidate name=domain_form ng-submit=bind()><md-input-container><label>{{_('Domain')}}</label><input type=text name=domain ng-model=domain.domain ng-pattern=/^[a-zA-Z0-9-]{1,61}(?:\.[a-zA-Z0-9]{1,})+[\/a-zA-Z0-9]+$/ md-maxlength=200 required=required><ng-messages for=domain_form.domain.$error ng-if=domain_form.domain.$touched><ng-message when=required>{{_("Domain is required.")}}</ng-message><ng-message when=pattern>{{_("Domain is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Protocol')}}</label><md-select flex-order=2 layout=column name=protocol ng-model=domain.protocol placeholder="{{_('Select a Protocol')}}"><md-option ng-value=protocol.key ng-repeat="protocol in protocols"> <span class=text>{{ protocol.name }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Only HTTP protocol can be bound with for now.')" class="md-caption tip"></p><ng-messages for=domain_form.protocol.$error ng-if=domain_form.protocol.$touched><ng-message when=required>{{_("Protocol is required.")}}</ng-message></ng-messages></md-input-container><div class=text-container><div class="md-subhead text-warn">{{_('Warning:')}} &nbsp;</div><p ng-bind-html="_('* Please contact us before binding a domain because unauthorized binding domain will be useless. This kind of operation must be authorized and confirmed by us first.')" class="md-caption tip"></p></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button><div ng-show=binded class=anim-fade><md-button ng-click=unbind() type=button class="md-raised md-warn">{{_('Remove')}}</md-button></div></div></form></div></div></div></script><script type=text/ng-template id=blueprints/ws/views/settings/theme_detail.tmpl.html><md-dialog aria-label={{theme.title}} flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Theme') }}</span><span flex=flex></span><md-button aria-label="Copy URL" ng-click=copy() ng-show=copy_able class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content ng-style="{'background-image': theme.meta.poster ? 'url('+theme.meta.poster+')':'none'}" class=bg-img-top-right><img ng-src={{theme.thumbnail}} alt={{theme.alias}} class=s60><h2 class=md-headline><span>{{ _t(theme.title)}}</span></h2><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Description') }}</h3><p ng-bind-html=_t(theme.description)></p></div><md-divider ng-if=theme.updated class="thick dotted"></md-divider><div ng-if=theme.updated class=text-block><h3 class=md-title>{{ _('Last Updated') }}</h3><p>{{theme.updated | dateformat}}</p></div></md-dialog-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Activate')}}" ng-click=activate() ng-disabled="theme.activated && !theme.upgradeable" class=md-raised> <span class=text>{{ !theme.upgradeable ? _('Activate') : _('upgradeable')}}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/ws/views/settings/themes.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Current Theme") }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('Your current activated theme.')"></span></md-subheader><md-card ng-show=show_current_theme class="theme anim-fade"><img ng-src={{image.trans}} alt={{current_theme.alias}} ng-style="{'background-image':'url('+current_theme.thumbnail_src+')'}" class=preview><md-card-content theme={{current_theme.id}} alias={{current_theme.alias}}><h3 class=md-title>{{_t(current_theme.title) }}</h3><p ng-bind-html="_('Made by %s', current_theme.author)" class=md-caption></p><p ng-bind-html=_t(current_theme.description)></p><form ng-show=config_mode novalidate=novalidate name=config_form ng-submit=saveConfig() class=anim-block><md-input-container><label>{{_('Options')}}</label><textarea rows=9 name=theme_options ng-model=theme_meta_options></textarea><p flex-order=3 ng-bind-html="_('* Make sure that you have the required knowledge before making the changes because these advanced configuration options are JSON format.')" class="md-caption tip"></p><ng-messages for=config_form.theme_options.$error ng-if=config_form.theme_options.$touched><ng-message when=format>{{_("Options parse error.")}}</ng-message></ng-messages></md-input-container><div><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form><form ng-show=style_mode novalidate=novalidate name=style_form ng-submit=saveStyle() class=anim-block><md-input-container><label>{{_('Custom Styles')}}</label><textarea rows=9 name=theme_styles ng-model=current_theme.styles></textarea><p flex-order=3 ng-bind-html="_('* Write your custom CSS here.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></md-card-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Config')}}" ng-click=toggleConfig() class=md-icon-button><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button aria-label="{{_('Style')}}" ng-click=toggleStyle() class=md-icon-button><md-icon md-svg-icon=image:ic_style_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Reload')}}" ng-click=reloadTheme() class=md-icon-button><md-icon md-svg-icon=notify:ic_sync_24px></md-icon></md-button><md-button aria-label="{{_('Detail')}}" ng-click=open(current_theme) class=md-icon-button><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-card></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Available Themes') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> available themes.', themes.length)"></span></md-subheader><md-list><div ng-repeat="theme in themes | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{theme.thumbnail}} alt={{theme.alias}} class="md-avatar s48"><div theme={{theme.id}} alias={{theme.alias}} ng-click=open(theme) class=md-list-item-text><small ng-if=theme.upgradeable class=text-primary>{{ _("Upgraded") }}</small><h3 class=text-nowrap>{{ _t(theme.title) }}</h3><p ng-bind-html=_t(theme.description) class=line-clamp></p><p>{{ theme.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(theme) class="md-raised md-icon-button"><md-icon ng-show=!theme.activated md-svg-icon=action:ic_class_24px></md-icon><md-icon ng-show="theme.activated && !theme.upgradeable" md-svg-icon=action:ic_done_24px></md-icon><md-icon ng-show="theme.activated && theme.upgradeable" md-svg-icon=custom:ic_play_for_work_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div><h2 class=md-title>{{ _('Custom Theme') }}</h2><div ng-if="custom_theme_loaded && custom_theme.alias" class=anim-item><md-list><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{custom_theme.thumbnail}}?{{now}} alt={{custom_theme.alias}} class="md-avatar s48"><div theme={{custom_theme.id}} alias={{custom_theme.alias}} class=md-list-item-text><h3 class=text-wrap>{{ _t(custom_theme.title) }}</h3><p class=line-clamp>{{ _t(custom_theme.description) }}</p><p>{{ custom_theme.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(custom_theme) class="md-raised md-icon-button"><md-icon ng-show=!custom_theme.activated md-svg-icon=action:ic_class_24px></md-icon><md-icon ng-show=custom_theme.activated md-svg-icon=action:ic_done_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></md-list><md-input-container layout=row><md-button flex=flex aria-label="{{_('Re Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Re Upload')}}</span></md-button><md-button flex=flex aria-label="{{_('Remove Custom Theme')}}" ng-click=removeCustom() class="md-raised md-warn"><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Remove')}}</span></md-button></md-input-container></div><div ng-if="custom_theme_loaded && !custom_theme.alias" class=anim-item><div class="text-container text-center"><p ng-bind-html="_('Activate the theme in the available themes, or upload your custom theme.')" class=md-caption></p></div><md-input-container><md-button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload Custom Theme')}}</span></md-button><p flex-order=3 ng-bind-html="_('* You need to take this risk by using a custom theme that is unknown.')" class="md-caption text-center tip"></p></md-input-container></div></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/article_create.tmpl.html><md-dialog aria-label="{{_('Create Article')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Create Article') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=article_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=article.meta.title md-maxlength=40 required=required><ng-messages for=article_form.title.$error ng-if=article_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '40')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('URL Alias')}}</label><input type=text name=alias ng-model=article.alias ng-pattern=/^[a-zA-Z0-9_-]+$/ maxlength=100 required=required><p flex-order=3 ng-bind-html="_('* Alias will be used as a URL, it must be unique in same level.')" class="md-caption tip"></p><ng-messages for=article_form.alias.$error ng-if=article_form.alias.$touched><ng-message when=required>{{_("URL Alias is required.")}}</ng-message><ng-message when=pattern> {{_("Alias can consist of only letters, "+ "numbers, underscores and hyphens.")}} </ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Create')}}" ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/articles.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Articles') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Article')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Article')}}</span></md-button></div><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> articles.', files.length)"></span></md-subheader><div layout-gt-sm=row layout-wrap=layout-wrap><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 ng-repeat="file in files | paginator:paged" class=anim-block><md-card ng-class="{'md-whiteframe-z4':isSelected(file),'selected':isSelected(file),'draft': file.status == 0}" class=content><md-card-content layout=column ng-click=toggleSelect(file)><div layout=row><div ng-class="{'text-primary': file.status == 1}" class=md-caption>{{file.updated | dateformat}}</div><span flex=flex></span><md-icon ng-show=file.locked md-svg-icon=action:ic_lock_24px class="s14 tip"></md-icon></div><md-divider class="thick dotted"></md-divider><div flex=flex class="md-subhead line-clamp"> {{ file.meta.title }} </div></md-card-content><div layout=row class=md-actions><md-button aria-label="{{_('Preiview')}}" ng-href="{{file.url+'?preview='+now}}" target=preview ng-show=isSelected(file) class=md-icon-button><md-icon md-svg-icon=action:ic_visibility_24px></md-icon></md-button><span flex=flex ng-click=toggleSelect(file)></span><md-button aria-label="{{_('Edit')}}" ng-href={{file.edit_url}} class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_edit.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Options') }}</h2><div class=funcbar><md-button ng-click=back() class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to Broadcasts')}}</span></md-button></div><form novalidate=novalidate name=broadcast_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=broadcast.title md-maxlength=30 required=required><ng-messages for=broadcast_form.title.$error ng-if=broadcast_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.","30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=broadcast.msg_type placeholder="{{_('Select a Message Type')}}" required=required><md-option ng-value=type.key ng-repeat="type in msgtypes"> <span class=text>{{_(type.name)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* You can broadcast Graphic news and Pure text.')" class="md-caption tip"></p><ng-messages for=broadcast_form.type.$error ng-if=broadcast_form.type.$touched><ng-message when=required>{{_("Message type is required.")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit ng-disabled=!isComplete() class="md-raised md-primary">{{_('Save')}}</md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-show=!is_new ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form><md-divider class=gap></md-divider><form novalidate=novalidate name=send_form><md-input-container><label>{{_('Type %s to confirm', 'SEND')}}</label><input type=text name=code ng-model=code ng-pattern=/^SEND$/ maxlength=10 required=required><p flex-order=3 ng-bind-html="_('* Broadcast will send this message to all your WeChat subscribers. You must make sure this message is completed. You also must follow the WeChat broadcast rules.')" class="md-caption tip"></p><ng-messages for=send_form.code.$error ng-if=send_form.code.$touched><ng-message when=required>{{_("You must type %s exactly.", "SEND")}}</ng-message><ng-message when=pattern>{{_("You must type %s exactly.", "SEND")}}</ng-message></ng-messages></md-input-container><div layout=row><md-button type=button ng-disabled=!isComplete() ng-click=send() class="md-raised md-accent">{{_('Bulk Send')}}</md-button><md-button type=button ng-show=!previewAble() ng-click=setWeChatAdmin() class="md-raised md-raised"> <span class=text>{{_('Set WeChat Admin for Preview')}}</span></md-button><md-dropmenu disabled-auto-focus=disabled-auto-focus ng-show=previewAble() ng-disabled=!isComplete()><md-drop-label><md-button type=button ng-disabled=!isComplete() class=md-raised><span class=text>{{_('Send Preview')}}</span><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon></md-button></md-drop-label><md-drop-option ng-repeat="admin in wx_admins" ng-click=send(admin.wechat_id)>{{ admin.name }}</md-drop-option></md-dropmenu></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Contents") }}</h2><ng-include src="'blueprints/wx/views/broadcast_edit_text.tmpl.html'" ng-if="broadcast.msg_type == 'text'"></ng-include><ng-include src="'blueprints/wx/views/broadcast_edit_news.tmpl.html'" ng-if="broadcast.msg_type == 'news'"></ng-include></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_edit_news.tmpl.html><md-subheader class=md-no-sticky>{{ _('Graphic News Message') }}</md-subheader><md-card class="anim-fade noleave"><div layout=row layout-align="center center" ng-click=callMedia(broadcast) class="imgholder cover img-full"><div ng-show=!broadcast.media_url class=imgholder-cover-icobox><md-icon md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon></div><div ng-show=broadcast.media_url class="imgholder-inner anim-fade noleave"><img ng-src={{image.cover}} alt=preview ng-style="{'background-image':'url('+broadcast.media_url+'?'+now+')'}" class=preview></div></div><md-card-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=broadcast.title md-maxlength=20></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=broadcast.description md-maxlength=160 rows=3></textarea></md-input-container><md-input-container><label>{{_('URL')}}</label><input type=text name=url ng-model=broadcast.url maxlength=500></md-input-container></md-card-content><div layout=row layout-align="center center" class=md-actions><md-button ng-click=callSync(broadcast) class=md-accent><md-icon md-svg-icon=editor:ic_insert_drive_file_24px class=ico></md-icon><span class=text>{{_('Sync Content')}}</span></md-button></div></md-card></script><script type=text/ng-template id=blueprints/wx/views/broadcast_edit_text.tmpl.html><md-subheader class=md-no-sticky>{{ _('Pure Text Message') }}</md-subheader><md-card class="anim-fade noleave"><md-card-content><md-input-container><label>{{_('Message')}}</label><textarea name=text ng-model=broadcast.description md-maxlength=360 rows=12></textarea></md-input-container></md-card-content><div layout=row layout-align="center center" class=md-actions><md-button ng-click=callSync(broadcast) class=md-accent><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync Content')}}</span></md-button></div></md-card></script><script type=text/ng-template id=blueprints/wx/views/broadcasts.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Broadcasts') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Broadcast')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Broadcast')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> broadcasts.', broadcasts.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="cast in broadcasts | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(cast),'selected':isSelected(cast),'draft': cast.status == 0}" class="md-3-line md-padding vertical-center"><md-icon md-svg-icon={{getMsgIcon(cast)}}></md-icon><div ng-click=toggleSelect(cast) class=md-list-item-text><h3 class=md-title>{{ cast.title }}</h3><p class=text-nowrap>{{ _(cast.msg_type) }}</p><p class=md-caption> <span class=text-primary>{{cast.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(cast) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/dashboard.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Analytics Data') }}</h2><div flex=flex layout-gt-sm=row><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Page Viewing') }}</div><div class=md-display-3>{{ analytic_data.app.pv }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Visits') }}</div><div class=md-display-3>{{ analytic_data.app.vs }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Unique Visitors') }}</div><div class=md-display-3>{{ analytic_data.app.uv }}</div></md-card-content></md-card><md-card flex=flex><md-card-content class=text-center><div class=md-caption>{{ _('Unique IPs') }}</div><div class=md-display-3>{{ analytic_data.app.ip }}</div></md-card-content></md-card></div><md-divider class=gap></md-divider><h2 class=md-title>{{ _('App Information') }}</h2><div flex=flex layout-gt-sm=row layout-wrap=layout-wrap><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('Title') }}</div><p class=text-primary>{{ app.title }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('URL Alias') }}</div><p class="text-break text-primary">{{ app.alias }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('WeChat Interface URI') }}</div><p class="text-break text-primary">{{ config.interface_uri }}</p><p ng-if=!app.domain class="md-caption text-warn">{{ _('* You must bind a domain before go public.') }}</p></div><div flex=45 layout-padding=layout-padding><div class=md-subhead>{{ _('WeChat Token') }}</div><p class="text-break text-primary">{{ config.wx_token }}</p></div><div flex=90 layout-padding=layout-padding><div><div class=md-subhead>{{ _('Description') }}</div><p>{{ app.description }}</p></div></div></div></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/media.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Media Library') }}</h2><div class=funcbar><md-button aria-label="{{_('Upload New Media')}}" ngf-select=onFileSelect($files) data-multiple=true accept="image/*, application/zip, application/pdf" ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload New Media')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> media files.', mediafiles.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="media in mediafiles | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(media),'selected':isSelected(media)}" class="md-2-line md-padding vertical-center"><img ng-if=hasPreview(media.type) ng-src="{{media.thumbnail || media.src || media.uri }}?{{now}}" alt={{media.filename}} class="md-avatar s48"><md-icon ng-if="media.type == 'svg'" md-svg-icon=image:ic_palette_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'zip' || media.type == 'pdf'" md-svg-icon=editor:ic_attach_file_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'mp4' || media.type == 'mov'" md-svg-icon=av:ic_videocam_24px class="md-avatar s48"></md-icon><md-icon ng-if="media.type == 'mp3'" md-svg-icon=image:ic_audiotrack_24px class="md-avatar s48"></md-icon><div ng-click=toggleSelect(media) class=md-list-item-text><h3 class="md-title text-nowrap">{{media.filename}}</h3><p class=md-caption><span class=text-primary>{{media.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Re Upload')}}" ngf-select="onFileSelect($files, media.filename)" accept="image/*, application/zip, application/pdf" class=md-icon-button><md-icon md-svg-icon=action:ic_autorenew_24px></md-icon></md-button><md-button aria-label="{{_('Copy URL')}}" ng-click="copyURL(media.src || media.uri)" class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/records.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Records') }}</h2><div class=funcbar><md-button aria-label="{{_('Empty Records')}}" ng-click=empty() class=md-raised><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Empty Records')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> records.', records.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="record in records | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(record),'selected':isSelected(record)}" class="md-3-line md-padding vertical-center"><div ng-click=toggleSelect(record) class=md-list-item-text><h3 class="md-title text-nowrap">{{_('OpenID:')}} {{record.open_id}}</h3><p class=text-nowrap> {{_('Triggered by:')}} &nbsp; {{ getType(record.triggered_by.type) }} - {{record.triggered_by.key}} </p><p class=md-caption><span class=text-primary>{{record.updated | dateformat}}</span></p></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div class=md-padding><p flex-order=3 ng-bind-html="_('* Show only the latest %s records.', record_limit)" class="md-caption tip"></p></div><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/response_edit.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Options') }}</h2><div class=funcbar><md-button ng-click=back() class=md-raised><md-icon md-svg-icon=nav:ic_arrow_back_24px class=ico></md-icon><span class=text>{{_('Back to Responses')}}</span></md-button></div><form novalidate=novalidate name=response_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=response.title md-maxlength=30 required=required><ng-messages for=response_form.title.$error ng-if=response_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.","30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=response.msg_type placeholder="{{_('Select a Message Type')}}" required=required><md-option ng-value=type.key ng-repeat="type in msgtypes"> <span class=text>{{_(type.name)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Content source should be bound when respond latest articles, search articles and random articles.')" class="md-caption tip"></p><ng-messages for=response_form.type.$error ng-if=response_form.type.$touched><ng-message when=required>{{_("Message type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Trigger by')}}</label><md-select flex-order=2 layout=column name=trigger ng-model=response.trigger.type placeholder="{{_('Select a Trigger')}}" required=required><md-option ng-value=trigger.key ng-repeat="trigger in triggers"> <span class=text>{{_(trigger.name)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Define how to trigger your repsonse.')" class="md-caption tip"></p><ng-messages for=response_form.trigger.$error ng-if=response_form.trigger.$touched><ng-message when=required>{{_("Message type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show=showKeywords() class=anim-item><label>{{_('Keywords')}}</label><textarea name=keywords ng-model=keywords maxlength=320 rows=3 ng-required=showKeywords()></textarea><ng-messages for=response_form.keywords.$error ng-if=response_form.keywords.$touched><ng-message when=required>{{_("At least one keyword.")}}</ng-message></ng-messages></md-input-container><md-input-container><md-switch ng-model=response.status aria-label="{{_('Publish')}}" ng-true-value=1 ng-false-value=0><span ng-if="response.status == 1">{{ _('Published') }}</span><span ng-if="response.status == 0">{{ _('Draft') }}</span></md-switch></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button><span flex=flex></span><md-button aria-label="{{_('Delete')}}" type=button ng-show=!is_new ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Contents") }}</h2><ng-include src="'blueprints/wx/views/response_edit_text.tmpl.html'" ng-if="response.msg_type == 'text'"></ng-include><ng-include src="'blueprints/wx/views/response_edit_news.tmpl.html'" ng-if="response.msg_type == 'news'"></ng-include><ng-include src="'blueprints/wx/views/response_edit_related.tmpl.html'" ng-if="['newest','search','random'].indexOf(response.msg_type) > -1"></ng-include></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/response_edit_news.tmpl.html><md-subheader class=md-no-sticky>{{ _('Graphic News Message') }}</md-subheader><div dnd-list=response.messages class="dragdrop lg"><div ng-repeat="msg in response.messages" dnd-draggable=msg dnd-effect-allowed=move dnd-selected=toggleSelect(msg) dnd-moved="response.messages.splice($index, 1)" class="anim-fade noleave"><md-card ng-class="{'md-whiteframe-z4':isSelected(msg),'selected':isSelected(msg)}"><div layout=row layout-align="center center" ng-show="$index == 0" ng-click="callMedia(msg, $event)" class="imgholder cover img-full"><div ng-show=!msg.pic_url class=imgholder-cover-icobox><md-icon md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon></div><div ng-show=msg.pic_url class="imgholder-inner anim-fade noleave"><img ng-src={{image.cover}} alt=preview ng-style="{'background-image':'url('+msg.pic_url+'?'+now+')'}" class=preview></div></div><md-card-content ng-show="$index == 0"><h3 class=md-subhead>{{msg.title}}</h3><p class=md-body-1>{{msg.content}}</p></md-card-content><md-card-content ng-show="$index > 0" layout=row layout-align="start center"><h3 flex=flex class=md-subhead>{{msg.title}}</h3><div flex=20 layout=row layout-align="center center" ng-click="callMedia(msg, $event)" class="imgholder img-full"><md-icon ng-show=!msg.pic_url md-svg-icon=action:ic_perm_media_24px class="ico s60"></md-icon><div ng-show=msg.pic_url class="imgholder-inner anim-fade noleave"><img ng-src={{image.trans}} alt=preview ng-style="{'background-image':'url('+msg.pic_url+'?'+now+')'}" class=preview></div></div></md-card-content><div layout=row class=md-actions><md-button md-no-ink=true ng-click="moveup($index, $event)" aria-label="{{_('Move Up')}}" ng-disabled=$first class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_less_24px></md-icon></md-button><md-button md-no-ink=true ng-click="movedown($index, $event)" aria-label="{{_('Move Down')}}" ng-disabled=$last class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_more_24px></md-icon></md-button><span flex=flex></span><md-button ng-click="callSync(msg, $event)" class=md-accent><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync')}}</span></md-button><md-button aria-label="{{_('Edit')}}" ng-click="editNewsItem(msg, $index, $event)" class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div><md-input-container><md-button aria-label="{{_('Add New Message Item')}}" ng-click=addNewsItem() ng-disabled=!newsItemAddAble() class=md-raised><md-icon md-svg-icon=content:ic_add_box_24px class=ico></md-icon><span class=text>{{_('Add New Message Item')}}</span></md-button></md-input-container></script><script type=text/ng-template id=blueprints/wx/views/response_edit_related.tmpl.html><md-subheader class=md-no-sticky>{{ _('Search Article') }}</md-subheader><md-card class="anim-fade noleave"><md-card-content><form novalidate=novalidate name=related_form ng-submit=save()><md-input-container><label class=static-label>{{_('Source App')}}</label><md-select flex-order=2 layout=column name=app ng-model=response.related.app_id placeholder="{{_('Select an App')}}"><md-option ng-value=app.id ng-repeat="app in selectable_apps"> <span class=text>{{ app.title }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The response will be bound to the contents of the app source.')" class="md-caption tip"></p><ng-messages for=related_form.app.$error ng-if=related_form.app.$touched><ng-message when=required>{{_("You must select one app.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Source Content Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=response.related.content_type placeholder="{{_('Select a Content Type')}}" md-on-open=loadContentTypes()><md-option value> <span class=text>{{_('All')}}</span></md-option><md-option ng-value=type.alias ng-repeat="type in curr_app_content_types"> <span class=text>{{_(type.title)}}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The response can also be bound to a certain content type if needed.')" class="md-caption tip"></p></md-input-container><md-input-container><label class=static-label>{{_('Number of replies')}}</label><md-select flex-order=2 layout=column name=limit ng-model=response.related.limit placeholder="{{_('Limit')}}"><md-option ng-value=number ng-repeat="number in related_limit"> <span class=text>{{ number }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* Response can reply 1-10 messages each time.')" class="md-caption tip"></p></md-input-container></form></md-card-content></md-card></script><script type=text/ng-template id=blueprints/wx/views/response_edit_text.tmpl.html><md-subheader class=md-no-sticky>{{ _('Pure Text Message') }}</md-subheader><md-card class="anim-fade noleave"><md-card-content><md-input-container><label>{{_('Message')}}</label><textarea name=text ng-model=response.text md-maxlength=160 rows=12></textarea></md-input-container></md-card-content><div layout=row layout-align="center center" class=md-actions><md-button ng-click="callSync(response, $event)" class=md-accent><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync Content')}}</span></md-button></div></md-card></script><script type=text/ng-template id=blueprints/wx/views/response_news_msg_edit.tmpl.html><md-dialog aria-label="{{_('Graphic News Message')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New Message') }}</span><span ng-if=!new>{{ _('Edit Message') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=msg_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=msg.title md-maxlength=36 required=required><ng-messages for=msg_form.title.$error ng-if=msg_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '36')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Content')}}</label><textarea name=content ng-model=msg.content md-maxlength=160></textarea><ng-messages for=msg_form.content.$error ng-if=msg_form.content.$touched><ng-message when=md-maxlength>{{_("Content must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('URL')}}</label><input type=url name=url ng-model=msg.url maxlength=500 required=required><ng-messages for=msg_form.url.$error ng-if=msg_form.url.$touched><ng-message when=required>{{_("URL is required.")}}</ng-message><ng-message when=url>{{_("URL is invalid.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/responses.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Responses') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Response')}}" ng-click=add() class=md-raised><md-icon md-svg-icon=action:ic_note_add_24px class=ico></md-icon><span class=text>{{_('Add New Response')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> responses.', responses.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="resp in responses | paginator:paged" class=anim-item><md-list-item ng-class="{'md-whiteframe-z1':isSelected(resp),'selected':isSelected(resp),'draft': resp.status == 0}" class="md-3-line md-padding vertical-center"><md-icon md-svg-icon={{getMsgIcon(resp)}}></md-icon><div ng-click=toggleSelect(resp) class=md-list-item-text><h3 class=md-title>{{ resp.title }}</h3><p class=text-nowrap>{{_('Trigger by:')}} {{ getTrigger(resp) }}</p><p class=md-caption> <span class=text-primary>{{resp.updated | dateformat}}</span></p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(resp) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div></div></div><ng-include src="'blueprints/common/views/trashbar.tmpl.html'"></ng-include></div></script><script type=text/ng-template id=blueprints/wx/views/settings/custom_menu.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Custom Menu') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New Item')}}" ng-disabled=checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=av:ic_playlist_add_24px class=ico></md-icon><span class=text>{{_('Add New Item')}}</span></md-button></div><div layout-padding=layout-padding><h2 class="md-display-1 tip">{{menu_nodes.length}}/{{top_limit}}</h2><p ng-show="menu_nodes.length > 0" class="md-caption tip"><md-icon md-svg-icon=action:ic_open_with_24px class=ico></md-icon><span ng-bind-html="_('* Try dragging to move menus.')"></span></p><ng-include src="'blueprints/wx/views/settings/custom_menu_nodes.tmpl.html'"></ng-include><p ng-bind-html="_('* Do not forget to save your edits after modify the menu.')" class="md-caption tip"></p></div><div layout=row><md-button ng-click=save() class="md-raised md-primary"><span class=text>{{_('Save')}}</span></md-button><md-button ng-click=destroy() class="md-raised md-warn"><span class=text>{{_('Destroy')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button> <span class=text>{{_('Hardcode Mode')}}</span></md-button></div></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/settings/custom_menu_edit.tmpl.html><md-dialog aria-label="{{_('Custom Menu Edit')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Custom Menu Edit') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=node_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=node.name md-maxlength=20 required=required><ng-messages for=node_form.title.$error ng-if=node_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Type')}}</label><md-select layout=column name=type ng-model=node.type placeholder="{{_('Select a Type')}}" required=required flex-order=2><md-option ng-value=type.key ng-repeat="type in nodetypes"> <span class=text>{{_(type.name)}}</span></md-option></md-select><ng-messages for=node_form.type.$error ng-if=node_form.type.$dirty><ng-message when=required>{{_("Type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="node.type =='view'"><label>{{_('URL')}}</label><input type=url name=url ng-model=node.url ng-required="node.type =='view'"><ng-messages for=node_form.url.$error ng-if=node_form.url.$touched><ng-message when=required>{{_("URL is required.")}}</ng-message><ng-message when=url>{{_("URL is invalid.")}}</ng-message></ng-messages></md-input-container><md-input-container ng-show="node.type !='view'"><label>{{_('Key')}}</label><input type=text name=key ng-model=node.key ng-pattern=/^[a-zA-Z0-9_-]+$/ md-maxlength=100 ng-required="node.type =='click'"><ng-messages for=node_form.key.$error ng-if=node_form.key.$touched><ng-message when=required>{{_("Key is required.")}}</ng-message><ng-message when=pattern>{{_("Key must be letters and numbers.")}}</ng-message><ng-message when=md-maxlength>{{_("Key must be less than %s characters.", '100')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Ok')}}" class="md-raised md-primary"> <span class=text>{{ _('Ok') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/settings/custom_menu_hardcode.tmpl.html><md-dialog aria-label="{{_('Custom Menu Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Custom Menu Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea name=hardcode ng-model=nodes_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/settings/custom_menu_nodes.tmpl.html><div dnd-list=menu_nodes dnd-dragover=dragoverCallback(menu_nodes) dnd-drop="dropCallback(item, menu_nodes)" class=dragdrop><div ng-repeat="node in menu_nodes" dnd-draggable=node dnd-effect-allowed=move dnd-dragstart=dragStart(node) dnd-selected=toggleSelect(node) dnd-moved="menu_nodes.splice($index, 1)" ng-init="node.sub_button = node.sub_button ? node.sub_button:[]" class=container><md-card ng-class="{'md-whiteframe-z4':isSelected(node),'selected':isSelected(node)}" class="container-inner md-whiteframe-z2"><md-card-content><div layout=row><h3 flex=flex class=md-title>{{node.name}}</h3><md-button aria-label="{{_('Add Submenu')}}" ng-click="add(node.sub_button, $event)" ng-disabled=checkAddable(node.sub_button) class=md-icon-button><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></md-button><md-button aria-label="{{_('Edit')}}" ng-click="edit(node, menu_nodes, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list><md-subheader class=md-no-sticky> {{_('Sub button:')}}&nbsp; {{node.sub_button.length}}/{{child_limit}} </md-subheader><div dnd-list=node.sub_button dnd-dragover=dragoverCallback(node.sub_button) dnd-drop="dropCallback(item, node.sub_button)" class=children><div ng-repeat="child in node.sub_button" dnd-draggable=child dnd-effect-allowed=move dnd-dragstart=dragStart(child) dnd-moved="node.sub_button.splice($index, 1)"><md-divider class=dotted></md-divider><md-list-item class="md-2-line vertical-center"><div class="md-list-item-text text-break"><h4 class=md-subhead>{{child.name}}</h4></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click="edit(child, node.sub_button, $event)" class=md-icon-button><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div></md-list-item></div></div></md-list></md-card-content></md-card></div></div></script><script type=text/ng-template id=blueprints/wx/views/settings/destroy.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Destroy App') }}</h2><form flex=flex novalidate=novalidate name=destroy_form><md-input-container><label>{{_('Type %s to confirm', 'REMOVE')}}</label><input type=text name=code ng-model=code ng-pattern=/^REMOVE$/ maxlength=10 required=required><p flex-order=3 ng-bind-html="_('* Once you destroy the app, all date will be lost.')" class="md-caption tip"></p><ng-messages for=destroy_form.code.$error ng-if=destroy_form.code.$touched><ng-message when=required>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message><ng-message when=pattern>{{_("You must type %s exactly.", 'REMOVE')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button ng-click=destroy() ng-disabled=submitted class="md-raised md-warn">{{_('Destroy')}}</md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/settings/metas.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Metas') }}</h2><form novalidate=novalidate name=metas_form ng-submit=save()><div flex=flex layout-gt-md=row><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Logo')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.logo md-svg-icon=action:ic_perm_media_24px ng-click=selectLogo() class="ico s60"></md-icon><div ng-show=meta.site_meta.logo class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.logo}} ng-click=selectLogo() alt="{{_('Logo')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.logo ng-click=selectLogo(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('Copyright')}}</label><textarea type=text name=copyright rows=3 ng-model=meta.site_meta.copyright></textarea></md-input-container><md-input-container><label>{{_('Contacts')}}</label><textarea name=contacts ng-model=meta.site_meta.contacts rows=3></textarea></md-input-container><md-input-container><label>{{_('Keywords')}}</label><textarea name=keywords rows=3 ng-model=meta.site_meta.keywords></textarea></md-input-container></div><div flex=flex></div><div flex-gt-md=45><md-input-container><label class=static-label>{{_('Favicon')}}</label><div flex-order=3 layout=row layout-align="center center" class=imgholder><md-icon ng-show=!meta.site_meta.favicon md-svg-icon=action:ic_perm_media_24px ng-click=selectIcon() class="ico s60"></md-icon><div ng-show=meta.site_meta.favicon class="imgholder-inner anim-fade noleave"><img ng-src={{meta.site_meta.favicon}} ng-click=selectIcon() alt="{{_('Favicon')}}"><md-button aria-label="{{_('Cancel')}}" type=button ng-show=meta.site_meta.favicon ng-click=selectIcon(true) class=md-icon-button><md-icon md-svg-icon=nav:ic_cancel_24px class=s24></md-icon></md-button></div></div></md-input-container><md-input-container><label>{{_('License')}}</label><textarea type=text name=license rows=3 ng-model=meta.site_meta.license></textarea></md-input-container><md-input-container><label>{{_('Analytics')}}</label><textarea name=analytics ng-model=meta.site_meta.analytics rows=3></textarea></md-input-container><md-input-container><label>{{_('SEO')}}</label><textarea name=seo ng-model=meta.site_meta.seo rows=3></textarea></md-input-container></div></div><div layout=row><p class="md-caption tip"> {{_('* Do not forget to save the metas after changing them.')}} </p></div><div layout=row><md-button type=submit class="md-raised md-primary"> <span class=text>{{_('Save')}}</span></md-button><span flex=flex></span><md-button ng-click=openHardcode() type=button> <span class=text>{{_('Hardcode Mode')}}</span></md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/settings/metas_hardcode.tmpl.html><md-dialog aria-label="{{_('Metas Hardcode Mode')}}" flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Metas Hardcode Mode') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=hardcode_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Hardcode')}}</label><textarea rows=9 name=hardcode ng-model=meta_hardcode></textarea><ng-messages for=hardcode_form.hardcode.$error ng-if=hardcode_form.hardcode.$touched><ng-message when=format>{{_("Hardcode parse error.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Save')}}" class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/settings/options.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Basic Information') }}</h2><form novalidate=novalidate name=profile_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=profile.title md-maxlength=60 required=required><ng-messages for=profile_form.title.$error ng-if=profile_form.title.$touched><ng-message when=required>{{_("Title is required.")}}</ng-message><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", "30")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Locales')}}</label><md-select flex-order=2 layout=column name=locales ng-model=profile.locale placeholder="{{_('Select Locales')}}" required=required><md-option ng-value=loc.code ng-repeat="loc in locales"> <span class=text>{{ loc.text }}</span></md-option></md-select><p flex-order=3 ng-bind-html="_('* The definition of app locales will influence the automatic translation.')" class="md-caption tip"></p><ng-messages for=profile_form.locales.$error ng-if=profile_form.locales.$touched><ng-message when=required>{{_("Locales is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Description')}}</label><textarea name=description ng-model=profile.description md-maxlength=160 rows=4></textarea><ng-messages for=profile_form.description.$error ng-if=profile_form.description.$touched><ng-message when=md-maxlength><span ng-bind-html="_('The description must be less than %s characters.', '160')"></span></ng-message></ng-messages></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("WeChat Settings") }}</h2><form novalidate=novalidate name=domain_form ng-submit=bind()><md-input-container><label>{{_('Domain')}}</label><input type=text name=domain ng-model=domain.domain ng-pattern=/^[a-zA-Z0-9-]{1,61}(?:\.[a-zA-Z0-9]{1,})+[\/a-zA-Z0-9]+$/ md-maxlength=200 required=required><ng-messages for=domain_form.domain.$error ng-if=domain_form.domain.$touched><ng-message when=required>{{_("Domain is required.")}}</ng-message><ng-message when=pattern>{{_("Domain is invalid.")}}</ng-message></ng-messages></md-input-container><div class=text-container><div class="md-subhead text-warn">{{_('Warning:')}} &nbsp;</div><p ng-bind-html="_('* Please contact us before binding a domain because unauthorized binding domain will be useless. This kind of operation must be authorized and confirmed by us first.')" class="md-caption tip"></p></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button><div ng-show=binded class=anim-fade><md-button ng-click=unbind() type=button class="md-raised md-warn">{{_('Remove')}}</md-button></div></div></form><md-divider class=gap></md-divider><form novalidate=novalidate name=interface_form ng-submit=bindInterface()><md-input-container><label>{{_('WeChat Token')}}</label><input type=text name=token ng-model=config.wx_token ng-pattern=/^[a-zA-Z0-9_-]+$/ md-maxlength=20 required=required><ng-messages for=interface_form.token.$error ng-if=interface_form.token.$touched><ng-message when=required>{{_("WeChat Token is required.")}}</ng-message><ng-message when=pattern>{{_("WeChat token can consist of only letters and numbers.")}}</ng-message><ng-message when=md-maxlength>{{_("WeChat token must be less than %s characters.","20")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('WeChat Type')}}</label><md-select flex-order=2 layout=column name=type ng-model=config.type placeholder="{{_('Select a Type')}}" required=required><md-option ng-value=type.key ng-repeat="type in wxtypes"> <span class=text>{{_(type.name)}}</span></md-option></md-select><ng-messages for=interface_form.type.$error ng-if=interface_form.type.$touched><ng-message when=required>{{_("Type is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_("URL for Connect WeChat")}}</label><p flex-order=1 class=text-primary>{{config.interface_uri}}</p></md-input-container><md-input-container><md-button ng-click=toggleAdv() type=button><md-icon ng-class="{'toggled':show_adv_form}" md-svg-icon=nav:ic_expand_more_24px class="ico toggle-icon"></md-icon><span class=text>{{_('Advanced Options')}}</span></md-button></md-input-container><div ng-show=show_adv_form class=anim-block><md-input-container><label>{{_('WeChat AppID')}}</label><input type=text name=wx_appid ng-model=config.wx_appid maxlength=100></md-input-container><md-input-container><label>{{_('WeChat AppSecret')}}</label><input type=text name=wx_secret ng-model=config.wx_secret maxlength=100></md-input-container><md-input-container><label>{{_('Encoding AES Key')}}</label><input type=text name=encoding_aes_key ng-model=config.encoding_aes_key maxlength=500><p flex-order=3 ng-bind-html="_('* Leave it blank if you do not need encryption.')" class="md-caption tip"></p></md-input-container></div><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Bind')}}</md-button></div></form></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/settings/theme_detail.tmpl.html><md-dialog aria-label={{theme.alias}} flex=flex class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Theme') }}</span><span flex=flex></span><md-button aria-label="Copy URL" ng-click=copy() ng-show=copy_able class=md-icon-button><md-icon md-svg-icon=content:ic_link_24px></md-icon></md-button><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content ng-style="{'background-image': theme.meta.poster ? 'url('+theme.meta.poster+')':'none'}" class=bg-img-top-right><img ng-src={{theme.thumbnail}} alt={{theme.alias}} class=s60><h2 class=md-headline><span>{{_t(theme.title)}}</span></h2><md-divider class="thick dotted"></md-divider><div class=text-block><h3 class=md-title>{{ _('Description') }}</h3><p ng-bind-html=_t(theme.description)></p></div><md-divider ng-if=theme.updated class="thick dotted"></md-divider><div ng-if=theme.updated class=text-block><h3 class=md-title>{{ _('Last Updated') }}</h3><p>{{theme.updated | dateformat}}</p></div></md-dialog-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Activate')}}" ng-click=activate() ng-disabled="theme.activated && !theme.upgradeable" class=md-raised> <span class=text>{{ !theme.upgradeable ? _('Activate') : _('upgradeable')}}</span></md-button></div></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/settings/themes.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=45 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _("Current Theme") }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('Your current activated theme.')"></span></md-subheader><md-card ng-show=show_current_theme class="theme anim-fade"><img ng-src={{image.trans}} alt={{current_theme.alias}} ng-style="{'background-image':'url('+current_theme.thumbnail_src+')'}" class=preview><md-card-content theme={{current_theme.id}} alias={{current_theme.alias}}><h3 class=md-title>{{ _t(current_theme.title) }}</h3><p ng-bind-html="_('Made by %s', current_theme.author)" class=md-caption></p><p ng-bind-html=_t(current_theme.description)></p><form ng-show=config_mode novalidate=novalidate name=config_form ng-submit=saveConfig() class=anim-block><md-input-container><label>{{_('Options')}}</label><textarea rows=9 name=theme_options ng-model=theme_meta_options></textarea><p flex-order=3 ng-bind-html="_('* Make sure that you have the required knowledge before making the changes because these advanced configuration options are JSON format.')" class="md-caption tip"></p><ng-messages for=config_form.theme_options.$error ng-if=config_form.theme_options.$touched><ng-message when=format>{{_("Options parse error.")}}</ng-message></ng-messages></md-input-container><div><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form><form ng-show=style_mode novalidate=novalidate name=style_form ng-submit=saveStyle() class=anim-block><md-input-container><label>{{_('Custom Styles')}}</label><textarea rows=9 name=theme_styles ng-model=current_theme.styles></textarea><p flex-order=3 ng-bind-html="_('* Write your custom CSS here.')" class="md-caption tip"></p></md-input-container><div layout=row><md-button type=submit class="md-raised md-primary">{{_('Save')}}</md-button></div></form></md-card-content><div layout=row layout-align="end center" class=md-actions><md-button aria-label="{{_('Config')}}" ng-click=toggleConfig() class=md-icon-button><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button aria-label="{{_('Style')}}" ng-click=toggleStyle() class=md-icon-button><md-icon md-svg-icon=image:ic_style_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Reload')}}" ng-click=reloadTheme() class=md-icon-button><md-icon md-svg-icon=notify:ic_sync_24px></md-icon></md-button><md-button aria-label="{{_('Detail')}}" ng-click=open(current_theme) class=md-icon-button><md-icon md-svg-icon=action:ic_description_24px></md-icon></md-button></div></md-card></div><div flex-gt-md=40 offset-gt-md=5 layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('Available Themes') }}</h2><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> available themes.', themes.length)"></span></md-subheader><md-list><div ng-repeat="theme in themes | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{theme.thumbnail}} alt={{theme.alias}} class="md-avatar s48"><div theme={{theme.id}} alias={{theme.alias}} ng-click=open(theme) class=md-list-item-text><small ng-if=theme.upgradeable class=text-primary>{{ _("Upgraded") }}</small><h3 class=text-nowrap>{{ _t(theme.title) }}</h3><p ng-bind-html=_t(theme.description) class=line-clamp></p><p>{{ theme.updated | dateformat }}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(theme) class="md-raised md-icon-button"><md-icon ng-show=!theme.activated md-svg-icon=action:ic_class_24px></md-icon><md-icon ng-show="theme.activated && !theme.upgradeable" md-svg-icon=action:ic_done_24px></md-icon><md-icon ng-show="theme.activated && theme.upgradeable" md-svg-icon=custom:ic_play_for_work_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list><div layout=row layout-align="center center"><md-button ng-click=showMore() ng-if=hasMore()><md-icon md-svg-icon=nav:ic_expand_more_24px class=ico></md-icon><span class=text>{{_('More')}}</span></md-button></div><h2 class=md-title>{{ _('Custom Theme') }}</h2><div ng-if="custom_theme_loaded && custom_theme.alias" class=anim-item><md-list><md-list-item class="md-3-line md-padding vertical-center"><img ng-src={{custom_theme.thumbnail}}?{{now}} alt={{custom_theme.alias}} class="md-avatar s48"><div theme={{custom_theme.id}} alias={{custom_theme.alias}} class=md-list-item-text><h3 class=text-wrap>{{ _t(custom_theme.title) }}</h3><p class=line-clamp>{{ _t(custom_theme.description) }}</p><p>{{ custom_theme.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Detail')}}" ng-click=open(custom_theme) class="md-raised md-icon-button"><md-icon ng-show=!custom_theme.activated md-svg-icon=action:ic_class_24px></md-icon><md-icon ng-show=custom_theme.activated md-svg-icon=action:ic_done_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></md-list><md-input-container layout=row><md-button flex=flex aria-label="{{_('Re Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Re Upload')}}</span></md-button><md-button flex=flex aria-label="{{_('Remove Custom Theme')}}" ng-click=removeCustom() class="md-raised md-warn"><md-icon md-svg-icon=action:ic_delete_24px class=ico></md-icon><span class=text>{{_('Remove')}}</span></md-button></md-input-container></div><div ng-if="custom_theme_loaded && !custom_theme.alias" class=anim-item><div class="text-container text-center"><p ng-bind-html="_('Activate the theme in the available themes, or upload your custom theme.')" class=md-caption></p></div><md-input-container><md-button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) accept=application/zip ng-disabled="upload_status == 1" class=md-raised><md-icon ng-show="upload_status != 1" md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><md-icon ng-show="upload_status == 1" md-svg-icon=action:ic_cached_24px class="ico rotating noleave"></md-icon><span class=text>{{_('Upload Custom Theme')}}</span></md-button><p flex-order=3 ng-bind-html="_('* You need to take this risk by using a custom theme that is unknown.')" class="md-caption text-center tip"></p></md-input-container></div></div></div></div></script><script type=text/ng-template id=blueprints/wx/views/settings/wx_admin_edit.tmpl.html><md-dialog aria-label="{{_('WeChat Admin')}}" flex=flex flex-gt-md=50><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span ng-if=new>{{ _('New WeChat Admin') }}</span><span ng-if=!new>{{ _('Edit WeChat Admin') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=admin_form ng-submit=submit()><md-dialog-content><md-input-container><label>{{_('Name')}}</label><input type=text name=name ng-model=admin.name md-maxlength=20 required=required><ng-messages for=admin_form.name.$error ng-if=admin_form.name.$touched><ng-message when=required>{{_("Name is required.")}}</ng-message><ng-message when=md-maxlength>{{_("Name must be less than %s characters.", '20')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('WeChat ID')}}</label><input type=text name=wechat_id ng-model=admin.wechat_id maxlength=500 required=required><ng-messages for=admin_form.wechat_id.$error ng-if=admin_form.wechat_id.$touched><ng-message when=required>{{_("WeChat ID is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Open ID')}}</label><input type=text name=open_id ng-model=admin.open_id maxlength=500></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() ng-show=!new ng-disabled=submitted class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Save')}}" ng-show=!new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Save') }}</span></md-button><md-button aria-label="{{_('Create')}}" ng-show=new ng-disabled=submitted class="md-raised md-primary"> <span class=text>{{ _('Create') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=blueprints/wx/views/settings/wx_admins.html><div flex=flex layout-margin=layout-margin class="view-animate paper"><div flex=flex layout-gt-md=row><div flex-gt-md=90 offset-gt-md=5 layout=column layout-padding=layout-padding layout-margin=layout-margin><h2 class=md-title>{{ _('WeChat Admins') }}</h2><div class=funcbar><md-button aria-label="{{_('Add New WeChat Admin')}}" ng-disabled=!checkAddable() ng-click=add() class=md-raised><md-icon md-svg-icon=social:ic_person_add_24px class=ico></md-icon><span class=text>{{_('Add New WeChat Admin')}}</span></md-button></div><md-list><md-subheader class=md-no-sticky><span ng-bind-html="_('You have <span class=text-primary>%s</span> WeChat admins.', wx_admins.length)"></span></md-subheader><md-divider class=dotted></md-divider><div ng-repeat="admin in wx_admins | paginator:paged" class=anim-item><md-list-item class="md-3-line md-padding vertical-center"><div class=md-list-item-text><h3 class=md-title>{{ admin.name }}</h3><p>{{_('WeChat ID:')}}&nbsp;{{ admin.wechat_id }}</p><p>{{_('Open ID:')}}&nbsp;{{ admin.open_id }}</p></div><div class=func><md-button aria-label="{{_('Edit')}}" ng-click=edit(admin) class="md-raised md-icon-button"><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></div></div></script><script type=text/ng-template id=modals/bg/bg.tmpl.html><md-dialog aria-label="{{_('Background')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Background') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex><md-tabs md-dynamic-height=md-dynamic-height md-selected=selectedTab><md-tab label="{{_('Current Background')}}"><div class=tab-content><div layout-gt-sm=row layout-padding=layout-padding><div flex=flex layout=column class=md-padding><md-input-container flex=flex><label class=static-label>{{_('Image')}}</label><div flex=flex flex-order=3 layout=column layout-align="center center"><md-icon ng-show=!current_bg.src md-svg-icon=action:ic_perm_media_24px ng-click=goRepository() class="ico s60"></md-icon><md-card layout-padding=layout-padding ng-show=current_bg.src ng-click=goRepository()><img ng-if="current_bg.thumbnail || current_bg.src" ng-src="{{current_bg.thumbnail || current_bg.src}}?{{now}}" alt={{current_bg.title}}></md-card></div></md-input-container></div><form flex=flex novalidate=novalidate name=forms.bg_propety_form class=md-padding><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=current_bg.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=forms.bg_propety_form.class.$error ng-if=forms.bg_propety_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Color')}}</label><input type=text name=color ng-model=current_bg.color maxlength=30></md-input-container><md-input-container><label class=static-label>{{_('Repeat')}}</label><md-select layout=column flex-order=3 name=repeat ng-model=current_bg.repeat placeholder="{{_('Select A Background Repeat')}}"><md-option value>{{_('Empty')}}</md-option><md-option value=no-repeat>{{_('No Repeat')}}</md-option><md-option value=repeat>{{_('Full Repeat')}}</md-option><md-option value=repeat-y>{{_('Vertical Repeat')}}</md-option><md-option value=repeat-x>{{_('Horizontal Repeat')}}</md-option></md-select></md-input-container><div ng-bind-html="_('* Those property is in effect depends on the current theme supports.')" class="p md-caption tip"></div></form></div></div></md-tab><md-tab label="{{_('Repository')}}"><div class=tab-content><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in mediafiles"><md-card ng-click=setCurrentBg(media) class=media><img ng-src={{media.thumbnail}}?{{now}} alt={{media.title}}></md-card></div></div></div></md-tab><md-tab label="{{_('New Upload')}}"><div class=tab-content><div class=input-container><div ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept="'image/*'" ngf-multiple=true ng-file-drop ngf-drag-over-class=file-drag-over layout=column layout-align="center center" class=uploadbox><md-icon ng-show=upload_status==0 md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show=upload_status==1 md-mode=indeterminate></md-progress-circular><md-icon ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px class=md-warn></md-icon></div><div ng-bind-html="_('* New media files can not share the name with existing files in the media library and the size of each file must be less than 600k.')" class="p md-caption tip text-center"></div></div><div class="md-padding text-center"><md-button type=button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) data-multiple=true accept=image/* ng-disabled="upload_status == 1" class=md-raised><md-icon md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><span class=text>{{_('Upload media')}}</span></md-button></div><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in uploadedMediafiles"><md-card ng-click=setCurrentBg(media) class=media><img ng-src={{media.thumbnail}} alt={{media.title}}></md-card></div></div></div></md-tab></md-tabs></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() ng-disabled=!hasMedia() class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/button/button.tmpl.html><md-dialog aria-label="{{_('Button')}}" flex=50 class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Button') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=button_form ng-submit=insert()><md-dialog-content><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=button.title md-maxlength=60><ng-messages for=button_form.title.$error ng-if=button_form.title.$touched><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Link')}}</label><input type=text name=link ng-model=button.link maxlength=500 required=required><ng-messages for=button_form.link.$error ng-if=button_form.link.$touched><ng-message when=required>{{_("A link is required.")}}</ng-message></ng-messages></md-input-container><md-input-container><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></md-input-container><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=button.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=button_form.class.$error ng-if=button_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/collect/collect.tmpl.html><md-dialog aria-label="{{_('Collect')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Collect') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex class="dragdrop md-padding"><form flex=flex novalidate=novalidate name=new_item_form ng-submit=add()><md-card><md-subheader class="md-no-sticky md-primary">{{ _('Definition') }}</md-subheader><md-card-content flex=flex><div layout-gt-md=row layout-align="center center"><div flex=30><md-input-container layout-margin=layout-margin><label>{{_('Name')}}</label><input type=text name=name rel=collect-add-item-first ng-model=new_item.name ng-disabled=!addible></md-input-container></div><div flex=50><md-input-container layout-margin=layout-margin><label>{{_('Value')}}</label><input type=text name=value ng-model=new_item.value ng-disabled=!addible></md-input-container></div><div flex=flex layout=row><md-button flex=flex layout-margin=layout-margin ng-disabled="new_item_form.$invalid || !addible" class=md-raised><md-icon md-svg-icon=content:ic_create_24px class=ico></md-icon><span class=text>{{_('Add new item')}}</span></md-button></div></div><div layout-margin=layout-margin><p flex-order=3 ng-bind-html="_('* Add your data definition, empty data is automatically remodeling when the submission.')" class="md-caption tip"></p></div></md-card-content></md-card></form><md-divider class=gap></md-divider><div ng-repeat="item in collection" ng-submit=edit(item) class=anim-item><md-card ng-class="{'md-whiteframe-z4':isSelected(item),'selected':isSelected(item)}" ng-click=toggleSelect(item)><md-card-content flex=flex layout-gt-md=row layout-align="center center"><div flex=30><md-input-container layout-margin=layout-margin><label class=static-label>{{_('Name')}}</label><input type=text name=name ng-model=item.name></md-input-container></div><div flex=50><md-input-container layout-margin=layout-margin><label class=static-label>{{_('Value')}}</label><input type=text name=value ng-model=item.value></md-input-container></div><div flex=flex layout=row><md-button md-no-ink=true ng-click="moveup($index, $event)" aria-label="{{_('Move Up')}}" ng-disabled=$first class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_less_24px></md-icon></md-button><md-button md-no-ink=true ng-click="movedown($index, $event)" aria-label="{{_('Move Down')}}" ng-disabled=$last class=md-icon-button><md-icon md-svg-icon=nav:ic_expand_more_24px></md-icon></md-button><span flex=flex></span><md-button type=button aria-label="{{_('Remove')}}" ng-click=remove($index) class=md-icon-button><md-icon md-svg-icon=content:ic_clear_24px></md-icon></md-button></div></md-card-content></md-card></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/gallery/gallery.tmpl.html><md-dialog aria-label="{{_('Gallery')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Gallery') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><div id=gallery-modal-sheet ng-show=gallery_sheet_open></div><md-dialog-content flex=flex><md-tabs md-dynamic-height=md-dynamic-height md-selected=selectedTab><md-tab label="{{_('Media in Gallery')}}" md-on-select=resetSelect()><div class=tab-content><div layout=row layout-wrap=layout-wrap dnd-list=galleryMediafiles class="dragdrop md-padding"><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in galleryMediafiles" dnd-draggable=media dnd-effect-allowed=move dnd-moved="galleryMediafiles.splice($index, 1)"><md-card ng-class="{'md-whiteframe-z4':isSelected(media),'selected':isSelected(media)}" ng-click=toggleSelect(media) class=media><img ng-src="{{media.thumbnail || media.src}}?{{now}}" alt={{media.title}}><md-card-content><div class="md-caption text-nowrap">{{ media.caption }}</div></md-card-content><div ng-show=isSelected(media) laytou=row class="md-actions border-less"><md-button aria-label="{{_('Remove')}}" type=button ng-click=removeFromGallery($index) ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_clear_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Edit')}}" type=button ng-click="edit(media, $event)" ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 layout=column><md-card flex=flex class=media><md-card-content flex=flex layout=row layout-align="center center" ng-click=goRepository()><md-icon md-svg-icon=content:ic_add_box_24px class="md-primary s60"></md-icon></md-card-content></md-card></div></div></div></md-tab><md-tab label="{{_('Repository')}}" md-on-select=resetSelect()><div class=tab-content><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in mediafiles"><md-card ng-click=addToGallery(media) class=media><img ng-src={{media.thumbnail}}?{{now}} alt={{media.title}}></md-card></div></div></div></md-tab><md-tab label="{{_('New Upload')}}" md-on-select=resetSelect()><div class=tab-content><div class=input-container><div ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept="'image/*'" ngf-multiple=true ng-file-drop ngf-drag-over-class=file-drag-over layout=column layout-align="center center" class=uploadbox><md-icon ng-show=upload_status==0 md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show=upload_status==1 md-mode=indeterminate></md-progress-circular><md-icon ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px class=md-warn></md-icon></div><div ng-bind-html="_('* New media files can not share the name with existing files in the media library and the size of each file must be less than 600k.')" class="p md-caption tip text-center"></div></div><div class="md-padding text-center"><md-button type=button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) data-multiple=true accept=image/* ng-disabled="upload_status == 1" class=md-raised><md-icon md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><span class=text>{{_('Upload media')}}</span></md-button></div><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in uploadedMediafiles"><md-card ng-click=addToGallery(media) class=media><img ng-src={{media.thumbnail}} alt={{media.title}}></md-card></div></div></div></md-tab></md-tabs></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() ng-disabled=!hasMedia() class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/gallery/gallery_sheet.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=gallery_propety_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=media.title md-maxlength=60><ng-messages for=gallery_property_form.title.$error ng-if=gallery_property_form.title.$touched><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container><label>{{_('Caption')}}</label><textarea rows=2 name=caption ng-model=media.caption md-maxlength=160 maxlength=200></textarea><ng-messages for=gallery_property_form.caption.$error ng-if=gallery_property_form.caption.$touched><ng-message when=md-maxlength>{{_("Caption must be less than %s characters.", '160')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Link Type')}}</label><md-select layout=column flex-order=3 name=linkto ng-model=linkto placeholder="{{_('Select Link Type')}}"><md-option value>{{_('No Link')}}</md-option><md-option value=media>{{_('Link to media')}}</md-option><md-option value=url>{{_('Link to URL')}}</md-option></md-select></md-input-container><md-input-container ng-show="linkto == 'url'" class=anim-item><label>{{_('Link')}}</label><input type=text name=link ng-model=media.link maxlength=500></md-input-container><div ng-show="linkto != ''" class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=gallery_property_form.class.$error ng-if=gallery_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button><span flex=flex></span><md-button aria-label="{{_('Remove')}}" type=button ng-click=remove()><md-icon md-svg-icon=content:ic_clear_24px></md-icon></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=modals/help/help.tmpl.html><md-dialog aria-label="{{_('Help')}}" flex=flex flex-gt-md=50><md-dialog-content class=sticky-container><md-subheader class=md-sticky-no-effect>{{_('Help')}}</md-subheader><div layout-padding=layout-padding ng-bind-html=content></div></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button ng-click=ok() class=md-primary> <span class=text>{{ _('Ok, I Understand.') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/link/link.tmpl.html><md-dialog aria-label="{{_('Link')}}" flex=50 class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Link') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=link_form ng-submit=insert()><md-dialog-content><md-input-container><label>{{_('Link')}}</label><input type=text name=link ng-model=link.href maxlength=500 required=required><ng-messages for=link_form.link.$error ng-if=link_form.link.$touched><ng-message when=required>{{_("A link is required.")}}</ng-message></ng-messages></md-input-container><div class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=link.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=link_form.class.$error ng-if=link_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/media/media.tmpl.html><md-dialog aria-label="{{_('Media')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Media') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><div id=media-modal-sheet ng-show=media_sheet_open></div><md-dialog-content flex=flex><md-tabs md-dynamic-height=md-dynamic-height><md-tab label="{{_('Repository')}}" md-on-select=resetSelect()><div class=tab-content><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in mediafiles"><md-card ng-class="{'md-whiteframe-z4':isSelected(media),'selected':isSelected(media), 'light':lightMode}" ng-click=toggleSelect(media) class=media><img ng-src={{media.thumbnail}}?{{now}} alt={{media.title}}><div ng-show="isSelected(media) && !lightMode" class="md-actions border-less"><md-button aria-label="{{_('Edit')}}" ng-click="edit(media, $event)" ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></md-tab><md-tab label="{{_('New Upload')}}" md-on-select=resetSelect()><div class=tab-content><div class=input-container><div ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept="'image/*'" ngf-multiple=true ng-file-drop ngf-drag-over-class=file-drag-over layout=column layout-align="center center" class=uploadbox><md-icon ng-show=upload_status==0 md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show=upload_status==1 md-mode=indeterminate></md-progress-circular><md-icon ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px class=md-warn></md-icon></div><div ng-bind-html="_('* New media files can not share the name with existing files in the media library and the size of each file must be less than 600k.')" class="p md-caption tip text-center"></div></div><div class="md-padding text-center"><md-button type=button aria-label="{{_('Upload')}}" ngf-select=onFileSelect($files) data-multiple=true accept=image/* ng-disabled="upload_status == 1" class=md-raised><md-icon md-svg-icon=file:ic_file_upload_24px class=ico></md-icon><span class=text>{{_('Upload media')}}</span></md-button></div><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in uploadedMediafiles"><md-card ng-class="{'md-whiteframe-z4':isSelected(media),'selected':isSelected(media), 'light':lightMode}" ng-click=toggleSelect(media) class=media><img ng-src={{media.thumbnail}} alt={{media.title}}><div ng-show="isSelected(media) && !lightMode" class="md-actions border-less"><md-button aria-label="{{_('Edit')}}" ng-click="edit(media, $event)" ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></md-tab><md-tab label="{{_('From URL')}}" md-on-select=resetSelect() ng-disabled=!allowExternal><div ng-controller=internetMediaCtrl class=tab-content><form novalidate=novalidate name=internet_form ng-submit=getInternetMedia()><md-input-container><label>{{_('Media file URL')}}</label><input type=url name=media ng-model=internet_media required=required><p flex-order=3 ng-bind-html="_('* The media URLs must start with [http://] or [https://] and will not be saved into our system.')" class="md-caption tip"> </p><ng-messages for=internet_form.media.$error ng-if=internet_form.media.$touched><ng-message when=url>{{_("Media URL is invalid.")}}</ng-message><ng-message when=required>{{_("Media URL is required.")}}</ng-message></ng-messages></md-input-container><div class=md-padding><md-button aria-label="{{_('Get')}}" type=submit class=md-raised> <span class=text>{{_('Get Media form Internet')}}</span></md-button></div></form><md-divider class="thick dotted"></md-divider><div layout=row layout-wrap=layout-wrap class=md-padding><div flex-gt-lg=25 flex-gt-md=33 flex-gt-sm=50 flex-sm=50 ng-repeat="media in internetMediafiles"><md-card ng-class="{'md-whiteframe-z4':isSelected(media),'selected':isSelected(media), 'light':lightMode}" ng-click=toggleSelect(media) class=media><img ng-src={{media.src}} alt={{media.title}}><div ng-show="isSelected(media) && !lightMode" class="md-actions border-less"><md-button aria-label="{{_('Edit')}}" ng-click="edit(media, $event)" ng-disabled=!selected_media class=md-icon-button><md-icon md-svg-icon=content:ic_create_24px></md-icon></md-button></div></md-card></div></div></div></md-tab></md-tabs></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" ng-click=insert() ng-disabled=!selected_media class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></md-dialog></script><script type=text/ng-template id=modals/media/media_sheet.tmpl.html><md-bottom-sheet><form novalidate=novalidate name=media_property_form ng-submit=save()><md-input-container><label>{{_('Title')}}</label><input type=text name=title ng-model=media.title md-maxlength=60><ng-messages for=media_property_form.title.$error ng-if=media_property_form.title.$touched><ng-message when=md-maxlength>{{_("The title must be less than %s characters.", '60')}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Link Type')}}</label><md-select layout=column flex-order=3 name=linkto ng-model=linkto placeholder="{{_('Select Link Type')}}"><md-option value>{{_('No Link')}}</md-option><md-option value=media>{{_('Link to media')}}</md-option><md-option value=url>{{_('Link to URL')}}</md-option></md-select></md-input-container><md-input-container ng-show="linkto == 'url'" class=anim-item><label>{{_('Link')}}</label><input type=text name=link ng-model=media.link maxlength=500></md-input-container><div ng-show="linkto != ''" class="text-container anim-item"><md-switch ng-model=blank aria-label="{{_('New Window')}}">{{ _('Open in new window') }}</md-switch></div><md-input-container><label>{{_('Style class')}}</label><input type=text name=class ng-model=media.class ng-pattern=/^[a-zA-Z0-9_-\s]+$/ maxlength=500><ng-messages for=media_property_form.class.$error ng-if=media_property_form.class.$touched><ng-message when=pattern>{{_('Style class is invalid.')}}</ng-message></ng-messages></md-input-container><div layout=row><md-button aria-label="{{_('Ok')}}" type=submit class=md-raised> <span class=text>{{_("Ok")}}</span></md-button></div></form></md-bottom-sheet></script><script type=text/ng-template id=modals/script/script.tmpl.html><md-dialog aria-label="{{_('Script')}}" flex=50 class=md-content-overflow><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Script') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=script_form ng-submit=insert()><md-dialog-content><md-input-container><label>{{_('Code')}}</label><textarea name=code ng-model=script.code rows=6 md-maxlength=2000></textarea><p flex-order=3 ng-bind-html="_('* Support Html and Javascript codes.')" class="md-caption tip"></p><ng-messages for=script_form.code.$error ng-if=script_form.code.$touched><ng-message when=md-maxlength>{{_("Code is too long.")}}</ng-message></ng-messages></md-input-container><md-input-container><label class=static-label>{{_('Display Switcher')}}</label><md-switch flex-order=3 ng-model=script.status ng-true-value=1 ng-false-value=0 aria-label="{{_('Switcher')}}">{{ script.status ? _('Show'): _('Hide') }}</md-switch></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_settings_backup_restore_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/source/source.tmpl.html><md-dialog aria-label="{{_('Source Code')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Source Code') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><form novalidate=novalidate name=source_form ng-submit=insert() flex=flex><md-dialog-content flex=flex layout=column><md-input-container flex=flex><label>{{_('Code')}}</label><textarea name=code ng-model=code rows=6 flex=flex md-maxlength=60000></textarea><p flex-order=3 ng-bind-html="_('* Support any Web-based source codes.')" class="md-caption tip"></p><ng-messages for=source_form.code.$error ng-if=source_form.code.$touched><ng-message when=md-maxlength>{{_("Code is too long.")}}</ng-message></ng-messages></md-input-container></md-dialog-content><div layout=row layout-align="end center" flex-order=3 class=md-actions><md-button aria-label="{{_('Delete')}}" type=button ng-click=trash() class=md-icon-button><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex=flex></span><md-button aria-label="{{_('Insert')}}" class="md-raised md-primary"> <span class=text>{{ _('Insert') }}</span></md-button></div></form></md-dialog></script><script type=text/ng-template id=modals/sync/sync.tmpl.html><md-dialog aria-label="{{_('Sync Content')}}" flex=flex class="md-content-overflow full"><md-toolbar class="dialog md-hue-3"><div class=md-toolbar-tools><span>{{ _('Sync Content') }}</span><span flex=flex></span><md-button aria-label=Close ng-click=close() class=md-icon-button><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex=flex><md-tabs md-dynamic-height=md-dynamic-height><md-tab ng-repeat="app in apps" label={{app.title}} md-on-select=switchApp(app)><div layout=row class=tab-content><div class=sidebar><md-subheader class=md-no-sticky>{{_('Content Types')}}</md-subheader><ul><li ng-repeat="type in app.content_types" layout=row><md-button flex=flex ng-click="setContentType(app, type)" ng-disabled="isCurrentType(app, type)"><span class=text>{{type.title}}</span></md-button></li></ul></div><md-list flex=flex><md-subheader class=md-no-sticky>{{_(app.current_content_type.title)}}</md-subheader><md-divider class=dotted></md-divider><div ng-repeat="file in app.files" ng-show=!isExcludeContent(file)><md-list-item class="md-2-line md-padding vertical-center"><div ng-click=toggleSelect(file) class=md-list-item-text><h3>{{ file.meta.title }}</h3><p>{{file.updated | dateformat}}</p></div><div class=func><md-button aria-label="{{_('Sync')}}" ng-click=sync(file) class="md-raised md-primary"><md-icon md-svg-icon=notify:ic_sync_24px class=ico></md-icon><span class=text>{{_('Sync')}}</span></md-button></div></md-list-item><md-divider class=dotted></md-divider></div></md-list></div></md-tab></md-tabs></md-dialog-content></md-dialog></script><ng-include src="'blueprints/common/views/mainnav.tmpl.html'" ng-controller=mainNavCtrl layout=column></ng-include><div flex layout=column><ng-include src="'blueprints/common/views/topnav.tmpl.html'" ng-class="{'top-nav-fixed': root.hasTopNav()}" ng-controller=topNavCtrl></ng-include><md-content flex layout=column ng-class="{'in-editor':root.inEditor()}" class=view-container><ng-view flex layout=column ng-class="{'in-editor':root.inEditor()}" class=view></ng-view></md-content></div><script src=server_conf.js?md5=e1bacd4254></script><script src=sup.ng.min.js?md5=e1bacd4254></script><script src=sup.app.min.js?md5=e1bacd4254></script><script src=sup.locale.min.js?md5=e1bacd4254></script></body></html>