<!doctype html>
<html lang={{lang}} ng-app=boltApp ng-cloak><head><title ng-bind="_('Soopro Manager')"></title><meta http-equiv=content-type content=text/html;charset=utf-8><meta name=robots content="noindex, nofollow"><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=format-detection content=telephone=yes><meta name=X-UA-Compatible content=IE=edge><meta name=renderer content=webkit><link rel="shortcut icon" href=favicon.png?md5=d2ececc882><link rel=apple-touch-icon-precomposed href=favicon.png?md5=d2ececc882 sizes=144x144><link rel=stylesheet href=app.min.css?md5=d2ececc882><link rel=stylesheet href=locale.min.css?md5=d2ececc882></head><body layout=row><script type=text/ng-template id=blueprints/404.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section class=text-center flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1>{{_('404 Not Found')}}</h1></header><div><p> {{_('We can not find the page you are looking for, ' + 'click the button below to return.')}} </p><md-button class="md-icon-button md-primary" aria-label="{{_('Back')}}" ng-href=/#/ ><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button></div></section></div></div></script><script type=text/ng-template id=blueprints/app/views/apps.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Apps List')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s apps.', apps.length)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="app in apps" flex-gt-lg=25 flex-lg=33 flex-md=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon md-svg-icon={{types_map[app.type].ico}}></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>{{app.slug}}</span><span class=md-subhead> {{_(types_map[app.type].name)}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-click=go(app) style="{{(app.meta.snapshot||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{app.meta.title || app.id }} </span></md-card-title-text></md-card-title><md-card-content><p class="excerpt md-body-1"> {{app.meta.description || _('No Description') }} </p></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Shortcut')}}" ng-click=shortcut(app)><md-icon md-svg-icon="{{app.shortcut
                         ? 'toggle:ic_star_24px'
                         : 'toggle:ic_star_border_24px'}}"></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=go(app)> {{_('Enter')}} </md-button></md-card-actions></md-card></div></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New App')}}" ng-click=create(apps) ng-disabled=submitted><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=app.create.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('New App')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Create New App')}}
    </h2>

    <!-- create app -->
    <form class="md-padding"
          name="app_form"
          ng-submit="create(app, app_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   ng-model="app.type"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="type.key"
                     ng-repeat="type in app_types"
                     ng-if="!type.disabled">
            {{_(type.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Locale')}}</label>
        <md-select name="locale"
                   ng-model="app.locale"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="loc.code"
                     ng-repeat="loc in locales">
            {{_(loc.name)}}
          </md-option>
        </md-select>
        <ng-messages for="app_form.locale.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('URL Slug')}}</label>
        <input name="slug"
               type="text"
               ng-model="app.app_slug"
               ng-pattern="regex_pattern.slug"
               maxlength="120"
               required/>
        <hint for="app_form.slug">
          {{_('* URL Slug is use to make friendly URLs. '+
              'Only accept latin letters, numbers and dashes.')}}
        </hint>
        <ng-messages for="app_form.slug.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="app.meta.title"
               md-maxlength="60"
               required/>
        <ng-messages for="app_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="app.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages for="app_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="create(app, app_form)"
               ng-disabled="submitted">
      {{_('Create')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_appearance.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Appearance')}}</span></h1></header><md-card ng-if="curr_theme.id == null"><md-card-title><md-card-title-text class=text-nowrap-group><span class="md-title draft text-center"> {{_('No theme activated')}} </span></md-card-title-text></md-card-title></md-card><md-card theme-id={{curr_theme.id}} theme-payload-id={{curr_theme.payload_id}} ng-if=curr_theme.id><md-card-header><md-card-avatar><img class=md-avatar ng-src={{curr_theme.meta.icon|now:theme.updated}}></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>{{curr_theme.config.tagname}}</span><span class=md-subhead> {{curr_theme.config.ver}} </span></md-card-header-text></md-card-header><img class=img-bg-contain ng-src={{image.trans_16x10}} style={{curr_theme.meta.poster|now:theme.updated|bg_img}}><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{_(curr_theme.meta.title) || _('Unknown Theme')}} </span></md-card-title-text></md-card-title><md-card-content><p class="md-caption text-nowrap" ng-if=curr_theme.meta.author> {{_('Author')}}{{_(': ')}}{{curr_theme.meta.author}} </p><p class="md-caption text-nowrap" ng-if=curr_theme.meta.uri> {{_('URI')}}{{_(': ')}} <a ng-href={{curr_theme.meta.uri}} target=_blank></a></p></md-card-content><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Theme Options')}}" ng-show=property.expert ng-click=theme_options(curr_theme)><md-icon md-svg-icon=action:ic_settings_24px></md-icon><md-tooltip md-direction=top> {{_('Theme Options')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Theme Styles')}}" ng-click=theme_styles(curr_theme)><md-icon md-svg-icon=image:ic_style_24px></md-icon><md-tooltip md-direction=top> {{_('Theme Styles')}} </md-tooltip></md-button><span flex></span><md-button class="md-accent md-icon-button" aria-label="{{_('Upgrade Theme')}}" ng-show=curr_theme.upgradeable ng-click=upgrade(curr_theme)><md-icon md-svg-icon=social:ic_notifications_active_24px></md-icon><md-tooltip md-direction=top> {{_('Upgrade Theme')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{_('Reload Theme')}}" ng-show=!curr_theme.upgradeable ng-click=reload(curr_theme)><md-icon md-svg-icon=nav:ic_refresh_24px></md-icon><md-tooltip md-direction=top> {{_('Reload Theme')}} </md-tooltip></md-button></md-card-actions></md-card></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Free Themes')}}</span></h2></header><md-list><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-repeat="theme in themes|paginator:p.paged:p.perpage" ng-click=open(theme)><img class=md-avatar ng-src={{theme.meta.icon|now:theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _(theme.meta.title) }}</h3><p>{{ theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !theme.activated}" md-svg-icon="{{theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=p.has_more ng-click=p.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider ng-if=property.expert></md-divider><md-list ng-if=property.expert><md-subheader class=md-no-sticky> {{_('Custom Theme')}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Theme Detail')}}" ng-show=custom_theme.status ng-click="open_custom(custom_theme, curr_theme)"><img class=md-avatar ng-src={{custom_theme.meta.icon|now:custom_theme.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ _(custom_theme.meta.title) }}</h3><p>{{ custom_theme.latest }}</p></div><div class=md-secondary><md-icon ng-class="{'md-primary': !custom_theme.activated}" md-svg-icon="{{custom_theme.activated
                     ? 'action:ic_check_circle_24px'
                     : 'image:ic_palette_24px'
                     }}"></md-icon></div></md-list-item><md-list-item class="md-2-line text-nowrap-group" ng-show=!custom_theme.status aria-label="{{_('Upload')}}" ng-click="upload_custom(custom_theme, curr_theme)"><md-icon class=md-avatar-icon md-svg-icon=image:ic_palette_24px></md-icon><div class=md-list-item-text><h3>{{ _('Custom Theme') }}</h3><p>{{ _('Upload .zip file') }}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=file:ic_cloud_upload_24px></md-icon></div></md-list-item></md-list><div class=indent-padding ng-if=property.expert><p class=hint> {{_('* The custom theme must fit with our theme engine, '+ 'and only upload one at time.')}} </p></div></section></div></div><script type=text/ng-template id=app.perf.theme.detail.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Theme Detail')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_(theme_detail.meta.title)}}
    </h2>
    <div class="md-caption text-center">
      {{theme_detail.latest}}
    </div>
    <div class="md-padding">
      <div ng-show="theme_detail.meta.poster">
        <img class="img-bg-contain md-whiteframe-1dp"
             ng-src="{{image.trans_16x10}}"
             style="{{theme_detail.meta.poster
                      |now:theme_detail.updated|bg_img}}" />
      </div>
      <article>
        <p ng-show="theme_detail.meta.author">
          {{_('Author')}}{{_(': ')}}{{theme_detail.meta.author}}
        </p>
        <p class="md-caption text-nowrap"
           ng-show="curr_theme.meta.uri">
          {{_('URI')}}{{_(': ')}}
          <a ng-href="{{curr_theme.meta.uri}}"
             target="_blank"></a>
        </p>
      </article>
    </div>

    <md-divider></md-divider>

    <div class="md-padding">
      <h2 class="md-title text-center">
        {{_('Previews')}}
      </h2>
      <div class="md-margin"
           ng-repeat="preview in theme_detail.meta.previews">
        <img class="md-whiteframe-1dp"
             ng-src="{{preview|now:theme_detail.updated}}"/>
      </div>
      <p class="md-caption draft text-center"
         ng-if="theme_detail.meta.previews.length <= 0">
        {{_('No Preview Image')}}
      </p>
    </div>
  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
                     aria-label="{{_('Remove Theme')}}"
                     ng-show="theme_detail.customized"
                     ng-click="trash(theme_detail)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>

    <span flex></span>

    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="theme_detail.activated"
               ng-click="activate(theme_detail)">
      {{theme_detail.activated?_('Activated'):_('Activate')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.theme.upload.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Theme Uploader')}}"
           flex>
  <md-toolbar class="md-accent">
    <div class="md-toolbar-tools">
      <span>
        {{_('Theme Uploader')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-disabled="upload_status == 1"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content class="md-dialog-content">
    <!-- uploads -->
    <div class="md-padding">
      <div class="media-uploadbox"
           ngf-drop="onFileSelect($files)"
           ngf-allow-dir="true"
           ngf-accept="{{mimetypes}}"
           ng-file-drop=""
           ngf-drag-over-class="file-drag-over"
           ng-click="select_file('.theme-custom-uploads')"
           layout="row"
           layout-align="center center">
        <md-icon class="s48"
                 ng-show="upload_status == 0"
                 md-svg-icon="file:ic_cloud_upload_24px"></md-icon>

        <md-progress-circular class="md-accent"
                              ng-show="upload_status == 1"
                              md-mode="indeterminate"
                              md-diameter="60">
        </md-progress-circular>
        <md-icon class="md-warn s48"
                 ng-show="upload_status==2"
                 md-svg-icon="action:ic_report_problem_24px"></md-icon>
        <md-icon class="s48"
                 ng-show="upload_status==3"
                 md-svg-icon="action:ic_done_24px"></md-icon>
      </div>
      <div class="text-center">
        <md-button class="md-accent"
                   ng-click="select_file('.theme-custom-uploads')"
                   ng-disabled="upload_status == 1">
          {{_('Upload')}}
        </md-button>
        <p class="hint">
          {{_('* zip: < 6Mb.')}}
        </p>
      </div>
    </div>

    <!-- stupid ios dose not support button file uploads -->
    <input class="ng-hide theme-custom-uploads"
           type="file"
           ngf-select="onFileSelect($files)"
           ngf-accept="{{mimetypes}}" />

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button ng-disabled="upload_status == 1"
               ng-click="close()">
      {{_('Done')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/app/views/pref_extension.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Extensions')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s for now, %s remain.', extensions.length, amount)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="extension in extensions" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'md-warn': !extension.supported}" md-svg-icon=action:ic_extension_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{extension.meta.title || extension.id}} </span><span class=md-subhead ng-class="{'md-text md-warn': !extension.supported}"> {{extension.supported?extension.slot:_('Incompatible')}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(extension.meta.poster||image.default)|bg_img}}><md-card-actions layout=row layout-align="space-between center"><md-menu><md-button class=md-icon-button aria-label="{{_('Manage Extension')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click=toggle(extension)> {{extension.status?_('Deactivate'):_('Activate')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="uninstall(extension, extensions)" ng-disabled=submitted> {{_('Uninstall')}} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-primary ng-disabled=!extension.status ng-href={{extension.entrance}} target=_blank> {{extension.status?_('Open'):_('Deactivated')}} </md-button></md-card-actions></md-card></div></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Install Extension')}}</span></h2></header><div><p class=md-body-1> {{_('In order to use those extension, you must to ensure the '+ 'installation file is reliable and updated. '+ 'Once you installed the extension, '+ 'It will able to access your '+ 'contents, members and other informations. '+ 'You can prevent those access by deactivate the extension '+ 'any time.')}} </p></div><div class=space-md></div><div class=uploadbox-wrapper layout=column><div class=uploadbox ngf-drop=onFileSelect($files) ngf-allow-dir=true ngf-accept={{mimetypes}} ng-file-drop ngf-drag-over-class=file-drag-over ng-click="install('.ext-installation-upload')" layout=row layout-align="center center"><md-icon class=s48 ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-progress-circular ng-show="upload_status == 1" md-mode=indeterminate md-diameter=60></md-progress-circular><md-icon class="md-warn s48" ng-show=upload_status==2 md-svg-icon=action:ic_report_problem_24px></md-icon><md-icon class=s48 ng-show=upload_status==3 md-svg-icon=action:ic_done_24px></md-icon></div><md-button class="md-raised md-primary" ng-class="{'md-primary': upload_status==0,
                              'md-warn': upload_status==2}" ng-disabled=upload_status==1 ng-click="install('.ext-installation-upload')"> {{_('Install')}} </md-button></div><input class="ng-hide ext-installation-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{mimetypes}}></section></div></div></script><script type=text/ng-template id=blueprints/app/views/pref_options.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('General Options')}}</span></h1></header><form name=app_form ng-submit="save(app, app_form)" novalidate><div layout=row><md-input-container class="md-block static" flex><label>{{_('Logo')}}</label><md-card class=max-size-xs ng-click="switch_logo(app, $event)"><img ng-class="{'img-bg-md': app.meta.logo,
                              'img-bg-lg': !app.meta.logo}" ng-src={{image.trans}} style={{(app.meta.logo||image.default)|bg_img}}></md-card><md-tooltip md-direction=top> .png, .jpg </md-tooltip></md-input-container><md-input-container class="md-block static" flex><label>{{_('Favicon')}}</label><md-card class=max-size-xs ng-click="switch_favicon(app, $event)"><img ng-class="{'img-bg-md': app.meta.logo,
                              'img-bg-lg': !app.meta.logo}" ng-src={{image.trans}} style={{(app.meta.favicon||image.default)|bg_img}}></md-card><md-tooltip md-direction=top> .png </md-tooltip></md-input-container></div><md-input-container class="md-block amend"><label>{{_('Locale')}}</label><md-select name=locale ng-model=app.locale ng-disabled=submitted required><md-option ng-value=loc.code ng-repeat="loc in locales"> {{_(loc.name)}} </md-option></md-select><ng-messages for=app_form.locale.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=app.meta.title md-maxlength=60 required><ng-messages for=app_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=app.meta.description md-maxlength=360></textarea><ng-messages for=app_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Keywords')}}</label><md-chips name=tags ng-model=app.tags placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{app.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-input-container class=md-block><label>{{_('Copyright')}}</label><textarea name=copyright ng-model=app.meta.copyright maxlength=600></textarea></md-input-container><md-input-container class=md-block><label>{{_('License')}}</label><textarea name=license ng-model=app.meta.license maxlength=600></textarea></md-input-container><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-click=destroy(app) ng-disabled=submitted><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Advanced Options')}}</span></h2></header><form name=adv_form ng-submit="save_adv(app, adv_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Site URL')}}</label><md-icon md-svg-icon=action:ic_home_24px></md-icon><input name=site_url type=url ng-model=app.site_url maxlength=600><hint class=help for=adv_form.site_url ng-click=help_site_url()><span> {{_('* A URL for app public base route. Must with HTTP(s).')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=adv_form.site_url.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=url> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('Deploy Key')}}</label><md-icon md-svg-icon=action:ic_lock_open_24px></md-icon><input name=deploy_key type=text ng-model=app.deploy_key><hint for=adv_form.deploy_key> {{_('* Use to deploy app. Latin or number only.')}} </hint></md-input-container><md-input-container class=md-block ng-show="property.capability > 2"><label>{{_('Additional Head Metadata')}}</label><md-icon md-svg-icon=action:ic_code_24px></md-icon><textarea name=head_metadata ng-model=app.meta.head_metadata maxlength=960></textarea><hint> {{_('* Add custom HTML code intro head metadata.')}} </hint></md-input-container><div layout=row layout-align="space-between center"><md-button class=md-raised type=submit ng-disabled=submitted> {{_('Save')}} </md-button><md-switch class=md-accent ng-class="{'draft': !app.status}" ng-model=app.status ng-true-value=1 ng-false-value=0> {{_('Publish')}} </md-switch></div></form><div class=space-lg></div><h3 class=md-caption> {{_('Composite Metas')}} </h3><div class=space-sm></div><div class="field-container amend"><label>{{_('Mutli-Languages')}}</label><md-list class=md-padding><md-list-item ng-repeat="lang in languages" ng-click="edit_lang(lang, languages, $index)"><p class="md-body-1 text-nowrap"> {{ lang.key }} - {{ lang.name }} </p></md-list-item><md-list-item aria-label="{{_('New Language')}}" ng-click="edit_lang(null, languages)"><div class=list-func-wrapper><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class="field-container amend"><label>{{_('Socials')}}</label><md-list class=md-padding><md-list-item ng-repeat="social in socials" ng-click="edit_social(social, socials, $index)"><p class="md-body-1 text-nowrap"> {{ social.key }} - {{ social.name }} </p></md-list-item><md-list-item aria-label="{{_('New Social Media')}}" ng-click="edit_social(null, socials)"><div class=list-func-wrapper><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div class=field-container><label>{{_('Custom Metas')}}</label><md-list class=md-padding><md-list-item ng-repeat="(k, v) in custom_metas" ng-click="edit_custom(k, custom_metas)"><p class="md-body-1 text-nowrap"> {{ k }}{{_(': ')}}{{ v }} </p></md-list-item><md-list-item aria-label="{{_('New Custom Meta')}}" ng-click="edit_custom(null, custom_metas)"><div class=list-func-wrapper><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><md-divider></md-divider><div class=md-padding><hint> {{_('* Those composite metas is depend on theme supports.')}} </hint></div><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=hardcore(app) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=app.perf.options.lang.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Language')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{lang._new?_('Add New Language'):_('Edit Language')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="lang_form"
          ng-submit="submit(lang, lang_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="lang.name"
               md-maxlength="60"
               required/>
        <ng-messages for="lang_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Code')}}</label>
        <md-select name="code"
                   ng-model="lang.key"
                   placeholder="{{_('Select a lang code')}}"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="locale.code"
                     ng-repeat="locale in locales">
            {{locale.code}}
          </md-option>
        </md-select>
        <hint for="lang_form.code">
          {{_('* International standard language code.')}}
        </hint>
        <ng-messages for="lang_form.code.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="lang.url"
               md-maxlength="240" />
        <ng-messages for="lang_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(lang)"
               ng-show="!lang._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(lang, lang_form)">
      {{lang._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.social.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Social')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{social._new?_('Add New Social Media'):_('Edit Social Media')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="social_form"
          ng-submit="submit(social, social_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   ng-model="social.key"
                   placeholder="{{_('Select a social media')}}"
                   ng-disabled="submitted"
                   required>
          <md-option ng-value="so_media.code"
                     ng-repeat="so_media in social_medias">
            {{so_media.name}}
          </md-option>
        </md-select>
        <ng-messages for="social_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="social.name"
               md-maxlength="60"
               required/>
        <ng-messages for="social_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="text"
               ng-model="social.url"
               md-maxlength="240" />
        <hint for="social_form.url">
          {{_('* URL of the social media.')}}
        </hint>
        <ng-messages for="social_form.url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block static">
        <label>{{_('Poster')}}</label>
        <md-card ng-click="switch_figure(social, $event)">
          <img class="img-bg-contain"
               ng-src="{{image.trans_16x10}}"
               style="{{(social.figure||image.default)|bg_img}}">
        </md-card>
        <hint>
          {{_('* Use to social media poster or qr code.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.expert">
        <label>{{_('Script')}}</label>
        <textarea name="script"
                  ng-model="social.scirpt"
                  maxlength="1200"></textarea>
        <hint>
          {{_('* Script is provide by the social media. (Optional)')}}
        </hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(social)"
               ng-show="!social._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(social, social_form)">
      {{social._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=app.perf.options.custom.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Custom Meta')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Custom Meta')}}
    </h2>

    <!-- lang form -->
    <form class="md-padding"
          name="meta_form"
          ng-submit="submit(meta, meta_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Key')}}</label>
        <input name="key"
               type="text"
               ng-model="meta.key"
               md-maxlength="60"
               required />
        <ng-messages for="meta_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Value')}}</label>
        <input name="value"
               type="text"
               ng-model="meta.value"
               md-maxlength="600"
               required />
        <ng-messages for="meta_form.value.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(meta)"
               ng-show="!meta._new">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(meta, meta_form)">
      {{lang._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/assistant.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Assistant')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="amount <= 0" ng-click=assign(assistants)> {{_('Assign')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s for now, %s remain.', assistants.length, amount)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="assistant in assistants" ng-click="edit(assistant, assistants)" aria-label="{{_('Edit Assistant')}}"><div class=md-list-item-text><p>{{ assistant.meta.name || '-' }}</p></div><div class="md-secondary anim-show"><md-icon md-svg-icon=maps:ic_person_pin_24px></md-icon></div></md-list-item></md-list></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Introduction')}}</span></h2></header><article ng-if="lang == 'en'"><p> Membership Assistant is a Auxiliary Tools to manage your members, events and cards. The Assistant can be install on computer, tablet and smartphone, will could be help in many different ways. </p><ul><li>Staff carries in the store.</li><li>Use on live events or site activities.</li><li>Unmanned self-service equipment.</li><li>...</li></ul></article><article ng-if="lang == 'zh'"><p> 会员助手是一个用来帮助会员、活动、卡券等的辅助工具。 助手能够在电脑、平板、手机等多种设备上安装使用， 可以在许多应用场景中帮助到您： </p><ul><li>工作人员在实体店内携带使用。</li><li>在活动现场中便携使用。</li><li>安置于无人托管的设备上。</li><li>...</li></ul></article></section></div></div><script type=text/ng-template id=assistant.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Assistant Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ assistant._new?_('New Assistant'):_('Edit Assistant')}}
    </h2>

    <!-- assistant form -->
    <form class="md-padding"
          name="assistant_form"
          ng-submit="save(assistant, assistant_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               ng-model="assistant.meta.name"
               md-maxlength="24"
               required/>
        <ng-messages for="assistant_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Passcode')}}</label>
        <input name="passcode"
               ng-model="assistant.passcode"
               md-maxlength="60"
               required/>
        <ng-messages for="assistant_form.passcode.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(assistant)"
               ng-show="!assistant._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(assistant, assistant_form)"
               ng-disabled="submitted">
      {{ assistant._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/card_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5 ng-if=!cardstyle_map[card.style].generic><header><h1 class="md-headline text-nowrap" ng-class="{'draft': !card.status}" created={{card.creation|dateformat}} modified={{card.updated|dateformat}}><md-icon md-svg-icon=action:ic_credit_card_24px></md-icon><span>#{{card.slug}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(cardnums, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Available')}} </md-option><md-option ng-value=0> {{_('Scrapped')}} </md-option><md-option ng-value=null> {{_('By Card Number')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button aria-label="{{_('New Card number')}}" ng-disabled="amount <= 0 || sel.selection" ng-click="add(cardnums, card)"><md-icon md-svg-icon=maps:ic_local_activity_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s for now, %s remain.', cardnums.length, card.count, amount)}} </md-subheader><md-list-item class=anim-show-hide aria-label="{{_('Find')}}" ng-show="sel_status == null" ng-click=find_code(cardnums)><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=action:ic_search_24px></md-icon><span class="md-text md-primary"> {{ _('Find by Card Number') }} </span></div></md-list-item><md-list-item class=text-nowrap-group aria-label="{{_('Manage Card Number')}}" ng-class="{'selected': cardnum._selected}" ng-repeat="cardnum in cardnums" ng-hold="sel.select(cardnum, cardnums)" ng-click="sel.selection ? ''
                                : edit(cardnum, cardnums, card)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><p class=text-upper ng-class="{'text-strike':!cardnum.status}"> {{ cardnum.code }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{cardnum._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': cardnum.status == 1}" md-svg-icon=maps:ic_local_activity_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(cardnums, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=text-right ng-if=property.expert><md-button class=md-icon-button ng-click=print(card) aria-label="{{_('Print')}}"><md-icon md-svg-icon=action:ic_print_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=card.number.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Card Number Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <div layout="row">
      <div class="s24"></div>
      <h2 class="md-display-1 text-center text-upper select-text"
          flex>
        {{cardnum.code}}
      </h2>
      <div>
        <md-icon md-svg-icon="content:ic_content_copy_24px"
                 ng-click="copy(card.slug, cardnum.code)"></md-icon>
      </div>
    </div>

    <!-- cardnum form -->
    <form class="md-padding"
          name="cardnum_form"
          ng-submit="submit(cardnum, cardnum_form)"
          novalidate>

      <div class="field-container" ng-show="use_balance">
        <label>{{_('Balance')}}</label>
        <div layout="row"
             layout-align="center center">
          <md-button class="md-icon-button"
                     aria-label="-"
                     ng-disabled="cardnum.balance <= 0"
                     ng-mousedown="start_calculate(cardnum, -1)"
                     ng-mouseup="stop_calculate()"
                     ng-mouseleave="stop_calculate()">
            <md-icon md-svg-icon="image:ic_exposure_neg_1_24px"></md-icon>
          </md-button>
          <p class="md-display-2 text-center min-size-xs">
            {{cardnum.balance}}
          </p>
          <md-button class="md-icon-button"
                     aria-label="+"
                     ng-mousedown="start_calculate(cardnum, 1)"
                     ng-mouseup="stop_calculate()"
                     ng-mouseleave="stop_calculate()">
            <md-icon md-svg-icon="image:ic_exposure_plus_1_24px"></md-icon>
          </md-button>
        </div>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Member ID')}}</label>
        <input name="member"
               type="text"
               ng-model="cardnum.member_login"
               maxlength="120"/>
      </md-input-container>

      <md-switch class="md-accent"
                 ng-class="{'draft': !cardnum.status}"
                 ng-model="cardnum.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Available')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(cardnum)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(cardnum, cardnum_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/cards.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Cards')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s for now, %s remain.', cards.length, amount)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="card in cards" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'draft': !card.status}" md-svg-icon=action:ic_credit_card_24px></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title>#{{card.slug}}</span><span class=md-subhead> {{_(cardstyle_map[card.style].label)}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-class="{'disabled': cardstyle_map[card.style].generic}" ng-click="cardstyle_map[card.style].generic?'':open(card)" style="{{(card.meta.figure||image.default)
                           |thumbnail|bg_img}}"><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Settings')}}" ng-click="edit(card, cards)"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-primary ng-disabled=cardstyle_map[card.style].generic ng-click=open(card)> {{cardstyle_map[card.style].generic ?_('Generic'):_('Enter')}} </md-button></md-card-actions></md-card></div></div><div class=md-padding><hint> {{_('* You can use cards for marketing promotions.')}} </hint></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Card')}}" ng-click=create(cards) ng-show="amount > 0"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=card.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Card Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{ card._new?_('New Card'):_('Edit Card')}}
    </h2>

    <!-- card form -->
    <form class="md-padding"
          name="card_form"
          ng-submit="submit(card, card_form)"
          novalidate>

      <md-input-container class="static md-block">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(card, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_16x10}}"
               style="{{(card.meta.figure||image.default)|thumbnail|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{property.expert?(_('Style')|wrap):_('Style')}}</label>
        <md-select name="style"
                   placeholder="{{_('Card Style')}}"
                   ng-model="card.style"
                   ng-disabled="!card._new && !property.expert"
                   ng-change="change_style(card.style)"
                   required>
          <md-option ng-repeat="style in styles"
                     ng-value="style.key">
            {{_(style.label)}}
          </md-option>
        </md-select>
        <ng-messages for="card_form.style.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>
          {{property.expert?(_('Base Code')|wrap):_('Base Code')}}
        </label>
        <input name="slug"
               type="text"
               maxlength="60"
               ng-model="card.slug"
               ng-disabled="!card._new && !property.expert"
               ng-pattern="regex_pattern.slug"
               ng-required="card._new || property.expert"/>
        <hint>
          {{_('* Base code is use to generate all card numbers.')}}
        </hint>
        <ng-messages for="card_form.slug.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="card.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages for="card_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="field-container" ng-show="use_qty">
        <label>{{_('Quantity')}}</label>
        <md-slider-container>
          <md-slider min="0" max="1000"
                     ng-model="card.qty"
                     aria-label="{{_('Quantity')}}"
                     flex>
          </md-slider>
          <md-input-container>
            <input type="number"
                   name="qty"
                   min="0" max="9999"
                   ng-model="card.qty"
                   ng-required="use_qty"
                   aria-label="{{_('Quantity')}}">
          </md-input-container>
        </md-slider-container>
        <ng-messages for="card_form.qty.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="min">
            {{ _('The number is too small.') }}
          </ng-message>
          <ng-message when="max">
            {{ _('The number is too big.') }}
          </ng-message>
        </ng-messages>
      </div>

      <div class="field-container amend" ng-show="use_due">
        <label>{{_('Due Date')}}</label>
        <md-datepicker name="due"
                       ng-model="due_date"
                       ng-required="use_due"
                       md-placeholder="{{_('Due Date')}}"
                       md-open-on-focus></md-datepicker>
        <ng-messages for="card_form.due.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="valid">
            {{ _('Must be a date.') }}
          </ng-message>
        </ng-messages>
      </div>

      <md-switch class="md-accent"
                 ng-class="{'draft': !card.status}"
                 ng-model="card.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Publish')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(card)"
               ng-show="!card._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(card, card_form)"
               ng-disabled="submitted">
      {{ card._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/event_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class="md-headline text-nowrap" created={{event.creation|dateformat}} modified={{event.updated|dateformat}}><md-icon md-svg-icon="{{event.status
                   ? 'notify:ic_event_available_24px'
                   : 'notify:ic_event_busy_24px'}}"></md-icon><span>{{event.meta.title}}<span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(appointments, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value=1> {{_('Available')}} </md-option><md-option ng-value=0> {{_('Closed')}} </md-option><md-option ng-value=2> {{_('Canceled')}} </md-option><md-option ng-value=null> {{_('By Appointee')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button aria-label="{{_('New Appointment')}}" ng-disabled=sel.selection ng-click="add(appointments, event)"><md-icon md-svg-icon=action:ic_alarm_add_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total.', appointments.length, event.count)}} </md-subheader><md-list-item class=anim-show-hide aria-label="{{_('Find')}}" ng-show="sel_status == null" ng-click=find_appoint(appointments)><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=action:ic_search_24px></md-icon><span class="md-text md-primary"> {{ _('Find by Appointee') }} </span></div></md-list-item><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Appointment')}}" ng-class="{'selected': apnt._selected}" ng-repeat="apnt in appointments" ng-hold="sel.select(apnt, appointments)" ng-click="sel.selection ? ''
                                : open(apnt, appointments, event)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><h3> {{ apnt.appointee }} </h3><p ng-class="{'text-strike': apnt.status != 1}"> {{ apnt.date | dateformat }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{apnt._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': apnt.status == 1}" md-svg-icon="{{
                       apnt.status == 1 ? 'action:ic_assignment_ind_24px'
                     : apnt.status == 2 ? 'action:ic_assignment_late_24px'
                     : 'action:ic_assignment_turned_in_24px'}}"></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(appointments, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=text-right ng-if=event.permit><md-button class=md-icon-button ng-click=permit_role(event) aria-label="{{_('Member Permission')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></section></div></div><script type=text/ng-template id=event.permit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Permission')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Member Permission')}}
    </h2>
    <div class="md-padding">
      <!-- permit role list -->
      <md-input-container class="md-block"
                          ng-repeat="role in roles">
        <label>{{role.slug=='-'?_('Default'):role.name}}</label>
        <md-icon md-svg-icon="{{role._activated
                 ? 'toggle:ic_check_box_24px'
                 : 'toggle:ic_check_box_outline_blank_24px'}}"
                 ng-class="{'md-primary': role._activated}"
                 ng-click="toggle_role(role)"></md-icon>
        <input type="number"
               max="999"
               aria-label="{{_('Limit')}}"
               ng-model="role._limit"
               ng-disabled="!role._activated" />
      </md-input-container>
      <hint>
        {{_('* Set unlimited by `0`.')}}
      </hint>

    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(event, roles)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=event.appointment.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Appointment Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{apnt._new ? _('New Appointment') : _('Appointment')}}
    </h2>
    <!-- appointment form -->
    <form class="md-padding"
          name="apnt_form"
          ng-submit="submit(apnt, apnt_form)"
          novalidate>

      <div class="field-container amend">
        <md-datepicker name="date"
                       md-placeholder="{{_('Enter date')}}"
                       ng-model="date"
                       md-open-on-focus></md-datepicker>
        <ng-messages for="apnt_form.date.$error">
          <ng-message when="valid">
            {{ _('Must be a date.') }}
          </ng-message>
        </ng-messages>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Appointee')}}</label>
        <input name="appointee"
               type="text"
               ng-model="apnt.appointee"
               md-maxlength="60"
               mg-disabled="!apnt._new"
               required/>
        <ng-messages for="apnt_form.appointee.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Contact')}}</label>
        <input name="contact"
               type="text"
               ng-model="apnt.meta.contact"
               md-maxlength="120"/>
        <ng-messages for="apnt_form.contact.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Member ID')}}</label>
        <input name="member"
               type="text"
               ng-model="apnt.member_login"
               maxlength="120"/>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Location')}}</label>
        <input name="location"
               type="text"
               ng-model="apnt.location"
               md-maxlength="120"/>
        <ng-messages for="apnt_form.location.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Status')}}</label>
        <md-select name="status"
                   placeholder="{{_('Status')}}"
                   ng-model="apnt.status">
          <md-option ng-value="1">
            {{_('Available')}}
          </md-option>
          <md-option ng-value="0">
            {{_('Closed')}}
          </md-option>
          <md-option ng-value="2">
            {{_('Canceled')}}
          </md-option>
        </md-select>
        <ng-messages for="apnt_form.status.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="apnt.memo"
                  md-maxlength="600"></textarea>
        <ng-messages for="apnt_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

    <!-- extends fields -->
    <md-list ng-if="property.capability > 2">
      <md-subheader class="md-no-sticky">
        {{_('Extended Metas')}}
      </md-subheader>
      <md-list-item class="md-2-line text-nowrap-group"
                    ng-repeat="(k, v) in apnt.meta">

        <div class="md-list-item-text text-nowrap-group">
          <h3>{{v.label || k}}</h3>
          <p>{{v.value || _('None')}}</p>
        </div>
        <md-menu class="md-secondary anim-show"
                 ng-show="property.expert">
          <md-icon md-svg-icon="image:ic_edit_24px"
                   ng-click="$mdMenu.open($event)">
          </md-icon>
          <md-menu-content class="max-size-sm" width="3">
            <md-menu-item class="text-nowrap-group">
              <p class="md-body-1 draft">
                {{k|wrap}}
              </p>
            </md-menu-item>
            <md-menu-divider></md-menu-divider>
            <md-menu-item>
              <md-button class="md-accent"
                         ng-click="remove_meta(k, apnt.meta)">
                {{_('Remove')}}
              </md-button>
            </md-menu-item>
          </md-menu-content>
        </md-menu>
      </md-list-item>
      <md-list-item class="anim-show"
                    aria-label="{{_('Edit Meta')}}"
                    ng-click="switch_meta_mode(true)"
                    ng-show="property.expert && !edit_meta_mode">
        <div class="list-func-wrapper">
          <md-icon class="md-primary"
                   md-svg-icon="content:ic_add_circle_24px"></md-icon>
        </div>
      </md-list-item>
    </md-list>

    <form class="md-padding anim-enter md-whiteframe-1dp"
          name="apnt_meta_form"
          ng-submit="add_meta(new_meta, apnt.meta, apnt_meta_form)"
          ng-if="property.expert && edit_meta_mode"
          novalidate>
      <div class="text-right">
        <md-button class="md-icon-button md-accent"
                   aria-label="{{_('Remove')}}"
                   ng-click="switch_meta_mode(false)">
          <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
        </md-button>
        <md-button class="md-icon-button md-accent"
                   aria-label="{{_('Add')}}"
                   type="submit">
          <md-icon md-svg-icon="editor:ic_publish_24px"></md-icon>
        </md-button>
      </div>

      <md-input-container class="md-accent md-block">
        <label>{{_('Key')}}</label>
        <input name="meta_key"
               type="text"
               ng-model="new_meta.key"
               ng-pattern="regex_pattern.key"
               md-maxlength="24"
               required/>
        <ng-messages for="apnt_meta_form.meta_key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-accent md-block">
        <label>{{_('Label')}}</label>
        <input name="meta_label"
               type="text"
               ng-model="new_meta.label"
               md-maxlength="60" />
        <ng-messages for="apnt_meta_form.meta_label.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-accent md-block">
        <label>{{_('Value')}}</label>
        <textarea name="meta_value"
                  ng-model="new_meta.value"
                  maxlength="600"></textarea>
      </md-input-container>

    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(apnt)"
               ng-show="!apnt._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(apnt, apnt_form)"
               ng-disabled="submitted">
      {{apnt._new ? _('Create') : _('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/events.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Events')}}</span></h1></header><md-subheader class=md-no-sticky> {{_('%s for now, %s remain.', events.length, amount)}} </md-subheader><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="event in events" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card flex><md-card-header><md-card-avatar><md-icon class=md-avatar-icon ng-class="{'draft': !event.status}" md-svg-icon="{{event.status
                         ? 'notify:ic_event_available_24px'
                         : 'notify:ic_event_busy_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title> {{event.slug}} </span><span class=md-subhead>{{event.creation|dateformat}}</span></md-card-header-text></md-card-header><img class=img-bg-cover ng-src={{image.trans_20x10}} ng-click=open(event) style="{{(event.meta.figure||image.default)
                          |thumbnail|bg_img}}"><md-card-title><md-card-title-text class=text-nowrap-group><span class=md-title> {{event.meta.title || event.slug }} </span></md-card-title-text></md-card-title><md-card-actions layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Settings')}}" ng-click="edit(event, events)"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-primary ng-click=open(event)> {{_('Appointments')}} </md-button></md-card-actions></md-card></div></div><div class=md-padding><hint> {{_('* You can use events for marketing activities.')}} </hint></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Event')}}" ng-click=create(events) ng-show="amount > 0"><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=event.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Event Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{event._new?_('Add New Event'):_('Event Settings')}}
    </h2>
    <!-- event form -->
    <form class="md-padding"
          name="event_form"
          ng-submit="submit(event, event_form)"
          novalidate>

      <md-input-container class="static md-block">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(event, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(event.meta.figure||image.default)
                        |thumbnail|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="event.meta.title"
               md-maxlength="60"
               required/>
        <ng-messages for="event_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               maxlength="120"
               ng-model="event.slug"/>
        <hint>{{_('* URL Slug is for friendly URLs.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="des"
                  ng-model="event.meta.description"
                  md-maxlength="360"></textarea>
        <ng-messages for="event_form.des.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch class="md-accent"
                 ng-class="{'draft': !event.permit}"
                 ng-model="event.permit"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Members only')}}
      </md-switch>

      <md-switch class="md-accent"
                 ng-class="{'draft': !event.status}"
                 ng-model="event.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Publish')}}
      </md-switch>

      <div class="space-md"></div>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="event.memo"
                  md-maxlength="600"></textarea>
        <ng-messages for="event_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(event)"
               ng-show="!event._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(event, event_form)"
               ng-disabled="submitted">
      {{event._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/members.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Members')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=role md-container-class=max-size-sm placeholder="{{_('Member Role')}}" ng-model=sel_role ng-disabled=sel.selection ng-change="change_role(members, sel_role)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('Everyone')}} </md-option><md-option ng-value=role.slug ng-repeat="role in roles"> {{_(role.name)}} </md-option></md-optgroup><md-optgroup label="{{_('Actions')}}"><md-option ng-value=null ng-click="go('/crm/role')"> {{_('Edit Member Role')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-click="add(members, roles)" aria-label="{{_('New Member')}}" ng-disabled=sel.selection><md-icon md-svg-icon=social:ic_person_add_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total.', members.length, total_count)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Member')}}" ng-repeat="member in members" ng-class="{'selected': member._selected}" ng-hold="sel.select(member, members)" delay=!sel.selection><div class="md-list-item-text text-nowrap-group"><p>{{ member.meta.name || member.login }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{member._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><md-menu class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': member.status}" md-svg-icon="{{member.status
                     ?'social:ic_person_24px'
                     :'social:ic_person_outline_24px'}}" ng-click="sel.selection?'':$mdMenu.open($event)"></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button class=md-primary ng-click=set_status(member)> {{member.status?_('Deactivate'):_('Activate')}} </md-button></md-menu-item><md-menu-item><md-button class=md-primary ng-click="edit(member, members, roles)"> {{_('Edit')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=check_cards(member) ng-disabled=!member.status> {{_('Cards')}} </md-button></md-menu-item><md-menu-item><md-button ng-click=check_events(member) ng-disabled=!member.status> {{_('Events')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(members, sel_role)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=member.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{member._new?_('Add New Member'):_('Edit Member')}}
    </h2>
    <!-- member form -->
    <form class="md-padding"
          name="member_form"
          ng-submit="submit(member, member_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Login')}}</label>
        <input name="login"
               type="text"
               ng-model="member.login"
               ng-disabled="!member._new"
               maxlength="60"
               required/>
        <hint for="member_form.login">
          {{_('* Can be any text.')}}
        </hint>
        <ng-messages for="member_form.login.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Password')}}</label>
        <input name="passwd"
               type="text"
               ng-model="member.passwd"
               ng-pattern="regex_pattern.passwd"
               ng-required="member._new"/>
        <hint for="member_form.passwd">
          {{_('* 6 to 60 characters.')}}
        </hint>
        <ng-messages for="member_form.passwd.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Member Role')}}</label>
        <md-select name="role"
                   ng-model="member.role"
                   ng-disabled="submitted">
          <md-option ng-value="''">
            {{_('Default')}}
          </md-option>
          <md-option ng-value="role.slug"
                     ng-repeat="role in roles">
            {{_(role.name)}}
          </md-option>
        </md-select>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="member.meta.name"
               md-maxlength="60"/>
        <ng-messages for="member_form.name.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Mobile Phone')}}</label>
        <input name="mobile"
               type="text"
               ng-model="member.meta.mobile"
               md-maxlength="60"/>
        <ng-messages for="member_form.mobile.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('E-Mail')}}</label>
        <input name="email"
               type="email"
               ng-model="member.meta.email"
               md-maxlength="120"/>
        <ng-messages for="member_form.email.$error">
          <ng-message when="email">
            {{ _('Must be an E-Mail address.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Memo')}}</label>
        <textarea name="memo"
                  ng-model="member.memo"
                  md-maxlength="600"></textarea>
        <ng-messages for="member_form.memo.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch class="md-accent"
                 ng-class="{'draft': !member.status}"
                 ng-model="member.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Activation')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(member)"
               ng-show="!member._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(member, member_form)"
               ng-disabled="submitted">
      {{member._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=member.cards.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Cards')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Member Cards')}}
    </h2>
    <!-- cards -->
    <div class="md-padding text-nowrap-group select-text">
      <p class="md-title">{{member.meta.name || member.login}}</p>
    </div>
    <md-list class="md-padding">
      <md-subheader class="md-no-sticky">
        {{_('%s cards in list.', cardnums.length)}}
      </md-subheader>
      <md-list-item class="md-2-line"
                    ng-repeat="cardnum in cardnums">
        <md-icon class="md-avatar-icon"
                 aria-label="{{_('Card Number')}}"
                 ng-mousedown="copy(cardnum.card.slug, cardnum.code)"
                 ng-class="{'draft':!cardnum.card.status}"
                 md-svg-icon="maps:ic_local_activity_24px"></md-icon>
        <div class="md-list-item-text text-nowrap-group select-text">
          <h3 class="text-upper select-text">
            {{cardnum.code}}
          </h3>
          <p class="text-upper select-text"
             ng-class="{'text-strike': !cardnum.status}">
            - {{cardnum.card.slug}}
          </p>
        </div>
      <md-list-item>
    </md-list>


  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=member.events.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Activities')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Member Activities')}}
    </h2>
    <!-- events -->
    <div class="md-padding text-nowrap-group select-text">
      <p class="md-title">{{member.meta.name || member.login}}</p>
    </div>

    <md-list class="md-padding">
      <md-subheader class="md-no-sticky">
        {{_('%s activities in list.', activities.length)}}
      </md-subheader>
      <md-list-item class="md-2-line"
                    ng-repeat="activity in activities">
        <md-icon class="md-avatar-icon"
                 aria-label="{{_('Activity')}}"
                 ng-class="{'draft':!activity.event.status}"
                 ng-mousedown="copy(activity.event.slug, activity.appointee)"
                 md-svg-icon="{{
                   activity.status == 1 ? 'action:ic_assignment_ind_24px'
                 : activity.status == 2 ? 'action:ic_assignment_late_24px'
                 : 'action:ic_assignment_turned_in_24px'}}"></md-icon>
        <div class="md-list-item-text text-nowrap-group select-text">
          <h3>{{activity.appointee}}</h3>
          <p ng-class="{'text-strike': activity.status != 1}">
            - {{activity.date}} @ {{activity.event.meta.title || slug}}
          </p>
        </div>
      <md-list-item>
    </md-list>

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/crm/views/roles.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Member Roles')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection || amount <= 0" ng-click=add(roles)> {{_('New Member Role')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s for now, %s remain.', roles.length, amount)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Member Role')}}" ng-repeat="role in roles" ng-class="{'selected': role._selected}" ng-hold="sel.select(role, roles)" ng-click="sel.selection?'':edit(role, roles)" delay=!sel.selection><md-icon class=md-avatar-icon md-svg-icon=social:ic_people_outline_24px></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ role.name || role.id }}</h3><p>&nbsp;- {{ role.slug }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{role._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon md-svg-icon=action:ic_build_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* You can create member roles to group up members.')}} </hint></div></section></div></div><script type=text/ng-template id=role.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Member Role Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center"
        created="{{role.creation|dateformat}}"
        modified="{{role.updated|dateformat}}">
      {{role._new ? _('New Member Role') : _('Edit Member Role')}}
    </h2>
    <!-- member role form -->
    <form class="md-padding"
          name="role_form"
          ng-submit="submit(role, role_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="role.name"
               md-maxlength="24"
               required />
        <ng-messages for="role_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               maxlength="120"
               ng-model="role.slug"/>
        <hint>{{_('* URL Slug is for friendly URLs.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(role)"
               ng-show="!role._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(role, role_form)"
               ng-disabled="submitted">
      {{role._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/editor/views/station.html><div class=station layout=row flex><div class=editor-sidebar layout=column ng-class="{'mobile': is_mobile}" ng-show=sidebar_opened><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Back') }}" ng-click=back()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon><md-tooltip md-direction=right> {{_('Back')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group show-gt-sm hide><md-button class=md-icon-button aria-label="{{ _('Desktop') }}" ng-disabled="device == 'desktop'" ng-click="select_device('desktop')"><md-icon md-svg-icon=hardware:ic_computer_24px></md-icon><md-tooltip md-direction=right> {{_('Desktop')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Tablet') }}" ng-disabled="device == 'tablet'" ng-click="select_device('tablet')"><md-icon md-svg-icon=hardware:ic_tablet_24px></md-icon><md-tooltip md-direction=right> {{_('Tablet')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Smartphone') }}" ng-disabled="device == 'phone'" ng-click="select_device('phone')"><md-icon md-svg-icon=hardware:ic_smartphone_24px></md-icon><md-tooltip md-direction=right> {{_('Smartphone')}} </md-tooltip></md-button></div><md-divider></md-divider><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Preview') }}" ng-href="{{file.url | now}}" target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><md-tooltip md-direction=right> {{_('Preview')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Property') }}" ng-click=property_toggle()><md-icon md-svg-icon=action:ic_assignment_24px></md-icon><md-tooltip md-direction=right> {{_('Property')}} </md-tooltip></md-button><md-button class=md-icon-button aria-label="{{ _('Save') }}" ng-click="save(file, property_form)"><md-icon md-svg-icon=content:ic_save_24px></md-icon><md-tooltip md-direction=right> {{_('Save')}} </md-tooltip></md-button></div><md-divider></md-divider><span flex></span><div class=side-group><md-button class=md-icon-button aria-label="{{ _('Delete') }}" ng-disabled=file.locked ng-click=trash(file)><md-icon md-svg-icon=action:ic_delete_24px></md-icon><md-tooltip md-direction=right> {{_('Delete')}} </md-tooltip></md-button></div></div><div class=editor-body layout=row flex><div class="editor-toolbar anim-show-hide md-whiteframe-1dp" ng-show=toolbar_opened name=sup-editor-toolbar><div class=btn-group><md-menu class=max-size-sm md-offset="0 -5"><md-button class=select-menu ng-click=$mdMenu.open($event) md-no-ink> {{_('Text Style')}} <md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button><md-menu-content class=editor-text-style-menu width=2><md-menu-item><md-button class=btn-p> {{_('Paragraph')}} </md-button></md-menu-item><md-menu-item><md-button class=btn-quote> {{_('Quote')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=btn-h2><span class=md-headline>{{_('Headline')}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h3><span class=md-title>{{_('Title')}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h4><span class=md-subhead>{{_('Subhead')}}</span></md-button></md-menu-item><md-menu-item><md-button class=btn-h5><span class=md-body-2>{{_('Subject')}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu class=max-size-sm md-offset="0 -5"><md-button class=md-icon-button aria-label="{{_('Font Size')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=editor:ic_format_size_24px></md-icon></md-button><md-menu-content width=2><md-menu-item><md-button class=btn-big>{{_('Big')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-small>{{_('Small')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sub>{{_('Subscript')}}</md-button></md-menu-item><md-menu-item><md-button class=btn-sup>{{_('Superscript')}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button btn-i" aria-label="{{_('Italic')}}"><md-icon md-svg-icon=editor:ic_format_italic_24px></md-icon></md-button><md-button class="md-icon-button btn-b" aria-label="{{_('Bold')}}"><md-icon md-svg-icon=editor:ic_format_bold_24px></md-icon></md-button><md-button class="md-icon-button btn-strike" aria-label="{{_('Strikethrough')}}"><md-icon md-svg-icon=editor:ic_format_strikethrough_24px></md-icon></md-button><md-button class="md-icon-button btn-underline" aria-label="{{_('Underline')}}"><md-icon md-svg-icon=editor:ic_format_underlined_24px></md-icon></md-button><md-button class="md-icon-button btn-mark" aria-label="{{_('Mark Text')}}"><md-icon md-svg-icon=editor:ic_format_paint_24px></md-icon></md-button><md-button class="md-icon-button btn-clear" aria-label="{{_('Clear Text Format')}}"><md-icon md-svg-icon=editor:ic_format_clear_24px></md-icon></md-button><md-button class="md-icon-button btn-hr" aria-label="{{_('Divider')}}"><md-icon md-svg-icon=content:ic_remove_24px></md-icon></md-button><md-button class="md-icon-button btn-a" aria-label="{{_('Link')}}"><md-icon md-svg-icon=editor:ic_insert_link_24px></md-icon></md-button><md-button class="md-icon-button btn-img" aria-label="{{_('Image')}}"><md-icon md-svg-icon=image:ic_image_24px></md-icon></md-button><md-button class="md-icon-button btn-script" aria-label="{{_('Script Code')}}"><md-icon md-svg-icon=action:ic_extension_24px></md-icon></md-button><md-button class="md-icon-button btn-preset" aria-label="{{_('Content Presets')}}"><md-icon md-svg-icon=device:ic_now_widgets_24px></md-icon></md-button></div><div class=btn-group show-gt-sm hide><md-button class="md-icon-button btn-ol" aria-label="{{_('Ordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_numbered_24px></md-icon></md-button><md-button class="md-icon-button btn-ul" aria-label="{{_('Unordered list')}}"><md-icon md-svg-icon=editor:ic_format_list_bulleted_24px></md-icon></md-button><md-button class="md-icon-button btn-outdent" aria-label="{{_('Outdent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_decrease_24px></md-icon></md-button><md-button class="md-icon-button btn-indent" aria-label="{{_('Indent')}}" show-gt-md hide><md-icon md-svg-icon=editor:ic_format_indent_increase_24px></md-icon></md-button></div><div class=btn-group show-gt-sm hide><md-button class="md-icon-button btn-jleft" aria-label="{{_('Align left')}}"><md-icon md-svg-icon=editor:ic_format_align_left_24px></md-icon></md-button><md-button class="md-icon-button btn-jcenter" aria-label="{{_('Align center')}}"><md-icon md-svg-icon=editor:ic_format_align_center_24px></md-icon></md-button><md-button class="md-icon-button btn-jright" aria-label="{{_('Align right')}}"><md-icon md-svg-icon=editor:ic_format_align_right_24px></md-icon></md-button><md-button class="md-icon-button btn-jfull" aria-label="{{_('Align Justify')}}"><md-icon md-svg-icon=editor:ic_format_align_justify_24px></md-icon></md-button></div><div class=btn-group show-gt-md hide><md-button class="md-icon-button btn-undo" aria-label="{{_('Undo')}}"><md-icon md-svg-icon=content:ic_undo_24px></md-icon></md-button><md-button class="md-icon-button btn-redo" aria-label="{{_('Redo')}}"><md-icon md-svg-icon=content:ic_redo_24px></md-icon></md-button><md-button class="md-icon-button btn-html" aria-label="{{_('HTML Code')}}"><md-icon md-svg-icon=action:ic_code_24px></md-icon></md-button></div></div><div class=editor-canvas ng-click=blur_canvas() layout=row layout-align="center center" flex><iframe class="canvas {{device}}" scrolling=auto src=canvas></iframe></div></div><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=editor_property layout=column><md-content flex><form name=property_form ng-submit="save(file, property_form)" novalidate><md-subheader class="md-no-sticky md-primary"> {{_('Property')}} </md-subheader><div class=md-padding><md-input-container class="md-block static"><label>{{_('Featured Image')}}</label><md-card ng-click=select_featured_img(file)><img class=img-bg-cover ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                          |bg_img}}"></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=property_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=property_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class=field-container><label>{{_('Template')}}</label><md-menu layout=column><md-button class="md-primary text-nowrap" ng-click=$mdMenu.open($event)> {{file.template}} </md-button><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'week': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-contain" ng-click="switch_template(file, tmpl)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p>{{tmpl.key}}</p></md-menu-item></md-menu-content></md-menu></div><md-input-container class="md-block amend static" ng-repeat="(k, v) in taxonomies"><label>{{_(v.title)}}</label><md-select name=type ng-model=selected_term[k] ng-change="change_term(selected_term, file)" aria-label={{_(v.title)}} placeholder={{_(v.title)}} multiple><div ng-repeat="term in v.terms"><md-option ng-value=term.key> {{_(term.meta.name)}} </md-option><md-option class=md-caption ng-value=child.key ng-repeat="child in term.nodes"> - {{_(child.meta.name)}} </md-option></div></md-select></md-input-container><div class="field-container amend"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=file.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{file.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><div class="field-container amend"><label>{{_('Date')}}</label><md-datepicker name=date md-placeholder="{{_('Enter date')}}" ng-model=date md-open-on-focus></md-datepicker><ng-messages for=property_form.date.$error><ng-message when=valid> {{ _('Must be a date.') }} </ng-message></ng-messages></div><md-input-container class=md-block><label>{{_('Author')}}</label><input name=author type=text ng-model=file.meta.author md-maxlength=60><md-icon md-svg-icon=action:ic_perm_identity_24px ng-click=get_author(file)></md-icon><ng-messages for=property_form.author.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div class=switch-container><md-switch class=md-accent ng-class="{'draft': !file.status}" ng-model=file.status ng-true-value=1 ng-false-value=0> {{_('Publish')}} </md-switch></div></div><md-subheader class=md-primary> {{_('Advanced')}} </md-subheader><div class=md-padding><md-input-container class=md-block><label>{{_('URL Slug')}}</label><input name=slug type=text ng-model=file.slug ng-pattern=regex_pattern.slug ng-disabled="!property.expert || file.locked" maxlength=120 required><hint for=property_form.slug> {{_('* URL Slug is for friendly URLs.')}} </hint><ng-messages for=property_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Parent')}}</label><input name=parent type=text ng-pattern=regex_pattern.slug ng-model=file.parent maxlength=240><ng-messages for=property_form.parent.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Priority')}}</label><input name=priority type=number ng-model=file.priority><ng-messages for=property_form.priority.$error><ng-message when=number> {{ _('Must be a number.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Redirect to')}}</label><input name=redirect type=url ng-model=file.redirect md-maxlength=360><ng-messages for=property_form.redirect.$error><ng-message when=md-maxlength> {{ _('Must be a URL.') }} </ng-message></ng-messages></md-input-container></div></form><div class="text-right md-margin" ng-if=property.expert><md-button class=md-icon-button ng-click=meta_hardcore(file) aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div></md-content></md-sidenav></div></script><script type=text/ng-template id=blueprints/gate/views/login.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><md-icon class=logo md-svg-src=logo.svg></md-icon></header><form name=auth_form ng-submit="login(auth, auth_form)" novalidate><md-input-container class=md-block><label>{{_('Account')}}</label><input name=login type=email ng-model=auth.login required><ng-messages for=auth_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Password')}}</label><input name=passwd type=password ng-model=auth.passwd ng-pattern=regex_pattern.passwd required><ng-messages for=auth_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Login')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/recovery> {{_('Forget password?')}} </md-button></div></form></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/recovery.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Recovery')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(rec, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=rec.login ng-disiabled=checked required><ng-messages for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><form name=rec_form layout=column ng-show=step==1 ng-submit="recovery(rec, rec_form)" novalidate><div><p> {{_('An Recovery captcha has been sent to %s.', rec.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Recovery captcha')}}</label><input name=captcha type=text ng-model=rec.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(rec)></md-icon><ng-messages for=rec_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=rec.passwd maxlength=50 ng-pattern=regex_pattern.passwd required><hint for=rec_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=rec_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password maxlength=50 ng-model=rec.passwd2 password-verify=rec.passwd required><ng-messages for=rec_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Recovery')}} </md-button><span class=md-padding flex></span><md-button ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been recovered.', rec.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class=md-raised ng-disabled=submitted ng-href=/#/gate/login> {{_('Go Login')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/gate/views/register.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-2> {{_('Register')}} </h1></header><form name=check_form ng-show="step == 0" ng-submit="check(reg, check_form)" novalidate><md-input-container class=md-block><label>{{_('E-Mail for Account')}}</label><input name=login type=email ng-model=reg.login ng-disiabled=checked required><ng-messages for=check_form.login.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Invitation Code')}}</label><input name=code type=text ng-model=reg.code maxlength=100 ng-required=invite_required><ng-messages for=check_form.code.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Next Step')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><form name=reg_form ng-show="step == 1" ng-submit="register(reg, reg_form)" novalidate><div><p> {{_('A Register captcha has been sent to %s.', reg.login)}} </p></div><div layout=row><md-input-container flex><label>{{_('Enter the Register captcha')}}</label><input name=captcha type=text ng-model=reg.captcha required><md-icon md-svg-icon=action:ic_restore_24px ng-class="{'draft': disable_catpcha()}" ng-click=captcha(reg)></md-icon><ng-messages for=reg_form.captcha.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></div><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=slug type=text ng-model=reg.slug ng-pattern=regex_pattern.slug maxlength=60 required><hint for=reg_form.slug> {{_('* Latin letters, numbers or dashes.')}} </hint><ng-messages for=reg_form.slug.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div layout=column layout-gt-xs=row><md-input-container class=md-block flex-gt-xs><label>{{_('Set Password')}}</label><input name=passwd type=password ng-model=reg.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=reg_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=reg_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block flex-gt-xs><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=reg.passwd2 password-verify=reg.passwd maxlength=60 required><ng-messages for=reg_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container></div><div layout=column layout-gt-xs=row layout-align-gt-xs="center center"><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Create')}} </md-button><span class=md-padding flex></span><md-button class=btn ng-disabled=submitted ng-href=/#/gate/login> {{_('Go back to Login')}} </md-button></div></form><div layout=column ng-show="step == 2" novalidate><div><h3> {{_('%s has been registered.', reg.login)}} </h3></div><div layout=column layout-gt-xs=row layout-align-gt-xs="start center"><md-button class="btn md-raised" ng-disabled=submitted ng-href=/#/ > {{_('Enter')}} </md-button></div></div></section></div></div></script><script type=text/ng-template id=blueprints/info/views/info.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header layout-align-gt-xs="start center" layout-align="center center"><md-icon class=logo md-svg-src=logo.svg></md-icon></header><article ng-if="lang == 'en'"><p> This is a cloud base content creation software, Aka., Content as a Service. </p><p> We can help you eaiser manage multi-channel online contents. such as Brand Website, WeChat Buzz, Mobile Showreel and Manuscript. In addition, We also provide a lightweight CRM system, it can help you manage members, appointments, coupons and so on. </p></article><article ng-if="lang == 'zh'"><p> 这是一个云端内容管理应用软件。 </p><p> 我们可以帮助您轻松的管理得管理多个线上发布渠道的内容。 例如，品牌网站、微信公众号、移动展示、电子手稿等。 除此之外我们还提供了轻量级的CRM系统，能够帮助您管理会员、预约、卡券等等。 </p></article><md-divider></md-divider><div><p class=md-caption> {{_('R.I.P: %s', project.rip.join(', '))}} </p><p class=md-caption> {{_('Version: %s %s', project.name, project.version)}} </p><p class=md-caption> {{_('Creators: %s', project.creator.join(', '))}} </p></div></section></div></div></script><script type=text/ng-template id=blueprints/media/views/media.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Media Files')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Repository')}}" ng-model=sel_repo ng-disabled="sel.selection
                                  || isolated
                                  || !property.expert" ng-change="change_repo(mediafiles, sel_repo)"><md-option ng-value="'r'"> {{_('Generic')}} </md-option><md-option ng-repeat="repo in repositories" ng-value=repo.slug> {{repo.meta.title || repo.slug}} </md-option></md-select></div><span flex></span><md-button class=md-icon-button aria-label="{{_('Upload Media')}}" ng-disabled="amount <= 0 || sel.selection" ng-click="upload(mediafiles, storage)"><md-icon md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-tooltip>{{_('Upload')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total.', mediafiles.length, storage.used)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Media')}}" ng-repeat="media in mediafiles" ng-class="{'selected': media._selected}" ng-if=media.filename ng-hold="sel.select(media, mediafiles)" ng-click="sel.selection ? ''
                                : edit(media, mediafiles, storage)" delay=!sel.selection><img class="md-avatar img-bg-cover" ng-if="media.type == 'image'" ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}><md-icon class=md-avatar-icon md-svg-icon={{media_icons[media.type]}} ng-if="media.type != 'image'"></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ media.filename }}</h3><p>&nbsp;- {{ media.mimetype }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{media._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary md-svg-icon=image:ic_brush_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(mediafiles, sel_repo)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div><script type=text/ng-template id=media.uploads.tmpl.html>
<md-dialog class="max-size-md"
           flex>
  <md-toolbar class="md-accent">
    <div class="md-toolbar-tools">
      <span>
        {{_('Media Uploader')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <!-- uploads -->
    <div class="md-padding">
      <div class="media-uploadbox"
           ngf-drop="onFileSelect($files)"
           ngf-allow-dir="true"
           ngf-accept="{{mimetypes}}"
           ngf-multiple="true"
           ng-file-drop=""
           ngf-drag-over-class="file-drag-over"
           ng-click="select_file('.media-manage-uploads')"
           layout="row"
           layout-align="center center">
        <md-icon class="s48"
                 ng-show="upload_status == 0"
                 md-svg-icon="file:ic_cloud_upload_24px"></md-icon>

        <md-progress-circular class="md-accent"
                              ng-show="upload_status == 1"
                              md-mode="indeterminate"
                              md-diameter="60">
        </md-progress-circular>
        <md-icon class="md-warn s48"
                 ng-show="upload_status==2"
                 md-svg-icon="action:ic_report_problem_24px"></md-icon>
        <md-icon class="s48"
                 ng-show="upload_status==3"
                 md-svg-icon="action:ic_done_24px"></md-icon>
      </div>
      <div class="text-center">
        <md-button class="md-accent"
                   ng-click="select_file('.media-manage-uploads')"
                   ng-disabled="upload_status == 1">
          {{_('Select Files')}}
        </md-button>
        <p class="hint">
          {{_('* image: < 1Mb, audio: < 5Mb, video: < 20Mb.')}}
        </p>
      </div>
    </div>

    <!-- stupid ios dose not support button file uploads -->
    <input class="ng-hide media-manage-uploads"
           type="file"
           ngf-select="onFileSelect($files)"
           ngf-multiple="true"
           ngf-accept="{{mimetypes}}" />

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button ng-click="close()">
      {{upload_status == 1 ? _('Cancel') : _('Done')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=media.edit.tmpl.html>
<md-dialog aria-label="{{_('Media Edit')}}"
           flex>
  <md-toolbar class="bg-trans md-hue-3">
    <div class="md-toolbar-tools">
      <span>
        {{_('Media Edit')}}
      </span>
      <span flex></span>
      <md-button class="md-icon-button"
                 aria-label="{{_('Copy URL')}}"
                 ng-click="copy_media_url(media.src)">
        <md-icon md-svg-icon="content:ic_link_24px"></md-icon>
      </md-button>
      <md-button class="md-icon-button"
                 aria-label="{{_('Close')}}"
                 ng-click="close()">
        <md-icon md-svg-icon="nav:ic_close_24px"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content layout="row"
                     flex>
    <!-- edit area -->
    <div class="media-preview"
         ng-if="!editable_media"
         layout="column"
         layout-align="center center"
         flex>
      <img ng-src="{{media.src}}"
           ng-if="media.type == 'image'"
           flex />
      <video ng-src="{{media.src}}"
             ng-if="media.type == 'video'"
             controls></video>
      <audio ng-src="{{media.src}}"
             ng-if="media.type == 'audio'"
             controls></audio>
      <md-icon class="s96"
               md-svg-icon="{{media_icons[media.type]}}"
               ng-if="media.type == 'application'"></md-icon>
    </div>
    <div ng-if="editable_media && media.src"
         layout="column"
         layout-align="center center"
         flex>
      <div class="media-editor md-accent"
           flex="80">
        <div bagua-image-editor
             img-src="media.original"
             img-recipe="media.recipe">
        </div>
      </div>
    </div>

  </md-dialog-content>
  <md-dialog-actions class="centered"
                     layout="row"
                     layout-align="center center">
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(media)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-disabled="submitted"
               ng-click="save(media)">
      {{editable_media ? _('Save') : _('Refresh')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/support/views/ticket.html><div class=view-animate layout-margin layout-padding><div class=space-vh-xs hide-xs></div><div layout=row layout-align="center center"><section flex-gt-sm=60 flex-sm=80 flex><header><h1 class=md-display-1><span>{{_('Support')}}</span></h1></header><article ng-if="lang == 'en'"><p> If you got trouble while using our system, please tell us. Describe your problem then send to <a ng-href={{mailto_support}}>support mailbox</a>. We will reply you as soon as possible. </p></article><article ng-if="lang == 'zh'"><p> 如果您在使用中遭遇了什么不测，请务必告知我们。 描述下您遇到的问题，并且发到 <a ng-href={{mailto_support}}>技术支持</a>。 放心，我们会尽快给您回复。 </p></article><div><a ng-href={{mailto_support}}><md-icon class="s96 md-primary" md-svg-icon=comm:ic_email_24px></md-icon></a></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/invite.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('My Invitations')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="amount <= 0" ng-click=generate()> {{_('Generate Invitation')}} </md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s for now, %s remain.', invites.length, amount)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="invite in invites" aria-label="{{_('Manage Invitation')}}"><div class=md-list-item-text><p>{{ invite.code }}</p></div><md-menu class="md-secondary anim-show"><md-icon ng-class="{'md-primary': !invite.invited}" md-svg-icon="{{invite.invited
                     ? 'action:ic_assignment_ind_24px'
                     : 'social:ic_share_24px'}}" ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group><p class=md-caption ng-class="{'draft': !invite.invited}"> {{invite.invited || _('Available')}} </p></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=copy_invite_code(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation Code')}} </md-button></md-menu-item><md-menu-item><md-button ng-click=copy_invite_url(invite.code) ng-disabled=invite.invited> {{_('Copy Invitation URL')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-disabled=invite.invited ng-click=remove(invite)> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* Use invitation code to invite your friends to register.')}} </hint></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Usage')}}</span></h2></header><article ng-if="lang == 'en'"><p> You can invite friends to sign up for a new account. Invitees can enter the invitation code while registration, or register directly through the invitation URL. We will always thank you for sharing. </p><ul><li>Each account generates up to {{invite_limit}} invitations.</li><li>Each invitation code can only be used once.</li><li>Used invitations can not be deleted.</li></ul></article><article ng-if="lang == 'zh'"><p> 您可以在这里生成邀请码，邀请您的好友前来注册新帐号。 被邀者可以在注册的时候输入您分享的邀请码，也可以直接通过邀请网址进行注册。 我们会永远记得您邀请的新用户，有朝一日必会给您更多的回馈。 </p><ul><li>每个帐号最多生成{{invite_limit}}个邀请码，省着点用。</li><li>每个邀请码只能使用一次。</li><li>已经使用过的邀请码是不能删除的。</li></ul></article></section></div></div></script><script type=text/ng-template id=blueprints/user/views/oauth.html></script><script type=text/ng-template id=blueprints/user/views/profile.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Profile')}}</span></h1></header><form name=profile_form ng-submit="save(profile, profile_form)" novalidate><md-input-container class="static md-block"><label>{{_('Avatar')}}</label><md-card class=s192 ng-click="switch_avatar(profile, $event)"><img class=img-bg-cover ng-src={{image.trans}} style={{(profile.meta.avatar||image.avatar)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Nickname')}}</label><input name=display_name type=text ng-model=profile.meta.display_name md-maxlength=60><ng-messages for=profile_form.display_name.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Location')}}</label><input name=location type=text ng-model=profile.meta.location md-maxlength=360><ng-messages for=profile_form.location.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('E-Mail')}}</label><input name=email type=email md-maxlength=120 ng-model=profile.meta.email><ng-messages for=profile_form.email.$error><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Phone')}}</label><input name=phone type=text md-maxlength=120 ng-model=profile.meta.phone><ng-messages for=profile_form.phone.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Job Title')}}</label><input name=job type=text md-maxlength=120 ng-model=profile.meta.job><ng-messages for=profile_form.job.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><div><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{_('Property')}}</span></h2></header><md-input-container class="static md-block"><label>{{_('Energy')}}</label><div class="box-wrapper s192"><md-icon class="s96 md-accent" md-svg-icon=social:ic_whatshot_24px></md-icon><div class="md-margin md-display-2"> {{property.energy | abbrnum:2}} </div></div></md-input-container><md-input-container class=md-block><label>{{_('Login ID')}}</label><input name=login type=text ng-model=property.login disabled></md-input-container><md-input-container class=md-block><label>{{_('User Name')}}</label><input name=username type=text ng-model=property.slug disabled></md-input-container><div class="field-container amend"><label>{{_('Capability Level')}}</label><div class=radio-wrapper><md-radio-group ng-model=property.capability ng-change=change_capability(property)><md-radio-button class=md-primary ng-repeat="capa in capabilities" ng-if="!capa.expert || allow_expert" ng-value=capa.key> {{_(capa.label)}} </md-radio-button></md-radio-group></div><hint class=help ng-click=help_capability()><span> {{_('* Choose a capability level that fits your skill.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div></section></div></div></script><script type=text/ng-template id=blueprints/user/views/security.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Security')}}</span></h1></header><div><form name=pwd_form ng-submit="change_pwd(pwd, pwd_form)" novalidate><md-input-container class=md-block><label>{{_('Old Password')}}</label><input name=old_passwd type=password ng-model=pwd.old_passwd ng-pattern=regex_pattern.passwd required><ng-messages for=pwd_form.old_passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('New Password')}}</label><input name=passwd type=password ng-model=pwd.passwd ng-pattern=regex_pattern.passwd maxlength=60 required><hint for=pwd_form.passwd> {{_('* 6 to 60 characters.')}} </hint><ng-messages for=pwd_form.passwd.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Confirm Password')}}</label><input name=passwd2 type=password ng-model=pwd.passwd2 password-verify=pwd.passwd maxlength=60 required><ng-messages for=pwd_form.passwd2.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=passwordVerify> {{ _('The password confirmation does not match.') }} </ng-message></ng-messages></md-input-container><div><md-button class="btn md-raised md-primary" ng-disabled=submitted type=submit> {{_('Modify')}} </md-button></div></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10 ng-show="property.capability > 2"><header><h2 class=md-headline><span>{{_('Developer')}}</span></h2></header><div ng-show=!secret.id><p class=md-body-1> {{_('You are able to use a Develop Secret Key '+ 'to activate the Expert mode, or access Develop API. '+ 'The Secret Key will display after '+ 'your identity is verified, keep it secret please.')}} </p><md-button class=md-raised ng-click=get_secret_key(secret)> {{property.has_secret_key ? _('Verify identity to display') : _('Verify identity to apply')}} </md-button></div><div ng-show=secret.id><p class=md-body-1 ng-show="secret.key == ''"> {{_('You have not applied for a Secret Key yet.')}} </p><md-input-container class=md-block ng-show=secret.key><label>{{_('Develop Secret Key')}}</label><input name=secret_key type=text ng-model=secret.key disabled><md-icon md-svg-icon=content:ic_content_copy_24px ng-click=copy_secret_key(secret.key)></md-icon><hint flex-order=3> {{_('* Keep your Secret key Secret. DO NOT tell anyone else.')}} </hint></md-input-container><div layout=row><md-button class=md-raised ng-click=apply_secret_key(secret)> {{secret.key ? _('Reset') : _('Apply')}} </md-button><md-button class=md-raised ng-show=secret.key ng-click=remove_secret_key(secret)> {{_('Remove')}} </md-button></div></div><div class=space-lg></div><div><h3 class=md-caption> {{_('OAuth Access')}} </h3><p class=md-body-1> {{_('Use OAuth Access to allow 3rd part access from OAuth API. '+ 'Usually for exetension development.')}} </p><div class="field-container amend"><md-list><md-list-item ng-repeat="oauth in oauths" ng-click="edit_oauth(oauth, oauths)"><p class="md-body-2 text-nowrap"> {{ oauth.name }} </p></md-list-item></md-list><md-button class=md-raised ng-show="oauths.length < oauth_limit" ng-click=add_oauth(oauths)> {{_('Add OAuth')}} </md-button></div></div></section></div></div><script type=text/ng-template id=oauth.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('OAuth Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center"
        created="{{oauth.creation|dateformat}}"
        modified="{{oauth.updated|dateformat}}">
      {{oauth._new ? _('New OAuth') : _('Edit OAuth')}}
    </h2>
    <!-- oauth form -->
    <form class="md-padding"
          name="oauth_form"
          ng-submit="submit(oauth, oauth_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="oauth.name"
               md-maxlength="60"
               required />
        <ng-messages for="oauth_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="oauth._new && restore_oauth">
        <label>{{_('App Key')}}</label>
        <input name="app_key"
               type="text"
               maxlength="60"
               ng-disabled="!oauth._new"
               ng-model="oauth.app_key"/>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="oauth._new && restore_oauth">
        <label>{{_('App Secret')}}</label>
        <input name="app_secret"
               type="text"
               maxlength="60"
               ng-disabled="!oauth._new"
               ng-model="oauth.app_secret"/>
      </md-input-container>

      <div class="field-container"
           ng-if="!oauth._new">
        <label>{{_('App Key')}}</label>
        <p class="indent-padding md-body-1 text-break select-text">
          {{oauth.app_key}}
        </p>
      </div>

      <div class="field-container"
           ng-if="!oauth._new">
        <label>{{_('App Secret')}}</label>
        <div layout="row">
          <p class="indent-padding md-body-1 text-break select-text draft"
             flex>
            <span ng-show="!show_secret"
                  ng-click="show_secret = true">
              {{_('Click to display secret code.')}}
            </span>

            <span ng-show="show_secret"
                  ng-class="{'md-text md-primary': oauth.refresh}">
              {{oauth.refresh
                ?_('Secret will refresh after saved.')
                :oauth.app_secret}}
            </span>
          </p>
          <md-icon md-svg-icon="nav:ic_refresh_24px"
                   ng-click="refresh_secret(oauth)"
                   ng-show="show_secret && !oauth.refresh"></md-icon>
        </div>
      </div>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Restore')}}"
               ng-click="restore_oauth = true"
               ng-show="oauth._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_restore_24px"></md-icon>
    </md-button>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-click="trash(oauth)"
               ng-show="!oauth._new"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(oauth, oauth_form)"
               ng-disabled="submitted">
      {{oauth._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wa/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Scenes') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in scenes" aria-label="{{_('Edit Scene')}}" ng-click=edit_scene(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=image:ic_camera_front_24px></md-icon></div></md-list-item><md-list-item ng-if="scenes.length == 0" aria-label="{{_('Manage Scenes')}}" ng-click=manage_scenes()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=image:ic_camera_front_24px></md-icon></div></md-list-item></md-list><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Briefing')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p><div class=space-md></div><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div><div class=space-lg></div><md-button class="md-raised md-primary" ng-href={{app.base_url}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><span>{{_('Preview')}}</span></md-button></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wa/views/scene.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Scenes') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button ng-click=$mdMenu.open($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s scenes in list.', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{scene_type_slug}} perpage=12 files=files status=status selection=sel></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Scene')}}" ng-show=!sel.selection ng-click=create()><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wb/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Chapters') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="chapter in chapters" aria-label="{{_('Edit Chapter')}}" ng-click=edit_chapter(chapter)><div class=md-list-item-text><p ng-class="{'text-strike': !chapter.status}"> {{ chapter.meta.name || chapter.key }} </p></div><div class=md-secondary><md-icon ng-class="{'md-primary': chapter.status}" md-svg-icon=image:ic_collections_bookmark_24px></md-icon></div></md-list-item><md-list-item ng-if="chapters.length == 0" aria-label="{{_('Manage Chapters')}}" ng-click=manage_chapters()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=image:ic_collections_bookmark_24px></md-icon></div></md-list-item></md-list><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Briefing')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p><div class=space-md></div><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div><div class=space-lg></div><md-button class="md-raised md-primary" ng-href={{app.base_url}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><span>{{_('Preview')}}</span></md-button></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/ws/views/content.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'draft': content_type.allowed == false}"> {{ _(content_type.title) }} </span><md-menu><md-icon md-svg-icon=nav:ic_arrow_drop_down_circle_24px ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item class=text-nowrap-group ng-repeat="ctype in content_types"><md-button ng-click="switch_type(ctype, content_type)" ng-class="{'draft text-strike': !ctype.allowed}"> {{_(ctype.title)}} </md-button></md-menu-item></md-menu-content></md-menu></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-show="property.capability > 2" ng-click="setting(content_type, files)" ng-disabled=sel.selection aria-label="{{_('Content Type Settings')}}"><md-icon md-svg-icon=file:ic_folder_24px></md-icon><md-tooltip>{{_('Content Type Settings')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s contents in list.', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{content_type.slug}} perpage=12 files=files status=status selection=sel allow-move=true></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Content')}}" ng-show=!sel.selection ng-click=create()><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button><script type=text/ng-template id=ws.content_type.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Content Type Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Content Type Settings')}}
    </h2>
    <!-- type form -->
    <form class="md-padding"
          name="type_form"
          ng-submit="submit(content_type, type_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="content_type.title"
               md-maxlength="60"
               required/>
        <hint for="type_form.title">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages for="type_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               ng-disabled="content_type.locked"
               ng-model="content_type.slug"
               maxlength="120"/>
        <hint>{{_('* URL Slug is for friendly URLs.')}}</hint>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!content_type.allowed && !content_type.locked"
               ng-click="trash(content_type)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(content_type, type_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/ws/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Content') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ctype in content_types" aria-label="{{_('Manage Content')}}" ng-click=manage_content(ctype)><div class=md-list-item-text><p ng-class="{'text-strike': !ctype.allowed}"> {{ _(ctype.title) || ctype.slug }} </p></div><div class=md-secondary><md-icon ng-class="{'md-primary': ctype.allowed}" md-svg-icon=file:ic_folder_24px></md-icon></div></md-list-item></md-list><p class="md-padding md-caption text-center draft" ng-if="content_types.length == 0">{{_('(Empty)')}}</p><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Briefing')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p><div class=space-md></div><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div><div class=space-lg></div><md-button class="md-raised md-primary" ng-href={{app.base_url}} target=_blank><md-icon md-svg-icon=action:ic_visibility_24px></md-icon><span>{{_('Preview')}}</span></md-button></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/ws/views/menu.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'text-strike': !menu.allowed}"> {{ _(menu.title) }} </span></h1></header><div class=md-padding ng-if="menu.allowed == false"><p class="md-title md-text md-warn text-center"> {{_('This menu is unused.')}} </p></div><form name=menu_form ng-submit="setting(menu, menu_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=menu.title md-maxlength=60 required><hint for=menu_form.title> {{_('* Auto translate recognized words.')}} </hint><ng-messages for=menu_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text ng-model=menu.slug maxlength=120><hint>{{_('* URL Slug is for friendly URLs.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('Menu Level')|wrap}}</label><md-select name=level ng-model=menu.level placeholder="{{_('Select menu level')}}"><md-option ng-value=level.key ng-repeat="level in menu_levels"> {{_(level.label)}} </md-option></md-select><ng-messages for=menu_form.level.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class=md-margin ng-if=menu.allowed><p class=hint> {{_('The menu settings is pre-defined with current theme, '+ 'the effect of modification is depend by theme. '+ 'Only unused menu can be removed.')}} </p></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button class=md-icon-button aria-label="{{_('Destroy')}}" ng-show="!menu.allowed && !menu.locked" ng-click=destroy(menu)><md-icon md-svg-icon=action:ic_delete_forever_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h2 class=md-headline><span>{{ _('Menu Structure') }}</span></h2></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="menu.nodes.length >= limit || !menu.allowed" ng-click="add_node(menu.nodes, menu)"> {{_('New Menu')}} {{menu.nodes.length || 0}}/{{limit}} </md-button><md-button class=md-icon-button ng-click=hardcore(menu) ng-show=property.expert aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-repeat="node in menu.nodes"><md-card-content><div class=text-nowrap-group layout=row layout-align="space-between center"><div class="text-nowrap md-title" flex> {{ node.name }} </div><md-button class="md-icon-button md-primary" aria-label="{{_('Edit Menu')}}" ng-click="edit_node(node, menu.nodes, $index, menu)"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list class=md-margin ng-show="menu.level > 1"><md-list-item class=text-nowrap-group ng-repeat="child in node.nodes" ng-click="edit_node(child, node.nodes, $index, menu)"><p>{{child.name}}</p></md-list-item><md-list-item class="md-text md-primary" ng-show="node.nodes.length < limit" ng-click="add_node(node.nodes, menu)"><p class=md-body-1> {{_('New Submenu')}} </p></md-list-item></md-list></md-card-content></md-card></section></div></div><script type=text/ng-template id=ws.menu.node.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Menu')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{node._new?_('Add Menu'):_('Edit Menu')}}
    </h2>
    <!-- node form -->
    <form class="md-padding"
          name="node_form"
          ng-submit="submit(node, node_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="node.name"
               md-maxlength="60"
               required/>
        <ng-messages for="node_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Key')|wrap}}</label>
        <input name="key"
               type="text"
               ng-model="node.key"
               maxlength="120"/>
        <hint>{{_('* Latin letters, numbers or dashes.')}}</hint>
      </md-input-container>

      <md-autocomplete md-input-name="link"
                       md-floating-label="{{_('Link')}}"
                       md-search-text="node.link"
                       md-items="url in urls"
                       md-item-text="url.path"
                       md-menu-class="autocomplete-multi-lines"
                       md-no-cache="true"
                       md-input-maxlength="360"
                       required>
        <md-item-template>
          <p>{{url.name}}</p>
          <span>&nbsp;- {{url.path}}</span>
        </md-item-template>
        <hint for="node_form.link">
          {{_('* Link to a URL or path. use `#` for empty link.')}}
        </hint>
        <ng-messages for="node_form.link.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-autocomplete>

      <md-input-container class="md-block amend"
                          ng-show="property.capability > 2">
        <label>{{_('Target Window')}}</label>
        <input name="target"
               type="text"
               ng-model="node.target" />
        <md-icon md-svg-icon="action:ic_open_in_new_24px"
                 ng-click="target_blank(node)"></md-icon>
        <hint>{{_('* Type `_blank` for open in new window.')}}</hint>
      </md-input-container>

      <md-autocomplete md-input-name="path_scope"
                       md-floating-label="{{_('Path Scope')}}"
                       md-search-text="node.path_scope"
                       md-items="ctype in content_types"
                       md-item-text="ctype.slug"
                       md-menu-class="autocomplete-multi-lines"
                       md-no-cache="true"
                       md-input-maxlength="240">
        <md-item-template>
          <p>{{ctype.slug}}</p>
        </md-item-template>
        <hint for="node_form.path_scope">
          {{_('* Mark active status with this path scope as well.')}}
        </hint>
        <ng-messages for="node_form.path_scope.$error">
          <ng-message when="maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-autocomplete>

      <md-input-container class="md-block"
                          ng-show="property.expert">
        <label>{{_('CSS Class')}}</label>
        <input name="class"
               type="text"
               ng-model="node.class" />
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               ng-model="node._index"
               required />
        <ng-messages for="node_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!node._new"
               ng-click="trash(node)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(node, node_form)">
      {{node._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/ws/views/taxonomy.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span ng-class="{'text-strike': !taxonomy.allowed}"> {{ _(taxonomy.title) }} </span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection
                                || amount <= 0
                                || !taxonomy.allowed" ng-click=add_term(terms)> {{_('New Term')}} </md-button><span flex></span><md-button class=md-icon-button ng-click=setting(taxonomy) aria-label="{{_('Settings')}}" ng-disabled=sel.selection><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s for now, %s remain.', terms.length, amount)}} </md-subheader><md-list-item class=text-nowrap-group aria-label="{{_('Manage Term')}}" ng-repeat="term in terms|paginator:p.paged:p.perpage" ng-class="{'selected': term._selected}" ng-hold="sel.select(term, terms)" ng-click="sel.selection?'':edit_term(term, terms)" delay=!sel.selection><img class="md-avatar img-bg-cover" ng-src={{image.trans}} ng-if=!term.parent style={{(term.meta.figure||image.trans)|thumbnail|bg_img}}><div class="md-list-item-text text-nowrap-group" ng-class="{'md-offset': term.parent}"><p ng-class="{'text-strike': !term.status,
                          'md-caption': term.parent}"> {{term.parent?'- ':''}}{{ term.meta.name || term.id }} </p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{term._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': term.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=p.has_more ng-click=p.more()><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding ng-if="taxonomy.allowed == false"><p class="hint md-text md-warn"> {{_('* This taxonomy is unused, '+ 'You can delete it form taxonomy settings. '+ 'All terms will be remove when the taxonomy been deleted.')}} </p></div></section></div></div><script type=text/ng-template id=ws.taxonomy.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Taxonomy Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Taxonomy Settings')}}
    </h2>
    <!-- taxonomy form -->
    <form class="md-padding"
          name="taxonomy_form"
          ng-submit="submit(taxonomy, taxonomy_form)"
          novalidate>

      <md-input-container class="md-block amend">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="taxonomy.title"
               md-maxlength="60"
               required/>
        <hint for="taxonomy_form.title">
          {{_('* Auto translate recognized words.')}}
        </hint>
        <ng-messages for="taxonomy_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('URL Slug')|wrap}}</label>
        <input name="slug"
               type="text"
               ng-model="taxonomy.slug"
               maxlength="120"/>
        <hint>{{_('* URL Slug is for friendly URLs.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.expert">
        <label>{{_('Content Type Supports')|wrap}}</label>
        <md-select name="content_types"
                   ng-model="taxonomy.content_types"
                   placeholder="{{_('Select content types')}}"
                   multiple="true">
          <md-option ng-value="ctype.slug"
                     ng-repeat="ctype in content_types">
            {{_(ctype.title)}}
          </md-option>
        </md-select>
        <ng-messages for="taxonomy_form.content_types.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="field-container"
           ng-show="!property.expert">
        <label>{{_('Supported Content Types')}}</label>
        <ul>
          <li class="md-body-1"
              ng-repeat="ctype in content_types">
            {{_(ctype.title)}}
          </li>
        </ul>
      </div>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!taxonomy.allowed"
               ng-click="trash(taxonomy)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(taxonomy, taxonomy_form)"
               ng-disabled="submitted">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=ws.term.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Term Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{term._new?_('Add New Term'):_('Edit Term')}}
    </h2>
    <!-- term form -->
    <form class="md-padding"
          name="term_form"
          ng-submit="submit(term, term_form)"
          novalidate>

      <md-input-container class="static md-block"
                          ng-show="property.capability > 2">
        <label>{{_('Poster')}}</label>
        <md-card class="max-size-sm"
                 ng-click="switch_figure(term, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_16x10}}"
               style="{{(term.meta.figure||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="term.meta.name"
               md-maxlength="60"
               required/>
        <ng-messages for="term_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="property.capability > 2">
        <label>{{property.expert?(_('Key')|wrap):_('Key')}}</label>
        <input name="key"
               type="text"
               ng-model="term.key"
               ng-disabled="!property.expert"
               maxlength="120"/>
        <hint>{{_('* Latin letters, numbers or dashes.')}}</hint>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-show="property.capability > 2">
        <label>{{_('Parent')}}</label>
        <md-select name="parent"
                   ng-disabled="term._is_parent"
                   ng-model="term.parent">
          <md-option ng-value="''">
            {{_('No Parent')}}
          </md-option>
          <md-option ng-repeat="term in parents"
                     ng-value="term.key">
            {{term.meta.name || term.key}}
          </md-option>
        </md-select>
        <hint ng-if="term._is_parent">
          {{_('* Terms can only allow 2 level nested.')}}
        </hint>
      </md-input-container>

      <md-input-container class="md-block"
                          ng-show="property.capability > 2">
        <label>{{_('Priority')}}</label>
        <input name="priority"
               type="number"
               ng-model="term.priority" />
        <ng-messages for="term_form.priority.$error">
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-switch class="md-accent"
                 ng-class="{'draft': !term.status}"
                 ng-model="term.status"
                 ng-true-value="1"
                 ng-false-value="0">
        {{_('Enabled')}}
      </md-switch>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!term._new"
               ng-click="trash(term)"
               ng-disabled="submitted">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()"
               ng-disabled="submitted">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(term, term_form)"
               ng-disabled="submitted">
      {{term._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/article.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Articles') }}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select a status')}}" ng-model=status.value ng-disabled=sel.selection><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=1> {{_('Published')}} </md-option><md-option ng-value=0> {{_('Draft')}} </md-option></md-optgroup></md-select></div><span flex></span><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button ng-click=$mdMenu.open($event) ng-disabled=sel.selection aria-label="{{_('Sync')}}"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="sync_app in sync_apps"><md-button ng-click="sync(sync_app, files)"> {{sync_app.meta.title || sync_app.slug }} </md-button></md-menu-item></md-menu-content></md-menu><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-subheader class=md-no-sticky> {{_('%s articles in list.', files.length)}} </md-subheader><content-list app-slug={{app.slug}} content-type-slug={{article_type_slug}} perpage=12 files=files status=status selection=sel></content-list><div class=space-padding></div></section></div></div><md-button class="md-fab fixed md-fab-bottom-right md-primary anim-show-hide" aria-label="{{_('Create New Article')}}" ng-show=!sel.selection ng-click=create(files)><md-icon md-svg-icon=content:ic_add_24px></md-icon></md-button></script><script type=text/ng-template id=blueprints/wx/views/broadcast.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Mass Messages')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection || amount <= 0" ng-click=add(broadcasts)> {{_('New Message')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total.', broadcasts.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="cast in broadcasts" ng-class="{'selected': cast._selected}" ng-hold="sel.select(cast, broadcasts)" ng-click="!sel.selection?edit(cast):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'draft': !cast.status}" md-svg-icon={{castico_map[cast.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ cast.title || cast.id }}</h3><p>{{ cast.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{cast._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': cast.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(broadcasts)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/broadcast_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><div class="anim-enter section-wrapper" ng-if="cast.type == 'text'"><header><h2 class=md-headline><span>{{ _('Plain Text') }}</span></h2></header><form name=cast_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 placeholder=... ng-model=cast.text md-maxlength=360></textarea><ng-messages for=cast_text_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form></div><div class="anim-enter section-wrapper max-size-md" ng-if="cast.type == 'news'"><header><h2 class=md-headline><span>{{ _('Graphic Message') }}</span></h2></header><div ng-repeat="msg in cast.items"><md-card class=anim-enter ng-if="$index == 0" ng-click="edit_msg(msg, cast, $index)"><img class="md-card-image img-bg-cover" ng-src={{image.trans_20x10}} style={{(msg.picurl||image.default)|thumbnail|bg_img}}><md-card-title><md-card-title-text><span class="md-title text-break text-clamp-2"> {{msg.title}} </span></md-card-title-text></md-card-title><md-card-content ng-if="cast.items.length == 1"><p class=text-break>{{msg.digest}}</p></md-card-content></md-card><md-card class=anim-enter ng-if="$index > 0" ng-click="edit_msg(msg, cast, $index)"><md-card-title><md-card-title-text><span class="md-title text-break text-clamp-2"> {{msg.title}} </span></md-card-title-text><md-card-title-media><div class=md-media-sm><img ng-class="{'img-bg-cover': msg.picurl,
                          'img-bg-xl': !msg.picurl}" ng-src={{image.trans}} style={{(msg.picurl||image.default)|bg_img}}></div></md-card-title-media></md-card-title></md-card></div><div layout=row layout-align="space-between center"><md-button class=md-primary ng-disabled="cast.items.length >= msg_limit" ng-click=insert_msg(cast)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><span> {{_('Insert Message')}} {{cast.items.length || 0}}/{{msg_limit}} </span></md-button></div><div class=md-margin><md-divider></md-divider><hint>{{_('* If the original content is modified, '+ 'it must be re-insert to take effect.')}}</hint></div></div><div class="anim-enter section-wrapper" ng-if="cast.type == 'image'"><header><h2 class=md-headline><span> {{ _('Picture') }} </span></h2></header><div><md-card class=md-padding ng-click="pic(cast, $event)"><img class=img-bg-contain ng-src={{image.trans}} style={{(cast.image.src||image.default)|thumbnail|bg_img}}></md-card></div></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span>{{ _('Message Settings') }}</span></h1></header><form name=cast_form ng-submit="save(cast, cast_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=cast.title md-maxlength=60><hint for=cast_form.title> {{_('* For management only, will not applied to send.')}} </hint><ng-messages for=cast_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Type')}}</label><md-select name=type ng-model=cast.type placeholder="{{_('Select broadcast type')}}" required><md-option ng-value=type.key ng-repeat="type in cast_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=cast_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-switch class=md-accent ng-class="{'draft': !cast.status}" ng-model=cast.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><span flex></span><md-button ng-show=cast.id ng-click=trash(cast)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form><div class=space-md></div><md-divider class="md-margin dotted" ng-show=cast.id></md-divider><div class=md-margin><hint> {{_('* Subscribe account is up to one of per day, '+ 'Service account is up to 4 times per month.')}} </hint></div><md-menu ng-disabled="submitted || !cast.status" ng-show=cast.id><md-button class=md-primary ng-click=$mdMenu.open($event)><md-icon md-svg-icon=content:ic_send_24px></md-icon><span>{{_('Mass Send')}}</span></md-button><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click="send(cast, cast_form, false)"> {{_('Preview')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="send(cast, cast_form, true)" ng-disabled=!cast.sendable> {{cast.sendable ? _('Send to Public') : app.config.type == 0 ? _('One pre day.') : _('4 every month.')}} </md-button></md-menu-item></md-menu-content></md-menu></section></div></div><script type=text/ng-template id=wx.cast.msg.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Graphic Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{msg._new?_('Add Graphic Message'):_('Edit Graphic Message')}}
    </h2>
    <!-- msg form -->
    <form class="md-padding"
          name="msg_form"
          ng-submit="submit(msg, msg_form)"
          novalidate>
      <md-input-container class="static less md-block">
        <label>{{_('Pic')}}</label>
        <md-card class="max-size-sm"
                 ng-click="pic(msg, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(msg.picurl||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <div class="switch-container">
        <md-switch class="md-accent"
                   ng-class="{'draft': !msg.show_cover}"
                   ng-model="msg.show_cover"
                   ng-true-value="1"
                   ng-false-value="0">
          {{_('Show Cover Picture')}}
        </md-switch>
      </div>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="msg.title"
               md-maxlength="60"
               required />
        <ng-messages for="msg_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Description')}}</label>
        <textarea name="digest"
                  ng-model="msg.digest"
                  md-maxlength="240"></textarea>
        <ng-messages for="msg_form.digest.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Author')}}</label>
        <input name="author"
               type="text"
               ng-model="msg.author"
               md-maxlength="12"/>
        <ng-messages for="msg_form.author.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="msg.url"/>
        <ng-messages for="msg_form.url.$error">
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               ng-model="msg._index"
               required />
        <ng-messages for="msg_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!msg._new"
               ng-click="trash(msg)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(msg, msg_form)">
      {{msg._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.cast.send.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Send')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Send')}}
    </h2>

    <div class="md-padding"
         ng-show="!sending">
      <!-- preview -->
      <form name="preview_form"
            ng-submit="preview(cast, preview_by, preview_form)"
            ng-show="!to_public"
            novalidate>
        <md-input-container class="md-block amend">
          <label>{{_('Preview by WeChat ID')}}</label>
          <input name="preview_by"
                 type="text"
                 ng-model="preview_by"
                 maxlength="120" />
          <hint for="preview_form.preview_by">
            {{_('* WeChat ID for the one who send to preview.')}}
          </hint>
          <ng-messages for="preview_form.preview_by.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>
      </form>

      <!-- send -->
      <form name="send_form"
            ng-submit="send(cast, send_form)"
            ng-show="to_public"
            novalidate>
        <md-input-container class="md-block amend"
                            ng-show="cast.sendable">
          <label>{{_('Confirm Code')}}</label>
          <input name="code"
                 type="text"
                 ng-model="confirm_code"
                 ng-pattern="/^SEND$/"
                 ng-disabled="!cast.sendable"
                 ng-required="to_public" />
          <hint for="send_form.code">
            {{_('* Type `SEND` exactly to confirm.')}}
          </hint>
          <ng-messages for="send_form.code.$error">
            <ng-message when="required">
              {{ _('This field is mandatory.') }}
            </ng-message>
            <ng-message when="pattern">
              {{ _('Not match with confirm code.') }}
            </ng-message>
          </ng-messages>
        </md-input-container>

      </form>

    </div>

    <!-- sending -->
    <div class="md-padding"
         ng-show="sending"
         layout="row"
         layout-align="center center">
      <img ng-src="{{image.trans}}"
           ng-if="materials.length > 0"
           style="{{materials[0].src|bg_img}}" />
      <md-progress-circular ng-show="materials|is_empty"
                            md-mode="indeterminate"
                            md-diameter="60">
      </md-progress-circular>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="!to_public"
               ng-disabled="submitted || preview_form.$invalid"
               ng-click="preview(cast, preview_by, preview_form)">
      {{_('Preview')}}
    </md-button>
    <md-button class="md-primary"
               ng-show="to_public"
               ng-disabled="submitted || send_form.$invalid"
               ng-click="send(cast, send_form)">
      {{_('Send to Public')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.cast.sync_article.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Sync Content')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Sync Content')}}
    </h2>
    <div class="md-padding"
         layout="row"
         layout-align="center center">
      <img ng-src="{{image.trans}}"
           style="{{material_urls[0].src|bg_img}}" />
      <md-progress-circular ng-show="material_urls|is_empty"
                            md-mode="indeterminate"
                            md-diameter="60">
      </md-progress-circular>
    </div>
  </md-dialog-content>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/dashboard.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Dashboard')}}</span></h1></header><div layout=row layout-wrap><div ng-if=follower.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Followers') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ follower.followers | abbrnum:2 }} <md-tooltip md-direction=top ng-if=follower.followers> {{follower.errors > 0 ? '!' : ''}} {{follower.followers}} </md-tooltip></p></div></div></div><div ng-if=follower.allowed flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Growth') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ follower.growth | abbrnum:2 }} <md-tooltip md-direction=top ng-if=follower.growth> {{follower.errors > 0 ? '!' : ''}} {{follower.growth}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Page Viewing') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.pv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.pv> {{visit.pv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Visits') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.vs | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.vs> {{visit.vs}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique Visitors') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.uv | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.uv> {{visit.uv}} </md-tooltip></p></div></div></div><div flex=50><div class=dial><md-subheader class=md-no-sticky> {{ _('Unique IPs') }} </md-subheader><div class=dial-inner><p class="dig md-text"> {{ visit.ip | abbrnum:2 }} <md-tooltip md-direction=top ng-if=visit.ip> {{visit.ip}} </md-tooltip></p></div></div></div></div><div class=space-sm></div><div><md-subheader class=md-no-sticky> {{ _('Articles') }} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="file in articles" aria-label="{{_('Edit Article')}}" ng-click=edit_article(file)><div class=md-list-item-text><p ng-class="{'text-strike': !file.status}"> {{ file.meta.title || file.slug }} </p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=maps:ic_rate_review_24px></md-icon></div></md-list-item><md-list-item ng-if="articles.length == 0" aria-label="{{_('Manage Articles')}}" ng-click=manage_articles()><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=maps:ic_rate_review_24px></md-icon></div></md-list-item></md-list><md-divider class=md-margin></md-divider></div><div ng-if="property.capability > 2 && extensions.length > 0"><md-subheader class=md-no-sticky> {{_('Extensions')}} </md-subheader><md-list class="md-margin short"><md-list-item class=text-nowrap-group ng-repeat="ext in extensions" aria-label="{{_('Open Extension')}}" ng-click=go_ext(file)><p>{{ ext.meta.title || ext.slug }}</p></md-list-item></md-list><md-divider class=md-margin></md-divider></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header hide show-gt-sm><h2 class=md-headline><span>&nbsp;</span></h2></header><div><div class=info><md-subheader class=md-no-sticky> {{_('Snapshot')}} </md-subheader><div class=info-thumb><md-card><img ng-class="{'img-bg-cover': app.meta.snapshot,
                              'img-bg-lg': !app.meta.snapshot}" ng-src={{image.trans_16x10}} ng-click="snapshot(app, $event)" style="{{(app.meta.snapshot||image.default)
                            |thumbnail|bg_img}}"></md-card></div></div><div class=info><md-subheader class=md-no-sticky> {{_('Briefing')}} </md-subheader><div class="info-inner text-nowrap-group"><p class=md-title>{{app.meta.title}}</p><p class=md-caption>&nbsp;- {{app.slug}}</p><div class=space-md></div><div class=info-dig><md-icon md-svg-icon=action:ic_description_24px aria-label="{{_('Content Storage')}}"></md-icon><span class="md-text md-primary"> {{content_storage.used}} </span></div><div class=info-dig><md-icon md-svg-icon=image:ic_photo_24px aria-label="{{_('Media Storage')}}"></md-icon><span class="md-text md-primary"> {{media_storage.used}} </span></div></div></div></div></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/material.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Materials')}}</span></h1></header><div class=anim-enter layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Repository')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(materials, sel_status)"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=0> {{_('Temporary Material')}} </md-option><md-option ng-value=1> {{_('Permanent Material')}} </md-option></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total.', materials.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group anim-enter" aria-label="{{_('Manage Material')}}" ng-repeat="material in materials" ng-class="{'selected': material._selected}" ng-if=material.filename ng-hold="sel.select(material, materials)" delay=!sel.selection><img class=md-avatar ng-class="{'md-accent': material.media_id}" ng-src={{material.src|thumbnail|now:material.updated}}><div class="md-list-item-text text-nowrap-group"><h3>{{ material.filename }}</h3><p>{{ material.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{material._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><md-menu class="md-secondary anim-show" ng-show=!sel.selection><md-icon class=md-primary ng-click="sel.selection?'':$mdMenu.open($event)" md-svg-icon=file:ic_attachment_24px></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click=copy_src(material)> {{_('Copy Image Source')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button class=md-primary ng-click="remove(material, materials)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(materials, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/record.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Records')}}</span></h1></header><div layout=row layout-align="space-between center"><div class=list-filter><md-select name=status md-container-class=max-size-sm placeholder="{{_('Status')}}" ng-model=sel_status ng-disabled=sel.selection ng-change="change_status(records, sel_status)"><md-optgroup label="{{_('Filters')}}"><md-option ng-value="'*'"> {{_('All')}} </md-option><md-option ng-value=0> {{_('Unread')}} </md-option><md-option ng-value=1> {{_('Readed')}} </md-option></md-optgroup></md-select></div><span flex></span><md-button class=md-icon-button ng-class="{'md-warn': total_count > (record_limit - 600)}" ng-click=clean() aria-label="{{_('Delete All Records')}}" ng-disabled="sel.selection || records.length <= 0"><md-icon md-svg-icon=content:ic_delete_sweep_24px></md-icon><md-tooltip>{{_('Delete All Records')}}</md-tooltip></md-button><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total.', records.length, total_count)}} </md-subheader><md-list-item class="md-3-line text-nowrap-group" aria-label="{{_('Manage Record')}}" ng-repeat="record in records" ng-class="{'selected': record._selected}" ng-hold="sel.select(record, records)" ng-click="!sel.selection?read(record):''" delay=!sel.selection><md-icon class=md-avatar-icon md-svg-icon="{{record.status == 0
                                  ? 'comm:ic_mail_24px'
                                  : record.status == 1
                                  ? 'comm:ic_mail_outline_24px'
                                  : 'content:ic_reply_24px'}}"></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ record.member.name || record.form_user }}</h3><h4>{{ record.text }}</h4><p>{{ record.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{record._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': record.status == 1}" md-svg-icon=maps:ic_local_activity_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(records, sel_status)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider><div class=md-padding><hint> {{_('* Auto remove oldest record when reached %s.', record_limit)}} </hint></div></section></div></div><script type=text/ng-template id=wx.record.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Record Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Record Message')}}
    </h2>
    <!-- message -->
    <div class="md-padding">
      <h4 class="md-title">{{record.member.name || record.from_user}}</h4>
      <p class="md-subhead">
        {{_('Triggered by')}}{{_(': ')}}{{_(triggers_map[record.triggered])}}
      </p>
      <p class="md-subhead">
        {{_('Time')}}{{_(': ')}}{{record.creation|dateformat}}
      </p>
      <p>{{record.text}}</p>
    </div>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Dismiss')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/response.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=90 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{_('Auto Replies')}}</span></h1></header><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled="sel.selection || amount <= 0" ng-click=add(responses)> {{_('New Auto Reply')}} </md-button><span flex></span><md-button class=md-icon-button ng-class="{'md-accent': sel.selection}" ng-click=sel.toggle_selection() aria-label="{{_('Toggle Selection')}}"><md-icon md-svg-icon=av:ic_playlist_add_check_24px></md-icon></md-button></div><md-divider></md-divider><md-list><md-subheader class=md-no-sticky> {{_('%s in list, %s total.', responses.length, total_count)}} </md-subheader><md-list-item class="md-2-line text-nowrap-group" aria-label="{{_('Manage Auto Reply')}}" ng-repeat="resp in responses" ng-class="{'selected': resp._selected}" ng-hold="sel.select(resp, responses)" ng-click="!sel.selection?edit(resp):''" delay=!sel.selection><md-icon class=md-avatar-icon ng-class="{'md-primary': resp.primary}" ng-class="{'draft': !resp.status}" md-svg-icon={{respico_map[resp.type]}}></md-icon><div class="md-list-item-text text-nowrap-group"><h3>{{ resp.title || resp.id }}</h3><p>{{ resp.updated | dateformat }}</p></div><div class="md-secondary anim-show" ng-show=sel.selection><md-icon md-svg-icon="{{resp._selected
                     ? 'toggle:ic_radio_button_checked_24px'
                     : 'toggle:ic_radio_button_unchecked_24px'}}"></md-icon></div><div class="md-secondary anim-show" ng-show=!sel.selection><md-icon ng-class="{'md-primary': resp.status == 1}" md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click=get_more(responses)><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list><md-divider></md-divider></section></div></div></script><script type=text/ng-template id=blueprints/wx/views/response_detail.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><div class="anim-enter section-wrapper" ng-if="resp.type == 'text'"><header><h2 class=md-headline><span>{{ _('Reply Plain Text') }}</span></h2></header><form name=resp_text_form novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><textarea name=text rows=6 ng-model=resp.text placeholder=... md-maxlength=360></textarea><ng-messages for=resp_text_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form></div><div class="anim-enter section-wrapper max-size-md" ng-if="resp.type == 'news'"><header><h2 class=md-headline><span>{{ _('Reply Graphic Messages') }}</span></h2></header><div ng-repeat="msg in resp.items"><md-card class=anim-enter ng-if="$index == 0" ng-click="edit_msg(msg, resp, $index)"><img class="md-card-image img-bg-cover" ng-src={{image.trans_20x10}} style={{(msg.picurl||image.default)|thumbnail|bg_img}}><md-card-title><md-card-title-text><span class="md-title text-break text-clamp-2"> {{msg.title}} </span></md-card-title-text></md-card-title><md-card-content ng-if="resp.items.length == 1"><p class=text-break>{{msg.content}}</p></md-card-content></md-card><md-card class=anim-enter ng-if="$index > 0" ng-click="edit_msg(msg, resp, $index)"><md-card-title><md-card-title-text><span class="md-title text-break text-clamp-2"> {{msg.title}} </span></md-card-title-text><md-card-title-media><div class=md-media-sm><img ng-class="{'img-bg-cover': msg.picurl,
                          'img-bg-xl': !msg.picurl}" ng-src={{image.trans}} style={{(msg.picurl||image.default)|bg_img}}></div></md-card-title-media></md-card-title></md-card></div><div layout=row layout-align="space-between center"><md-button class=md-primary ng-disabled="resp.items.length >= msg_limit" ng-click=add_msg(resp)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon><span> {{_('Add Message')}} {{resp.items.length || 0}}/{{msg_limit}} </span></md-button><md-menu ng-show="property.capability > 2"><md-button class=md-icon-button aria-label="{{_('Sync')}}" ng-click=$mdMenu.open($event) ng-disabled="resp.items.length >= msg_limit"><md-icon md-svg-icon=notify:ic_sync_24px></md-icon><md-tooltip>{{_('Sync Content')}}</md-tooltip></md-button><md-menu-content class=max-size-sm width=3><md-menu-item class=subject> {{_('Sync From Apps')}} </md-menu-item><md-menu-item class=text-nowrap-group ng-repeat="rel_app in relateable"><md-button ng-click="sync_msg(resp, rel_app)"> {{rel_app.label}} </md-button></md-menu-item></md-menu-content></md-menu></div></div><div class="anim-enter section-wrapper" ng-if="['newest', 'search', 'random'].indexOf(resp.type) >= 0"><header><h2 class=md-headline><span> {{ resp.type == 'newest' ? _('Reply Newest Articles') : resp.type == 'search' ? _('Reply Search Articles') : _('Reply Random Articles') }} </span></h2></header><form name=resp_relate_form novalidate><md-input-container class="md-block amend"><label>{{_('Relate to App')}}</label><md-select name=relate_app ng-model=resp.related.app_id placeholder="{{_('Select realte app')}}" ng-change="change_relate_app(relateable, resp)" required><md-option ng-value=relate.id ng-repeat="relate in relateable"> {{relate.label}} </md-option></md-select><hint for=resp_relate_form.relate_app> {{_('* Select content from this app.')}} </hint><ng-messages for=resp_relate_form.relate_app.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Content Type')}}</label><md-select name=relate_type ng-model=resp.related.content_type placeholder="{{_('Select content type')}}" ng-disabled=!resp.related.app_id><md-option ng-value="''"> {{_('All')}} </md-option><md-option ng-value=type.slug ng-repeat="type in relate_content_types"> {{_(type.label)}} </md-option></md-select><hint for=resp_relate_form.relate_app> {{_('* You can find content by type.')}} </hint><ng-messages for=resp_relate_form.relate_type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Number of replies')}}</label><md-select name=limit ng-init="resp.related.limit =
                        resp.related.limit?resp.related.limit:1" ng-model=resp.related.limit placeholder="{{_('Select limit')}}" required><md-option ng-value=number ng-repeat="number in relate_limits track by $index"> {{number}} </md-option></md-select><ng-messages for=resp_relate_form.limit.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container></form></div></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span> {{ _('Auto Reply Settings') }} </span></h1></header><form name=resp_form ng-submit="save(resp, resp_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Title')}}</label><input name=title type=text ng-model=resp.title md-maxlength=60><hint for=resp_form.title> {{_('* For management only, will not applied to send.')}} </hint><ng-messages for=resp_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Type')}}</label><md-select name=type ng-model=resp.type placeholder="{{_('Select reply type')}}" required><md-option ng-value=type.key ng-repeat="type in resp_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=resp_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Trigger')}}</label><md-select name=trigger ng-model=resp.trigger placeholder="{{_('Select reply type')}}" required><md-option ng-value=trigger.key ng-repeat="trigger in triggers"> {{_(trigger.label)}} </md-option></md-select><hint for=resp_form.trigger> {{_('* `Default, Subscribe, Auto` can only set one each.')}} </hint><ng-messages for=resp_form.trigger.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend" ng-show="resp.trigger == 4"><label>{{_('Keywords')}}</label><md-chips name=trigger_keys ng-model=resp.keywords placeholder="{{_('Enter a keyword')}}" secondary-placeholder="{{resp.keywords.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips><hint>{{_('* Must be unique from all replies.')}}</hint></div><md-switch class=md-accent ng-class="{'draft': !resp.status}" ng-model=resp.status ng-true-value=1 ng-false-value=0> {{_('Activated')}} </md-switch><div class=space-md></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button ng-show=resp.id ng-click=trash(resp)><span>{{_('Remove')}}</span><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button></div></form></section></div></div><script type=text/ng-template id=wx.resp.msg.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Graphic Message')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{msg._new?_('Add Graphic Message'):_('Edit Graphic Message')}}
    </h2>
    <!-- msg form -->
    <form class="md-padding"
          name="msg_form"
          ng-submit="submit(msg, msg_form)"
          novalidate>
      <md-input-container class="static md-block">
        <label>{{_('Pic')}}</label>
        <md-card class="max-size-sm"
                 ng-click="pic(msg, $event)">
          <img class="img-bg-cover"
               ng-src="{{image.trans_20x10}}"
               style="{{(msg.picurl||image.default)|bg_img}}">
        </md-card>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Title')}}</label>
        <input name="title"
               type="text"
               ng-model="msg.title"
               md-maxlength="60"
               required />
        <ng-messages for="msg_form.title.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Content')}}</label>
        <textarea name="content"
                  ng-model="msg.content"
                  md-maxlength="240"></textarea>
        <ng-messages for="msg_form.content.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="msg.url"
               required/>
        <ng-messages for="msg_form.url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               ng-model="msg._index"
               required />
        <ng-messages for="msg_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!msg._new"
               ng-click="trash(msg)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(msg, msg_form)">
      {{msg._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=blueprints/wx/views/wx_config.html><div class=view-animate layout-margin layout-padding><div layout-gt-sm=row><section flex-gt-sm=40 flex-offset-gt-sm=5><header><h1 class=md-headline><span>{{ _('Configuration') }}</span></h1></header><form name=config_form ng-submit="save_config(config, config_form)" novalidate><md-input-container class="md-block amend"><label>{{_('WeChat Type')}}</label><md-select name=type ng-model=config.type placeholder="{{_('Select WeChat type')}}"><md-option ng-value=type.key ng-repeat="type in wx_types"> {{_(type.label)}} </md-option></md-select><ng-messages for=config_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Token')}}</label><input name=token type=text ng-model=config.token ng-pattern=/^[a-zA-Z0-9]{3,32}$/ maxlength=60><hint class=help ng-click=help_wx_token_url() for=config_form.token> {{_('* The token of wechat interface.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=config_form.token.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend"><label>{{_('Interface URL')}}</label><input name=interface_url type=text placeholder="{{_('No Interfce URL')}}" ng-model=config.interface_url disabled><md-icon md-svg-icon=content:ic_content_copy_24px ng-disabled=!config.interface_url ng-click="config.interface_url
                             ? copy_url(config.interface_url)
                             : ''"></md-icon><hint class=help ng-click=help_wx_token_url()> {{config.interface_url ? _('* Copy the interface URL to WeChat official management.') : _('* Auto generated when token and site URL is given.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></md-input-container><md-input-container class="md-block amend"><label>{{_('Encoding AES Key')}}</label><input name=aes_key type=text ng-model=config.encoding_aes_key ng-pattern=regex_pattern.ascii><hint class=help ng-click=help_encrypt_aes() for=config_form.aes_key> {{_('* Use it when message is encrypted.')}} <md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint><ng-messages for=config_form.aes_key.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><div class=field-container><label>{{_('WeChat Certification')}}</label><div class=md-margin><p class="md-text text-middle-group" ng-class="{'md-accent': config.certified,
                          'draft': !config.certified}"><md-icon ng-show=config.certified md-svg-icon=action:ic_verified_user_24px></md-icon><span> {{config.certified?_('Certified'):_('Not Certified')}} </span></p></div></div><div ng-show=adv_opts><h3 class=md-caption> {{ _('Advanced Options') }} </h3><div class=md-margin><p class=md-body-1> {{_('You have input WeChat AppID and AppSecret '+ 'to bind your Certified Official Account. '+ 'You can manage Custom Menu and wifi connection '+ 'After your Official Account is certified.')}} </p><hint class=help ng-click=help_white_list()><span> {{_('* You might need to add your IP to the White-list.')}} </span><md-icon class=s12 md-svg-icon=action:ic_help_24px></md-icon></hint></div><div class=space-md></div><md-input-container class=md-block><label>{{_('Developer AppID')}}</label><input name=wx_appid type=text ng-model=config.wx_app_id ng-pattern=regex_pattern.ascii><ng-messages for=config_form.wx_appid.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Developer AppSecret')}}</label><input name=wx_secret type=text ng-model=config.wx_app_secret ng-pattern=regex_pattern.ascii><ng-messages for=config_form.wx_secret.$error><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container></div><div class=space-xs></div><div layout=row layout-align="space-between center"><md-button class="md-raised md-primary" ng-disabled=submitted type=submit> {{_('Save')}} </md-button><md-button ng-disabled=submitted ng-click="adv_opts = !adv_opts"><span>{{_('Adv Opts.')}}</span><md-icon class=s12 md-svg-icon=nav:ic_more_vert_24px></md-icon></md-button></div></form></section><section flex-gt-sm=40 flex-offset-gt-sm=10><header><h1 class=md-headline><span> {{ _('Features') }} </span></h1></header><div><h3 class=md-caption> {{ _('Custom Menu') }} </h3><div layout=row layout-align="space-between center" ng-show=custom_menu.allowed><md-button class=md-raised ng-disabled="custom_menu.buttons.length >= menu_limit
                                  || custom_menu.allowed == false" ng-click="add_button(custom_menu.buttons, custom_menu)"> {{_('New Button')}} {{custom_menu.buttons.length || 0}}/{{menu_limit}} </md-button><md-button class=md-icon-button ng-click=hardcore(menu) ng-show="property.expert && custom_menu.allowed" aria-label="{{_('Hardcore')}}"><md-icon md-svg-icon=action:ic_perm_data_setting_24px></md-icon></md-button></div><md-card ng-if=custom_menu.allowed ng-repeat="button in custom_menu.buttons"><md-card-content><div layout=row layout-align="space-between center" flex><div class="md-title text-nowrap" flex> {{ button.name }} </div><md-button class="md-icon-button md-primary" aria-label="{{_('New Sub Button')}}" ng-show="button.sub_button.length < submenu_limit" ng-click="add_button(button.sub_button, custom_menu)"><md-icon md-svg-icon=content:ic_add_24px></md-icon><md-tooltip md-direction=top> {{button.sub_button.length || 0}}/{{submenu_limit}} </md-tooltip></md-button><md-button class="md-icon-button md-primary" aria-label="{{_('Edit Button')}}" ng-click="edit_button(button, custom_menu.buttons,
                                               $index, custom_menu)"><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></div><md-list class=md-margin><md-list-item ng-repeat="child in button.sub_button" ng-click="edit_button(child, button.sub_button,
                                                  $index, custom_menu)"><p class="text-nowrap md-text md-primary"> {{child.name}} </p></md-list-item></md-list></md-card-content></md-card><div class=indent-padding ng-show="custom_menu.allowed == false"><p class="md-body-1 md-text md-warn"> {{_('Require cerified official account, '+ 'turn on advanced options to setup.')}} </p></div></div><div ng-show="property.capability > 2"><div class=space-lg></div><h3 class=md-caption> {{ _('Wi-Fi Connection') }} </h3><div ng-show=wifi.allowed><md-button class=md-raised ng-show=!wifi.shop_id ng-click=setup_wifi()> {{_('Setup Wi-Fi Hub')}} </md-button><md-card ng-show=wifi.shop_id><md-card-content><div layout=row layout-align="space-between center" flex><div class="md-title text-nowrap" flex> {{wifi.name || wifi.shop_id}} </div><md-button class="md-icon-button md-primary" aria-label="{{_('New Wi-Fi Device')}}" ng-show="wifi_devices.length < wifi_device_limit" ng-click=add_device(wifi_devices)><md-icon md-svg-icon=content:ic_add_circle_24px></md-icon></md-button><md-button class="md-icon-button md-primary" ng-click=config_wifi(wifi) aria-label="{{_('Wi-Fi Settings')}}"><md-icon md-svg-icon=action:ic_settings_24px></md-icon></md-button></div><div class=md-margin ng-if="wifi_devices.length > 0"><md-button class=md-icon-button ng-class="{'md-warn': !device.pwd}" aria-label="{{_('Wi-Fi Device')}}" ng-repeat="device in wifi_devices" ng-click="edit_device(device, wifi_devices)"><md-icon md-svg-icon="{{device.pwd
                           ? 'device:ic_wifi_lock_24px'
                           : 'device:ic_signal_wifi_off_24px' }}"></md-icon><md-tooltip md-direction=top> {{device.ssid}} </md-tooltip></md-button></div></md-card-content></md-card></div><div class=indent-padding ng-show="wifi.allowed == false"><p class="md-body-1 md-text md-warn"> {{_('You must activiate Wi-Fi Module form official management.')}} </p></div></div></section></div></div><script type=text/ng-template id=wx.custom_menu.button.edit.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Custom Button Manage')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{button._new?_('Add Button'):_('Edit Button')}}
    </h2>
    <!-- button form -->
    <form class="md-padding"
          name="button_form"
          ng-submit="submit(button, button_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Name')}}</label>
        <input name="name"
               type="text"
               ng-model="button.name"
               str-byte-verify="16"
               required/>
        <ng-messages for="button_form.name.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="strByteVerify">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Type')}}</label>
        <md-select name="type"
                   placeholder="{{_('Type')}}"
                   ng-model="button.type"
                   ng-change="change_button_type(button_form)"
                   required>
          <md-option ng-repeat="type in button_types"
                     ng-value="type.key">
            {{_(type.label)}}
          </md-option>
        </md-select>
        <ng-messages for="button_form.type.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend"
                          ng-if="button.type == 'click'">
        <label>{{_('Key')}}</label>
        <input name="key"
               type="text"
               ng-model="button.key"
               ng-required="button.type == 'click'" />
        <hint for="button_form.key">
          {{_('* Send a keyword to official account.')}}
        </hint>
        <ng-messages for="button_form.key.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block anim-show-hide"
                          ng-if="button.type == 'view'">
        <label>{{_('URL')}}</label>
        <input name="url"
               type="url"
               ng-model="button.url"
               ng-required="button.type == 'view'" />
        <ng-messages for="button_form.url.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Position')}}</label>
        <input name="pos"
               type="number"
               ng-model="button._index"
               required />
        <ng-messages for="button_form.pos.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
          <ng-message when="number">
            {{ _('Must be a number.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!button._new"
               ng-click="trash(button)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(button, button_form)">
      {{button._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.hubs.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('List Wi-Fi Hubs')}}">
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('List Wi-Fi Hubs')}}
    </h2>
    <div class="md-padding"
         ng-if="!wifi_hubs_loaded"
         layout-align="center center"
         layout="row">
      <md-progress-circular md-mode="indeterminate"
                            md-diameter="40">
      </md-progress-circular>
    </div>
    <md-list class="anim-enter"
             ng-if="wifi_hubs_loaded">
      <md-list-item class="text-nowrap-group"
                    ng-repeat="hub in wifi_hubs"
                    ng-click="select(hub)">
        <p class="text-center">
          {{hub.name}}
        </p>
      </md-list-item>
      <md-list-item class="text-nowrap-group"
                    ng-show="wifi_hubs.length <= 0">
        <p class="text-center md-text md-warn">
          {{_('Nothing Found.')}}
        </p>
      </md-list-item>
    </md-list>
    <hint>
      {{_('* This feature is completely useless.')}}
    </hint>
  </md-dialog-content>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.settings.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Wi-Fi Settings')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Wi-Fi Settings')}}
    </h2>
    <h3 class="md-body-1 text-center text-nowrap"
        wifi-shop-id="{{wifi.shop_id">
      {{wifi.name}}
    </h3>

    <!-- wifi form -->
    <form class="md-padding"
          name="wifi_form"
          ng-submit="save(wifi, wifi_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi Homepage URL')}}</label>
        <input name="home_url"
               type="url"
               ng-model="wifi.homepage_url"
               md-maxlength="240"/>
        <ng-messages for="wifi_form.home_url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi Landing page URL')}}</label>
        <input name="landing_url"
               type="url"
               ng-model="wifi.finishpage_url"
               md-maxlength="240"/>
        <ng-messages for="wifi_form.landing_url.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
          <ng-message when="url">
            {{ _('Must be a URL.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Welcome Message')}}</label>
        <md-select name="bartype"
                   placeholder="{{_('Welcome Message')}}"
                   ng-model="wifi.bar_type"
                   required>
          <md-option ng-repeat="type in bar_types"
                     ng-value="type.key">
            {{type.label}}
          </md-option>
        </md-select>
        <ng-messages for="wifi_form.bartype.$error">
          <ng-message when="required">
            {{ _('This field is mandatory.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Remove')}}"
               ng-click="remove(wifi)">
      <md-icon md-svg-icon="content:ic_remove_circle_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="save(wifi, wifi_form)">
      {{_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script><script type=text/ng-template id=wx.wifi.device.tmpl.html>
<md-dialog class="max-size-md"
           aria-label="{{_('Manage Wi-Fi Device')}}"
           flex>
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{device._new?_('New Wi-Fi Device'):_('Edit Wi-Fi Device')}}
    </h2>

    <!-- device form -->
    <form class="md-padding"
          name="device_form"
          ng-submit="submit(device, device_form)"
          novalidate>

      <md-input-container class="md-block">
        <label>{{_('Wi-Fi SSID')}}</label>
        <input name="ssid"
               type="text"
               ng-model="device.ssid"
               ng-pattern="regex_pattern.ascii"
               md-maxlength="24"/>
        <ng-messages for="device_form.ssid.$error">
          <ng-message when="md-maxlength">
            {{ _('This is too long.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <md-input-container class="md-block amend">
        <label>{{_('Wi-Fi Password')}}</label>
        <input name="pwd"
               type="text"
               ng-model="device.pwd"
               ng-pattern="/^WX[\~!@#$%^&*-_=+|,.?\/:;\'\d\w]{6,22}$/"/>
        <hint for="device_form.pwd">
          {{_('* Password must starts with `WX`.')}}
        </hint>
        <ng-messages for="device_form.pwd.$error">
          <ng-message when="pattern">
            {{ _('Invalid field format.') }}
          </ng-message>
        </ng-messages>
      </md-input-container>

      <div class="md-block field-container"
           ng-show="!device._new">
        <label>{{_('Wi-Fi QR Code')}}</label>
        <div class="md-margin s96">
          <a ng-href="{{device.qr_brand_url}}"
             target="_blank">
            <img class="img-bg-cover"
                 ng-src="{{image.trans}}"
                 style="{{device.qr_url|bg_img}}">
          </a>
        </div>
        <hint>
          {{_('* Connect the device once by QR Code to activated it.')}}
        </hint>
      </div>

      <button hide></button>
    </form>

  </md-dialog-content>
  <md-dialog-actions>
    <md-button class="md-icon-button"
               aria-label="{{_('Delete')}}"
               ng-show="!device._new"
               ng-click="trash(device)">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
    <span flex></span>
    <md-button class="md-primary"
               ng-click="close()">
      {{_('Cancel')}}
    </md-button>
    <md-button class="md-primary"
               ng-click="submit(device, device_form)">
      {{device._new?_('Create'):_('Save')}}
    </md-button>
  </md-dialog-actions>
</md-dialog>
</script></script><script type=text/ng-template id=components/contents/content_list.html><div layout=row layout-wrap><div class="wrap-card anim-enter" ng-repeat="file in files" flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=content ng-class="{'selected': file._selected}" flex><md-card-header ng-hold="sel.select(file, files)" delay=!sel.selection><md-card-avatar><md-icon class=md-avatar-icon ng-show=file.template ng-class="{'md-accent': file._selected,
                   'draft': !file.status && !file._selected,
                   'md-primary': file.is_reserved && !file._selected}" md-svg-icon="{{ file._selected
                   ? 'action:ic_done_24px'
                   : file.is_home ? 'action:ic_home_24px'
                   : file.is_reserved ? 'editor:ic_insert_drive_file_24px'
                   : 'action:ic_description_24px' }}"></md-icon><md-icon class="md-avatar-icon md-warn" ng-show=!file.template md-svg-icon="{{file._selected
                   ? 'action:ic_done_24px'
                   : 'alert:ic_warning_24px'}}"></md-icon></md-card-avatar><md-card-header-text class=text-nowrap-group><span class=md-title ng-class="{'text-strike': !file.status,
                           'text-italic': !file.meta.title}"> {{file.meta.title || file.slug }} </span><span class=md-subhead> {{file.updated | dateformat}} </span></md-card-header-text></md-card-header><img class=img-bg-cover ng-click="sel.selection?'':edit(file)" ng-hold="sel.select(file, files)" delay=!sel.selection ng-src={{image.trans_16x10}} style="{{(file.meta.featured_img.src||image.default)
                    |thumbnail|bg_img}}"><md-card-actions layout=row layout-align="end center"><md-menu><md-button class=md-icon-button aria-label="{{_('Move')}}" ng-disabled=sel.selection ng-click=$mdMenu.open($event)><md-icon md-svg-icon=nav:ic_more_vert_24px></md-icon></md-button><md-menu-content class=max-size-sm><md-menu-item><md-button class=md-primary ng-href={{file.url}} target=_blank> {{_('Preview')}} </md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item><md-button ng-click=toggle_status(file)> {{file.status ? _('Unpublish') : _('Publish')}} </md-button></md-menu-item><md-menu-item ng-if="options.moveable && !file.locked"><md-button ng-click="move(file, files)"> {{_('Move')}} </md-button></md-menu-item><md-menu-item ng-if=!file.locked><md-button ng-click="trash(file, files)"> {{_('Delete')}} </md-button></md-menu-item></md-menu-content></md-menu><span flex></span><md-button class="md-icon-button md-primary" aria-label="{{_('Edit')}}" ng-disabled=sel.selection ng-click=edit(file)><md-icon md-svg-icon=image:ic_edit_24px></md-icon></md-button></md-card-actions></md-card></div><div class="wrap-card anim-show" ng-show=has_more flex-gt-lg=15 flex-lg=25 flex-md=33 flex-sm=50 flex=100 layout=column><md-card class=content aria-label="{{_('More')}}" ng-click="get_more(files, status.value)" flex><div class=float-case><div class=float-case-bg><img class=img-bg-cover ng-src={{image.trans_16x10}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-accent" md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div><script type=text/ng-template id=component.contents.move.tmpl.html>
<md-dialog class="max-size-sm"
           aria-label="{{_('Move Content')}}">
  <md-dialog-content class="md-dialog-content"
                     flex>
    <h2 class="md-headline text-center">
      {{_('Move To')}}
    </h2>
    <!-- content types -->
    <md-list class="anim-enter">
      <md-list-item class="text-nowrap-group"
                    ng-repeat="ctype in content_types"
                    ng-click="select(ctype)">
        <p class="text-center">
          {{_(ctype.title) || ctype.slug}}
        </p>
      </md-list-item>
    </md-list>
  </md-dialog-content>
</md-dialog>
</script></script><script type=text/ng-template id=modals/attrs/attrs.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Attributes')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Attributes')}} </h2><form class=md-padding name=attrs_form ng-submit="save(data, attrs_form)" novalidate><div ng-repeat="struct in options.structure"><md-input-container class=md-block ng-if="!struct.select && !struct.switch"><label>{{struct.label || struct.key}}</label><input name={{struct.key}} type=text ng-model=data[struct.key] ng-pattern=struct.regex md-maxlength=struct.length ng-required=struct.required><ng-messages for=attrs_form[struct.key].$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with pattern.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-if=struct.select><label>{{struct.label || struct.key}}</label><md-select name={{struct.key}} ng-model=data[struct.key] ng-required=struct.required><md-option ng-value=op ng-repeat="op in struct.select track by $index"> {{op}} </md-option></md-select><ng-messages for=attrs_form[struct.key].$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class=switch-container ng-if=struct.switch><md-switch class=md-accent ng-class="{'draft': !data[struct.key]}" ng-model=data[struct.key]> {{struct.label || struct.key}} </md-switch></div></div><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Restore')}}" ng-click=restore()><md-icon md-svg-icon=action:ic_restore_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-disabled=attrs_form.$invalid ng-click="save(data, attrs_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/bg/bg.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Background')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Background')}} </h2><form class=md-padding name=modal_bg_form ng-submit="save(media_bg, modal_bg_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(media_bg, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(media_bg.src||image.default)|bg_img}}></md-card></md-input-container><md-input-container class="md-block amend"><label>{{_('Preset Style')}}</label><md-select name=preset ng-model=media_bg.preset ng-disabled=submitted required><md-option ng-value="''"> {{_('Default')}} </md-option><md-option ng-value=preset.key ng-repeat="preset in presets"> {{preset.label}} </md-option></md-select><ng-messages for=modal_bg_form.preset.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><div class="field-container amend"><label>{{_('Background Color')}}</label><input class=color-picker-input name=color type=color ng-model=media_bg.color maxlength=120 hide><div layout=row><div class="md-padding md-margin color-picker" ng-class="{'empty': !media_bg.color}" ng-style="{'background-color': media_bg.color}" ng-click="set_color('.color-picker-input', $event)" flex></div><md-icon ng-class="{'md-accent': media_bg.color}" md-svg-icon=editor:ic_format_color_reset_24px ng-disabled=!media_bg.color ng-click=remove_color(media_bg)></md-icon></div></div><md-input-container class=md-block ng-show=property.expert><label>{{_('Custom CSS Class')}}</label><input name=class type=text ng-model=media_bg.custom.class maxlength=120></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('Custom Inline Styles')}}</label><input name=style type=text ng-model=media_bg.custom.style maxlength=600></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(media_bg, modal_bg_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/carousel/carousel.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Carousel')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{clip_mode?_('Edit Carousel Clip'):_('Carousel')}} </h2><div ng-show=!clip_mode><md-list class=md-padding><md-subheader class=md-no-sticky> {{_('%s/%s clips.', carousel.length, options.limit)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="clip in carousel" ng-click="edit_clip(clip, carousel, $index)"><img class="md-avatar img-bg-cover" ng-if="clip.type == 'image'" ng-src={{image.trans}} style={{clip.src|thumbnail|bg_img}}><md-icon class=md-avatar-icon ng-if="clip.type != 'image'" md-svg-icon={{media_icons[clip.type]}}></md-icon><div class=md-list-item-text><p>{{ clip.title || '#'+$index }}</p></div><div class=md-secondary><md-icon class=md-primary md-svg-icon=image:ic_edit_24px></md-icon></div></md-list-item><md-list-item ng-show="carousel.length < options.limit" aria-label="{{_('Add Clip')}}" ng-click=add_clip(carousel)><div class=list-func-wrapper><md-icon class=md-primary md-svg-icon=content:ic_add_circle_24px></md-icon></div></md-list-item></md-list></div><div ng-show=clip_mode><form class=indent-padding name=modal_carousel_form.clip ng-submit="save_clip(curr_clip, carousel, modal_carousel_form.clip)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="switch_media(curr_clip, $event)" ng-show=!curr_clip.error><img class=img-bg-cover ng-if="curr_clip.type == 'image' || !curr_clip.type" ng-src={{image.trans_16x10}} style={{(curr_clip.src||image.default)|bg_img}}><video ng-src={{curr_clip.src}} ng-if="curr_clip.type == 'video'" controls=true></video><audio ng-src={{curr_clip.src}} ng-if="curr_clip.type == 'audio'" controls=true></audio><div class="md-padding text-center" ng-if="curr_clip.type == 'application'"><md-icon class=s48 md-svg-icon={{media_icons[curr_clip.type]}}></md-icon><md-tooltip md-direction=top> {{_(curr_clip.src)}} </md-tooltip></div></md-card><md-card ng-click="switch_media(curr_clip, $event)" ng-show=curr_clip.error><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{image.error|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=curr_clip.title md-maxlength=60 required><ng-messages for=modal_carousel_form.clip.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Caption')}}</label><textarea name=caption type=text ng-model=curr_clip.caption md-maxlength=360></textarea><ng-messages for=modal_carousel_form.clip.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=curr_clip.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=360><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_carousel_form.clip.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages for=modal_carousel_form.clip.link.$error><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=curr_clip.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(item)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('Misc')}}</label><textarea name=misc ng-model=curr_clip.misc maxlength=600></textarea></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=curr_clip.class maxlength=120></md-input-container><md-input-container class=md-block><label>{{_('Position')}}</label><input name=pos type=number ng-model=curr_clip._index required><ng-messages for=modal_carousel_form.clip.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=number> {{ _('Must be a number.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></div></md-dialog-content><md-dialog-actions class=anim-enter ng-if=clip_mode><md-button class=md-icon-button aria-label="{{_('Delete')}}" ng-show=!curr_clip._new ng-click="remove_clip(carousel, curr_clip._index)"><md-icon md-svg-icon=content:ic_backspace_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=back_to_list()> {{_('Back to list')}} </md-button><md-button class=md-primary ng-click="save_clip(curr_clip, carousel,
                                   modal_carousel_form.clip)"> {{_('Save Clip')}} </md-button></md-dialog-actions><md-dialog-actions class=anim-enter ng-if=!clip_mode><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(carousel)> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/create.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Create New Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_(options.title || 'Create New Content')}} </h2><form class=md-padding name=file_form ng-submit="submit(file, file_form)" novalidate><md-input-container class="md-block static"><label>{{_('Template')}}</label><md-menu><md-card class=max-size-xs ng-click=$mdMenu.open($event)><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{curr_tmpl.src|bg_img}}><md-tooltip md-direction=top>{{curr_tmpl.key}}</md-tooltip></md-card><md-menu-content class=menu-thumb-content width=3><md-menu-item class=subject> {{_('Templates')}} </md-menu-item><md-menu-item class=menu-thumb-item ng-class="{'week': tmpl.segment}" ng-repeat="tmpl in templates"><img class="menu-thumb-img img-bg-cover md-box" ng-click="switch_template(tmpl, file)" ng-src={{image.trans_16x10}} style={{tmpl.src|bg_img}}><p class=md-text> {{tmpl.key}} </p></md-menu-item></md-menu-content></md-menu></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=file.meta.title md-maxlength=60 required><ng-messages for=file_form.title.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show=property.expert><label>{{_('URL Slug')|wrap}}</label><input name=slug type=text maxlength=120 ng-model=file.slug><hint>{{_('* URL Slug is for friendly URLs.')}}</hint></md-input-container><md-input-container class=md-block><label>{{_('Description')}}</label><textarea name=des ng-model=file.meta.description md-maxlength=360></textarea><ng-messages for=file_form.des.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close() ng-disabled=submitted> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="submit(file, file_form)" ng-disabled=submitted> {{_('Create')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/content/sync.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Sync')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center text-nowrap"><span ng-if=!options.title> {{_('Sync')}}{{_(': ')}}{{app.meta.title || app.slug}} </span><span ng-if=options.title> {{_(options.title)}} </span></h2><div layout=row layout-align="space-between center" ng-show=!options.content_type><div class=list-filter><md-select name=term md-container-class=max-size-sm placeholder="{{_('Select content type')}}" ng-model=sel_type ng-change="change_type(files, sel_type)"><md-optgroup label="{{_('Content Types')}}"><md-option ng-value=type.slug ng-repeat="type in content_types"> {{_(type.title || type.slug)}} </md-option></md-optgroup></md-select></div></div><md-list><md-subheader class=md-no-sticky> {{_('%s files in list.', files.length)}} </md-subheader><md-list-item class=text-nowrap-group ng-repeat="file in files" ng-click=sync(file)><p>{{ file.meta.title || file.slug }}</p></md-list-item><md-list-item class=anim-show aria-label="{{_('More')}}" ng-show=has_more ng-click="get_more(files, sel_type)"><div class=list-func-wrapper><md-icon md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></md-list-item></md-list></md-dialog-content><md-dialog-actions class=centered layout=row layout-align="center center"><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/destroy/destroy.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Destruction')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_(options.title || 'Destruction')}} </h2><p class=md-padding><span class=md-body-2>{{_('Confirm code is')}}</span><span class="md-body  md-text md-warn text-break select-text"> {{options.key}} </span></p><form class=md-padding name=destroy_form ng-submit="destroy(key, destroy_form)" novalidate><md-input-container class=md-block><label>{{_('Confirm code')}}</label><input name=key type=text ng-model=key ng-pattern=match_regex><hint for=destroy_form.key> {{_('* Type the check code exactly to confirm.')}} </hint><ng-messages for=destroy_form.key.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with confirm code.') }} </ng-message></ng-messages></md-input-container></form></md-dialog-content><md-dialog-actions class=centered><md-button ng-click=close()> {{_('Abort')}} </md-button><md-button class=md-warn ng-disabled="destroy_form.$invalid || !key" ng-click="destroy(key, destroy_form)"> {{_('Destory it!')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/formsheet/formsheet.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Form Settings')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Form Settings')}} </h2><form class=md-padding name=modal_formsheet_form ng-submit="save(form_data, modal_formsheet_form)" novalidate><md-input-container class="md-block amend"><label>{{_('Type')}}</label><md-select name=type ng-model=form_data.type required><md-option value=event ng-disabled="events.length <= 0"> {{_('Event')}} </md-option><md-option value=mailto> {{_('E-Mail')}} </md-option><md-option value=custom ng-if="property.capability > 2"> {{_('Custom')}} </md-option></md-select><ng-messages for=modal_formsheet_form.type.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-if="form_data.type == 'event'"><label>{{_('Target Event')}}</label><md-select name=event ng-model=form_data.event ng-required="form_data.type == 'event'"><md-option ng-value=event.slug ng-repeat="event in events"> {{event.meta.title || event.slug}} </md-option></md-select><ng-messages for=modal_formsheet_form.event.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-if="form_data.type == 'mailto'"><label>{{_('E-Mail Address')}}</label><input name=mailto type=email ng-model=form_data.mailto md-maxlength=120 ng-required="form_data.type == 'mailto'"><ng-messages for=modal_formsheet_form.mailto.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=email> {{ _('Must be an E-Mail address.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show="form_data.type == 'custom'"><label>{{_('Form Code')}}</label><textarea name=source ng-model=form_data.code rows=12 md-maxlength=1200></textarea><ng-messages for=modal_formsheet_form.source.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container></form><div class=anim-enter ng-if="form_data.type && form_data.type != 'custom'"><div class="md-padding anim-enter-leave" ng-repeat="field in form_data.fields" ng-class="{'md-whiteframe-1dp': field._selected}" ng-click="edit_field(field, form_data)" layout=row layout-align="center top"><div flex=10><md-icon md-svg-icon={{field_icons[field.type]}} ng-class="{'md-accent': field._selected}"></md-icon></div><div ng-if="field.mode != 'static'" flex><md-input-container class="md-accent md-block" ng-show="field.type != 'hidden'"><label>{{_('Label')}}</label><input name=label type=text ng-model=field.label md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-show="field.type == 'hidden'"><label>{{_('Value')}}</label><input name=label type=text ng-model=field.value md-maxlength=240></md-input-container><div ng-show=field._selected><div ng-if="field.type == 'radio'
               || field.type == 'checkbox'
               || field.type == 'select'"><md-input-container class="tight md-accent md-block" ng-repeat="opt in field.options" md-no-float><md-icon md-svg-icon="{{field.type == 'radio'
                   ? 'toggle:ic_radio_button_unchecked_24px'
                   : field.type == 'checkbox'
                   ? 'toggle:ic_check_box_outline_blank_24px'
                   : 'action:ic_label_outline_24px'}}"></md-icon><input name=label type=text ng-model=opt.value placeholder="{{_('Option')}}" maxlength=60><md-icon ng-click="remove_field_option(field.options, $index)" md-svg-icon=content:ic_clear_24px></md-icon></md-input-container><md-button class="md-accent anim-show-hide" ng-show="field.options.length < options.opt_limit" ng-click=add_field_option(field.options)> {{_('Add Option')}} </md-button></div><div ng-if="field.type != 'hidden'"><md-switch class=md-accent ng-class="{'draft': !field.required}" ng-model=field.required ng-disabled=field.force_required> {{_('Required')}} </md-switch></div><div class=space-md></div><md-input-container class="md-accent md-block"><label>{{_('Keyname')}}</label><input name=key type=text ng-model=field.key ng-disabled="field.mode == 'event'" maxlength=60></md-input-container><md-input-container class="md-accent md-block" ng-show=field._hint><label>{{_('Hint')}}</label><input name=hint type=text ng-model=field.hint maxlength=240></md-input-container><md-input-container class="md-accent md-block" ng-show=field._placeholder><label>{{_('Placeholder')}}</label><input name=placeholder type=text ng-model=field.placeholder maxlength=120></md-input-container></div></div><div ng-if="field.mode == 'static'" flex><div ng-if="field.type == 'title'"><md-input-container class="md-accent md-block"><label>{{_('Title')}}</label><input name=title type=text ng-model=field.title md-maxlength=120></md-input-container></div><div ng-if="field.type == 'paragraph'"><md-input-container class="md-accent md-block"><label>{{_('Title')}}</label><input name=title type=text ng-model=field.title md-maxlength=120></md-input-container><md-input-container class="md-accent md-block" ng-if=field._selected><label>{{_('Content')}}</label><textarea name=content ng-model=field.content md-maxlength=600></textarea></md-input-container></div><div ng-if="field.type == 'media'"><img ng-class="{'img-bg-cover': !field.src,
                      'img-bg-contain': field.src }" ng-src={{image.trans_20x10}} ng-click="switch_field_media(field, $event)" style={{((field.src|thumbnail)||image.default)|bg_img}}></div><div ng-if="field.type == 'divider'" ng-class="{'text-right': !field._selected,
                    'text-center': field._selected}"><span class="md-caption draft">&lt; {{_('Divider')}} &gt;</span></div></div><md-menu class="text-right anim-show-hide" ng-show=field._selected flex=10><md-icon md-svg-icon=nav:ic_more_vert_24px ng-class="{'md-accent': field._selected}" ng-click=$mdMenu.open($event)></md-icon><md-menu-content width=3><md-menu-item class=subject> {{_('Shuffle Order')}} </md-menu-item><md-menu-item><md-button class="md-icon-button md-accent" aria-label="{{_('Move Up')}}" ng-click="move_up(form_data.fields, $index)" ng-disabled=$first><md-icon md-svg-icon=nav:ic_arrow_drop_up_24px></md-icon></md-button><md-button class="md-icon-button md-accent" aria-label="{{_('Move Down')}}" ng-click="move_down(form_data.fields, $index)" ng-disabled=$last><md-icon md-svg-icon=nav:ic_arrow_drop_down_24px></md-icon></md-button></md-menu-item><md-menu-divider></md-menu-divider><md-menu-item class=subject ng-if="field.mode != 'static'"> {{_('Toggle Display')}} </md-menu-item><md-menu-item ng-if="show_opt('placeholder', field)"><md-button ng-class="{'draft': field._placeholder}" ng-click="toggle_field(field, '_placeholder')"> {{_('Placeholder')}} </md-button></md-menu-item><md-menu-item ng-if="show_opt('hint', field)"><md-button ng-class="{'draft': field._hint}" ng-click="toggle_field(field, '_hint')"> {{_('Hint')}} </md-button></md-menu-item><md-menu-divider ng-if="field.mode != 'static'"></md-menu-divider><md-menu-item><md-button class="md-primary md-accent" ng-click="remove_field(form_data, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></div><div class=space-md></div><div class=text-center ng-show="form_data.fields.length < options.limit"><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Event Field')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_event_24px></md-icon><md-tooltip md-direction=top> {{_('Event')}} </md-tooltip></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'event'"><md-button ng-click="add_event_field(struct, form_data)" ng-disabled="form_data.event_keys.indexOf(struct.key) >= 0"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.title)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Form Field')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=content:ic_add_box_24px></md-icon><md-tooltip md-direction=top> {{_('Common')}} </md-tooltip></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'common'"><md-button ng-click="add_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.title)}}</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu><md-button class="md-icon-button md-primary" aria-label="{{_('Add Content')}}" ng-click=$mdMenu.open($event)><md-icon md-svg-icon=notify:ic_more_24px></md-icon><md-tooltip md-direction=top> {{_('More')}} </md-tooltip></md-button><md-menu-content width=3><md-menu-item ng-repeat="struct in field_structs" ng-if="struct.mode == 'static'"><md-button ng-click="add_static_field(struct, form_data)"><md-icon md-svg-icon={{struct.ico}}></md-icon><span>{{_(struct.title)}}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div></md-dialog-content><md-dialog-actions class=anim-enter><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=action:ic_delete_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(form_data, modal_formsheet_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/hardcore/hardcore.tmpl.html><md-dialog class=max-size-md aria-label="{{_(options.title || 'Hardcore Mode')}}" flex><md-toolbar><div class=md-toolbar-tools><span class="max-size-sm text-nowrap"> {{_(options.title || 'Hardcore Mode')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout-margin><form name=hardcore_form ng-submit="save(hardcore, hardcore_form)" novalidate flex><md-input-container class="md-block amend"><label>{{_(options.label) || _('Code')}}</label><textarea name=hardcore ng-model=hardcore parse-json-verify={{options.verify}} maxlength="{{options.maxlength || 12000}}" rows=6></textarea><hint for=hardcore_form.hardcore> {{_(options.hint) || _('* Define a JSON object string.')}} </hint><ng-messages for=hardcore_form.hardcore.$error><ng-message when=JSONStringVerify> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></div></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class=md-primary ng-disabled=enter_form.$invalid ng-click="save(hardcore, hardcore_form)"> {{_(options.ok) || _('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/identity/identity.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Identity Verification')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Identity Verification')}} </h2><form class=md-padding name=identity_form ng-submit="submit(pwd, identity_form)" novalidate><md-input-container class=md-block><label>{{_('Password')}}</label><input name=passwd type=password ng-model=pwd.passwd ng-pattern=regex_pattern.passwd required><hint for=identity_form.key> {{_('* Type your login password to verify.')}} </hint><ng-messages for=identity_form.key.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Invalid field format.') }} </ng-message></ng-messages></md-input-container></form></md-dialog-content><md-dialog-actions class=centered><md-button class=md-primary ng-click=close()> {{_('Abort')}} </md-button><md-button class=md-primary ng-disabled=identity_form.$invalid ng-click="submit(pwd, identity_form)"> {{_('Verify')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/lines/lines.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Lines')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Lines')}} </h2><md-list><md-subheader class=md-no-sticky> {{_('%s/%s lines.', lines.length, options.limit)}} </md-subheader><md-list-item class="anim-show text-nowrap-group" ng-repeat="item in lines"><div class=md-list-item-text><p>{{ item.text || '#'+$index }}</p></div><md-menu class=md-secondary><md-icon class=md-primary md-svg-icon=action:ic_swap_vert_24px ng-click=$mdMenu.open($event)></md-icon><md-menu-content class=max-size-sm width=3><md-menu-item><md-button ng-click="move_up(lines, $index)"> {{_('Move Up')}} </md-button></md-menu-item><md-menu-item><md-button ng-click="move_down(lines, $index)"> {{_('Move Down')}} </md-button></md-menu-item><md-menu-item><md-button class=md-primary ng-click="remove_line(lines, $index)"> {{_('Remove')}} </md-button></md-menu-item></md-menu-content></md-menu></md-list-item></md-list><form class=md-padding name=modal_lines_form ng-submit="add_line(new_item, lines, modal_lines_form)" ng-show="lines.length < options.limit" novalidate><md-input-container class=md-block><label>{{_('Text')}}</label><input name=text type=text ng-model=new_item.text md-maxlength=360><md-icon md-svg-icon=content:ic_add_circle_outline_24px ng-click="add_line(new_item, lines, modal_lines_form)" ng-disabled=!new_item.text></md-icon><ng-messages for=modal_lines_form.text.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button ng-disabled=!new_item.text hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click=save(lines)> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/link/link.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Link')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Link')}} </h2><form class=md-padding name=modal_link_form ng-submit="save(link, modal_link_form)" novalidate><md-input-container class=md-block ng-if=!options.lite><label>{{_('Name')}}</label><input name=name type=text ng-model=link.name md-maxlength=60 required=!options.lite><ng-messages for=modal_link_form.name.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-autocomplete md-input-name=link md-floating-label="{{_('Link')}}" md-search-text=link.link md-items="url in urls" md-item-text=url.path md-menu-class=autocomplete-multi-lines md-no-cache=true md-input-maxlength=360 required><md-item-template><p>{{url.name}}</p><span>&nbsp;- {{url.path}}</span></md-item-template><hint for=modal_link_form.link> {{_('* Link to a URL or path. use `#` for empty link.')}} </hint><ng-messages for=modal_link_form.link.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-autocomplete><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=link.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(link)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class="md-block static" ng-if=options.figure><label>{{_('Media')}}</label><md-card class=max-size-xs ng-click="switch_figure(link, $event)"><img ng-class="{'img-bg-contain': link.figure,
                          'img-bg-lg': !link.figure}" ng-src={{image.trans_16x10}} style={{(link.figure||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=link.class maxlength=120></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove()><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(link, modal_link_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/media/media.tmpl.html><md-dialog class=dialog-overflow ng-class="{'md-content-overflow': mediafiles.length > 2}" aria-label="{{_('Media Repository')}}"><md-toolbar><div class=md-toolbar-tools><span> {{_('Media Repository')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Attributes')}}" ng-disabled=!selected_media.src ng-click=toggle_attrs()><md-icon md-svg-icon=action:ic_chrome_reader_mode_24px></md-icon></md-button><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content flex><div layout=row layout-xs=none flex-offset-gt-md=5 layout-wrap><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=!options.is_new><md-card class=md-whiteframe-7dp ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type == 'image'"><div class=media-wrapper><img class=img-bg-cover ng-src={{image.trans}} style={{source_media.src|thumbnail|now|bg_img}}></div></md-card><md-card class=md-whiteframe-7dp ng-click="reselect(source_media, selected_media, mediafiles)" ng-if="source_media.type != 'image'"><div class=float-case><div class=float-case-bg><img class=img-bg-cover ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[source_media.type]}}></md-icon><md-tooltip md-direction=top> {{source_media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><input class="ng-hide media-modal-upload" type=file ngf-select=onFileSelect($files) ngf-multiple=true ngf-accept={{options.mimetypes}}><md-card ng-click="select_file('.media-modal-upload', $event)" ng-disabled="upload_status == 1"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s48 md-primary" ng-show="upload_status == 0" md-svg-icon=file:ic_cloud_upload_24px></md-icon><md-icon class="s48 md-warn" ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=60></md-progress-circular></div></div></div></md-card></div><div class="wrap-card anim-show-hide" flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column ng-if=media.id ng-repeat="media in mediafiles"><md-card class=md-box ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{media.src|thumbnail|now:media.updated|bg_img}}></div></md-card><md-card class=md-box ng-click="select(media, selected_media, mediafiles)" ng-class="{'selected md-primary': media._selected}" ng-if="media.type != 'image'"><div class=float-case><div class="md-padding float-case-bg"><img class=img-bg-contain ng-src={{image.trans}}></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div></div></md-card></div><div class="wrap-card anim-show-hide" ng-show=has_more flex-gt-md=15 flex-md=25 flex-sm=33 flex-xs=50 layout=column><md-card aria-label="{{_('More')}}" ng-click=get_more(mediafiles)><div class=float-case><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=s48 md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></md-card></div></div></md-dialog-content><md-sidenav class="md-sidenav-right md-whiteframe-6dp" md-component-id=media_property layout=column><md-toolbar><div class=md-toolbar-tools layout=row layout-align="space-between center"><md-button class=md-icon-button aria-label="{{_('Backward')}}" ng-click=toggle_attrs()><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><span flex></span><md-button ng-show=!options.is_new ng-click=remove()> {{_('Remove')}} </md-button><md-button ng-click="save(selected_media, modal_media_form)"> {{_('Save')}} </md-button></div></md-toolbar><md-content flex><form class=md-padding name=modal_media_form novalidate><div class="centered-block max-size-sm"><div ng-if="selected_media.type == 'image'"><div class="md-padding media-wrapper"><img class=img-bg-contain ng-src={{image.trans}} style={{selected_media.src|thumbnail|now|bg_img}}></div></div><div ng-if="selected_media.type == 'video'"><div class="md-padding media-wrapper"><video ng-src={{selected_media.src}} controls=true></video></div></div><div ng-if="selected_media.type == 'audio'"><div class="md-padding media-wrapper"><audio ng-src={{selected_media.src}} controls=true></audio></div></div><div ng-if="selected_media.type == 'application'"><div class="md-padding media-wrapper"><md-icon class=s48 md-svg-icon={{media_icons[selected_media.type]}}></md-icon></div></div></div><div ng-show=!options.lite><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=selected_media.title md-maxlength=60><ng-messages for=modal_media_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Link')}}</label><input name=link type=text ng-model=selected_media.link maxlength=360><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!selected_media.src ng-click=link_media(selected_media)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=selected_media.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(selected_media)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=link.class maxlength=120></md-input-container><md-input-container class="md-block static" ng-show="selected_media.type == 'video'"><label>{{_('Media')}}</label><md-card class=max-size-xs ng-click="switch_poster(selected_media, $event)"><img ng-src={{image.trans_16x10}} ng-class="{'img-bg-cover': selected_media.poster,
                              'img-bg-lg': !selected_media.poster}" style={{(selected_media.poster||image.default)|bg_img}}></md-card></md-input-container><div ng-show="selected_media.type == 'video' ||
                        selected_media.type == 'audio'"><md-switch ng-class="{'draft': !selected_media.autoplay}" ng-model=selected_media.autoplay class=md-accent> {{_('Autoplay')}} </md-switch><md-switch ng-class="{'draft': !selected_media.loop}" ng-model=selected_media.loop class=md-accent> {{_('Loop')}} </md-switch><md-switch ng-class="{'draft': !selected_media.controls}" ng-model=selected_media.controls class=md-accent> {{_('Display Controls')}} </md-switch></div></div></form></md-content></md-sidenav></md-dialog></script><script type=text/ng-template id=modals/preset/preset.tmpl.html><md-dialog class=max-size-lg aria-label="{{_('Content Presets')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Content Presets')}} </h2><div layout=row layout-wrap><div class=wrap-card flex-gt-sm=25 flex-sm=33 flex=100 layout=column><md-card ng-click=select(default_preset)><div class=float-case><img class="img-bg-contain float-case-bg" ng-src={{image.trans}}><div class=float-case-inner layout=column layout-align="center center"><md-icon class="s60 draft" md-svg-icon=image:ic_crop_free_24px></md-icon></div></div></md-card></div><div class=wrap-card flex-gt-sm=25 flex-sm=33 flex=100 ng-repeat="preset in presets"><md-card ng-click=select(preset)><img class="md-card-image img-bg-contain" ng-src={{image.trans}} style={{preset.preview|bg_img}}></md-card></div></div></md-dialog-content><md-dialog-actions class=centered layout=row layout-align="center center"><md-button class=md-primary ng-click=close()> {{_('Dismiss')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/print/print.tmpl.html><md-dialog aria-label="{{_('Print')}}"><md-toolbar class="bg-trans md-hue-3"><div class=md-toolbar-tools><span> {{_('Print')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content class=md-dialog-content layout=row flex><div layout=column flex><textarea class=max-textarea flex>{{article}}</textarea><div><p class=hint> {{_('* The print only output pure text.')}} </p></div></div></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=finish()> {{_('Done')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/prompt/prompt.tmpl.html><md-dialog class=max-size-md aria-label="{{options.title || _('Prompt')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_(options.title) || _('Prompt')}} </h2><form class=md-padding name=prompt_form ng-submit="enter(text, prompt_form)" novalidate><div class=notice ng-if=options.text><p class=md-body-1> {{_(options.text)}} </p></div><md-input-container class=md-block><label>{{_(options.label) || _('Text')}}</label><input name=text type=text ng-model=text ng-pattern=options.regex md-maxlength=options.length ng-required=options.required><hint for=prompt_form.text ng-if=options.hint> {{options.hint}} </hint><ng-messages for=prompt_form.text.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=pattern> {{ _('Not match with pattern.') }} </ng-message><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_(options.cancel) || _('Cancel')}} </md-button><md-button class="{{options.style || 'md-primary'}}" ng-disabled=prompt_form.$invalid ng-click="enter(text, prompt_form)"> {{_(options.ok) || _('Enter')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/series/series.tmpl.html><md-dialog class=max-size-md aria-label="{{_('Series Content')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Series Content')}} </h2><form class=md-padding name=modal_series_form ng-submit="save(item, modal_series_form)" novalidate><md-input-container class="md-block static"><label>{{_('Media')}}</label><md-card ng-click="select_media(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} ng-if="item.type == 'image'|| !item.type" style={{(item.src||image.default)|bg_img}}><video ng-if="item.type == 'video'" ng-src={{item.src}} controls=true></video><audio ng-if="item.type == 'audio'" ng-src={{item.src}} controls=true></audio><div class="md-padding text-center" ng-if="item.type == 'application'"><md-icon class=s48 md-svg-icon={{media_icons[item.type]}}></md-icon><md-tooltip md-direction=top> {{_(item.src)}} </md-tooltip></div></md-card></md-input-container><md-input-container class="md-block static" ng-if="item.type == 'video'"><label>{{_('Poster')}}</label><md-card class=max-size-sm ng-click="select_poster(item, $event)"><img class=img-bg-cover ng-src={{image.trans_16x10}} style={{(item.poster||image.default)|bg_img}}></md-card></md-input-container><md-input-container class=md-block><label>{{_('Title')}}</label><input name=title type=text ng-model=item.title md-maxlength=60><ng-messages for=modal_series_form.title.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block><label>{{_('Caption')}}</label><textarea name=caption ng-model=item.caption md-maxlength=360></textarea><ng-messages for=modal_series_form.caption.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Link')}}</label><input name=link type=text ng-model=item.link maxlength=360><md-icon md-svg-icon=image:ic_photo_24px ng-disabled=!item.src ng-click=link_media(item)></md-icon><hint>{{_('* Link to a URL.')}}</hint></md-input-container><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Target Window')}}</label><input name=target type=text ng-model=item.target><md-icon md-svg-icon=action:ic_open_in_new_24px ng-click=target_blank(item)></md-icon><hint>{{_('* Type `_blank` for open in new window.')}}</hint></md-input-container><div class="field-container amend" ng-show="property.capability > 2"><label>{{_('Tags')}}</label><md-chips name=tags ng-model=item.tags placeholder="{{_('Enter a tag')}}" secondary-placeholder="{{item.tags.length+'/12'}}" md-enable-chip-edit=true md-max-chips=12></md-chips></div><md-input-container class="md-block amend" ng-show="property.capability > 2"><label>{{_('Misc')}}</label><textarea name=misc ng-model=item.misc md-maxlength=600></textarea><hint for=modal_series_form.misc> {{_('* Use to input additional complex contents.')}} </hint><ng-messages for=modal_series_form.misc.$error><ng-message when=md-maxlength> {{ _('This is too long.') }} </ng-message></ng-messages></md-input-container><md-input-container class=md-block ng-show=property.expert><label>{{_('CSS Class')}}</label><input name=class type=text ng-model=item.class maxlength=120></md-input-container><md-input-container class=md-block><label>{{_('Position')}}</label><input name=pos type=number ng-model=item._index ng-required=!options.is_new><ng-messages for=modal_series_form.pos.$error><ng-message when=required> {{ _('This field is mandatory.') }} </ng-message><ng-message when=number> {{ _('Must be a number.') }} </ng-message></ng-messages></md-input-container><button hide></button></form></md-dialog-content><md-dialog-actions><md-button class=md-icon-button aria-label="{{_('Remove')}}" ng-show=!options.is_new ng-click=remove(item)><md-icon md-svg-icon=content:ic_remove_circle_24px></md-icon></md-button><span flex></span><md-button class=md-primary ng-click=close()> {{_('Cancel')}} </md-button><md-button class=md-primary ng-click="save(item, modal_series_form)"> {{_('Save')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=modals/timer/timer.tmpl.html><md-dialog class=max-size-sm aria-label="{{_('Timer')}}" flex><md-dialog-content class=md-dialog-content flex><h2 class="md-title text-center"> {{_('Timer')}} </h2><div class=text-center ng-if="timer > 0"><md-icon md-svg-icon=action:ic_alarm_24px class="s96 md-accent"></md-icon><div class="md-display-2 text-nowrap"> {{timer}} </div><p class=hint ng-bind-html=_(message.waiting)></p></div><div class=text-center ng-if="timer <= 0"><md-icon md-svg-icon=action:ic_alarm_on_24px class="s96 md-accent"></md-icon><p class=hint ng-bind-html=_(message.done)></p></div></md-dialog-content><md-dialog-actions class=centered layout-align="center center"><md-button ng-click=close() ng-if="timer > 0"> {{_('Ok, I will be back!')}} </md-button><md-button ng-click=continue(timer) ng-if="timer <= 0"> {{_('Continue')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=navs/views/mainnav.tmpl.html><md-sidenav class="primary-nav md-sidenav-left md-whiteframe-6dp" md-component-id=main_nav layout=column><md-content flex><md-toolbar ng-class="{'invisible': !profile}"><div layout-margin><div class=profile><div class="level md-box md-primary"> {{property.capability}} </div><img class="img-bg-cover md-avatar md-box md-primary" ng-src={{image.trans}} ng-click="go('user/profile')" style="{{(profile.meta.avatar||image.avatar)
                         |thumbnail|bg_img}}"><span> {{profile.meta.display_name || profile.slug}} </span></div></div></md-toolbar><ul class=navbar><li ng-if=navs.app><div><md-button class=md-primary ng-click=go()><div layout=row layout-align="start start"><md-icon md-svg-icon={{app_icons[navs.app.type]}}></md-icon><span flex>{{navs.app.label}}</span><md-icon md-svg-icon=hardware:ic_keyboard_return_24px></md-icon></div></md-button></div></li><li ng-repeat="nav in navs.data" ng-if=!nav._empty><div ng-if=!nav.key><div class="nav-label md-text {{nav.class}}"><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span></div></div></div><div ng-if="nav.key && !nav.nodes
                    && (!nav.expert || property.expert)"><md-button class={{nav.class}} ng-click=go(nav.path) ng-disabled=nav._current><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span></div></md-button></div><div ng-if="nav.key && nav.nodes"><md-button class="menu-btn-toggle {{nav.class}}" ng-disabled=nav._current ng-click=toggle(nav)><div layout=row layout-align="start start"><md-icon md-svg-icon={{nav.ico}} ng-if=nav.ico></md-icon><span flex> {{_(nav.label)}} </span><md-icon class=toggle-icon md-svg-icon=nav:ic_expand_more_24px ng-class="{'toggled': nav._active || nav._current}"></md-icon></div></md-button><ul class=menu-toggle-list ng-show="nav._active || nav._current"><li ng-repeat="child in nav.nodes" ng-if="!child.expert || property.expert"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span> {{child._skip_translation ? child.label : _(child.label)}} </span></md-button></li><li ng-if="nav.nodes.length <= 0"><md-button ng-class=child.class ng-click=go(child.path) ng-disabled=!child.path><span>{{_('Empty')}}</span></md-button></li></ul></div></li></ul></md-content></md-sidenav></script><script type=text/ng-template id=navs/views/topbar.tmpl.html><md-toolbar class="topbar md-primary" ng-class="{'md-whiteframe-2dp': is_scroll_down(),
                       'bg-trans md-hue-3': !is_scroll_down()}"><div class=md-toolbar-tools><div class=text-nowrap-group layout=row layout-align="center center" ng-if=navs.id><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Toggle navigation')}}" ng-show=!navs.backward ng-click="toggle_nav('main_nav')"><md-icon md-svg-icon=nav:ic_menu_24px></md-icon></md-button><md-button class="md-icon-button anim-show-hide" aria-label="{{_('Backward')}}" ng-show=navs.backward ng-click="go(navs.backward||'/')"><md-icon md-svg-icon=nav:ic_arrow_back_24px></md-icon></md-button><h5 class="topbar-title anim-show" ng-click="navs.backward?go(navs.backward):toggle_nav('main_nav')" ng-show="navs.label || navs.app.label" flex> {{navs.app ? navs.app.label : _(navs.label)}} </h5></div><div flex></div><div layout=row layout-align="center center"><md-menu md-offset="0 -5"><md-button aria-label="{{_('Language')}}" class=md-icon-button ng-click=$mdMenu.open($event)><md-icon md-svg-icon=action:ic_language_24px md-menu-origin></md-icon></md-button><md-menu-content width=3><md-menu-item ng-repeat="locale in locales"><md-button ng-click=switch_lang(locale) ng-disabled=is_current_lang(locale)> {{ locale.name }} </md-button></md-menu-item></md-menu-content></md-menu></div></div></md-toolbar><md-toolbar class="topbar-overlay md-accent anim-enter-leave" ng-class=overlay.class ng-if=overlay.templateUrl><div class=md-toolbar-tools ng-dynamic-controller=overlay.controller ng-include=overlay.templateUrl></div></md-toolbar><script type=text/ng-template id=overlay.default.tmpl.html>
  <div layout="row"
       layout-align="center center">
    <md-button class="md-icon-button"
               aria-label="{{_('Backward')}}"
               ng-click="cancel()">
      <md-icon md-svg-icon="nav:ic_arrow_back_24px"></md-icon>
    </md-button>
    <h5>
      {{_('Bulk Action')}}
    </h5>
  </div>

  <div flex></div>

  <div layout="row"
       layout-align="center center">
    <md-button class="md-icon-button"
               aria-label="{{_('Batch Delete')}}"
               ng-disabled="!has_selected()"
               ng-click="trash()">
      <md-icon md-svg-icon="action:ic_delete_24px"></md-icon>
    </md-button>
  </div>
</script></script><script type=text/ng-template id=matters/agreement/agreement.tmpl.html><md-dialog aria-label="{{_('Agreement')}}"><md-toolbar class=md-accent><div class=md-toolbar-tools><span> {{_('Agreement')}} </span><span flex></span><md-button class=md-icon-button aria-label="{{_('Close')}}" ng-click=close()><md-icon md-svg-icon=nav:ic_close_24px></md-icon></md-button></div></md-toolbar><md-dialog-content flex><div class=md-padding layout-margin><article class="document md-padding"><h2>用户服务协议</h2><h3>一、特别提示</h3><p> 在此特别提醒您（用户）在注册成为速铺用户之前，请认真阅读本《用户服务协议》（以下简称“协议”），确保您充分理解本协议中各条款。请您审慎阅读并选择接受或不接受本协议。除非您接受本协议所有条款，否则您无权注册、登录或使用本协议所涉服务。您的注册、登录、使用等行为将视为对本协议的接受，并同意接受本协议各项条款的约束。 </p><p> 本协议约定速铺与用户之间关于“速铺”平台服务（以下简称“服务”）的权利义务。“用户”是指注册、登录、使用本服务的个人。本协议可由速铺随时更新，更新后的协议条款一旦公布即代替原来的协议条款，恕不再另行通知，用户可在本平台上查阅最新版协议条款。在修改协议条款后，如果用户不接受修改后的条款，请立即停止使用速铺提供的服务，用户继续使用速铺提供的服务将被视为接受修改后的协议。 </p><h3>二、特别提示</h3><ol><li>速铺的网络服务允许注册用户（帐号持有人）管理和更新在线内容。</li><li> 使用速铺服务，用户必须能够直接访问 Internet（因特网），或通过访问基于Web的内容的设备访问 Internet（因特网），与Internet（因特网）访问相关的所有费用由用户承担。此外，用户必须通过必要设备才能连接到互联网，包括启用网络的计算机。使用速铺服务，除了成为速铺帐号持有人外，用户需按照要求安装速铺提供的程序，或绑定相应的密钥。 </li><li> 用户选择速铺服务即视为同意接收来自速铺平台的信息，包括服务公告，管理消息和速铺通讯等。 </li><li> 用户不能通过速铺平台提供的服务接口以外的任何方式使用速铺服务。 </li><li> 用户选择下载或访问通过速铺服务提供的任何其他软件或第三方内容的，在使用此类软件或第三方内容之前，用户必须同意其他条款和条件。用户不同意第三方的服务条款或许可协议的，请勿下载相关软件或内容。用户在使用任何第三方软件或通过本服务获得的内容时，不得在超出第三方服务提供商的服务条款或许可条款中包含的条款之外行使权利。 </li></ol><h3>三、帐号注册</h3><ol><li> 用户在使用本服务前需要注册一个“速铺”帐号。要注册成为帐号持有人，用户必须向速铺提供有效的电子邮件地址和其他相关注册数据信息。 </li><li> 如果注册申请者有被速铺封禁的先例或涉嫌虚假注册及滥用他人名义注册，或其他不能得到许可的理由，速铺将拒绝其注册申请。 </li><li> 选择使用速铺服务，您将同意维护和更新真实，准确，最新和完整的注册数据。如果您提供任何不真实，不准确，陈旧或不完整的信息，或者速铺有合理理由怀疑此类信息不真实，不准确，不当前或不完整的，速铺可能会暂停或终止您帐号的使用，并拒绝任何和所有当前或未来使用本服务或其任何部分。 </li><li> 在用户注册及使用本服务时，速铺需要搜集能识别用户身份的个人信息以便速铺可以在必要时联系用户，或为用户提供更好的使用体验。速铺搜集的信息包括但不限于用户的姓名、地址；速铺同意对这些信息的使用将受限于本服务协议第十二条隐私声明条款的约束。 </li><li>禁止15周岁以下用户创建或使用速铺帐号。</li></ol><h3>四、帐号安全</h3><ol><li> 用户一旦注册成功，成为速铺的用户，将得到一个用户名和密码，并有权利使用自己的用户名及密码随时登录速铺。 </li><li> 用户对用户名和密码的安全负全部责任，同时对以其用户名进行的所有活动和事件负全责。如发生任何未经授权使用账户的行为或违反安全的行为，用户同意立即以书面方式通知速铺平台。对于用户未能遵守此安全义务所造成的任何直接或间接的损失和损害，速铺不承担责任。 </li><li> 用户不得以任何形式擅自转让或授权他人使用自己的速铺用户名。 </li><li> 如果用户泄漏了密码，有可能导致不利的法律后果，因此不管任何原因导致用户的密码安全受到威胁，应该立即和速铺客服人员取得联系，否则后果自负。 </li></ol><h3>五、用户声明与保证</h3><ol><li> 用户承诺其为具有完全民事行为能力的民事主体，且具有达成交易履行其义务的能力。 </li><li> 用户有义务在注册时提供自己的真实资料，并保证诸如手机号码、电子邮箱、姓名、所在地区等内容的有效性及安全性，保证速铺工作人员可以通过上述联系方式与用户取得联系。同时，用户也有义务在相关资料实际变更时及时更新有关注册资料。 </li><li> 用户通过使用速铺的过程中所制作、上载、复制、发布、传播的任何内容，包括但不限于账号头像、名称、用户说明等注册信息及认证资料，或文字、语音、图片、视频、图文等发送、回复和相关链接页面，以及其他使用账号或本服务所产生的内容，不得违反国家相关法律制度，包含但不限于如下原则： <ol><li>反对宪法所确定的基本原则的；</li><li>危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一的；</li><li>损害国家荣誉和利益的；</li><li>煽动民族仇恨、民族歧视，破坏民族团结的；</li><li>破坏国家宗教政策，宣扬邪教和封建迷信的；</li><li>散布谣言，扰乱社会秩序，破坏社会稳定的；</li><li>散布淫秽、色情、赌博、暴力、凶杀、恐怖或者教唆犯罪的；</li><li>侮辱或者诽谤他人，侵害他人合法权益的；</li><li>含有法律、行政法规禁止的其他内容的。</li></ol></li><li> 用户不得利用“速铺”账号或本服务制作、上载、复制、发布、传播下干扰“速铺”正常运营，以及侵犯其他用户或第三方合法权益的内容： <ol><li>含有任何性或性暗示的；</li><li>含有辱骂、恐吓、威胁内容的；</li><li>含有骚扰、垃圾广告、垃圾邮件、恶意信息、诱骗信息的；</li><li>涉及他人隐私、个人信息或资料的；</li><li>侵害他人名誉权、肖像权、知识产权、商业秘密等合法权利的；</li><li>含有过度广告和其他影响用户体验的内容的；</li><li> 含有其他干扰本服务正常运营和侵犯其他用户或第三方合法权益内容的信息。 </li></ol></li><li> 由于互联网的全球性和特殊性，注册用户同意遵守中华人民共和国境内或注册用户所在国家/地区技术数据传输所适用的一切法律法规。 </li></ol><h3>六、服务内容和行为规范</h3><ol><li> 速铺具体服务内容由速铺根据实际情况提供，包括但不限于：帮助用户管理其自有网站、社交公众号、H5App等。用户有权通过速铺服务在自有网站上上传、发布、传输或以其他方式发布信息、数据、文本、软件、音乐、声音、照片、图形、视频、消息、产品、服务或其他内容。在用户使用速铺服务期间，视为同意速铺管理用户发布在自有网站、社交公众号等平台上的内容。 </li><li> 使用服务时，用户可能会接触到冒犯性、不雅或令人反感的内容： <ol><li> 在任何情况下，速铺均不会对用户或任何第三方发布的内容负责，包括但不限于通过速铺服务发布、传输或以其他方式导致的任何错误或遗漏，或任何由于使用错误而导致的损失或损害。 </li><li> 用户同意速铺对于用户发布的内容不做预先筛选，速铺有权拒绝、移动或删除通过服务提供的任何内容（但不是义务）；同时速铺也有权移除任何违反上述条款的内容，或对任何违反上述条款的内容表示反对。 </li><li> 与使用内容相关的所有风险由用户承担。用户不得依赖速铺平台创建的任何内容。 </li><li> 用户承认并同意，速铺平台对于通过速铺服务发布的一切内容保留权利。当有下列之一情形出现时，速铺对上述内容有披露的权利： <ol><li>依照相关法律法规的规定必须披露的；</li><li> 该内容侵犯了第三方的名誉权、肖像权、知识产权、商业秘密等合法权利的； </li><li> 该内容可能对其他用户或公众的权利、财产或人身安全产生危害的。 </li></ol></li></ol></li><li> 速铺服务（包括内容）的技术处理和传输可能涉及： <ol><li>通过各种网络的传输；</li><li>改变以符合并适应连接网络或设备的技术要求。</li></ol></li><li> 速铺有权随时审核或删除用户发布/传播的涉嫌违法，或者被速铺认为不妥当的内容（包括但不限于文字、语音、图片、视频、图文等）。 </li><li> 所有发给用户的通告及其他消息均可通过电子邮件或者短信两种形式发送。 </li><li> 除非经授权的速铺代表以书面形式另行约定， 用户通过任何方式传送给速铺平台的任何材料、信息或想法均可能被速铺平台或关联公司传播或使用，包括但不限于开发、制造和营销产品。该种使用不具有任何目的性。本条款不适用于用户通过速铺服务发布的内容或受隐私政策约束的个人信息。 </li><li> 速铺平台不希望通过服务或电子邮件接受用户的任何机密信息。 </li></ol><h3>七、服务的中断、取消和终止</h3><ol><li> 速铺会尽全力维护平台的正常运行，以向用户提供持续、稳定、安全、顺畅的服务。但用户理解并同意：速铺对服务页面进行改版、升级网站系统、增加服务功能等须中断服务的操作时，有权暂时中断服务。速铺将尽可能在实施以上行为时予以提前公告，并尽可能将影响降低到最小。 </li><li> 用户可自行停止使用速铺提供的服务，并可向速铺提交申请，要求取消速铺服务。用户选择取消服务，取消将立即生效。取消服务后，用户将无法访问之前通过速铺平台创建的任何内容，速铺没有义务为用户保留账户信息。速铺对于服务取消后可能删除的信息和内容不承担任何责任。 </li><li> 在下列情况下，速铺有权终止向用户提供服务： <ol><li>在用户违反本服务协议相关规定时，速铺有权终止向该用户提供服务。如该用户再一次直接或间接或以他人名义注册为用户的，一经发现，速铺有权直接单方面终止向该用户提供服务；</li><li>如速铺通过用户提供的信息与用户联系时，发现用户在注册时填写的联系方式已不存在或无法接通，速铺以其它联系方式通知用户更改，而用户在三个工作日内仍未能提供新的联系方式的，速铺有权终止向该用户提供服务；</li><li>一旦速铺发现用户提供的数据或信息中含有虚假内容，速铺有权随时终止向该用户提供服务；</li><li>本服务条款终止或更新时，用户明示不愿接受新的服务条款；</li><li>其它速铺认为需终止服务的情况。</li></ol></li><li>服务终止后，速铺没有义务为用户保留原账号中或与之相关的任何信息，或转发任何未曾阅读或发送的信息给用户或第三方。</li></ol><h3>八、费用及付款</h3><ol><li> 速铺服务的一些功能需要收费。如果用户选择注册收费功能，应当支付相应的费用。 速铺平台保留随时更改价格的权利。用户注册速铺收费服务后，速铺有对用户账户及其财务信息进行合理必要查询的权利。 </li><li> 用户在速铺使用服务时支付的费用不包括税务机关本应向用户征收的所有税费。在使用速铺服务的过程中因用户自身所产生的任何征费或税费，应当由用户负责支付。 </li></ol><h3>九、服务条款修改</h3><ol><li>铺有权随时修改本服务条款的任何内容，一旦本服务条款的任何内容发生变动，速铺将会通过适当方式向用户提示修改内容。</li><li>如果不同意速铺对本服务条款所做的修改，用户有权停止使用网络服务。</li><li>如果用户继续使用网络服务，则视为用户接受速铺对本服务条款所做的修改。</li></ol><h3>十、免责与赔偿声明</h3><ol><li>若速铺已经明示其服务提供方式发生变更并提醒用户应当注意事项，用户未按要求操作所产生的一切后果由用户自行承担。</li><li>用户明确同意其使用速铺所存在的风险将完全由其自己承担，因其使用速铺而产生的一切后果也由其自己承担。速铺服务按照“现状”和“可用”基础提供。</li><li>用户同意保障和维护速铺及其他用户的利益，由于用户在使用速铺有违法、不真实、不正当、侵犯第三方合法权益的行为，或用户违反本协议项下的任何条款而给速铺及其子公司、附属机构、高级职员、董事、代理人、联合品牌商、合作伙伴、员工及任何其他第三方造成损失，用户同意承担由此造成的损害赔偿责任。</li><li>速铺不对任何数据损害的情况负责，包括但不限于数据损害、客户信息或供应商数据丢失、信息缺失、信息延迟、无法访问、限制或失去访问、BUG或其他数据错误。</li><li> 在使用速铺服务期间，速铺平台不能保证： <ol><li>速铺提供的服务完全符合用户的特定需求；</li><li>速铺提供的服务及时、安全、无错误或不间断；</li><li>速铺服务的所有数据准确或可靠；</li><li>用户通过速铺服务购买或获得的任何产品、服务、信息及其他任何材料完全符合用户期望；</li><li>服务提供中的任何错误均能够得到纠正。</li></ol></li><li> 用户有责任维护和备份自己的数据。用户通过使用服务下载或以其他方式获得的任何材料将自行承担风险，并且应当将对计算机系统可能造成的任何损害或数据丢失完全负责。 </li><li> 速铺服务可以提供链接到其他网站或资源的链接。由于速铺平台无法控制此类网站及相关资源， 因此速铺不对此类外部网站或资源的可用性负责，不对此类网站或资源的任何内容、广告、产品或其他素材承担任何责任或义务。速铺不对因使用或依赖任何此类网站上或资源中提供的任何内容、商品或服务而导致或指称造成或涉嫌造成的任何损害或损失负责。 </li></ol><h3>十一、责任限制</h3><ol><li> 速铺不对以下行为所产生的任何直接、间接、偶发、特殊、后果性或惩戒性损害及损害可能性负责，包括但不限于利润损失，商誉、数据或其他无形资产的损失： <ol><li>使用或无法使用服务；</li><li>通过速铺服务获得的任何商品、数据、信息或服务，收到的消息或交易产生的替代商品和服务的成本费用；</li><li>未经授权访问或更改用户的传输或数据；</li><li>任何第三方对服务的陈述或行为；</li><li>与服务有关的任何其他事项。</li></ol> 对于与速铺服务相关的所有索赔，我们的整体责任赔偿范围不超过用户在过去三个月的服务期间中支付的金额。 </li><li>上述限制可能在某些司法管辖区不适用。</li></ol><h3>十二、隐私声明</h3><ol><li> 适用范围： <ol><li>在用户注册速铺账户时，根据要求提供的个人注册信息；</li><li>在用户使用速铺，或访问其相关网页时，速铺自动接收并记录的用户浏览器上的服务器数值，包括但不限于IP地址等数据及用户要求取用的网页记录。</li></ol></li><li> 信息使用： <ol><li> 速铺不会向任何人出售或出借用户的个人信息，除非事先得到用户的许可。 </li><li> 速铺亦不允许任何第三方以任何手段收集、编辑、出售或者无偿传播用户的个人信息。任何用户如从事上述活动，一经发现，速铺有权立即终止与该用户的服务协议，查封其账号。 </li><li> 为达到服务用户的目的，速铺可能通过使用用户的个人信息，向用户提供服务，包括但不限于向用户发出产品和服务信息，或者与速铺合作伙伴共享信息以便他们向用户发送有关其产品和服务的信息。 </li></ol></li><li> 信息披露：用户的个人信息将在下述情况下部分或全部被披露： <ol><li>经用户同意，向第三方披露；</li><li> 根据法律的有关规定，或者行政或司法机构的要求，向第三方或者行政、司法机构披露； </li><li> 如果用户出现违反中国有关法律或者网站政策的情况，需要向第三方披露； </li><li> 为提供用户所要求的产品和服务，而必须和第三方分享用户的个人信息； </li><li> 其它速铺根据法律或者网站政策认为合适的披露； </li><li> 用户向速铺服务付款时提供的银行账户信息，速铺将严格履行相关保密约定。 </li></ol></li></ol><h3>十三、开发者和主题</h3><p>用户可以申请「开发秘钥」，使用该秘钥将允许访问开发者专属的API接口。用户必须妥善保管「开发秘钥」，并且在具备相关知识的前提下使用。任何使用开发秘钥和开发者专属API接口所产生的后果由该用户自行负责。</p><p>用户可以选择将其「自定义主题」内容上传至速铺服务平台以供自己或其他用户使用。速铺平台对用户授权的「自定义主题」内容及其包括代码和媒体资产在全球范围内享有永久的、不可撤销的使用、复制和修改的权利。</p><h3>十四、第三方服务及服务转售</h3><ol><li> 未经速铺明确书面许可，用户不得复制、销售、转售或利用速铺平台及其服务的任何部分。 </li><li> 用户使用速铺平台服务为第三方（以下称为“客户”）设计网站（以下称为“客户网站”）时，用户对本服务的使用应遵守以下附加条款： <ol><li>速铺平台不介入用户与客户的关系，速铺不会成为用户与客户之前签订的任何协议的当事方。用户有权自行选择执行服务的方式，但是应当同意遵守行业惯例及相关条款，及时并专业地执行这些服务。</li><li>用户对自己帐户下的所有客户内容承担全部责任。</li><li>速铺不对任何用户未能维护其私人利益的行为负责。</li><li>如果客户与速铺平台联系，我们将指导他们与用户联系。如果用户未能为其客户提供支持，并且速铺平台收到客户的请求，声明用户未作回应的，速铺保留直接为客户提供支持的权利。</li></ol></li><li> 速铺被用来为第三方设计网站时，这些网站必须各自拥有由第三方控制的帐户，并且用户不得将多个客户网站分组到所拥有的同一个速铺帐户下。 </li></ol><h3>十四、第三方服务及服务转售</h3><ol><li>速铺郑重提醒用户注意本协议中免除速铺责任和限制用户权利的条款，请用户仔细阅读，自主考虑风险。未成年人应在法定监护人的陪同下阅读本协议。</li><li>本协议的效力、解释及纠纷的解决，适用于中华人民共和国法律。若用户和速铺之间发生任何纠纷或争议，首先应友好协商解决，协商不成的，用户同意将纠纷或争议提交上海宿朴信息科技有限公司住所地有管辖权的人民法院管辖。</li><li>本协议的任何条款无论因何种原因无效或不具可执行性，其余条款仍有效，对双方具有约束力。</li><li>本协议最终解释权归上海宿朴信息科技有限公司所有，上海宿朴信息科技有限公司保留一切解释和修改的权力。</li><li>本协议从2017年6月1日起适用。</li></ol></article></div></md-dialog-content><md-dialog-actions><md-button ng-click=disagree()> {{_('Disagree')}} </md-button><md-button ng-click=agree()> {{_('Agree')}} </md-button></md-dialog-actions></md-dialog></script><script type=text/ng-template id=matters/help/help.tmpl.html><md-dialog aria-label="{{_('Help')}}"><md-dialog-content class=md-dialog-content flex><h2 class="md-headline text-center"> {{_('Help')}} </h2><div class=md-padding ng-include=templateId></div></md-dialog-content><md-dialog-actions><md-button class=md-primary ng-click=close()> {{_('Ok, I Understand.')}} </md-button></md-dialog-actions></md-dialog><script type=text/ng-template id=help.capability>
  <article ng-if="lang == 'en'">
    <h4>Capability Level</h4>
    <p>
      Capability is use to defined the knowledge level of computer
      and internet.
    </p>
    <p>
      Higher capability level can access more features or more resouces,
      but some features might require more knowledge to managing.
      The highest capablity can access advanced features with coding style.
    </p>
    <p>
      Unlike permission level, user can change capability level anytime.
      We recommend you choose a capability that fits yourself.
      It is a unique design in our system, you might not see it before.
    </p>
    <p>
      We have 4 capability for now.
    </p>
    <ul>
      <li>
        Noob [lv 1]
      </li>
      <li>
        Junior [lv 2]
      </li>
      <li>
        Senior [lv 3]
      </li>
      <li>
        Expert [lv 6] (Need to apply)
      </li>
    </ul>

    <md-divider></md-divider>

    <p class="hint md-margin">
      * Remeber "More power, more cost".
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>能力等级</h4>
    <p>
      能力等级用来定义使用者对计算和互联网的知识程度。
    </p>
    <p>
      更高的能力等级可以使用更多的功能和资源，同时也要求您具备更多的知识去驾驭它们。
      最高的「专家」级将允许通过代码级的形式修改设置或是修改一些常人看不见的属性，
      当然使用不当的话这些操作也可以带来毁灭性的后果。。。谁叫您是专家呢。
    </p>
    <p>
      不同于用户权限的设置，用户们可以随时更改这个能力等级。
      当然，我们希望用户能够选择适合他们的能力等级。
      如果您设的等级太高，可能出现你无法理解的词汇、选项之类，很可能超出了您的知识范围。
      这种坑爹的设计恐怕只有我们这里才有，您应该没在别的地方见过。
    </p>
    <p>
      现在我们提供了4种不同的能力等级。
    </p>
    <ul>
      <li>
        小白 [lv 1]
      </li>
      <li>
        初学者 [lv 2]
      </li>
      <li>
        老师傅 [lv 3]
      </li>
      <li>
        专家 [lv 6] (专家可不是随便当的)
      </li>
    </ul>

    <md-divider></md-divider>

    <p class="hint md-margin">
      *「能力等级」可以在账号设置中自助设定，您可以根据自己的需要随时设定，
      但是要记住一句古话：”功能越强，开销越大。“
    </p>
  </article>
</script><script type=text/ng-template id=help.slug>
  <article ng-if="lang == 'en'">
    <h4>URL Slug</h4>
    <p>
      The URL Slugs make the URL more user-friendly and better SEO.
      Search engines such as Google, rank the pages higher
      if the searchword is in the URL.
    </p>
    <p>
      URL Slug is part of a URL that identifies a page in
      human-readable keywords.
      Slugs are typically generated automatically from a title or name
      but can also be entered or altered manually (Expert only).
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>网址标识（URL Slug）</h4>
    <p>
      网址标识能够使网址显得更佳友好，并且有利于搜索引擎优化（SEO）。
      上档次的搜索引擎（如谷歌），会给予使用语义良好的网址标识的网站更高的排名。
    </p>
    <p>
      网址标识是网址的一部分，它使用人类可读的关键字定义了这个网址。
      一般来说，网址标识是根据标题或者名称自动生成的，
      但是也允许直接手工编辑。
      然而，在我们提供的服务中，只有专家级的用户才允许这样做，
      要成为一个专家级用户应该会要花掉您许多钱，除非您非常有出众的颜值。
    </p>
  </article>
</script><script type=text/ng-template id=help.site_url>
  <article ng-if="lang == 'en'">
    <h4>Site URL</h4>
    <p>
       The URL of the app base route. After site URL is seted, the app's theme, menu and links will automatically generate valid URL with site URL. The site URL could also attach paths, parameters, ports, and so on.
    </p>
    <p>
      You have to configure a domain on your server, the URL of the domain can be activate as the Site URL.
    </p>
    <p>
      For example a domain 'spporo.com', the URL is
      'http://www.soopro.com', just use the URL as site URL.
    </p>
    <p>
      We provider a private site URL as default.
      You have to use your own domain to make it public.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>基础网址</h4>
    <p>
      基础网址是这个网页应用的根地址。设置基础网址之后，主题、菜单、链接等将自动使用基础网址为根本来生成有效的网址。基本网址需要符合一般网址的规则，也可以附加路径、参数、端口等。
    </p>
    <p>
      您需要在自己服务器上正确解析好您的域名，才可以用这个域名的网址作为基础网址。
    </p>
    <p>
      比如说你拥有域名soopro.com，网址是http://www.soopro.com，
      那么就用这个来做基础网址输入即可。</p>
    <p>
      我们提供了一个默认的基础网址，但是这个地址只有您自己可以预览访问，
      如果您希望能够公开访问，就必须要拥有一个自己的域名的网址。
    </p>
  </article>
</script><script type=text/ng-template id=help.hardcore>
  <article ng-if="lang == 'en'">
    <h4>Hardcore Mode</h4>
    <p>
      Hardcore mode is designed for developers to do advanced operations.
      Only Expert can use this mode.
    </p>
    <p>
      It allows you to input a JSON-compliant string.
      The system will automatically compile the string into an object,
      and inject into the target data field.
      This will simplify numerous operations,
      also allow you to reach high-level settings.
    </p>
    <hr>
    <h5>Input format</h5>
    <p>
      When using hardcore mode, you must input a string with specific format.
      Following example below.
    </p>
    <ul>
      <li>
        list: `[value1, value2, value3, ...]`
      </li>
      <li>
        dict: `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        list dict: `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      The `key` must be lower case letters,
      and different data structures might have specify namespace of the `key`.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>专家模式</h4>
    <p>
      专家模式是专门为拥有开发常识的用户设计的高级操作。
      它允许您使用硬编码模式以文本形式输入一个符合JSON规则的字符串。
      系统将会自动将这个字符串编译成一个对象注入到数据的目标字段中去。
      这将大幅简化繁琐的设置和输入操作，也允许进行一般用户无法达到的高阶设定。
    </p>
    <p>
      在我们提供的服务中，只有专家级的用户才允许这样做，
      要成为一个专家级用户应该会要花掉您许多钱，除非您非常有出众的颜值。
    </p>

    <hr>
    <h5>输入格式</h5>
    <p>
      使用专家模式时，为了确保编译结果符合预期，
      必须输入需要符合一定格式的字符串，下面就列举一些常见的格式。
    </p>
    <ul>
      <li>
        列表格式(list): `[value1, value2, value3, ...]`
      </li>
      <li>
        字典格式(dict): `{key1: value1, key2: value2, ...}`
      </li>
      <li>
        列表套字典格式(list dict): `[{key1: value1}, {key2: value2}, ...}]`
      </li>
    </ul>
    <p>
      `key` 必须是小写的英文字母，不同的数据结构可能会规定 `key` 的命名。
      如果您实在不明白我在说什么，那么千万别使用这种模式，用了多半也是要坑的。
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.token_url>
  <article ng-if="lang == 'en'">
    <h4>WeChat Token and Interface URL</h4>
    <p>
      WeChat Token and URL is use to connect WeChat Official Account.
    </p>
    <p>
      You need set token by your own.
      The character in token must be latin letter or number, between 3-32.
      The URL is automatic generated when Site URL is setted.
      You can set Site URL from app's Preference -> Options.
      Also, Don't forget to configure the Interface URL on your server.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信令牌（Token）和接口网址（Interface URL）</h4>
    <p>
      微信令牌（Token）和接口网址（Interface URL）是用来连接微信公众号的。
    </p>
    <p>
      您需要自己设置一个令牌（Token），
      只能使用拉丁字母（就是那26个英文字母）、数字，3-32个字符。
      那个接口网址（Interface URL）是在应用的基础网址设置好以后生成的。
      基础网址的设置是在应用的「偏好设置 -> 选项」中找到基础网址设置。
      当然，您也要记得在服务器上正确解析这个接口网址。
    </p>
    <p>
      这些都是接入微信公众号最基础的常识，实在不懂就请我们帮您设置吧。
    </p>
  </article>
</script><script type=text/ng-template id=help.wx.aes>
  <article ng-if="lang == 'en'">
    <h4>WeChat AES Key</h4>
    <p>
      When the offical account connection is seted encryption mode, you need copy the AES Key into your WeChat Configuration.
    </p>
    <p>
      In my opinion you don't have to use encryption mode,
      you got nothing to hide.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信加密密钥(AES Key)</h4>
    <p>
      在接入微信公众号的时候，如果你设置消息使用加密模式传递，
      那么你就需要把那个加密密钥拿过来填写在这里。
      要是密钥错误的话最多就是不能用，也没别的什么大问题。
    </p>
    <p>
      不过我奉劝您，还是不要搞什么加密了。现在我们的平台也上也没有什么功能需要加密了传来传去的，非要去弄个加密模式，还要填个密钥，这不是黄胖塽年糕吗？明文用用么好了。
    </p>
  </article>
</script><script type=text/ng-template id=help.white_list>
  <article ng-if="lang == 'en'">
    <h4>WeChat IP White-List</h4>
    <p>
      When you access the WeChat through the developer AppID and AppSecret calls, you need to set the access source IP to White-List.
    </p>
  </article>
  <article ng-if="lang == 'zh'">
    <h4>微信IP白名单</h4>
    <p>
      通过开发者AppID及AppSecret调用获取接口权限时，需要设置访问来源IP为白名单。
      这个来源IP地址将是我们的服务分配给您的IP，也可以是您绑定我们服务的IP。
    </p>
  </article>
</script></script><script type=text/ng-template id=panels/media/media_panel.tmpl.html><md-content><div layout=row layout-wrap><div class=anim-show-hide flex=25><div class="grid float-case" aria-label="{{_('Remove')}}" ng-click=remove()><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary md-svg-icon=content:ic_block_24px></md-icon></div></div></div><div class=anim-show-hide flex=25><input class="ng-hide media-panel-upload" type=file ngf-select=onFileSelect($files) ngf-accept={{options.mimetypes}}><div class="grid float-case" ng-click="select_file('.media-panel-upload', $event)" aria-label="{{_('Upload')}}" ng-disabled="upload_status == 1"><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary ng-show="upload_status == 0" md-svg-icon=file:ic_file_upload_24px></md-icon><md-icon class=md-warn ng-show="upload_status == 2" md-svg-icon=alert:ic_warning_24px></md-icon><div layout=row layout-align="center center" ng-show="upload_status == 1"><md-progress-circular md-mode=indeterminate md-diameter=25></md-progress-circular></div></div></div></div><div class=anim-show-hide flex=25 ng-repeat="media in mediafiles" ng-if=media.id><div class="grid bg-gray-trans" ng-show="media.type == 'image'" ng-click=insert(media)><img class=img-bg-cover ng-src={{image.trans}} style={{(media.src|thumbnail|now:media.updated)|bg_img}}></div><div class="grid float-case" ng-show="media.type != 'image'" ng-click=insert(media)><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon md-svg-icon={{media_icons[media.type]}}></md-icon><md-tooltip md-direction=top> {{media.filename | ellipsis}} </md-tooltip></div></div></div><div class=anim-show-hide ng-show=has_more flex=25><div class="grid float-case" aria-label="{{_('More')}}" ng-click=get_more(mediafiles)><div class=float-case-bg><img ng-src={{image.trans}} class=img-bg-cover></div><div class=float-case-inner layout=column layout-align="center center"><md-icon class=md-primary md-svg-icon=nav:ic_more_horiz_24px></md-icon></div></div></div></div></md-content></script><ng-include src="'navs/views/mainnav.tmpl.html'" ng-controller=mainNavCtrl ng-show=!editor_opened layout=column></ng-include><div flex layout=column><ng-include src="'navs/views/topbar.tmpl.html'" ng-show=!editor_opened ng-controller=topBarCtrl></ng-include><md-content class=ng-view layout=column flex></md-content></div><script src=server_conf.js?md5=d2ececc882></script><script src=base.min.js?md5=d2ececc882></script><script src=app.min.js?md5=d2ececc882></script><script src=locale.min.js?md5=d2ececc882></script></body></html>