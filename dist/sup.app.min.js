(function(){var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/;e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;e.item=s(e.item,"gm")(/bull/g,e.bullet)();e.list=s(e.list)(/bull/g,e.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")();e.blockquote=s(e.blockquote)("def",e.def)();e._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";e.html=s(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)();e.paragraph=s(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)();e.normal=c({},e);e.gfm=c({},e.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});e.gfm.paragraph=s(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|")();e.tables=c({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function t(t){this.tokens=[];this.tokens.links={};this.options=t||d.defaults;this.rules=e.normal;if(this.options.gfm){if(this.options.tables){this.rules=e.tables}else{this.rules=e.gfm}}}t.rules=e;t.lex=function(e,n){var r=new t(n);return r.lex(e)};t.prototype.lex=function(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(e,true)};t.prototype.token=function(t,n,r){var t=t.replace(/^ +$/gm,""),i,a,o,l,s,u,c,d,f;while(t){if(o=this.rules.newline.exec(t)){t=t.substring(o[0].length);if(o[0].length>1){this.tokens.push({type:"space"})}}if(o=this.rules.code.exec(t)){t=t.substring(o[0].length);o=o[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?o.replace(/\n+$/,""):o});continue}if(o=this.rules.fences.exec(t)){t=t.substring(o[0].length);this.tokens.push({type:"code",lang:o[2],text:o[3]||""});continue}if(o=this.rules.heading.exec(t)){t=t.substring(o[0].length);this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});continue}if(n&&(o=this.rules.nptable.exec(t))){t=t.substring(o[0].length);u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")};for(d=0;d<u.align.length;d++){if(/^ *-+: *$/.test(u.align[d])){u.align[d]="right"}else if(/^ *:-+: *$/.test(u.align[d])){u.align[d]="center"}else if(/^ *:-+ *$/.test(u.align[d])){u.align[d]="left"}else{u.align[d]=null}}for(d=0;d<u.cells.length;d++){u.cells[d]=u.cells[d].split(/ *\| */)}this.tokens.push(u);continue}if(o=this.rules.lheading.exec(t)){t=t.substring(o[0].length);this.tokens.push({type:"heading",depth:o[2]==="="?1:2,text:o[1]});continue}if(o=this.rules.hr.exec(t)){t=t.substring(o[0].length);this.tokens.push({type:"hr"});continue}if(o=this.rules.blockquote.exec(t)){t=t.substring(o[0].length);this.tokens.push({type:"blockquote_start"});o=o[0].replace(/^ *> ?/gm,"");this.token(o,n,true);this.tokens.push({type:"blockquote_end"});continue}if(o=this.rules.list.exec(t)){t=t.substring(o[0].length);l=o[2];this.tokens.push({type:"list_start",ordered:l.length>1});o=o[0].match(this.rules.item);i=false;f=o.length;d=0;for(;d<f;d++){u=o[d];c=u.length;u=u.replace(/^ *([*+-]|\d+\.) +/,"");if(~u.indexOf("\n ")){c-=u.length;u=!this.options.pedantic?u.replace(new RegExp("^ {1,"+c+"}","gm"),""):u.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&d!==f-1){s=e.bullet.exec(o[d+1])[0];if(l!==s&&!(l.length>1&&s.length>1)){t=o.slice(d+1).join("\n")+t;d=f-1}}a=i||/\n\n(?!\s*$)/.test(u);if(d!==f-1){i=u.charAt(u.length-1)==="\n";if(!a)a=i}this.tokens.push({type:a?"loose_item_start":"list_item_start"});this.token(u,false,r);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(o=this.rules.html.exec(t)){t=t.substring(o[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(o[1]==="pre"||o[1]==="script"||o[1]==="style"),text:o[0]});continue}if(!r&&n&&(o=this.rules.def.exec(t))){t=t.substring(o[0].length);this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};continue}if(n&&(o=this.rules.table.exec(t))){t=t.substring(o[0].length);u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(d=0;d<u.align.length;d++){if(/^ *-+: *$/.test(u.align[d])){u.align[d]="right"}else if(/^ *:-+: *$/.test(u.align[d])){u.align[d]="center"}else if(/^ *:-+ *$/.test(u.align[d])){u.align[d]="left"}else{u.align[d]=null}}for(d=0;d<u.cells.length;d++){u.cells[d]=u.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(u);continue}if(n&&(o=this.rules.paragraph.exec(t))){t=t.substring(o[0].length);this.tokens.push({type:"paragraph",text:o[1].charAt(o[1].length-1)==="\n"?o[1].slice(0,-1):o[1]});continue}if(o=this.rules.text.exec(t)){t=t.substring(o[0].length);this.tokens.push({type:"text",text:o[0]});continue}if(t){throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}}return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;n.link=s(n.link)("inside",n._inside)("href",n._href)();n.reflink=s(n.reflink)("inside",n._inside)();n.normal=c({},n);n.pedantic=c({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});n.gfm=c({},n.normal,{escape:s(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(n.text)("]|","~]|")("|","|https?://|")()});n.breaks=c({},n.gfm,{br:s(n.br)("{2,}","*")(),text:s(n.gfm.text)("{2,}","*")()});function r(e,t){this.options=t||d.defaults;this.links=e;this.rules=n.normal;this.renderer=this.options.renderer||new i;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=n.breaks}else{this.rules=n.gfm}}else if(this.options.pedantic){this.rules=n.pedantic}}r.rules=n;r.output=function(e,t,n){var i=new r(t,n);return i.output(e)};r.prototype.output=function(e){var t="",n,r,i,a;while(e){if(a=this.rules.escape.exec(e)){e=e.substring(a[0].length);t+=a[1];continue}if(a=this.rules.autolink.exec(e)){e=e.substring(a[0].length);if(a[2]==="@"){r=a[1].charAt(6)===":"?this.mangle(a[1].substring(7)):this.mangle(a[1]);i=this.mangle("mailto:")+r}else{r=o(a[1]);i=r}t+=this.renderer.link(i,null,r);continue}if(!this.inLink&&(a=this.rules.url.exec(e))){e=e.substring(a[0].length);r=o(a[1]);i=r;t+=this.renderer.link(i,null,r);continue}if(a=this.rules.tag.exec(e)){if(!this.inLink&&/^<a /i.test(a[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(a[0])){this.inLink=false}e=e.substring(a[0].length);t+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):o(a[0]):a[0];continue}if(a=this.rules.link.exec(e)){e=e.substring(a[0].length);this.inLink=true;t+=this.outputLink(a,{href:a[2],title:a[3]});this.inLink=false;continue}if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){e=e.substring(a[0].length);n=(a[2]||a[1]).replace(/\s+/g," ");n=this.links[n.toLowerCase()];if(!n||!n.href){t+=a[0].charAt(0);e=a[0].substring(1)+e;continue}this.inLink=true;t+=this.outputLink(a,n);this.inLink=false;continue}if(a=this.rules.strong.exec(e)){e=e.substring(a[0].length);t+=this.renderer.strong(this.output(a[2]||a[1]));continue}if(a=this.rules.em.exec(e)){e=e.substring(a[0].length);t+=this.renderer.em(this.output(a[2]||a[1]));continue}if(a=this.rules.code.exec(e)){e=e.substring(a[0].length);t+=this.renderer.codespan(o(a[2],true));continue}if(a=this.rules.br.exec(e)){e=e.substring(a[0].length);t+=this.renderer.br();continue}if(a=this.rules.del.exec(e)){e=e.substring(a[0].length);t+=this.renderer.del(this.output(a[1]));continue}if(a=this.rules.text.exec(e)){e=e.substring(a[0].length);t+=this.renderer.text(o(this.smartypants(a[0])));continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return t};r.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))};r.prototype.smartypants=function(e){if(!this.options.smartypants)return e;return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")};r.prototype.mangle=function(e){if(!this.options.mangle)return e;var t="",n=e.length,r=0,i;for(;r<n;r++){i=e.charCodeAt(r);if(Math.random()>.5){i="x"+i.toString(16)}t+="&#"+i+";"}return t};function i(e){this.options=e||{}}i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);if(r!=null&&r!==e){n=true;e=r}}if(!t){return"<pre><code>"+(n?e:o(e,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+o(t,true)+'">'+(n?e:o(e,true))+"\n</code></pre>\n"};i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"};i.prototype.html=function(e){return e};i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"};i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"};i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"};i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"};i.prototype.table=function(e,t){return"<table>\n"+"<thead>\n"+e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"};i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"};i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";var r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"};i.prototype.strong=function(e){return"<strong>"+e+"</strong>"};i.prototype.em=function(e){return"<em>"+e+"</em>"};i.prototype.codespan=function(e){return"<code>"+e+"</code>"};i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};i.prototype.del=function(e){return"<del>"+e+"</del>"};i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0){return""}}var a='<a href="'+e+'"';if(t){a+=' title="'+t+'"'}a+=">"+n+"</a>";return a};i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';if(t){r+=' title="'+t+'"'}r+=this.options.xhtml?"/>":">";return r};i.prototype.text=function(e){return e};function a(e){this.tokens=[];this.token=null;this.options=e||d.defaults;this.options.renderer=this.options.renderer||new i;this.renderer=this.options.renderer;this.renderer.options=this.options}a.parse=function(e,t,n){var r=new a(t,n);return r.parse(e)};a.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer);this.tokens=e.reverse();var t="";while(this.next()){t+=this.tok()}return t};a.prototype.next=function(){return this.token=this.tokens.pop()};a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};a.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text"){e+="\n"+this.next().text}return this.inline.output(e)};a.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var e="",t="",n,r,i,a,o;i="";for(n=0;n<this.token.header.length;n++){a={header:true,align:this.token.align[n]};i+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:true,align:this.token.align[n]})}e+=this.renderer.tablerow(i);for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n];i="";for(o=0;o<r.length;o++){i+=this.renderer.tablecell(this.inline.output(r[o]),{header:false,align:this.token.align[o]})}t+=this.renderer.tablerow(i)}return this.renderer.table(e,t)}case"blockquote_start":{var t="";while(this.next().type!=="blockquote_end"){t+=this.tok()}return this.renderer.blockquote(t)}case"list_start":{var t="",l=this.token.ordered;while(this.next().type!=="list_end"){t+=this.tok()}return this.renderer.list(t,l)}case"list_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(t)}case"loose_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.tok()}return this.renderer.listitem(t)}case"html":{var s=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(s)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function o(e,t){return e.replace(!t?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&([#\w]+);/g,function(e,t){t=t.toLowerCase();if(t==="colon")return":";if(t.charAt(0)==="#"){return t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1))}return""})}function s(e,t){e=e.source;t=t||"";return function n(r,i){if(!r)return new RegExp(e,t);i=i.source||i;i=i.replace(/(^|[^\[])\^/g,"$1");e=e.replace(r,i);return n}}function u(){}u.exec=u;function c(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e}function d(e,n,r){if(r||typeof n==="function"){if(!r){r=n;n=null}n=c({},d.defaults,n||{});var i=n.highlight,l,s,u=0;try{l=t.lex(e,n)}catch(f){return r(f)}s=l.length;var m=function(e){if(e){n.highlight=i;return r(e)}var t;try{t=a.parse(l,n)}catch(o){e=o}n.highlight=i;return e?r(e):r(null,t)};if(!i||i.length<3){return m()}delete n.highlight;if(!s)return m();for(;u<l.length;u++){(function(e){if(e.type!=="code"){return--s||m()}return i(e.text,e.lang,function(t,n){if(t)return m(t);if(n==null||n===e.text){return--s||m()}e.text=n;e.escaped=true;--s||m()})})(l[u])}return}try{if(n)n=c({},d.defaults,n);return a.parse(t.lex(e,n),n)}catch(f){f.message+="\nPlease report this to https://github.com/chjj/marked.";if((n||d.defaults).silent){return"<p>An error occured:</p><pre>"+o(f.message+"",true)+"</pre>"}throw f}}d.options=d.setOptions=function(e){c(d.defaults,e);return d};d.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,sanitizer:null,mangle:true,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new i,xhtml:false};d.Parser=a;d.parser=a.parse;d.Renderer=i;d.Lexer=t;d.lexer=t.lex;d.InlineLexer=r;d.inlineLexer=r.output;d.parse=d;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=d}else if(typeof define==="function"&&define.amd){define(function(){return d})}else{this.marked=d}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.toMarkdown=e()}})(function(){var e,t,n;return function r(e,t,n){function i(o,l){if(!t[o]){if(!e[o]){var s=typeof require=="function"&&require;if(!l&&s)return s(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return i(n?n:t)},c,c.exports,r,e,t,n)}return t[o].exports}var a=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){"use strict";var r;var i;var a=e("./lib/md-converters");var o=e("./lib/gfm-converters");var l=e("collapse-whitespace");var s=typeof window!=="undefined"?window:this,u;if(typeof document==="undefined"){u=e("jsdom").jsdom()}else{u=document}function c(e){return e.replace(/^[ \r\n\t]+|[ \r\n\t]+$/g,"")}var d=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function f(e){return d.indexOf(e.nodeName.toLowerCase())!==-1}var m=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function p(e){return m.indexOf(e.nodeName.toLowerCase())!==-1}function h(){var e=s.DOMParser,t=false;try{if((new e).parseFromString("","text/html")){t=true}}catch(n){}return t}function g(){var e=function(){};e.prototype.parseFromString=function(e){var t=u.implementation.createHTMLDocument("");if(e.toLowerCase().indexOf("<!doctype")>-1){t.documentElement.innerHTML=e}else{t.body.innerHTML=e}return t};return e}var v=h()?s.DOMParser:g();function b(e){var t=(new v).parseFromString(e,"text/html");l(t,f);return t}function _(e){var t=[e],n=[],r,i,a;while(t.length>0){r=t.shift();n.push(r);i=r.childNodes;for(a=0;a<i.length;a++){if(i[a].nodeType===1){t.push(i[a])}}}n.shift();return n}function y(e){var t="";for(var n=0;n<e.childNodes.length;n++){if(e.childNodes[n].nodeType===1){t+=e.childNodes[n]._replacement}else if(e.childNodes[n].nodeType===3){t+=e.childNodes[n].data}else{continue}}return t}function E(e,t){return e.cloneNode(false).outerHTML.replace("><",">"+t+"<")}function $(e,t){if(typeof t==="string"){return t===e.nodeName.toLowerCase()}if(Array.isArray(t)){return t.indexOf(e.nodeName.toLowerCase())!==-1}else if(typeof t==="function"){return t.call(r,e)}else{throw new TypeError("`filter` needs to be a string, array, or function")}}function w(e,t){var n,r,i;if(e==="left"){n=t.previousSibling;r=/ $/}else{n=t.nextSibling;r=/^ /}if(n){if(n.nodeType===3){i=r.test(n.nodeValue)}else if(n.nodeType===1&&!f(n)){i=r.test(n.textContent)}}return i}function A(e){var t="",n="";if(!f(e)){var r=/^[ \r\n\t]/.test(e.innerHTML),i=/[ \r\n\t]$/.test(e.innerHTML);if(r&&!w("left",e)){t=" "}if(i&&!w("right",e)){n=" "}}return{leading:t,trailing:n}}function C(e){var t,n=y(e);for(var a=0;a<i.length;a++){var o=i[a];if($(e,o.filter)){if(typeof o.replacement!=="function"){throw new TypeError("`replacement` needs to be a function that returns a string")}var l=A(e);if(l.leading||l.trailing){n=c(n)}t=l.leading+o.replacement.call(r,n,e)+l.trailing;break}}if(!p(e)&&!/A/.test(e.nodeName)&&/^\s*$/i.test(n)){t=""}e._replacement=t}r=function(e,t){t=t||{};if(typeof e!=="string"){throw new TypeError(e+" is not a string")}e=e.replace(/(\d+)\. /g,"$1\\. ");var n=b(e).body,r=_(n),l;i=a.slice(0);if(t.gfm){i=o.concat(i)}if(t.converters){i=t.converters.concat(i)}for(var s=r.length-1;s>=0;s--){C(r[s])}l=y(n);return l.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")};r.isBlock=f;r.isVoid=p;r.trim=c;r.outer=E;t.exports=r},{"./lib/gfm-converters":2,"./lib/md-converters":3,"collapse-whitespace":4,jsdom:7}],2:[function(e,t,n){"use strict";function r(e,t){var n=Array.prototype.indexOf.call(t.parentNode.childNodes,t);var r=" ";if(n===0){r="| "}return r+e+" |"}var i=/highlight highlight-(\S+)/;t.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(e,t){return r(e,t)}},{filter:"tr",replacement:function(e,t){var n="";var i={left:":--",right:"--:",center:":-:"};if(t.parentNode.nodeName==="THEAD"){for(var a=0;a<t.childNodes.length;a++){var o=t.childNodes[a].attributes.align;var l="---";if(o){l=i[o.value]||l}n+=r(l,t.childNodes[a])}}return"\n"+e+(n?"\n"+n:"")}},{filter:"table",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},{filter:function(e){return e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t){return"\n\n```\n"+t.firstChild.textContent+"\n```\n\n"}},{filter:function(e){return e.nodeName==="PRE"&&e.parentNode.nodeName==="DIV"&&i.test(e.parentNode.className)},replacement:function(e,t){var n=t.parentNode.className.match(i)[1];return"\n\n```"+n+"\n"+t.textContent+"\n```\n\n"}},{filter:function(e){return e.nodeName==="DIV"&&i.test(e.className)},replacement:function(e){return"\n\n"+e+"\n\n"}}]},{}],3:[function(e,t,n){"use strict";t.exports=[{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t){var n=t.nodeName.charAt(1);var r="";for(var i=0;i<n;i++){r+="#"}return"\n\n"+r+" "+e+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(e){return"_"+e+"_"}},{filter:["strong","b"],replacement:function(e){return"**"+e+"**"}},{filter:function(e){var t=e.previousSibling||e.nextSibling;var n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){return"`"+e+"`"}},{filter:function(e){return e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.title?' "'+t.title+'"':"";return"["+e+"]("+t.getAttribute("href")+n+")"}},{filter:"img",replacement:function(e,t){var n=t.alt||"";var r=t.getAttribute("src")||"";var i=t.title||"";var a=i?' "'+i+'"':"";return r?"!["+n+"]"+"("+r+a+")":""}},{filter:function(e){return e.nodeName==="PRE"&&e.firstChild.nodeName==="CODE"},replacement:function(e,t){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(e){e=this.trim(e);e=e.replace(/\n{3,}/g,"\n\n");e=e.replace(/^/gm,"> ");return"\n\n"+e+"\n\n"}},{filter:"li",replacement:function(e,t){e=e.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var n="*   ";var r=t.parentNode;var i=Array.prototype.indexOf.call(r.children,t)+1;n=/ol/i.test(r.nodeName)?i+".  ":"*   ";return n+e}},{filter:["ul","ol"],replacement:function(e,t){var n=[];for(var r=0;r<t.childNodes.length;r++){n.push(t.childNodes[r]._replacement)}if(/li/i.test(t.parentNode.nodeName)){return"\n"+n.join("\n")}return"\n\n"+n.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,t){return"\n\n"+this.outer(t,e)+"\n\n"}},{filter:function(){return true},replacement:function(e,t){return this.outer(t,e)}}]},{}],4:[function(e,t,n){"use strict";var r=e("void-elements");Object.keys(r).forEach(function(e){r[e.toUpperCase()]=1});var i={};e("block-elements").forEach(function(e){i[e.toUpperCase()]=1});function a(e){return!!(e&&i[e.nodeName])}function o(e){return!!(e&&r[e.nodeName])}function l(e,t){if(!e.firstChild||e.nodeName==="PRE")return;if(typeof t!=="function"){t=a}var n=null;var r=false;var i=null;var l=u(i,e);while(l!==e){if(l.nodeType===3){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!n||/ $/.test(n.data))&&!r&&c[0]===" "){c=c.substr(1)}if(!c){l=s(l);continue}l.data=c;n=l}else if(l.nodeType===1){if(t(l)||l.nodeName==="BR"){if(n){n.data=n.data.replace(/ $/,"")}n=null;r=false}else if(o(l)){n=null;r=true}}else{l=s(l);continue}var d=u(i,l);i=l;l=d}if(n){n.data=n.data.replace(/ $/,"");if(!n.data){s(n)}}}function s(e){var t=e.nextSibling||e.parentNode;e.parentNode.removeChild(e);return t}function u(e,t){if(e&&e.parentNode===t||t.nodeName==="PRE"){return t.nextSibling||t.parentNode}return t.firstChild||t.nextSibling||t.parentNode}t.exports=l},{"block-elements":5,"void-elements":6}],5:[function(e,t,n){t.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(e,t,n){t.exports={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true}},{}],7:[function(e,t,n){},{}]},{},[1])(1)});(function(e,t,n){"use strict";var r=t.module("ngRoute",["ng"]).provider("$route",a),i=t.$$minErr("ngRoute");function a(){function e(e,n){return t.extend(Object.create(e),n)}var n={};this.when=function(e,i){var a=t.copy(i);if(t.isUndefined(a.reloadOnSearch)){a.reloadOnSearch=true}if(t.isUndefined(a.caseInsensitiveMatch)){a.caseInsensitiveMatch=this.caseInsensitiveMatch}n[e]=t.extend(a,e&&r(e,a));if(e){var o=e[e.length-1]=="/"?e.substr(0,e.length-1):e+"/";n[o]=t.extend({redirectTo:e},r(o,a))}return this};this.caseInsensitiveMatch=false;function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var a=r==="?"?r:null;var o=r==="*"?r:null;i.push({name:n,optional:!!a});t=t||"";return""+(a?"":t)+"(?:"+(a?t:"")+(o&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");r.regexp=new RegExp("^"+e+"$",n?"i":"");return r}this.otherwise=function(e){if(typeof e==="string"){e={redirectTo:e}}this.when(null,e);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,a,o,l,s,u,c){var d=false,f,m,p={routes:n,reload:function(){d=true;r.$evalAsync(function(){g();v()})},updateParams:function(e){if(this.current&&this.current.$$route){e=t.extend({},this.current.params,e);a.path(_(this.current.$$route.originalPath,e));a.search(e)}else{throw i("norout","Tried updating route when with no current route")}}};r.$on("$locationChangeStart",g);r.$on("$locationChangeSuccess",v);return p;function h(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var a=1,o=i.length;a<o;++a){var l=n[a-1];var s=i[a];if(l&&s){r[l.name]=s}}return r}function g(e){var n=p.current;f=b();m=f&&n&&f.$$route===n.$$route&&t.equals(f.pathParams,n.pathParams)&&!f.reloadOnSearch&&!d;if(!m&&(n||f)){if(r.$broadcast("$routeChangeStart",f,n).defaultPrevented){if(e){e.preventDefault()}}}}function v(){var e=p.current;var n=f;if(m){e.params=n.params;t.copy(e.params,o);r.$broadcast("$routeUpdate",e)}else if(n||e){d=false;p.current=n;if(n){if(n.redirectTo){if(t.isString(n.redirectTo)){a.path(_(n.redirectTo,n.params)).search(n.params).replace()}else{a.url(n.redirectTo(n.pathParams,a.path(),a.search())).replace()}}}l.when(n).then(function(){if(n){var e=t.extend({},n.resolve),r,i;t.forEach(e,function(n,r){e[r]=t.isString(n)?s.get(n):s.invoke(n,null,null,r)});if(t.isDefined(r=n.template)){if(t.isFunction(r)){r=r(n.params)}}else if(t.isDefined(i=n.templateUrl)){if(t.isFunction(i)){i=i(n.params)}i=c.getTrustedResourceUrl(i);if(t.isDefined(i)){n.loadedTemplateUrl=i;r=u(i)}}if(t.isDefined(r)){e["$template"]=r}return l.all(e)}}).then(function(i){if(n==p.current){if(n){n.locals=i;t.copy(n.params,o)}r.$broadcast("$routeChangeSuccess",n,e)}},function(t){if(n==p.current){r.$broadcast("$routeChangeError",n,e,t)}})}}function b(){var r,i;t.forEach(n,function(n,o){if(!i&&(r=h(a.path(),n))){i=e(n,{params:t.extend({},a.search(),r),pathParams:r});i.$$route=n}});return i||n[null]&&e(n[null],{params:{},pathParams:{}})}function _(e,n){var r=[];t.forEach((e||"").split(":"),function(e,t){if(t===0){r.push(e)}else{var i=e.match(/(\w+)(?:[?*])?(.*)/);var a=i[1];r.push(n[a]);r.push(i[2]||"");delete n[a]}});return r.join("")}}]}r.provider("$routeParams",o);function o(){this.$get=function(){return{}}}r.directive("ngView",l);r.directive("ngView",s);l.$inject=["$route","$anchorScroll","$animate"];function l(e,n,r){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(i,a,o,l,s){var u,c,d,f=o.autoscroll,m=o.onload||"";i.$on("$routeChangeSuccess",h);h();function p(){if(d){r.cancel(d);d=null}if(u){u.$destroy();u=null}if(c){d=r.leave(c);d.then(function(){d=null});c=null}}function h(){var o=e.current&&e.current.locals,l=o&&o.$template;if(t.isDefined(l)){var d=i.$new();var h=e.current;var g=s(d,function(e){r.enter(e,null,c||a).then(function o(){if(t.isDefined(f)&&(!f||i.$eval(f))){n()}});p()});c=g;u=h.scope=d;u.$emit("$viewContentLoaded");u.$eval(m)}else{p()}}}}}s.$inject=["$compile","$controller","$route"];function s(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var a=n.current,o=a.locals;i.html(o.$template);var l=e(i.contents());if(a.controller){o.$scope=r;var s=t(a.controller,o);if(a.controllerAs){r[a.controllerAs]=s}i.data("$ngControllerController",s);i.children().data("$ngControllerController",s)}l(r)}}}})(window,window.angular);(function(e,t,n){"use strict";t.module("ngCookies",["ng"]).provider("$cookies",[function i(){var e=this.defaults={};function r(n){return n?t.extend({},e,n):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return e()},put:function(e,t,n){i(e,t,r(n))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(e,t){i(e,n,r(t))}}}]}]);t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]);function r(e,r,i){var a=i.baseHref();var o=e[0];function l(e,i,o){var l,s;o=o||{};s=o.expires;l=t.isDefined(o.path)?o.path:a;if(i===n){s="Thu, 01 Jan 1970 00:00:00 GMT";i=""}if(t.isString(s)){s=new Date(s)}var u=encodeURIComponent(e)+"="+encodeURIComponent(i);u+=l?";path="+l:"";u+=o.domain?";domain="+o.domain:"";u+=s?";expires="+s.toUTCString():"";u+=o.secure?";secure":"";var c=u.length+1;if(c>4096){r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!")}return u}return function(e,t,n){o.cookie=l(e,t,n)}}r.$inject=["$document","$log","$browser"];t.module("ngCookies").provider("$$cookieWriter",function a(){this.$get=r})})(window,window.angular);(function(e,t,n){"use strict";var r=t.$$minErr("$resource");var i=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function a(e){return e!=null&&e!==""&&e!=="hasOwnProperty"&&i.test("."+e)}function o(e,t){if(!a(t)){throw r("badmember",'Dotted member path "@{0}" is invalid.',t)}var i=t.split(".");for(var o=0,l=i.length;o<l&&e!==n;o++){var s=i[o];e=e!==null?e[s]:n}return e}function l(e,n){
n=n||{};t.forEach(n,function(e,t){delete n[t]});for(var r in e){if(e.hasOwnProperty(r)&&!(r.charAt(0)==="$"&&r.charAt(1)==="$")){n[r]=e[r]}}return n}t.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:true,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:true},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$q",function(i,a){var s=t.noop,u=t.forEach,c=t.extend,d=t.copy,f=t.isFunction;function m(e){return p(e,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function p(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function h(t,n){this.template=t;this.defaults=c({},e.defaults,n);this.urlParams={}}h.prototype={setUrlParams:function(e,n,i){var a=this,o=i||a.template,l,s;var c=a.urlParams={};u(o.split(/\W/),function(e){if(e==="hasOwnProperty"){throw r("badname","hasOwnProperty is not a valid parameter name.")}if(!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(o)){c[e]=true}});o=o.replace(/\\:/g,":");n=n||{};u(a.urlParams,function(e,r){l=n.hasOwnProperty(r)?n[r]:a.defaults[r];if(t.isDefined(l)&&l!==null){s=m(l);o=o.replace(new RegExp(":"+r+"(\\W|$)","g"),function(e,t){return s+t})}else{o=o.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){if(n.charAt(0)=="/"){return n}else{return t+n}})}});if(a.defaults.stripTrailingSlashes){o=o.replace(/\/+$/,"")||"/"}o=o.replace(/\/\.(?=\w+($|\?))/,".");e.url=o.replace(/\/\\\./,"/.");u(n,function(t,n){if(!a.urlParams[n]){e.params=e.params||{};e.params[n]=t}})}};function g(m,p,v,b){var _=new h(m,b);v=c({},e.defaults.actions,v);function y(e,t){var n={};t=c({},p,t);u(t,function(t,r){if(f(t)){t=t()}n[r]=t&&t.charAt&&t.charAt(0)=="@"?o(e,t.substr(1)):t});return n}function E(e){return e.resource}function $(e){l(e||{},this)}$.prototype.toJSON=function(){var e=c({},this);delete e.$promise;delete e.$resolved;return e};u(v,function(e,o){var m=/^(POST|PUT|PATCH)$/i.test(e.method);$[o]=function(p,h,g,v){var b={},w,A,C;switch(arguments.length){case 4:C=v;A=g;case 3:case 2:if(f(h)){if(f(p)){A=p;C=h;break}A=h;C=g}else{b=p;w=h;A=g;break}case 1:if(f(p))A=p;else if(m)w=p;else b=p;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M=this instanceof $;var k=M?w:e.isArray?[]:new $(w);var x={};var T=e.interceptor&&e.interceptor.response||E;var S=e.interceptor&&e.interceptor.responseError||n;u(e,function(e,t){if(t!="params"&&t!="isArray"&&t!="interceptor"){x[t]=d(e)}});if(m)x.data=w;_.setUrlParams(x,c({},y(w,e.params||{}),b),e.url);var N=i(x).then(function(n){var i=n.data,a=k.$promise;if(i){if(t.isArray(i)!==!!e.isArray){throw r("badcfg","Error in resource configuration for action `{0}`. Expected response to "+"contain an {1} but got an {2} (Request: {3} {4})",o,e.isArray?"array":"object",t.isArray(i)?"array":"object",x.method,x.url)}if(e.isArray){k.length=0;u(i,function(e){if(typeof e==="object"){k.push(new $(e))}else{k.push(e)}})}else{l(i,k);k.$promise=a}}k.$resolved=true;n.resource=k;return n},function(e){k.$resolved=true;(C||s)(e);return a.reject(e)});N=N.then(function(e){var t=T(e);(A||s)(t,e.headers);return t},S);if(!M){k.$promise=N;k.$resolved=false;return k}return N};$.prototype["$"+o]=function(e,t,n){if(f(e)){n=t;t=e;e={}}var r=$[o].call(this,e,this,t,n);return r.$promise||r}});$.bind=function(e){return g(m,c({},p,e),v)};return $}return g}]})})(window,window.angular);(function(e,t,n){"use strict";var r=t.module("ngAria",["ng"]).provider("$aria",i);function i(){var e={ariaHidden:true,ariaChecked:true,ariaDisabled:true,ariaRequired:true,ariaInvalid:true,ariaMultiline:true,ariaValue:true,tabindex:true,bindKeypress:true};this.config=function(n){e=t.extend(e,n)};function n(t,n,r){return function(i,a,o){var l=o.$normalize(n);if(e[l]&&!o[l]){i.$watch(o[t],function(e){if(r){e=!e}a.attr(n,e)})}}}this.$get=function(){return{config:function(t){return e[t]},$$watchExpr:n}}}r.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",true)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",false)}]).directive("ngModel",["$aria",function(e){function t(t,n,r){return e.config(n)&&!r.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&t[0].nodeName!=="INPUT"}function r(e,t){var n=e.type,r=e.role;return(n||r)==="checkbox"||r==="menuitemcheckbox"?"checkbox":(n||r)==="radio"||r==="menuitemradio"?"radio":n==="range"||r==="progressbar"||r==="slider"?"range":(n||r)==="textbox"||t[0].nodeName==="TEXTAREA"?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(i,a){var o=r(a,i);return{pre:function(e,t,n,r){if(o==="checkbox"&&n.type!=="checkbox"){r.$isEmpty=function(e){return e===false}}},post:function(r,i,a,l){var s=t("tabindex","tabindex",i);function u(){return l.$modelValue}function c(){if(s){s=false;return function e(t){var n=a.value==l.$viewValue;i.attr("aria-checked",n);i.attr("tabindex",0-!n)}}else{return function t(e){i.attr("aria-checked",a.value==l.$viewValue)}}}function d(){i.attr("aria-checked",!l.$isEmpty(l.$viewValue))}switch(o){case"radio":case"checkbox":if(n(o,i)){i.attr("role",o)}if(t("aria-checked","ariaChecked",i)){r.$watch(u,o==="radio"?c():d)}break;case"range":if(n(o,i)){i.attr("role","slider")}if(e.config("ariaValue")){if(a.min&&!i.attr("aria-valuemin")){i.attr("aria-valuemin",a.min)}if(a.max&&!i.attr("aria-valuemax")){i.attr("aria-valuemax",a.max)}if(!i.attr("aria-valuenow")){r.$watch(u,function f(e){i.attr("aria-valuenow",e)})}}break;case"multiline":if(t("aria-multiline","ariaMultiline",i)){i.attr("aria-multiline",true)}break}if(s){i.attr("tabindex",0)}if(l.$validators.required&&t("aria-required","ariaRequired",i)){r.$watch(function m(){return l.$error.required},function p(e){i.attr("aria-required",!!e)})}if(t("aria-invalid","ariaInvalid",i)){r.$watch(function h(){return l.$invalid},function g(e){i.attr("aria-invalid",!!e)})}}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){if(!t.attr("aria-live")){t.attr("aria-live","assertive")}}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,r){var i=t(r.ngClick,null,true);return function(t,n,r){var a=["BUTTON","A","INPUT","TEXTAREA"];function o(e,t){if(t.indexOf(e[0].nodeName)!==-1){return true}}if(!n.attr("role")&&!o(n,a)){n.attr("role","button")}if(e.config("tabindex")&&!n.attr("tabindex")){n.attr("tabindex",0)}if(e.config("bindKeypress")&&!r.ngKeypress&&!o(n,a)){n.on("keypress",function(e){var n=e.which||e.keyCode;if(n===32||n===13){t.$apply(r)}function r(){i(t,{$event:e})}})}}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,r){if(e.config("tabindex")&&!n.attr("tabindex")){n.attr("tabindex",0)}}}])})(window,window.angular);(function(e,t,n){"use strict";var r=t.noop;var i=t.extend;var a=t.element;var o=t.forEach;var l=t.isArray;var s=t.isString;var u=t.isObject;var c=t.isUndefined;var d=t.isDefined;var f=t.isFunction;var m=t.isElement;var p=1;var h=8;var g="ng-animate";var v="$$ngAnimateChildren";var b=function(e){return e&&e.then?true:false};function _(e,t,n){if(!e){throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required")}return e}function y(e,t){if(!e&&!t)return"";if(!e)return t;if(!t)return e;if(l(e))e=e.join(" ");if(l(t))t=t.join(" ");return e+" "+t}function E(e){var t={};if(e&&(e.to||e.from)){t.to=e.to;t.from=e.from}return t}function $(e,t,n){var r="";e=l(e)?e:e&&s(e)&&e.length?e.split(/\s+/):[];o(e,function(e,i){if(e&&e.length>0){r+=i>0?" ":"";r+=n?t+e:e+t}});return r}function w(e,t){var n=e.indexOf(t);if(t>=0){e.splice(n,1)}}function A(e){if(e instanceof a){switch(e.length){case 0:return[];break;case 1:if(e[0].nodeType===p){return e}break;default:return a(C(e));break}}if(e.nodeType===p){return a(e)}}function C(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==p){return n}}}function M(e,t,n){o(t,function(t){e.addClass(t,n)})}function k(e,t,n){o(t,function(t){e.removeClass(t,n)})}function x(e){return function(t,n){if(n.addClass){M(e,t,n.addClass);n.addClass=null}if(n.removeClass){k(e,t,n.removeClass);n.removeClass=null}}}function T(e){e=e||{};if(!e.$$prepared){var t=e.domOperation||r;e.domOperation=function(){e.$$domOperationFired=true;t();t=r};e.$$prepared=true}return e}function S(e,t){N(e,t);H(e,t)}function N(e,t){if(t.from){e.css(t.from);t.from=null}}function H(e,t){if(t.to){e.css(t.to);t.to=null}}function D(e,t,n){var r=(t.addClass||"")+" "+(n.addClass||"");var a=(t.removeClass||"")+" "+(n.removeClass||"");var o=O(e.attr("class"),r,a);i(t,n);if(o.addClass){t.addClass=o.addClass}else{t.addClass=null}if(o.removeClass){t.removeClass=o.removeClass}else{t.removeClass=null}return t}function O(e,t,n){var r=1;var i=-1;var a={};e=u(e);t=u(t);o(t,function(e,t){a[t]=r});n=u(n);o(n,function(e,t){a[t]=a[t]===r?null:i});var l={addClass:"",removeClass:""};o(a,function(t,n){var a,o;if(t===r){a="addClass";o=!e[n]}else if(t===i){a="removeClass";o=e[n]}if(o){if(l[a].length){l[a]+=" "}l[a]+=n}});function u(e){if(s(e)){e=e.split(" ")}var t={};o(e,function(e){if(e.length){t[e]=true}});return t}return l}function R(e){return e instanceof t.element?e[0]:e}var I=["$$rAF",function(e){var t=[];var n;function r(e){t.push([].concat(e));i()}r.waitUntilQuiet=function(t){if(n)n();n=e(function(){n=null;t();i()})};return r;function i(){if(!t.length)return;var r=[];for(var o=0;o<t.length;o++){var l=t[o];a(l);if(l.length){r.push(l)}}t=r;if(!n){e(function(){if(!n)i()})}}function a(e){var t=e.shift();t()}}];var P=[function(){return function(e,n,r){var i=r.ngAnimateChildren;if(t.isString(i)&&i.length===0){n.data(v,true)}else{r.$observe("ngAnimateChildren",function(e){e=e==="on"||e==="true";n.data(v,e)})}}}];var L="",F,U,j,B;if(e.ontransitionend===n&&e.onwebkittransitionend!==n){L="-webkit-";F="WebkitTransition";U="webkitTransitionEnd transitionend"}else{F="transition";U="transitionend"}if(e.onanimationend===n&&e.onwebkitanimationend!==n){L="-webkit-";j="WebkitAnimation";B="webkitAnimationEnd animationend"}else{j="animation";B="animationend"}var q="Duration";var W="Property";var z="Delay";var V="TimingFunction";var G="IterationCount";var Y="PlayState";var K=3;var X=1.5;var J=1e3;var Q=10;var Z=9999;var ee=j+z;var te=j+q;var ne=F+z;var re=F+q;var ie={transitionDuration:re,transitionDelay:ne,transitionProperty:F+W,animationDuration:te,animationDelay:ee,animationIterationCount:j+G};var ae={transitionDuration:re,transitionDelay:ne,animationDuration:te,animationDelay:ee};function oe(e,t,n){var r=Object.create(null);var i=e.getComputedStyle(t)||{};o(n,function(e,t){var n=i[e];if(n){var a=n.charAt(0);if(a==="-"||a==="+"||a>=0){n=le(n)}if(n===0){n=null}r[t]=n}});return r}function le(e){var t=0;var n=e.split(/\s*,\s*/);o(n,function(e){if(e.charAt(e.length-1)=="s"){e=e.substring(0,e.length-1)}e=parseFloat(e)||0;t=t?Math.max(e,t):e});return t}function se(e){return e===0||e!=null}function ue(e,t){var n=F;var r=e+"s";if(t){n+=q}else{r+=" linear all"}return[n,r]}function ce(e){return[te,e+"s"]}function de(e,t){var n=t?ee:ne;return[n,e+"s"]}function fe(e,t){var n=t?"-"+t+"s":"";pe(e,[ne,n]);return[ne,n]}function me(e,t){var n=t?"paused":"";var r=j+Y;pe(e,[r,n]);return[r,n]}function pe(e,t){var n=t[0];var r=t[1];e.style[n]=r}function he(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){if(!e[t]){e[t]={total:1,value:n}}else{e[t].total++}}}}var ge=["$animateProvider",function(e){var t=he();var n=he();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(e,r,i,a,s,u,c){var d=x(r);var f=0;function m(e,t){var n="$$ngAnimateParentKey";var r=e.parentNode;var i=r[n]||(r[n]=++f);return i+"-"+e.getAttribute("class")+"-"+t}function p(n,r,i,a){var o=t.get(i);if(!o){o=oe(e,n,a);if(o.animationIterationCount==="infinite"){o.animationIterationCount=1}}t.put(i,o);return o}function h(i,a,o,l){var s;if(t.count(o)>0){s=n.get(o);if(!s){var u=$(a,"-stagger");r.addClass(i,u);s=oe(e,i,l);s.animationDuration=Math.max(s.animationDuration,0);s.transitionDuration=Math.max(s.transitionDuration,0);r.removeClass(i,u);n.put(o,s)}}return s||{}}var g=R(s).body;var v=[];function b(e){v.push(e);c.waitUntilQuiet(function(){t.flush();n.flush();var e=g.offsetWidth+1;for(var r=0;r<v.length;r++){v[r](e)}v.length=0})}return y;function _(e,t,n){var r=p(e,t,n,ie);var i=r.animationDelay;var a=r.transitionDelay;r.maxDelay=i&&a?Math.max(i,a):i||a;r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration);return r}function y(e,n){var s=R(e);n=T(n);var c=[];var f=e.attr("class");var p=E(n);var g;var v;var y;var A;var C;var M;var k;var x;var D;if(n.duration===0||!u.animations&&!u.transitions){return we()}var O=n.event&&l(n.event)?n.event.join(" "):n.event;var I=O&&n.structural;var P="";var L="";if(I){P=$(O,"ng-",true)}else if(O){P=O}if(n.addClass){L+=$(n.addClass,"-add")}if(n.removeClass){if(L.length){L+=" "}L+=$(n.removeClass,"-remove")}if(n.applyClassesEarly&&L.length){d(e,n);L=""}var q=[P,L].join(" ").trim();var z=f+" "+q;var G=$(q,"-active");var Y=p.to&&Object.keys(p.to).length>0;if(!Y&&!q){return we()}var Q,ee;if(n.stagger>0){var te=parseFloat(n.stagger);ee={transitionDelay:te,animationDelay:te,transitionDuration:0,animationDuration:0}}else{Q=m(s,z);ee=h(s,q,Q,ae)}r.addClass(e,q);var ne;if(n.transitionStyle){var re=[F,n.transitionStyle];pe(s,re);c.push(re)}if(n.duration>=0){ne=s.style[F].length>0;var ie=ue(n.duration,ne);pe(s,ie);c.push(ie)}if(n.keyframeStyle){var oe=[j,n.keyframeStyle];pe(s,oe);c.push(oe)}var le=ee?n.staggerIndex>=0?n.staggerIndex:t.count(Q):0;var he=le===0;if(he){fe(s,Z)}var ge=_(s,z,Q);var ve=ge.maxDelay;M=Math.max(ve,0);x=ge.maxDuration;var be={};be.hasTransitions=ge.transitionDuration>0;be.hasAnimations=ge.animationDuration>0;be.hasTransitionAll=be.hasTransitions&&ge.transitionProperty=="all";be.applyTransitionDuration=Y&&(be.hasTransitions&&!be.hasTransitionAll||be.hasAnimations&&!be.hasTransitions);be.applyAnimationDuration=n.duration&&be.hasAnimations;be.applyTransitionDelay=se(n.delay)&&(be.applyTransitionDuration||be.hasTransitions);be.applyAnimationDelay=se(n.delay)&&be.hasAnimations;be.recalculateTimingStyles=L.length>0;if(be.applyTransitionDuration||be.applyAnimationDuration){x=n.duration?parseFloat(n.duration):x;if(be.applyTransitionDuration){be.hasTransitions=true;ge.transitionDuration=x;ne=s.style[F+W].length>0;c.push(ue(x,ne))}if(be.applyAnimationDuration){be.hasAnimations=true;ge.animationDuration=x;c.push(ce(x))}}if(x===0&&!be.recalculateTimingStyles){return we()}if(n.duration==null&&ge.transitionDuration>0){be.recalculateTimingStyles=be.recalculateTimingStyles||he}k=M*J;D=x*J;if(!n.skipBlocking){be.blockTransition=ge.transitionDuration>0;be.blockKeyframeAnimation=ge.animationDuration>0&&ee.animationDelay>0&&ee.animationDuration===0}N(e,n);if(!be.blockTransition){fe(s,false)}$e(x);return{$$willAnimate:true,end:_e,start:function(){if(g)return;C={end:_e,cancel:ye,resume:null,pause:null};A=new i(C);b(Ae);return A}};function _e(){Ee()}function ye(){Ee(true)}function Ee(t){if(g||y&&v)return;g=true;v=false;r.removeClass(e,q);r.removeClass(e,G);me(s,false);fe(s,false);o(c,function(e){s.style[e[0]]=""});d(e,n);S(e,n);if(n.onDone){n.onDone()}if(A){A.complete(!t)}}function $e(e){if(be.blockTransition){fe(s,e)}if(be.blockKeyframeAnimation){me(s,!!e)}}function we(){A=new i({end:_e,cancel:ye});Ee();return{$$willAnimate:false,start:function(){return A},end:_e}}function Ae(){if(g)return;var t,i=[];var l=function(e){if(!y){v=!e;if(ge.animationDuration){var t=me(s,v);v?c.push(t):w(c,t)}}else if(v&&e){v=false;Ee()}};var u=le>0&&(ge.transitionDuration&&ee.transitionDuration===0||ge.animationDuration&&ee.animationDuration===0)&&Math.max(ee.animationDelay,ee.transitionDelay);if(u){a(f,Math.floor(u*le*J),false)}else{f()}C.resume=function(){l(true)};C.pause=function(){l(false)};function f(){if(g)return;$e(false);o(c,function(e){var t=e[0];var n=e[1];s.style[t]=n});d(e,n);r.addClass(e,G);if(be.recalculateTimingStyles){z=s.className+" "+q;Q=m(s,z);ge=_(s,z,Q);ve=ge.maxDelay;M=Math.max(ve,0);x=ge.maxDuration;if(x===0){Ee();return}be.hasTransitions=ge.transitionDuration>0;be.hasAnimations=ge.animationDuration>0}if(be.applyTransitionDelay||be.applyAnimationDelay){ve=typeof n.delay!=="boolean"&&se(n.delay)?parseFloat(n.delay):ve;M=Math.max(ve,0);var l;if(be.applyTransitionDelay){ge.transitionDelay=ve;l=de(ve);c.push(l);s.style[l[0]]=l[1]}if(be.applyAnimationDelay){ge.animationDelay=ve;l=de(ve,true);c.push(l);s.style[l[0]]=l[1]}}k=M*J;D=x*J;if(n.easing){var u,f=n.easing;if(be.hasTransitions){u=F+V;c.push([u,f]);s.style[u]=f}if(be.hasAnimations){u=j+V;c.push([u,f]);s.style[u]=f}}if(ge.transitionDuration){i.push(U)}if(ge.animationDuration){i.push(B)}t=Date.now();e.on(i.join(" "),h);a(p,k+X*D);H(e,n)}function p(){Ee()}function h(e){e.stopPropagation();var n=e.originalEvent||e;var r=n.$manualTimeStamp||n.timeStamp||Date.now();var i=parseFloat(n.elapsedTime.toFixed(K));if(Math.max(r-t,0)>=k&&i>=x){y=true;Ee()}}}}}]}];var ve=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim";var n="ng-anchor";var i="ng-anchor-out";var l="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(e,u,c,d,f,m){if(!m.animations&&!m.transitions)return r;var p=R(f).body;var h=R(d);var g=a(p.parentNode===h?p:h);return function $(e){return e.from&&e.to?y(e.from,e.to,e.classes,e.anchors):E(e)};function v(e){return e.replace(/\bng-\S+\b/g,"")}function b(e,t){if(s(e))e=e.split(" ");if(s(t))t=t.split(" ");return e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function _(r,s,u){var d=a(R(s).cloneNode(true));var f=v($(d));s.addClass(t);u.addClass(t);d.addClass(n);g.append(d);var m,h=E();if(!h){m=w();if(!m){return A()}}var _=h||m;return{start:function(){var e;var t=_.start();t.done(function(){t=null;if(!m){m=w();if(m){t=m.start();t.done(function(){t=null;A();e.complete()});return t}}A();e.complete()});e=new c({end:n,cancel:n});return e;function n(){if(t){t.end()}}}};function y(e){var t={};var n=R(e).getBoundingClientRect();o(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=p.scrollTop;break;case"left":r+=p.scrollLeft;break}t[e]=Math.floor(r)+"px"});return t}function E(){var t=e(d,{addClass:i,delay:true,from:y(s)});return t.$$willAnimate?t:null}function $(e){return e.attr("class")||""}function w(){var t=v($(u));var n=b(t,f);var r=b(f,t);var a=e(d,{to:y(u),addClass:l+" "+n,removeClass:i+" "+r,delay:true});return a.$$willAnimate?a:null}function A(){d.remove();s.removeClass(t);u.removeClass(t)}}function y(e,t,n,r){var i=E(e);var a=E(t);var l=[];o(r,function(e){var t=e["out"];var r=e["in"];var i=_(n,t,r);if(i){l.push(i)}});if(!i&&!a&&l.length===0)return;return{start:function(){var e=[];if(i){e.push(i.start())}if(a){e.push(a.start())}o(l,function(t){e.push(t.start())});var t=new c({end:n,cancel:n});c.all(e,function(e){t.complete(e)});return t;function n(){o(e,function(e){e.end()})}}}}function E(t){var n=t.element;var r=t.options||{};if(t.structural){r.structural=r.applyClassesEarly=true;r.event=t.event;if(r.event==="leave"){r.onDone=r.domOperation}}else{r.event=null}var i=e(n,r);return i.$$willAnimate?i:null}}]}];var be=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(t,n,i,a){var s=x(a);return function(e,t,i,a){if(arguments.length===3&&u(i)){a=i;i=null}a=T(a);if(!i){i=e.attr("class")||"";if(a.addClass){i+=" "+a.addClass}if(a.removeClass){i+=" "+a.removeClass}}var l=a.addClass;var d=a.removeClass;var m=c(i);var p,h;if(m.length){var g,v;if(t=="leave"){v="leave";g="afterLeave"}else{v="before"+t.charAt(0).toUpperCase()+t.substr(1);g=t}if(t!=="enter"&&t!=="move"){p=E(e,t,a,m,v)}h=E(e,t,a,m,g)}if(!p&&!h)return;function b(){a.domOperation();s(e,a)}return{start:function(){var t;var i=[];if(p){i.push(function(e){t=p(e)})}if(i.length){i.push(function(e){b();e(true)})}else{b()}if(h){i.push(function(e){t=h(e)})}var o=false;var l=new n({end:function(){u()},cancel:function(){u(true)}});n.chain(i,s);return l;function s(t){o=true;b();S(e,a);l.complete(t)}function u(e){if(!o){(t||r)(e);s(e)}}}};function _(e,t,i,a,o){var s;switch(i){case"animate":s=[t,a.from,a.to,o];break;case"setClass":s=[t,l,d,o];break;case"addClass":s=[t,l,o];break;case"removeClass":s=[t,d,o];break;default:s=[t,o];break}s.push(a);var u=e.apply(e,s);if(u){if(f(u.start)){u=u.start()}if(u instanceof n){u.done(o)}else if(f(u)){return u}}return r}function y(e,t,i,a,l){var s=[];o(a,function(a){var o=a[l];if(!o)return;s.push(function(){var a;var l;var s=false;var u=function(e){if(!s){s=true;(l||r)(e);a.complete(!e)}};a=new n({end:function(){u()},cancel:function(){u(true)}});l=_(o,e,t,i,function(e){var t=e===false;u(t)});return a})});return s}function E(e,t,r,i,a){var l=y(e,t,r,i,a);if(l.length===0){var s,u;if(a==="beforeSetClass"){s=y(e,"removeClass",r,i,"beforeRemoveClass");u=y(e,"addClass",r,i,"beforeAddClass")}else if(a==="setClass"){s=y(e,"removeClass",r,i,"removeClass");u=y(e,"addClass",r,i,"addClass")}if(s){l=l.concat(s)}if(u){l=l.concat(u)}}if(l.length===0)return;return function c(e){var t=[];if(l.length){o(l,function(e){t.push(e())})}t.length?n.all(t,e):e();return function r(e){o(t,function(t){e?t.cancel():t.end()})}}}};function c(n){n=l(n)?n:n.split(" ");var r=[],i={};for(var a=0;a<n.length;a++){var o=n[a],s=e.$$registeredAnimations[o];if(s&&!i[o]){r.push(t.get(s));i[o]=true}}return r}}]}];var _e=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(e,t){return function r(e){if(e.from&&e.to){var r=n(e.from);var i=n(e.to);if(!r&&!i)return;return{start:function(){var e=[];if(r){e.push(r.start())}if(i){e.push(i.start())}t.all(e,l);var n=new t({end:a(),cancel:a()});return n;function a(){return function(){o(e,function(e){e.end()})}}function l(e){n.complete(e)}}}}else{return n(e)}};function n(t){var n=t.element;var r=t.event;var i=t.options;var a=t.classes;return e(n,r,a,i)}}]}];var ye="data-ng-animate";var Ee="$ngAnimatePin";var $e=["$animateProvider",function(e){var t=1;var n=2;var r=this.rules={skip:[],cancel:[],join:[]};function s(e,t,n,i){return r[e].some(function(e){return e(t,n,i)})}function f(e,t){e=e||{};var n=(e.addClass||"").length>0;var r=(e.removeClass||"").length>0;return t?n&&r:n||r}r.join.push(function(e,t,n){return!t.structural&&f(t.options)});r.skip.push(function(e,t,n){return!t.structural&&!f(t.options)});r.skip.push(function(e,t,n){return n.event=="leave"&&t.structural});r.skip.push(function(e,t,n){return n.structural&&!t.structural});r.cancel.push(function(e,t,n){return n.structural&&t.structural});r.cancel.push(function(e,t,r){return r.state===n&&t.structural});r.cancel.push(function(e,t,n){var r=t.options;var i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(r,h,g,b,y,E,$,w,M){var k=new y;var N=new y;var H=null;var O=h.$watch(function(){return w.totalPendingRequests===0},function(e){if(!e)return;O();h.$$postDigest(function(){h.$$postDigest(function(){if(H===null){H=true}})})});var I=a(b[0].body);var P={};var L=e.classNameFilter();var F=!L?function(){return true}:function(e){return L.test(e)};var U=x(M);function j(e,t){return D(e,t,{})}function B(e,t){var n=R(e);var r=[];var i=P[t];if(i){o(i,function(e){if(e.node.contains(n)){r.push(e.callback)}})}return r}function q(e,t,n,i){r(function(){o(B(t,e),function(e){e(t,n,i)})})}return{on:function(e,t,n){var r=C(t);P[e]=P[e]||[];P[e].push({node:r,callback:n})},off:function(e,t,n){var r=P[e];if(!r)return;P[e]=arguments.length===1?null:i(r,t,n);function i(e,t,n){var r=C(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}},pin:function(e,t){_(m(e),"element","not an element");_(m(t),"parentElement","not an element");e.data(Ee,t)},push:function(e,t,n,r){n=n||{};n.domOperation=r;return W(e,t,n)},enabled:function(e,t){var n=arguments.length;if(n===0){t=!!H}else{var r=m(e);if(!r){t=H=!!e}else{var i=R(e);var a=N.get(i);if(n===1){t=!a}else{t=!!t;if(!t){N.put(i,true)}else if(a){N.remove(i)}}}}return t}};function W(e,r,i){var a,o;e=A(e);if(e){a=R(e);o=e.parent()}i=T(i);var c=new $;if(!a){O();return c}if(l(i.addClass)){i.addClass=i.addClass.join(" ")}if(l(i.removeClass)){i.removeClass=i.removeClass.join(" ")}if(i.from&&!u(i.from)){i.from=null}if(i.to&&!u(i.to)){i.to=null}var d=[a.className,i.addClass,i.removeClass].join(" ");if(!F(d)){O();return c}var m=["enter","move","leave"].indexOf(r)>=0;var p=!H||N.get(a);var g=!p&&k.get(a)||{};var v=!!g.state;if(!p&&(!v||g.state!=t)){p=!K(e,o,r)}if(p){O();return c}if(m){z(e)}var b={structural:m,element:e,event:r,close:O,options:i,runner:c};if(v){var _=s("skip",e,b,g);if(_){if(g.state===n){O();return c}else{D(e,g.options,i);return g.runner}}var y=s("cancel",e,b,g);if(y){if(g.state===n){g.runner.end()}else if(g.structural){g.close()}else{D(e,b.options,g.options)}}else{var w=s("join",e,b,g);if(w){if(g.state===n){j(e,i)}else{r=b.event=g.event;i=D(e,g.options,b.options);return c}}}}else{j(e,i)}var C=b.structural;if(!C){C=b.event==="animate"&&Object.keys(b.options.to||{}).length>0||f(b.options)}if(!C){O();V(e);return c}if(m){Y(o)}var M=(g.counter||0)+1;b.counter=M;X(e,t,b);h.$$postDigest(function(){var t=k.get(a);var o=!t;t=t||{};var l=e.parent()||[];var s=l.length>0&&(t.event==="animate"||t.structural||f(t.options));if(o||t.counter!==M||!s){if(o){U(e,i);S(e,i)}if(o||m&&t.event!==r){i.domOperation();c.end()}if(!s){V(e)}return}r=!t.structural&&f(t.options,true)?"setClass":t.event;if(t.structural){Y(l)}X(e,n);var u=E(e,r,t.options);u.done(function(t){O(!t);var n=k.get(a);if(n&&n.counter===M){V(R(e))}x(c,r,"close",{})});c.setHost(u);x(c,r,"start",{})});return c;function x(t,n,r,i){q(n,e,r,i);t.progress(n,r,i)}function O(t){U(e,i);S(e,i);i.domOperation();c.complete(!t)}}function z(e){var r=R(e);var i=r.querySelectorAll("["+ye+"]");o(i,function(e){var r=parseInt(e.getAttribute(ye));var i=k.get(e);switch(r){case n:i.runner.end();case t:if(i){k.remove(e)}break}})}function V(e){var t=R(e);t.removeAttribute(ye);k.remove(t)}function G(e,t){return R(e)===R(t)}function Y(e){var t=R(e);do{if(!t||t.nodeType!==p)break;var r=k.get(t);if(r){i(t,r)}t=t.parentNode}while(true);function i(e,t){if(t.structural||!f(t.options))return;if(t.state===n){t.runner.end()}V(e)}}function K(e,t,n){var r=false;var i=false;var a=false;var o;var l=e.data(Ee);if(l){t=l}while(t&&t.length){if(!i){i=G(t,g)}var s=t[0];if(s.nodeType!==p){break}var u=k.get(s)||{};if(!a){a=u.structural||N.get(s)}if(c(o)||o===true){var f=t.data(v);if(d(f)){o=f}}if(a&&o===false)break;if(!i){i=G(t,g);if(!i){l=t.data(Ee);if(l){t=l}}}if(!r){r=G(t,I)}t=t.parent()}var m=!a||o;return m&&i&&r}function X(e,t,n){n=n||{};n.state=t;var r=R(e);r.setAttribute(ye,t);var a=k.get(r);var o=a?i(a,n):n;k.put(r,o)}}]}];var we=["$$rAF",function(e){return function(){var t=false;e(function(){t=true});return function(n){t?n():e(n)}}}];var Ae=["$q","$$rAFMutex",function(e,t){var n=0;var i=1;var a=2;l.chain=function(e,t){var n=0;r();function r(){if(n===e.length){t(true);return}e[n](function(e){if(e===false){t(false);return}n++;r()})}};l.all=function(e,t){var n=0;var r=true;o(e,function(e){e.done(i)});function i(i){r=r&&i;if(++n===e.length){t(r)}}};function l(e){this.setHost(e);this._doneCallbacks=[];this._runInAnimationFrame=t();this._state=0}l.prototype={setHost:function(e){this.host=e||{}},done:function(e){if(this._state===a){e()}else{this._doneCallbacks.push(e)}},progress:r,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===false?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(e){var t=this;if(t._state===n){t._state=i;t._runInAnimationFrame(function(){t._resolve(e)})}},_resolve:function(e){if(this._state!==a){o(this._doneCallbacks,function(t){t(e)});this._doneCallbacks.length=0;this._state=a}}};return l}];var Ce=["$animateProvider",function(e){var t="ng-animate-ref";var n=this.drivers=[];var r="$$animationRunner";function i(e,t){e.data(r,t)}function l(e){e.removeData(r)}function s(e){return e.data(r)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(e,r,u,c,d){var f=[];var m=x(e);var p=0;var h=0;var v=[];return function(b,_,E){E=T(E);var $=["enter","move","leave"].indexOf(_)>=0;var w=new c({end:function(){P()},cancel:function(){P(true)}});if(!n.length){P();return w}i(b,w);var A=y(b.attr("class"),y(E.addClass,E.removeClass));var C=E.tempClasses;if(C){A+=" "+C;E.tempClasses=null}var M;if(!$){M=p;p+=1}f.push({element:b,classes:A,event:_,classBasedIndex:M,structural:$,options:E,beforeStart:D,close:P});b.on("$destroy",I);if(f.length>1)return w;r.$$postDigest(function(){h=p;p=0;v.length=0;var e=[];o(f,function(t){if(s(t.element)){e.push(t)}});f.length=0;o(x(e),function(e){if(e.structural){t()}else{v.push({node:R(e.element),fn:t});if(e.classBasedIndex===h-1){v=v.sort(function(e,t){return t.node.contains(e.node)}).map(function(e){return e.fn});d(v)}}function t(){e.beforeStart();var t,n=e.close;var r=e.anchors?e.from.element||e.to.element:e.element;if(s(r)){var i=H(e);if(i){t=i.start}}if(!t){n()}else{var a=t();a.done(function(e){n(!e)});O(e,a)}}})});return w;function k(e){var n="["+t+"]";var r=e.hasAttribute(t)?[e]:e.querySelectorAll(n);var i=[];o(r,function(e){var n=e.getAttribute(t);if(n&&n.length){i.push(e)}});return i}function x(e){var n=[];var r={};o(e,function(e,i){var l=e.element;var s=R(l);var u=e.event;var c=["enter","move"].indexOf(u)>=0;var d=e.structural?k(s):[];if(d.length){var f=c?"to":"from";o(d,function(e){var n=e.getAttribute(t);r[n]=r[n]||{};r[n][f]={animationID:i,element:a(e)}})}else{n.push(e)}});var i={};var l={};o(r,function(t,r){var a=t.from;var o=t.to;if(!a||!o){var s=a?a.animationID:o.animationID;var u=s.toString();if(!i[u]){i[u]=true;n.push(e[s])}return}var c=e[a.animationID];var d=e[o.animationID];var f=a.animationID.toString();if(!l[f]){var m=l[f]={structural:true,beforeStart:function(){c.beforeStart();d.beforeStart()},close:function(){c.close();d.close()},classes:N(c.classes,d.classes),from:c,to:d,anchors:[]};if(m.classes.length){n.push(m)}else{n.push(c);n.push(d)}}l[f].anchors.push({out:a.element,"in":o.element})});return n}function N(e,t){e=e.split(" ");t=t.split(" ");var n=[];for(var r=0;r<e.length;r++){var i=e[r];if(i.substring(0,3)==="ng-")continue;for(var a=0;a<t.length;a++){if(i===t[a]){n.push(i);break}}}return n.join(" ")}function H(e){for(var t=n.length-1;t>=0;t--){var r=n[t];if(!u.has(r))continue;var i=u.get(r);var a=i(e);if(a){return a}}}function D(){b.addClass(g);if(C){e.addClass(b,C)}}function O(e,t){if(e.from&&e.to){n(e.from.element);n(e.to.element)}else{n(e.element)}function n(e){s(e).setHost(t)}}function I(){var e=s(b);if(e&&(_!=="leave"||!E.$$domOperationFired)){e.end()}}function P(t){b.off("$destroy",I);l(b);m(b,E);S(b,E);E.domOperation();if(C){e.removeClass(b,C)}b.removeClass(g);w.complete(!t)}}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",P).factory("$$rAFMutex",we).factory("$$rAFScheduler",I).factory("$$AnimateRunner",Ae).provider("$$animateQueue",$e).provider("$$animation",Ce).provider("$animateCss",ge).provider("$$animateCssDriver",ve).provider("$$animateJs",be).provider("$$animateJsDriver",_e);
})(window,window.angular);(function(e,t,n){"use strict";var r=t.isArray;var i=t.forEach;var a=t.isString;var o=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){var t="ng-active";var n="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(a,l,s){var u=this;var c=0;var d=this.messages={};var f,m;this.render=function(c){c=c||{};f=false;m=c;var d=r(l,s.ngMessagesMultiple)||r(l,s.multiple);var p=[];var h={};var g=u.head;var v=false;var b=0;while(g!=null){b++;var _=g.message;var y=false;if(!v){i(c,function(e,t){if(!y&&o(e)&&_.test(t)){if(h[t])return;h[t]=true;y=true;_.attach()}})}if(y){v=!d}else{p.push(_)}g=g.next}i(p,function(e){e.detach()});p.length!==b?e.setClass(a,t,n):e.setClass(a,n,t)};l.$watchCollection(s.ngMessages||s["for"],u.render);this.reRender=function(){if(!f){f=true;l.$evalAsync(function(){if(f){m&&u.render(m)}})}};this.register=function(e,t){var n=c.toString();d[n]={message:t};h(a[0],e,n);e.$$ngMessageNode=n;c++;u.reRender()};this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode;g(a[0],e,t);delete d[t];u.reRender()};function p(e,t){var n=t;var r=[];while(n&&n!==e){var i=n.$$ngMessageNode;if(i&&i.length){return d[i]}if(n.childNodes.length&&r.indexOf(n)==-1){r.push(n);n=n.childNodes[n.childNodes.length-1]}else{n=n.previousSibling||n.parentNode}}}function h(e,t,n){var r=d[n];if(!u.head){u.head=r}else{var i=p(e,t);if(i){r.next=i.next;i.next=r}else{r.next=u.head;u.head=r}}}function g(e,t,n){var r=d[n];var i=p(e,t);if(i){i.next=r.next}else{u.head=r.next}}}]};function r(e,t){return a(t)&&t.length===0||o(e.$eval(t))}function o(e){return a(e)?e.length:!!e}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,a){var l=a.ngMessagesInclude||a.src;e(l).then(function(e){n(e)(r,function(e){i.after(e);var n=o(t[0].createComment(" ngMessagesInclude: "+l+" "));i.after(n);i.remove()})})}}}]).directive("ngMessage",l("AE")).directive("ngMessageExp",l("A"));function l(e){return["$animate",function(e){return{restrict:"AE",transclude:"element",terminal:true,require:"^^ngMessages",link:function(n,i,a,o,l){var s=i[0];var u;var c=a.ngMessage||a.when;var d=a.ngMessageExp||a.whenExp;var f=function(e){u=e?r(e)?e:e.split(/[\s,]+/):null;o.reRender()};if(d){f(n.$eval(d));n.$watchCollection(d,f)}else{f(c)}var m,p;o.register(s,p={test:function(e){return t(u,e)},attach:function(){if(!m){l(n,function(t){e.enter(t,null,i);m=t;m.on("$destroy",function(){if(m){o.deregister(s);p.detach()}})})}},detach:function(){if(m){var t=m;m=null;e.leave(t)}}})}}}];function t(e,t){if(e){return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}}}})(window,window.angular);(function(e,t,n){"use strict";(function(){"use strict";t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.dialog","material.components.divider","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.toast","material.components.tabs","material.components.toolbar","material.components.tooltip","material.components.whiteframe"])})();(function(){"use strict";t.module("material.core",["material.core.gestures","material.core.theming"]).config(e);function e(e,t){e.decorator("$$rAF",["$delegate",n]);t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}e.$inject=["$provide","$mdThemingProvider"];function n(e){e.throttle=function(t){var n,r,i,a;return function o(){n=arguments;a=this;i=t;if(!r){r=true;e(function(){i.apply(a,n);r=false})}}};return e}})();(function(){"use strict";t.module("material.core").factory("$mdConstant",e);function e(e,t){var n=/webkit/i.test(t.vendorPrefix);function r(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:r("transform"),TRANSFORM_ORIGIN:r("transformOrigin"),TRANSITION:r("transition"),TRANSITION_DURATION:r("transitionDuration"),ANIMATION_PLAY_STATE:r("animationPlayState"),ANIMATION_DURATION:r("animationDuration"),ANIMATION_NAME:r("animationName"),ANIMATION_TIMING:r("animationTimingFunction"),ANIMATION_DIRECTION:r("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}e.$inject=["$$rAF","$sniffer"]})();(function(){"use strict";t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){t.iterator=e;return t}])}]);function e(e,n){var r=function(){return true};if(e&&!t.isArray(e)){e=Array.prototype.slice.call(e)}n=!!n;var i=e||[];return{items:a,count:o,inRange:l,contains:h,indexOf:p,itemAt:c,findBy:d,add:f,remove:m,first:g,last:v,next:t.bind(null,b,false),previous:t.bind(null,b,true),hasPrevious:u,hasNext:s};function a(){return[].concat(i)}function o(){return i.length}function l(e){return i.length&&e>-1&&e<i.length}function s(e){return e?l(p(e)+1):false}function u(e){return e?l(p(e)-1):false}function c(e){return l(e)?i[e]:null}function d(e,t){return i.filter(function(n){return n[e]===t})}function f(e,n){if(!e)return-1;if(!t.isNumber(n)){n=i.length}i.splice(n,0,e);return p(e)}function m(e){if(h(e)){i.splice(p(e),1)}}function p(e){return i.indexOf(e)}function h(e){return e&&p(e)>-1}function g(){return i.length?i[0]:null}function v(){return i.length?i[i.length-1]:null}function b(e,a,o,s){o=o||r;var u=p(a);while(true){if(!l(u))return null;var c=u+(e?-1:1);var d=null;if(l(c)){d=i[c]}else if(n){d=e?v():g();c=p(d)}if(d===null||c===s)return null;if(o(d))return d;if(t.isUndefined(s))s=c;u=c}}}})();(function(){"use strict";t.module("material.core").factory("$mdMedia",e);function e(e,n,r){var i={};var a={};var o={};var l={};s.getResponsiveAttribute=m;s.getQuery=f;s.watchResponsiveAttributes=p;return s;function s(e){var n=i[e];if(t.isUndefined(n)){n=i[e]=u(e)}var r=o[n];if(t.isUndefined(r)){r=c(n)}return r}function u(t){return e.MEDIA[t]||(t.charAt(0)!=="("?"("+t+")":t)}function c(e){var t=a[e]=r.matchMedia(e);t.addListener(d);return o[t.media]=!!t.matches}function d(e){n.$evalAsync(function(){o[e.media]=!!e.matches})}function f(e){return a[e]}function m(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var o=e.MEDIA_PRIORITY[r];if(!a[i[o]].matches){continue}var l=h(t,n+"-"+o);if(t[l]){return t[l]}}return t[h(t,n)]}function p(n,r,i){var a=[];n.forEach(function(n){var o=h(r,n);if(r[o]){a.push(r.$observe(o,t.bind(void 0,i,null)))}for(var l in e.MEDIA){o=h(r,n+"-"+l);if(!r[o]){return}a.push(r.$observe(o,t.bind(void 0,i,l)))}});return function o(){a.forEach(function(e){e()})}}function h(e,t){return l[t]||(l[t]=e.$normalize(t))}}e.$inject=["$mdConstant","$rootScope","$window"]})();(function(){"use strict";var r=["0","0","0"];t.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$window","$mdConstant",function(i,a,o,l,s,u){var c;function d(e){return e[0]||e}return c={now:e.performance?t.bind(e.performance,e.performance.now):Date.now,clientRect:function(e,t,n){var r=d(e);t=d(t||r.offsetParent||document.body);var i=r.getBoundingClientRect();var a=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-a.left,top:i.top-a.top,width:i.width,height:i.height}},offsetRect:function(e,t){return c.clientRect(e,t,true)},disableScrollAround:function(e){e=e instanceof t.element?e[0]:e;var n=e;var r;while(n=this.getClosest(n,"MD-CONTENT",true)){if(u(n)){r=t.element(n)[0]}}if(!r){r=a[0].body;if(!u(r))return t.noop}if(r.nodeName=="BODY"){return o()}else{return i()}function i(){var e=t.element('<div class="md-scroll-mask"><div class="md-scroll-mask-bar"></div></div>');var n=s.getComputedStyle(r);var i=r.getBoundingClientRect();var o=i.width-r.clientWidth;l(e[0],{zIndex:n.zIndex=="auto"?2:n.zIndex+1,width:i.width+"px",height:i.height+"px",top:i.top+"px",left:i.left+"px"});e[0].firstElementChild.style.width=o+"px";a[0].body.appendChild(e[0]);e.on("wheel",c);e.on("touchmove",c);a.on("keydown",u);return function d(){e.off("wheel");e.off("touchmove");e[0].parentNode.removeChild(e[0]);a.off("keydown",u)};function u(e){if(r.contains(e.target)){e.preventDefault();e.stopImmediatePropagation()}}function c(e){e.preventDefault()}}function o(){var e=r.getAttribute("style")||"";var t=r.scrollTop;l(r,{position:"fixed",width:"100%",overflowY:"scroll",top:-t+"px"});return function n(){r.setAttribute("style",e);r.scrollTop=t}}function l(e,t){for(var n in t){e.style[n]=t[n]}}function u(e){if(e instanceof t.element)e=e[0];return e.scrollHeight>e.offsetHeight}},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');a[0].body.appendChild(e[0]);this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth;e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function i(e){if(e.target===n&&e.$focus){n.focus();e.stopImmediatePropagation();e.preventDefault();n.removeEventListener("click",i)}},true);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",false,true,e,{},0,0,0,0,false,false,false,false,0,null);r.$material=true;r.$focus=true;n.dispatchEvent(r)},transitionEndPromise:function(e,t){t=t||{};var n=l.defer();e.on(u.CSS.TRANSITIONEND,r);function r(t){if(!t||t.target===e[0]){e.off(u.CSS.TRANSITIONEND,r);n.resolve()}}if(t.timeout)o(r,t.timeout);return n.promise},fakeNgModel:function(){return{$fake:true,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e;this.$render(e);this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return(""+e).length===0},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,r,i){var a;return function l(){var l=r,s=Array.prototype.slice.call(arguments);o.cancel(a);a=o(function(){a=n;e.apply(l,s)},t||10,i)}},throttle:function f(e,t){var n;return function r(){var r=this;var i=arguments;var a=c.now();if(!n||a-n>t){e.apply(r,i);n=a}}},time:function m(e){var t=c.now();e();return c.now()-t},nextUid:function(){var e=r.length;var t;while(e){e--;t=r[e].charCodeAt(0);if(t==57){r[e]="A";return r.join("")}if(t==90){r[e]="0"}else{r[e]=String.fromCharCode(t+1);return r.join("")}}r.unshift("0");return r.join("")},disconnectScope:function p(e){if(!e)return;if(e.$root===e)return;if(e.$$destroyed)return;var t=e.$parent;e.$$disconnected=true;if(t.$$childHead===e)t.$$childHead=e.$$nextSibling;if(t.$$childTail===e)t.$$childTail=e.$$prevSibling;if(e.$$prevSibling)e.$$prevSibling.$$nextSibling=e.$$nextSibling;if(e.$$nextSibling)e.$$nextSibling.$$prevSibling=e.$$prevSibling;e.$$nextSibling=e.$$prevSibling=null},reconnectScope:function h(e){if(!e)return;if(e.$root===e)return;if(!e.$$disconnected)return;var t=e;var n=t.$parent;t.$$disconnected=false;t.$$prevSibling=n.$$childTail;if(n.$$childHead){n.$$childTail.$$nextSibling=t;n.$$childTail=t}else{n.$$childHead=n.$$childTail=t}},getClosest:function g(e,n,r){if(e instanceof t.element)e=e[0];n=n.toUpperCase();if(r)e=e.parentNode;if(!e)return null;do{if(e.nodeName===n){return e}}while(e=e.parentNode);return null},extractElementByName:function(e,n){for(var r=0,i=e.length;r<i;r++){if(e[r].nodeName.toLowerCase()===n){return t.element(e[r])}}return e},initOptionalProperties:function(e,n,r){r=r||{};t.forEach(e.$$isolateBindings,function(i,a){if(i.optional&&t.isUndefined(e[a])){var o=n.hasOwnProperty(n.$normalize(i.attrName));e[a]=t.isDefined(r[a])?r[a]:o}})}}}]);t.element.prototype.focus=t.element.prototype.focus||function(){if(this.length){this[0].focus()}return this};t.element.prototype.blur=t.element.prototype.blur||function(){if(this.length){this[0].blur()}return this}})();(function(){"use strict";t.module("material.core").service("$mdAria",e);function e(e,n,r){return{expect:i,expectAsync:a,expectWithText:o};function i(e,r,i){var a=e[0]||e;if(a&&((!a.hasAttribute(r)||a.getAttribute(r).length===0)&&!s(a,r))){i=t.isString(i)?i.trim():"";if(i.length){e.attr(r,i)}else{n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',a)}}}function a(t,n,r){e(function(){i(t,n,r())})}function o(e,t){a(e,t,function(){return l(e)})}function l(e){return e.text().trim()}function s(e,t){var n=e.hasChildNodes(),i=false;function a(e){var t=e.currentStyle?e.currentStyle:r.getComputedStyle(e);return t.display==="none"}if(n){var o=e.childNodes;for(var l=0;l<o.length;l++){var s=o[l];if(s.nodeType===1&&s.hasAttribute(t)){if(!a(s)){i=true}}}}return i}}e.$inject=["$$rAF","$log","$window"]})();(function(){"use strict";t.module("material.core").service("$mdCompiler",e);function e(e,n,r,i,a,o){this.compile=function(l){var s=l.templateUrl;var u=l.template||"";var c=l.controller;var d=l.controllerAs;var f=l.resolve||{};var m=l.locals||{};var p=l.transformTemplate||t.identity;var h=l.bindToController;t.forEach(f,function(e,n){if(t.isString(e)){f[n]=r.get(e)}else{f[n]=r.invoke(e)}});t.extend(f,m);if(s){f.$template=n.get(s,{cache:o}).then(function(e){return e.data})}else{f.$template=e.when(u)}return e.all(f).then(function(e){var n=p(e.$template);var r=l.element||t.element("<div>").html(n.trim()).contents();var o=i(r);return{locals:e,element:r,link:function s(n){e.$scope=n;if(c){var i=a(c,e,true);if(h){t.extend(i.instance,e)}var l=i();r.data("$ngControllerController",l);r.children().data("$ngControllerController",l);if(d){n[d]=l}}return o(n)}}})}}e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]})();(function(){"use strict";var n={};var r,i,a=false;var o=false;t.module("material.core.gestures",[]).provider("$mdGesture",l).factory("$$MdGestureHandler",c).run(d);function l(){}l.prototype={skipClickHijack:function(){return a=true},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new s(e,t,n)}]};function s(r,i,o){var l=navigator.userAgent||navigator.vendor||e.opera;var s=l.match(/ipad|iphone|ipod/i);var u=l.match(/android/i);var c=typeof e.jQuery!=="undefined"&&t.element===e.jQuery;var d={handler:h,register:m,isHijackingClicks:(s||u)&&!c&&!a};if(d.isHijackingClicks){d.handler("click",{options:{maxDistance:6},onEnd:function(e,t){if(t.distance<this.state.options.maxDistance){this.dispatchEvent(e,"click")}}})}function m(e,t,r){var i=n[t.replace(/^\$md./,"")];if(!i){throw new Error("Failed to register element with handler "+t+". "+"Available handlers: "+Object.keys(n).join(", "))}return i.registerElement(e,r)}function h(e,i){var a=new r(e);t.extend(a,i);n[e]=a;return d}return d.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){o.cancel(this.state.timeout)},onStart:function(e,n){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:n.x,y:n.y};this.state.timeout=o(t.bind(this,function r(){this.dispatchEvent(e,"$md.hold");this.cancel()}),this.state.options.delay,false)},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x;var r=this.state.pos.y-t.y;if(Math.sqrt(n*n+r*r)>this.options.maxDistance){this.cancel()}},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:true,cancelMultiplier:1.5},onStart:function(e){if(!this.state.registeredParent)this.cancel()},onMove:function(e,t){var n,r;e.preventDefault();if(!this.state.dragPointer){if(this.state.options.horizontal){n=Math.abs(t.distanceX)>this.state.options.minDistance;r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier}else{n=Math.abs(t.distanceY)>this.state.options.minDistance;r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier}if(n){this.state.dragPointer=f(e);p(e,this.state.dragPointer);this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)}else if(r){this.cancel()}}else{this.dispatchDragMove(e)}},dispatchDragMove:i.throttle(function(e){if(this.state.isRunning){p(e,this.state.dragPointer);this.dispatchEvent(e,"$md.drag",this.state.dragPointer)}}),onEnd:function(e,t){if(this.state.dragPointer){p(e,this.state.dragPointer);this.dispatchEvent(e,"$md.dragend",this.state.dragPointer)}}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var n=t.directionX=="left"?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,n)}}})}s.$inject=["$$MdGestureHandler","$$rAF","$timeout"];function u(e){this.name=e;this.state={}}function c(){var n=typeof e.jQuery!=="undefined"&&t.element===e.jQuery;u.prototype={options:{},dispatchEvent:n?i:a,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(this.state.isRunning)return;var r=this.getNearestParent(e.target);var i=r&&r.$mdGesture[this.name]||{};this.state={isRunning:true,options:t.extend({},this.options,i),registeredParent:r};this.onStart(e,n)},move:function(e,t){if(!this.state.isRunning)return;this.onMove(e,t)},end:function(e,t){if(!this.state.isRunning)return;this.onEnd(e,t);this.state.isRunning=false},cancel:function(e,t){this.onCancel(e,t);this.state={}},getNearestParent:function(e){var t=e;while(t){if((t.$mdGesture||{})[this.name]){return t}t=t.parentNode}return null},registerElement:function(e,t){var n=this;e[0].$mdGesture=e[0].$mdGesture||{};e[0].$mdGesture[this.name]=t||{};e.on("$destroy",r);return r;function r(){delete e[0].$mdGesture[n.name];e.off("$destroy",r)}}};return u;function i(e,n,i){i=i||r;var a=new t.element.Event(n);a.$material=true;a.pointer=i;a.srcEvent=e;t.extend(a,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey});t.element(i.target).trigger(a)}function a(t,n,i){i=i||r;var a;if(n==="click"){a=document.createEvent("MouseEvents");a.initMouseEvent("click",true,true,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)}else{a=document.createEvent("CustomEvent");a.initCustomEvent(n,true,true,{})}a.$material=true;a.pointer=i;a.srcEvent=t;i.target.dispatchEvent(a)}}function d(e,a){document.contains||(document.contains=function(e){return document.body.contains(e)});if(!o&&e.isHijackingClicks){document.addEventListener("click",function v(e){var t=e.clientX===0&&e.clientY===0;if(!t&&!e.$material&&!e.isIonicTap){e.preventDefault();e.stopPropagation()}},true);o=true}var l="mousedown touchstart pointerdown";var s="mousemove touchmove pointermove";var u="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(l,d).on(s,h).on(u,g).on("$$mdGestureReset",function b(){i=r=null});function c(e,t){var i;for(var o in n){i=n[o];if(i instanceof a){if(e==="start"){i.cancel()}i[e](t,r)}}}function d(e){if(r)return;var t=+Date.now();if(i&&!m(e,i)&&t-i.endTime<1500){return}r=f(e);c("start",e)}function h(e){if(!r||!m(e,r))return;p(e,r);c("move",e)}function g(e){if(!r||!m(e,r))return;p(e,r);r.endTime=+Date.now();c("end",e);i=r;r=null}}d.$inject=["$mdGesture","$$MdGestureHandler"];function f(e){var t=h(e);var n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};n.startX=n.x=t.pageX;n.startY=n.y=t.pageY;return n}function m(e,t){return e&&t&&e.type.charAt(0)===t.type}function p(e,t){var n=h(e);var r=t.x=n.pageX;var i=t.y=n.pageY;t.distanceX=r-t.startX;t.distanceY=i-t.startY;t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY);t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"";t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"";t.duration=+Date.now()-t.startTime;t.velocityX=t.distanceX/t.duration;t.velocityY=t.distanceY/t.duration}function h(e){e=e.originalEvent||e;return e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}})();(function(){"use strict";t.module("material.core").provider("$$interimElement",e);function e(){e.$get=r;r.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"];return e;function e(e){var n=["onHide","onShow","onRemove"];var r={};var i={presets:{}};var a={setDefaults:o,addPreset:s,addMethod:l,$get:u};a.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]});u.$inject=["$$interimElement","$animate","$injector"];return a;function o(e){i.optionsFactory=e.options;i.methods=(e.methods||[]).concat(n);return a}function l(e,t){r[e]=t;return a}function s(t,r){r=r||{};r.methods=r.methods||[];r.options=r.options||function(){return{}};if(/^cancel|hide|show$/.test(t)){throw new Error("Preset '"+t+"' in "+e+" is reserved!")}if(r.methods.indexOf("_options")>-1){throw new Error("Method '_options' in "+e+" is reserved!")}i.presets[t]={methods:r.methods.concat(n),optionsFactory:r.options,argOption:r.argOption};return a}function u(n,a,o){var l;var s;var u=n();var c={hide:u.hide,cancel:u.cancel,show:d};l=i.methods||[];s=f(i.optionsFactory,{});t.forEach(r,function(e,t){c[t]=e});t.forEach(i.presets,function(e,n){var r=f(e.optionsFactory,{});var i=(e.methods||[]).concat(l);t.extend(r,{$type:n});function a(e){this._options=t.extend({},r,e)}t.forEach(i,function(e){a.prototype[e]=function(t){this._options[e]=t;return this}});if(e.argOption){var o="show"+n.charAt(0).toUpperCase()+n.slice(1);c[o]=function(e){var t=c[n](e);return c.show(t)}}c[n]=function(n){if(arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)){return(new a)[e.argOption](n)}else{return new a(n)}}});return c;function d(e){if(e&&e._options)e=e._options;return u.show(t.extend({},s,e))}function f(t,n){var r={};r[e]=c;return o.invoke(t||function(){return n},{},r)}}}function r(e,r,i,a,o,l,s,u,c){var d=s.startSymbol(),f=s.endSymbol(),m=d==="{{"&&f==="}}",p=m?t.identity:h;return function g(){var s=[];var d;return d={show:f,hide:m,cancel:h};function f(e){if(s.length){return d.cancel().then(function(){return f(e)})}else{var t=new g(e);s.push(t);return t.show().then(function(){return t.deferred.promise})}}function m(e){var t=s.shift();return t&&t.remove().then(function(){t.deferred.resolve(e)})}function h(e){var t=s.shift();return r.when(t&&t.remove().then(function(){t.deferred.reject(e)}))}function g(s){var f;var m,h,g,v;s=s||{};s=t.extend({preserveScope:false,scope:s.scope||i.$new(s.isolateScope),onShow:function(e,t,n){return l.enter(t,n.parent)},onRemove:function(e,t,n){return t&&l.leave(t)||r.when()}},s);if(s.template){s.template=p(s.template)}return f={options:s,deferred:r.defer(),show:function(){var n;if(s.skipCompile){n=r(function(e){e({locals:{},link:function(){return s.element}})})}else{n=u.compile(s)}return g=n.then(function(n){t.extend(n.locals,f.options);h=n.link(s.scope);if(t.isFunction(s.parent)){s.parent=s.parent(s.scope,h,s)}else if(t.isString(s.parent)){s.parent=t.element(e[0].querySelector(s.parent))}if(!(s.parent||{}).length){var i;if(o[0]&&o[0].querySelector){i=o[0].querySelector(":not(svg) > body")}if(!i)i=o[0];if(i.nodeName=="#comment"){i=e[0].body}s.parent=t.element(i)}if(s.themable)c(h);var l=s.onShow(s.scope,h,s);return r.when(l).then(function(){(s.onComplete||t.noop)(s.scope,h,s);u()});function u(){if(s.hideDelay){m=a(d.cancel,s.hideDelay)}}},function(e){g=true;f.deferred.reject(e)})},cancelTimeout:function(){if(m){a.cancel(m);m=n}},remove:function(){f.cancelTimeout();return v=r.when(g).then(function(){var e=h?s.onRemove(s.scope,h,s):true;return r.when(e).then(function(){if(!s.preserveScope)s.scope.$destroy();v=true})})}}}};function h(e){if(!e||!t.isString(e))return e;return e.replace(/\{\{/g,d).replace(/}}/g,f)}}}})();(function(){"use strict";t.module("material.core").factory("$mdComponentRegistry",e);function e(e,n){var r;var i=[];var a={};return r={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return i},get:function(e){if(!o(e))return null;var t,n,r;for(t=0,n=i.length;t<n;t++){r=i[t];if(r.$$mdHandle===e){return r}}return null},register:function(e,n){if(!n)return t.noop;e.$$mdHandle=n;i.push(e);o();return r;function r(){var t=i.indexOf(e);if(t!==-1){i.splice(t,1)}}function o(){var t=a[n];if(t){t.resolve(e);delete a[n]}}},when:function(e){if(o(e)){var t=n.defer();var i=r.get(e);if(i){t.resolve(i)}else{a[e]=t}return t.promise}return n.reject("Invalid `md-component-id` value.")}};function o(e){return e&&e!==""}}e.$inject=["$log","$q"]})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdButtonInkRipple",e);function e(e){return{attach:n};function n(n,i,a){var o=r(i);return e.attach(n,i,t.extend(o,a))}function r(e){if(e.hasClass("md-icon-button")){return{isMenuItem:e.hasClass("md-menu-item"),fitRipple:true,center:true}}else{return{isMenuItem:e.hasClass("md-menu-item"),dimBackground:true}}}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdCheckboxInkRipple",e);function e(e){return{attach:n};function n(n,r,i){return e.attach(n,r,t.extend({center:true,dimBackground:false,fitRipple:true},i))}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdListInkRipple",e);function e(e){return{attach:n};function n(n,r,i){return e.attach(n,r,t.extend({center:false,dimBackground:true,outline:false,rippleSize:"full"},i))}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",r()).directive("mdNoBar",r()).directive("mdNoStretch",r());function e(e,n){return{controller:t.noop,link:function(t,r,i){if(i.hasOwnProperty("mdInkRippleCheckbox")){n.attach(t,r)}else{e.attach(t,r)}}}}e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"];function n(e,n){return{attach:r};function r(r,i,a){if(i.controller("mdNoInk"))return t.noop;a=t.extend({colorElement:i,mousedown:true,hover:true,focus:true,center:false,mousedownPauseTime:150,dimBackground:false,outline:false,fullRipple:true,isMenuItem:false,fitRipple:false},a);var o,l=i.controller("mdInkRipple")||{},s=0,u=[],c=[],d=i.attr("md-highlight"),f=false,m=false,p=i[0],h=i.attr("md-ripple-size"),g=b(i.attr("md-ink-ripple"))||b(a.colorElement.length&&e.getComputedStyle(a.colorElement[0]).color||"rgb(0, 0, 0)");switch(h){case"full":a.fullRipple=true;break;case"partial":a.fullRipple=false;break}if(a.mousedown){i.on("$md.pressdown",$).on("$md.pressup",w)}l.createRipple=E;if(d){r.$watch(d,function C(e){f=e;if(f&&!u.length){n(function(){E(0,0)},0,false)}t.forEach(u,y)})}return function M(){i.off("$md.pressdown",$).off("$md.pressup",w);v().remove()};function v(){var e=i.data("$mdRippleContainer");if(e)return e;e=t.element('<div class="md-ripple-container">');i.append(e);i.data("$mdRippleContainer",e);return e}function b(e){if(!e)return;if(e.indexOf("rgba")===0)return e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)");if(e.indexOf("rgb")===0)return n(e);if(e.indexOf("#")===0)return t(e);function t(e){var t=e.charAt(0)==="#"?e.substr(1):e,n=t.length/3,r=t.substr(0,n),i=t.substr(n,n),a=t.substr(n*2);if(n===1){r+=r;i+=i;a+=a}return"rgba("+parseInt(r,16)+","+parseInt(i,16)+","+parseInt(a,16)+",0.1)"}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}}function _(e,t){u.splice(u.indexOf(e),1);if(u.length===0){v().css({backgroundColor:""})}n(function(){e.remove()},t,false)}function y(e){var t=u.indexOf(e),n=c[t]||{},r=u.length>1?false:f,i=u.length>1?false:m;if(r||n.animating||i){e.addClass("md-ripple-visible")}else if(e){e.removeClass("md-ripple-visible");if(a.outline){e.css({width:o+"px",height:o+"px",marginLeft:o*-1+"px",marginTop:o*-1+"px"})}_(e,a.outline?450:650)}}function E(r,l){g=b(i.attr("md-ink-ripple"))||b(e.getComputedStyle(a.colorElement[0]).color||"rgb(0, 0, 0)");var d=v(),f=w(r,l),m=A(f,r,l),h=$(m),_=u.indexOf(h),E=c[_]||{};o=f;E.animating=true;n(function(){if(a.dimBackground){d.css({backgroundColor:g})}h.addClass("md-ripple-placed md-ripple-scaled");if(a.outline){h.css({borderWidth:f*.5+"px",marginLeft:f*-.5+"px",marginTop:f*-.5+"px"})}else{h.css({left:"50%",top:"50%"})}y(h);n(function(){E.animating=false;y(h)},a.outline?450:225,false)},0,false);return h;function $(e){var n=t.element('<div class="md-ripple" data-counter="'+s++ +'">');u.unshift(n);c.unshift({animating:true});d.append(n);e&&n.css(e);return n}function w(e,t){var n=d.prop("offsetWidth"),r=d.prop("offsetHeight"),i,o,l;if(a.isMenuItem){o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}else if(a.outline){l=p.getBoundingClientRect();e-=l.left;t-=l.top;n=Math.max(e,n-e);r=Math.max(t,r-t);o=2*Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}else{i=a.fullRipple?1.1:.8;o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2))*i;if(a.fitRipple){o=Math.min(r,n,o)}}return o}function A(e,t,n){var r=p.getBoundingClientRect(),i={backgroundColor:o(g),borderColor:o(g),width:e+"px",height:e+"px"};if(a.outline){i.width=0;i.height=0}else{i.marginLeft=i.marginTop=e*-.5+"px"}if(a.center){i.left=i.top="50%"}else{i.left=Math.round((t-r.left)/d.prop("offsetWidth")*100)+"%";i.top=Math.round((n-r.top)/d.prop("offsetHeight")*100)+"%"}return i;function o(e){return e.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}}}function $(e){if(!A())return;E(e.pointer.x,e.pointer.y);m=true}function w(){m=false;var e=u[u.length-1];n(function(){y(e)},0,false)}function A(){var e=p.parentNode;var t=e&&e.parentNode;var n=t&&t.parentNode;return!r(p)&&!r(e)&&!r(t)&&!r(n);function r(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}}}}n.$inject=["$window","$timeout"];function r(){return function(){return{controller:t.noop}}}})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdTabInkRipple",e);function e(e){return{attach:n};function n(n,r,i){return e.attach(n,r,t.extend({center:false,dimBackground:true,outline:false,rippleSize:"full"},i))}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",
contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})})();(function(){"use strict";t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",b).directive("mdThemable",_).provider("$mdTheming",v).run(E);var e={};var r;var i;var a={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"};var o={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"};var l="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)";var s="";var u=w("rgba(0,0,0,0.87)");var c=w("rgba(255,255,255,0.87");var d=w("rgb(255,255,255)");var f=["primary","accent","warn","background"];var m="primary";var p={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}};var h={background:{"default":"800","hue-1":"300","hue-2":"600","hue-3":"900"}};f.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};if(!p[e])p[e]=t;if(!h[e])h[e]=t});var g=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];function v(e){r={};i={};var u;var c="default";var d=false;t.extend(r,e);$.$inject=["$rootScope","$log"];return u={definePalette:m,extendPalette:v,theme:_,setDefaultTheme:function(e){c=e},alwaysWatchTheme:function(e){d=e},$get:$,_LIGHT_DEFAULT_HUES:p,_DARK_DEFAULT_HUES:h,_PALETTES:r,_THEMES:i,_parseRules:y,_rgba:A};function m(e,t){t=t||{};r[e]=b(e,t);return u}function v(e,n){return b(e,t.extend({},r[e]||{},n))}function b(e,t){var n=g.filter(function(e){return!t[e]});if(n.length){throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e))}return t}function _(e,n){if(i[e])return i[e];n=n||"default";var r=typeof n==="string"?i[n]:n;var a=new E(e);if(r){t.forEach(r.colors,function(e,n){a.colors[n]={name:e.name,hues:t.extend({},e.hues)}})}i[e]=a;return a}function E(e){var n=this;n.name=e;n.colors={};n.dark=r;r(false);function r(e){e=arguments.length===0?true:!!e;if(e===n.isDark)return;n.isDark=e;n.foregroundPalette=n.isDark?o:a;n.foregroundShadow=n.isDark?l:s;var r=n.isDark?h:p;var i=n.isDark?p:h;t.forEach(r,function(e,t){var r=n.colors[t];var a=i[t];if(r){for(var o in r.hues){if(r.hues[o]===a[o]){r.hues[o]=e[o]}}}});return n}f.forEach(function(e){var r=(n.isDark?h:p)[e];n[e+"Palette"]=function i(a,o){var l=n.colors[e]={name:a,hues:t.extend({},r,o)};Object.keys(l.hues).forEach(function(e){if(!r[e]){throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",n.name).replace("%3",a).replace("%4",Object.keys(r).join(", ")))}});Object.keys(l.hues).map(function(e){return l.hues[e]}).forEach(function(t){if(g.indexOf(t)==-1){throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",n.name).replace("%3",e).replace("%4",a).replace("%5",g.join(", ")))}});return n};n[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. "+"Use $mdThemingProviderTheme."+e+"Palette() instead.");return n[e+"Palette"].apply(n,t)}})}function $(e,r){o.inherit=function(n,i){var o=i.controller("mdTheme");var l=n.attr("md-theme-watch");if((d||t.isDefined(l))&&l!="false"){var s=e.$watch(function(){return o&&o.$mdTheme||c},f);n.on("$destroy",s)}else{var u=o&&o.$mdTheme||c;f(u)}function f(e){if(!a(e)){r.warn("Attempted to use unregistered theme '"+e+"'. "+"Register it with $mdThemingProvider.theme().")}var t=n.data("$mdThemeName");if(t)n.removeClass("md-"+t+"-theme");n.addClass("md-"+e+"-theme");n.data("$mdThemeName",e)}};o.THEMES=t.extend({},i);o.defaultTheme=function(){return c};o.registered=a;return o;function a(e){if(e===n||e==="")return true;return o.THEMES[e]!==n}function o(t,r){if(r===n){r=t;t=n}if(t===n){t=e}o.inherit(r,r)}}}v.$inject=["$mdColorPalette"];function b(e,t,n){return{priority:100,link:{pre:function(r,i,a){var o={$setTheme:function(t){if(!e.registered(t)){n.warn("attempted to use unregistered theme '"+t+"'")}o.$mdTheme=t}};i.data("$mdThemeController",o);o.$setTheme(t(a.mdTheme)(r));a.$observe("mdTheme",o.$setTheme)}}}}b.$inject=["$mdTheming","$interpolate","$log"];function _(e){return e}_.$inject=["$mdTheming"];function y(e,n,i){$(e,n);i=i.replace(/THEME_NAME/g,e.name);var a=[];var o=e.colors[n];var l=new RegExp(".md-"+e.name+"-theme","g");var s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g");var u=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g;var c=r[o.name];i=i.replace(u,function(t,n,i,a){if(n==="foreground"){if(i=="shadow"){return e.foregroundShadow}else{return e.foregroundPalette[i]||e.foregroundPalette["1"]}}if(i.indexOf("hue")===0){i=e.colors[n].hues[i]}return A((r[e.colors[n].name][i]||"").value,a)});t.forEach(o.hues,function(t,n){var r=i.replace(s,function(e,n,r,i,a){return A(c[t][i==="color"?"value":"contrast"],a)});if(n!=="default"){r=r.replace(l,".md-"+e.name+"-theme.md-"+n)}a.push(r)});return a}function E(n){var a=document.getElementsByTagName("head")[0];var o=a?a.firstElementChild:null;var l=n.has("$MD_THEME_CSS")?n.get("$MD_THEME_CSS"):"";if(!o)return;if(l.length===0)return;t.forEach(r,g);var s={};var p=l.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"});var h=new RegExp("md-("+f.join("|")+")","g");f.forEach(function(e){s[e]=""});p.forEach(function(e){var t=e.match(h);for(var n=0,r;r=f[n];n++){if(e.indexOf(".md-"+r)>-1){return s[r]+=e}}for(n=0;r=f[n];n++){if(e.indexOf(r)>-1){return s[r]+=e}}return s[m]+=e});t.forEach(i,function(t){if(!e[t.name]){f.forEach(function(e){var n=y(t,e,s[e]);while(n.length){var r=document.createElement("style");r.setAttribute("type","text/css");r.appendChild(document.createTextNode(n.shift()));a.insertBefore(r,o)}});if(t.colors.primary.name==t.colors.accent.name){console.warn("$mdThemingProvider: Using the same palette for primary and"+" accent. This violates the material design spec.")}e[t.name]=true}});function g(e){var n=e.contrastDefaultColor;var r=e.contrastLightColors||[];var i=e.contrastStrongLightColors||[];var a=e.contrastDarkColors||[];if(typeof r==="string")r=r.split(" ");if(typeof i==="string")i=i.split(" ");if(typeof a==="string")a=a.split(" ");delete e.contrastDefaultColor;delete e.contrastLightColors;delete e.contrastStrongLightColors;delete e.contrastDarkColors;t.forEach(e,function(o,l){if(t.isObject(o))return;var s=w(o);if(!s){throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",o).replace("%2",e.name).replace("%3",l))}e[l]={value:s,contrast:f()};function f(){if(n==="light"){if(a.indexOf(l)>-1){return u}else{return i.indexOf(l)>-1?d:c}}else{if(r.indexOf(l)>-1){return i.indexOf(l)>-1?d:c}else{return u}}}})}}E.$inject=["$injector"];function $(e,t){if(!r[(e.colors[t]||{}).name]){throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(r).join(", ")))}}function w(e){if(t.isArray(e)&&e.length==3)return e;if(/^rgb/.test(e)){return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return t==3?parseFloat(e,10):parseInt(e,10)})}if(e.charAt(0)=="#")e=e.substring(1);if(!/^([a-fA-F0-9]{3}){1,2}$/g.test(e))return;var n=e.length/3;var r=e.substr(0,n);var i=e.substr(n,n);var a=e.substr(n*2);if(n===1){r+=r;i+=i;a+=a}return[parseInt(r,16),parseInt(i,16),parseInt(a,16)]}function A(e,n){if(!e)return"rgb('0,0,0')";if(e.length==4){e=t.copy(e);n?e.pop():n=e.pop()}return n&&(typeof n=="number"||typeof n=="string"&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"}})();(function(){"use strict";t.module("material.components.autocomplete",["material.core","material.components.icon"])})();(function(){"use strict";t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",e);function e(e){return e}e.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n);function e(){return{restrict:"E"}}function n(e){var n=.5;var r=80;i.$inject=["$animate","$mdConstant","$mdUtil","$timeout","$compile","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"];return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:i});function i(e,i,a,o,l,s,u,c,d){var f;return{themable:true,targetEvent:null,onShow:m,onRemove:p,escapeToClose:true,disableParentScroll:true};function m(n,r,d){r=a.extractElementByName(r,"md-bottom-sheet");f=l('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(n);f.on("click",function(){o(u.cancel)});s.inherit(f,d.parent);e.enter(f,d.parent,null);var m=new h(r,d.parent);d.bottomSheet=m;d.targetEvent&&t.element(d.targetEvent.target).blur();s.inherit(m.element,d.parent);if(d.disableParentScroll){d.lastOverflow=d.parent.css("overflow");d.parent.css("overflow","hidden")}return e.enter(m.element,d.parent).then(function(){var e=t.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));e.focus();if(d.escapeToClose){d.rootElementKeyupCallback=function(e){if(e.keyCode===i.KEY_CODE.ESCAPE){o(u.cancel)}};c.on("keyup",d.rootElementKeyupCallback)}})}function p(n,r,i){var a=i.bottomSheet;e.leave(f);return e.leave(a.element).then(function(){if(i.disableParentScroll){i.parent.css("overflow",i.lastOverflow);delete i.lastOverflow}a.cleanup();i.targetEvent&&t.element(i.targetEvent.target).focus()})}function h(e,t){var a=d.register(t,"drag",{horizontal:false});t.on("$md.dragstart",l).on("$md.drag",s).on("$md.dragend",c);return{element:e,cleanup:function f(){a();t.off("$md.dragstart",l).off("$md.drag",s).off("$md.dragend",c)}};function l(t){e.css(i.CSS.TRANSITION_DURATION,"0ms")}function s(t){var n=t.pointer.distanceY;if(n<5){n=Math.max(-r,n/2)}e.css(i.CSS.TRANSFORM,"translate3d(0,"+(r+n)+"px,0)")}function c(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>n)){var r=e.prop("offsetHeight")-t.pointer.distanceY;var a=Math.min(r/t.pointer.velocityY*.75,500);e.css(i.CSS.TRANSITION_DURATION,a+"ms");o(u.cancel)}else{e.css(i.CSS.TRANSITION_DURATION,"");e.css(i.CSS.TRANSFORM,"")}}}}}n.$inject=["$$interimElementProvider"]})();(function(){"use strict";t.module("material.components.button",["material.core"]).directive("mdButton",e);function e(e,n,r,i){return{restrict:"EA",replace:true,transclude:true,template:o,link:l};function a(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function o(e,t){return a(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function l(o,l,s){var u=l[0];n(l);e.attach(o,l);var c=u.textContent.trim();if(!c){r.expect(l,"aria-label")}if(a(s)&&t.isDefined(s.ngDisabled)){o.$watch(s.ngDisabled,function(e){l.attr("tabindex",e?-1:0)})}l.on("click",function(e){if(s.disabled===true){e.preventDefault();e.stopImmediatePropagation()}});o.mouseActive=false;l.on("mousedown",function(){o.mouseActive=true;i(function(){o.mouseActive=false},100)}).on("focus",function(){if(o.mouseActive===false){l.addClass("md-focused")}}).on("blur",function(){l.removeClass("md-focused")})}}e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]})();(function(){"use strict";t.module("material.components.card",["material.core"]).directive("mdCard",e);function e(e){return{restrict:"E",link:function(t,n,r){e(n)}}}e.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e);function e(e,n,r,i,a,o,l){e=e[0];var s="md-checked";return{restrict:"E",transclude:true,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox>'+'<div class="md-icon"></div>'+"</div>"+'<div ng-transclude class="md-label"></div>',compile:u};function u(n,u){u.type="checkbox";u.tabindex=u.tabindex||"0";n.attr("role",u.type);return function c(n,u,d,f){f=f||o.fakeNgModel();a(u);if(d.ngChecked){n.$watch(n.$eval.bind(n,d.ngChecked),f.$setViewValue.bind(f))}m("ngDisabled","tabindex",{"true":"-1","false":d.tabindex});r.expectWithText(u,"aria-label");e.link.pre(n,{on:t.noop,0:{}},d,[f]);n.mouseActive=false;u.on("click",h).on("keypress",p).on("mousedown",function(){n.mouseActive=true;l(function(){n.mouseActive=false},100)}).on("focus",function(){if(n.mouseActive===false){u.addClass("md-focused")}}).on("blur",function(){u.removeClass("md-focused")});f.$render=g;function m(e,t,r){if(d[e]){n.$watch(d[e],function(e){if(r[e]){u.attr(t,r[e])}})}}function p(e){var t=e.which||e.keyCode;if(t===i.KEY_CODE.SPACE||t===i.KEY_CODE.ENTER){e.preventDefault();if(!u.hasClass("md-focused")){u.addClass("md-focused")}h(e)}}function h(e){if(u[0].hasAttribute("disabled"))return;n.$apply(function(){var t=d.ngChecked?d.checked:!f.$viewValue;f.$setViewValue(t,e&&e.type);f.$render()})}function g(){if(f.$viewValue){u.addClass(s)}else{u.removeClass(s)}}}}}e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]})();(function(){"use strict";t.module("material.components.chips",["material.core","material.components.autocomplete"])})();(function(){"use strict";t.module("material.components.content",["material.core"]).directive("mdContent",e);function e(e){return{restrict:"E",controller:["$scope","$element",t],link:function(t,r,i){var a=r[0];e(r);t.$broadcast("$mdContentLoaded",r);n(r[0])}};function t(e,t){this.$scope=e;this.$element=t}}e.$inject=["$mdTheming"];function n(e){t.element(e).on("$md.pressdown",function(t){if(t.pointer.type!=="t")return;if(t.$materialScrollFixed)return;t.$materialScrollFixed=true;if(e.scrollTop===0){e.scrollTop=1}else if(e.scrollHeight===e.scrollTop+e.offsetHeight){e.scrollTop-=1}})}})();(function(){"use strict";t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",n);function e(e,t){return{restrict:"E",link:function(n,r,i){t(r);e(function(){var e=r[0].querySelector("md-dialog-content");if(e&&e.scrollHeight>e.clientHeight){r.addClass("md-content-overflow")}})}}}e.$inject=["$$rAF","$mdTheming"];function n(e){var n=["title","content","ariaLabel","ok"];r.$inject=["$mdDialog","$mdTheming"];i.$inject=["$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$mdDialog","$timeout","$rootElement","$animate","$$rAF","$q"];return e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:i}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:r}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:r});function r(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">','<md-dialog-content role="document" tabIndex="-1">','<h2 class="md-title">{{ dialog.title }}</h2>',"<p>{{ dialog.content }}</p>","</md-dialog-content>",'<div class="md-actions">',"<md-button ng-if=\"dialog.$type == 'confirm'\""+' ng-click="dialog.abort()" class="md-primary">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function n(){this.hide=function(){e.hide(true)};this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:true,theme:t.defaultTheme()}}function i(e,n,r,i,a,o,l,s,u,c,d){return{hasBackdrop:true,isolateScope:true,onShow:m,onRemove:p,clickOutsideToClose:false,escapeToClose:true,targetEvent:null,focusOnOpen:true,disableParentScroll:true,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}};function f(e){var t=document.querySelector("md-dialog");if(t&&!t.contains(e.target)){e.stopImmediatePropagation();t.focus()}}function m(e,c,d){t.element(n[0].body).addClass("md-dialog-is-showing");c=r.extractElementByName(c,"md-dialog");d.parent=t.element(d.parent);d.popInTarget=t.element((d.targetEvent||{}).target);var m=E();if(d.hasBackdrop){var p=d.parent[0]==n[0].body&&n[0].documentElement&&n[0].documentElement.scrollTop?t.element(n[0].documentElement):d.parent;var g=p.prop("scrollTop");d.backdrop=t.element('<md-backdrop class="md-dialog-backdrop md-opaque">');d.backdrop.css("top",g+"px");a.inherit(d.backdrop,d.parent);u.enter(d.backdrop,d.parent);c.css("top",g+"px")}var _="dialog",y=m;if(d.$type==="alert"){_="alertdialog";y=c.find("md-dialog-content")}h(c.find("md-dialog"),_,d);document.addEventListener("focus",f,true);if(d.disableParentScroll){d.lastOverflow=d.parent.css("overflow");d.parent.css("overflow","hidden")}return b(c,d.parent,d.popInTarget&&d.popInTarget.length&&d.popInTarget).then(function(){v(c,true);if(d.escapeToClose){d.rootElementKeyupCallback=function(e){if(e.keyCode===i.KEY_CODE.ESCAPE){l(o.cancel)}};s.on("keyup",d.rootElementKeyupCallback)}if(d.clickOutsideToClose){d.dialogClickOutsideCallback=function(e){if(e.target===c[0]){l(o.cancel)}};c.on("click",d.dialogClickOutsideCallback)}if(d.focusOnOpen){y.focus()}});function E(){var e=c[0].querySelector(".dialog-close");if(!e){var n=c[0].querySelectorAll(".md-actions button");e=n[n.length-1]}return t.element(e)}}function p(e,r,i){t.element(n[0].body).removeClass("md-dialog-is-showing");if(i.backdrop){u.leave(i.backdrop)}if(i.disableParentScroll){i.parent.css("overflow",i.lastOverflow);delete i.lastOverflow}if(i.escapeToClose){s.off("keyup",i.rootElementKeyupCallback)}if(i.clickOutsideToClose){r.off("click",i.dialogClickOutsideCallback)}v(r,false);document.removeEventListener("focus",f,true);return _(r,i.parent,i.popInTarget&&i.popInTarget.length&&i.popInTarget).then(function(){r.remove();i.popInTarget&&i.popInTarget.focus()})}function h(t,n,i){t.attr({role:n,tabIndex:"-1"});var a=t.find("md-dialog-content");if(a.length===0){a=t}var o=t.attr("id")||"dialog_"+r.nextUid();a.attr("id",o);t.attr("aria-describedby",o);if(i.ariaLabel){e.expect(t,"aria-label",i.ariaLabel)}else{e.expectAsync(t,"aria-label",function(){var e=a.text().split(/\s+/);if(e.length>3)e=e.slice(0,3).concat("...");return e.join(" ")})}}function g(e,t){if(t.indexOf(e.nodeName)!==-1){return true}}function v(e,t){var n="aria-hidden";e=e[0];function r(e){while(e.parentNode){if(e===document.body){return}var i=e.parentNode.children;for(var a=0;a<i.length;a++){if(e!==i[a]&&!g(i[a],["SCRIPT","STYLE"])){i[a].setAttribute(n,t)}}r(e=e.parentNode)}}r(e)}function b(e,t,n){var a=e.find("md-dialog");t.append(e);y(a,n);c(function(){a.addClass("transition-in").css(i.CSS.TRANSFORM,"")});return r.transitionEndPromise(a)}function _(e,t,n){var i=e.find("md-dialog");i.addClass("transition-out").removeClass("transition-in");y(i,n);return r.transitionEndPromise(i)}function y(e,t){if(t){var n=t[0].getBoundingClientRect();var r=e[0].getBoundingClientRect();var a=Math.min(.5,n.width/r.width);var o=Math.min(.5,n.height/r.height);e.css(i.CSS.TRANSFORM,"translate3d("+(-r.left+n.left+n.width/2-r.width/2)+"px,"+(-r.top+n.top+n.height/2-r.height/2)+"px,"+"0) scale("+a+","+o+")")}}function E(e){var t=d.defer();e.on(i.CSS.TRANSITIONEND,n);function n(r){if(r.target===e[0]){e.off(i.CSS.TRANSITIONEND,n);t.resolve()}}return t.promise}}}n.$inject=["$$interimElementProvider"]})();(function(){"use strict";t.module("material.components.divider",["material.core"]).directive("mdDivider",e);function e(e){return{restrict:"E",link:e}}e.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",i).directive("mdGridTileFooter",a).directive("mdGridTileHeader",a).factory("$mdGridLayout",r);function e(e,r,i,a){return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:o};function o(n,o,l,s){o.attr("role","list");s.layoutDelegate=h;var u=t.bind(s,s.invalidateLayout),c=d();n.$on("$destroy",f);function d(){for(var e in r.MEDIA){a(e);a.getQuery(r.MEDIA[e]).addListener(u)}return a.watchResponsiveAttributes(["md-cols","md-row-height"],l,m)}function f(){s.layoutDelegate=t.noop;c();for(var e in r.MEDIA){a.getQuery(r.MEDIA[e]).removeListener(u)}}function m(e){if(e==null){s.invalidateLayout()}else if(a(e)){s.invalidateLayout()}}var p;function h(e){var r=A();var a={tileSpans:C(r),colCount:M(),rowMode:T(),rowHeight:x(),gutter:k()};if(!e&&t.equals(a,p)){return}var l=i(a.colCount,a.tileSpans,r).map(function(e,n){return{grid:{element:o,style:w(a.colCount,n,a.gutter,a.rowMode,a.rowHeight)},tiles:e.map(function(e,n){return{element:t.element(r[n]),style:$(e.position,e.spans,a.colCount,a.rowCount,a.gutter,a.rowMode,a.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:l}});p=a}var g=e.startSymbol();var v=e.endSymbol();function b(e){return g+e+v}var _=e(b("share")+"% - ("+b("gutter")+" * "+b("gutterShare")+")");var y=e("calc(("+b("unit")+" + "+b("gutter")+") * "+b("offset")+")");var E=e("calc(("+b("unit")+") * "+b("span")+" + ("+b("span")+" - 1) * "+b("gutter")+")");function $(e,t,n,r,i,a,o){var l=1/n*100;var s=(n-1)/n;var u=_({share:l,gutterShare:s,gutter:i});var c={left:y({unit:u,offset:e.col,gutter:i}),width:E({unit:u,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(a){case"fixed":c.top=y({unit:o,offset:e.row,gutter:i});c.height=E({unit:o,span:t.row,gutter:i});break;case"ratio":var d=l/o;var f=_({share:d,gutterShare:s,gutter:i});c.paddingTop=E({unit:f,span:t.row,gutter:i});c.marginTop=y({unit:f,offset:e.row,gutter:i});break;case"fit":var m=(r-1)/r;var d=1/r*100;var f=_({share:d,gutterShare:m,gutter:i});c.top=y({unit:f,offset:e.row,gutter:i});c.height=E({unit:f,span:t.row,gutter:i});break}return c}function w(e,t,n,r,i){var a={height:"",paddingBottom:""};switch(r){case"fixed":a.height=E({unit:i,span:t,gutter:n});break;case"ratio":var o=e===1?0:(e-1)/e,l=1/e*100,s=l*(1/i),u=_({share:s,gutterShare:o,gutter:n});a.paddingBottom=E({unit:u,span:t,gutter:n});break;case"fit":break}return a}function A(){return[].filter.call(o.children(),function(e){return e.tagName=="MD-GRID-TILE"})}function C(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(a.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(a.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function M(){var e=parseInt(a.getResponsiveAttribute(l,"md-cols"),10);if(isNaN(e)){throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value"}return e}function k(){return S(a.getResponsiveAttribute(l,"md-gutter")||1)}function x(){var e=a.getResponsiveAttribute(l,"md-row-height");switch(T()){case"fixed":return S(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function T(){var e=a.getResponsiveAttribute(l,"md-row-height");if(e=="fit"){return"fit"}else if(e.indexOf(":")!==-1){return"ratio"}else{return"fixed"}}function S(e){return/\D$/.test(e)?e:e+"px"}}}e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"];function n(e){this.layoutInvalidated=false;this.tilesInvalidated=false;this.$timeout_=e;this.layoutDelegate=t.noop}n.$inject=["$timeout"];n.prototype={invalidateTiles:function(){this.tilesInvalidated=true;this.invalidateLayout()},invalidateLayout:function(){if(this.layoutInvalidated){return}this.layoutInvalidated=true;this.$timeout_(t.bind(this,this.layout))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=false;this.tilesInvalidated=false}}};function r(e){var n=i;r.animateWith=function(e){n=!t.isFunction(e)?i:e};return r;function r(t,r){var i,o,l,s,u,c;s=e.time(function(){o=a(t,r)});return i={layoutInfo:function(){return o},map:function(t){u=e.time(function(){var e=i.layoutInfo();l=t(e.positioning,e.rowCount)});return i},reflow:function(t){c=e.time(function(){var e=t||n;e(l.grid,l.tiles)});return i},performance:function(){return{tileCount:r.length,layoutTime:s,mapTime:u,reflowTime:c,totalTime:s+u+c}}}}function i(e,t){e.element.css(e.style);t.forEach(function(e){e.element.css(e.style)})}function a(e,t){var n=0,r=0,i=u();return{positioning:t.map(function(e,t){return{spans:e,position:a(e,t)}}),rowCount:r+Math.max.apply(Math,i)};function a(t,a){if(t.col>e){throw"md-grid-list: Tile at position "+a+" has a colspan "+"("+t.col+") that exceeds the column count "+"("+e+")"}var u=0,c=0;while(c-u<t.col){if(n>=e){o();continue}u=i.indexOf(0,n);if(u===-1||(c=s(u+1))===-1){u=c=0;o();continue}n=c+1}l(u,t.col,t.row);n=u+t.col;return{col:u,row:r}}function o(){n=0;r++;l(0,e,-1)}function l(e,t,n){for(var r=e;r<e+t;r++){i[r]=Math.max(i[r]+n,0)}}function s(e){var t;for(t=e;t<i.length;t++){if(i[t]!==0){return t}}if(t===i.length){return t}}function u(){var t=[];for(var n=0;n<e;n++){t.push(0)}return t}}}r.$inject=["$mdUtil"];function i(e){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:true,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n};function n(n,r,i,a){r.attr("role","listitem");var o=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,t.bind(a,a.invalidateLayout));a.invalidateTiles();n.$on("$destroy",function(){o();a.invalidateLayout()});if(t.isDefined(n.$parent.$index)){n.$watch(function(){return n.$parent.$index},function l(e,t){if(e===t){return}a.invalidateTiles()})}}}i.$inject=["$mdMedia"];function a(){return{template:"<figcaption ng-transclude></figcaption>",transclude:true}}})();(function(){"use strict";t.module("material.components.icon",["material.core"]).directive("mdIcon",e);function e(e,t,n,r){return{scope:{fontLib:"@mdFontLibrary",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",transclude:true,template:i,link:a};function i(e,t){var n=function(e){return t[e]&&t[e].length};var i=function(e){return n(e)?t[e]:""};var a=n("mdFontIcon")?'<span class="md-font {{classNames}}" ng-class="fontIcon"></span>':n("mdFontLibrary")?"<span ng-transclude></span>":"";var o=(i("mdFontLibrary")+" "+i("class")).trim();e.attr("class",o);return r(a)({classNames:o})}function a(r,i,a){t(i);var o=a.alt||r.fontIcon||r.svgIcon;var l=a.$normalize(a.$attr.mdSvgIcon||a.$attr.mdSvgSrc||"");if(!a.mdFontLibrary){if(a.alt!=""&&!s()){n.expect(i,"aria-label",o);n.expect(i,"role","img")}else{n.expect(i,"aria-hidden","true")}}if(l){a.$observe(l,function(t){i.empty();if(t){e(t).then(function(e){i.append(e)})}})}function s(){var e=i.parent();if(e.attr("aria-label")||e.text()){return true}else if(e.parent().attr("aria-label")||e.parent().text()){return true}return false}}}e.$inject=["$mdIcon","$mdTheming","$mdAria","$interpolate"]})();(function(){"use strict";t.module("material.components.icon").provider("$mdIcon",n);var e={defaultIconSize:24};function n(){}n.prototype={icon:function a(t,n,i){if(t.indexOf(":")==-1)t="$default:"+t;e[t]=new r(n,i);return this},iconSet:function o(t,n,i){e[t]=new r(n,i);return this},defaultIconSet:function l(t,n){
var i="$default";if(!e[i]){e[i]=new r(t,n)}e[i].iconSize=n||e.defaultIconSize;return this},defaultIconSize:function s(t){e.defaultIconSize=t;return this},preloadIcons:function(e){var t=this;var n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100"><path d="M 50 0 L 100 14 L 92 80 L 50 100 L 8 80 L 0 14 Z" fill="#b2b2b2"></path><path d="M 50 5 L 6 18 L 13.5 77 L 50 94 Z" fill="#E42939"></path><path d="M 50 5 L 94 18 L 86.5 77 L 50 94 Z" fill="#B72833"></path><path d="M 50 7 L 83 75 L 72 75 L 65 59 L 50 59 L 50 50 L 61 50 L 50 26 Z" fill="#b2b2b2"></path><path d="M 50 7 L 17 75 L 28 75 L 35 59 L 50 59 L 50 50 L 39 50 L 50 26 Z" fill="#fff"></path></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url);e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(t,n,r,a){this.preloadIcons(a);return new i(e,t,n,r,a)}]};function r(t,n){this.url=t;this.iconSize=n||e.defaultIconSize}function i(e,n,r,i,a){var o={};var l=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;h.prototype={clone:v,prepare:g};return function b(e){e=e||"";if(o[e])return r.when(o[e].clone());if(l.test(e))return d(e).then(s(e));if(e.indexOf(":")==-1)e="$default:"+e;return u(e).catch(c).catch(f).catch(m).then(s(e))};function s(t){return function n(r){o[t]=p(r)?r:new h(r,e[t]);return o[t].clone()}}function u(t){var n=e[t];return!n?r.reject(t):d(n.url).then(function(e){return new h(e,n)})}function c(t){var n=t.substring(0,t.lastIndexOf(":"))||"$default";var i=e[n];return!i?r.reject(t):d(i.url).then(a);function a(e){var n=t.slice(t.lastIndexOf(":")+1);var a=e.querySelector("#"+n);return!a?r.reject(t):new h(a,i)}}function d(e){return n.get(e,{cache:a}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})}function f(e){var n;if(t.isString(e)){n="icon "+e+" not found";i.warn(n)}return r.reject(n||e)}function m(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;i.warn(n);return r.reject(n)}function p(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function h(e,n){if(e.tagName!="svg"){e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]}if(!e.getAttribute("xmlns")){e.setAttribute("xmlns","http://www.w3.org/2000/svg")}this.element=e;this.config=n;this.prepare()}function g(){var n=this.config?this.config.iconSize:e.defaultIconSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this);t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function v(){return this.element.cloneNode(true)}}})();(function(){"use strict";t.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",n).directive("input",r).directive("textarea",r).directive("mdMaxlength",i).directive("placeholder",a);function e(e,t){r.$inject=["$scope","$element","$attrs"];return{restrict:"E",link:n,controller:r};function n(t,n,r){e(n)}function r(e,n,r){var i=this;i.isErrorGetter=r.mdIsError&&t(r.mdIsError);i.delegateClick=function(){i.input.focus()};i.element=n;i.setFocused=function(e){n.toggleClass("md-input-focused",!!e)};i.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)};i.setInvalid=function(e){n.toggleClass("md-input-invalid",!!e)};e.$watch(function(){return i.label&&i.input},function(e){if(e&&!i.label.attr("for")){i.label.attr("for",i.input.attr("id"))}})}}e.$inject=["$mdTheming","$parse"];function n(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){if(!r||n.mdNoFloat)return;r.label=t;e.$on("$destroy",function(){r.label=null})}}}function r(e,n,r){return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:i};function i(i,a,o,l){var s=l[0];var u=l[1]||e.fakeNgModel();var c=t.isDefined(o.readonly);if(!s)return;if(s.input){throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!")}s.input=a;if(!s.label){r.expect(a,"aria-label",a.attr("placeholder"))}a.addClass("md-input");if(!a.attr("id")){a.attr("id","input_"+e.nextUid())}if(a[0].tagName.toLowerCase()==="textarea"){p()}var d=s.isErrorGetter||function(){return u.$invalid&&u.$touched};i.$watch(d,s.setInvalid);u.$parsers.push(f);u.$formatters.push(f);a.on("input",m);if(!c){a.on("focus",function(e){s.setFocused(true)}).on("blur",function(e){s.setFocused(false);m()})}i.$on("$destroy",function(){s.setFocused(false);s.setHasValue(false);s.input=null});function f(e){s.setHasValue(!u.$isEmpty(e));return e}function m(){s.setHasValue(a.val().length>0||(a[0].validity||{}).badInput)}function p(){var r=a[0];var o=e.debounce(s,1);function l(e){o();return e}if(u){u.$formatters.push(l);u.$viewChangeListeners.push(l)}else{o()}a.on("keydown input",o);a.on("scroll",d);t.element(n).on("resize",o);i.$on("$destroy",function(){t.element(n).off("resize",o)});function s(){r.style.height="auto";r.scrollTop=0;var e=c();if(e)r.style.height=e+"px"}function c(){var e=r.scrollHeight-r.offsetHeight;return r.offsetHeight+(e>0?e:0)}function d(e){r.scrollTop=0;var t=r.scrollHeight-r.offsetHeight;var n=r.offsetHeight+t;r.style.height=n+"px"}}}}r.$inject=["$mdUtil","$window","$mdAria"];function i(e){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:n};function n(n,r,i,a){var o;var l=a[0];var s=a[1];var u=t.element('<div class="md-char-counter">');i.$set("ngTrim","false");s.element.append(u);l.$formatters.push(c);l.$viewChangeListeners.push(c);r.on("input keydown",function(){c()});n.$watch(i.mdMaxlength,function(n){o=n;if(t.isNumber(n)&&n>0){if(!u.parent().length){e.enter(u,s.element,t.element(s.element[0].lastElementChild))}c()}else{e.leave(u)}});l.$validators["md-maxlength"]=function(e,n){if(!t.isNumber(o)||o<0){return true}return(e||r.val()||n||"").length<=o};function c(e){u.text((r.val()||e||"").length+"/"+o);return e}}}i.$inject=["$animate"];function a(e){var n=["MD-SELECT"];return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:r};function r(r,i,a,o){if(!o)return;if(n.indexOf(i[0].nodeName)!=-1)return;if(t.isDefined(o.element.attr("md-no-float")))return;var l=a.placeholder;i.removeAttr("placeholder");if(o.element.find("label").length==0){var s='<label ng-click="delegateClick()">'+l+"</label>";o.element.addClass("md-icon-float");o.element.prepend(s)}else{e.warn("The placeholder='"+l+"' will be ignored since this md-input-container has a child label element.")}}}a.$inject=["$log"]})();(function(){"use strict";t.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",e).directive("mdListItem",n);function e(e){return{restrict:"E",compile:function(t){t[0].setAttribute("role","list");return e}}}e.$inject=["$mdTheming"];function n(e,n,r){var i=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(a,o){var l=a[0].querySelector(".md-secondary");var s;var u;a[0].setAttribute("role","listitem");if(!o.ngClick){for(var c=0,d;d=i[c];++c){if(u=a[0].querySelector(d)){s=true;break}}if(s){m("div")}else if(!a[0].querySelector("md-button")){a.addClass("md-no-proxy")}}else{m("button")}f();function f(){var e=["md-switch","md-checkbox"];var t;for(var n=0,r;r=e[n];++n){if(t=a.find(r)[0]){if(!t.hasAttribute("aria-label")){var i=a.find("p")[0];if(!i)return;t.setAttribute("aria-label","Toggle "+i.textContent)}}}}function m(n){var r;if(n=="div"){r=t.element('<div class="md-no-style md-list-item-inner">');r.append(a.contents());a.addClass("md-proxy-focus")}else{r=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>');var i=["ng-click","aria-label","ng-disabled"];t.forEach(i,function(e){if(a[0].hasAttribute(e)){r[0].setAttribute(e,a[0].getAttribute(e));a[0].removeAttribute(e)}});r.children().eq(0).append(a.contents())}a[0].setAttribute("tabindex","-1");a.append(r);if(l&&l.hasAttribute("ng-click")){e.expect(l,"aria-label");var s=t.element('<md-button class="md-secondary-container md-icon-button">');s.attr("ng-click",l.getAttribute("ng-click"));l.removeAttribute("ng-click");l.setAttribute("tabindex","-1");l.classList.remove("md-secondary");s.append(l);l=s[0]}if(l&&(l.hasAttribute("ng-click")||o.ngClick&&p(l))){a.addClass("md-with-secondary");a.append(l)}}function p(e){return i.indexOf(e.nodeName.toLowerCase())!=-1}return h;function h(e,a,o,l){var s=[],u=a[0].firstElementChild,c=u&&u.hasAttribute("ng-click");d();f();if(a.hasClass("md-proxy-focus")&&s.length){t.forEach(s,function(n){n=t.element(n);e.mouseActive=false;n.on("mousedown",function(){e.mouseActive=true;r(function(){e.mouseActive=false},100)}).on("focus",function(){if(e.mouseActive===false){a.addClass("md-focused")}n.on("blur",function t(){a.removeClass("md-focused");n.off("blur",t)})})})}function d(){var e=a.children();if(e.length&&!e[0].hasAttribute("ng-click")){t.forEach(i,function(e){t.forEach(u.querySelectorAll(e),function(e){s.push(e)})})}}function f(){if(s.length||c){a.addClass("md-clickable");l.attachRipple(e,t.element(a[0].querySelector(".md-no-style")))}}if(!c&&!s.length){u.addEventListener("keypress",function(e){if(e.target.nodeName!="INPUT"&&e.target.nodeName!="TEXTAREA"){var t=e.which||e.keyCode;if(t==n.KEY_CODE.SPACE){u.click();e.preventDefault();e.stopPropagation()}}})}a.off("click");a.off("keypress");if(s.length&&u){a.children().eq(0).on("click",function(e){if(u.contains(e.target)){t.forEach(s,function(n){if(e.target!==n&&!n.contains(e.target)){t.element(n).triggerHandler("click")}})}})}}}}}n.$inject=["$mdAria","$mdConstant","$timeout"];function r(e,t,n){var r=this;r.attachRipple=i;function i(e,t){var r={};n.attach(e,t,r)}}r.$inject=["$scope","$element","$mdListInkRipple"]})();(function(){"use strict";t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e);function e(e,t){return{restrict:"E",template:'<div class="md-spinner-wrapper">'+'<div class="md-inner">'+'<div class="md-gap"></div>'+'<div class="md-left">'+'<div class="md-half-circle"></div>'+"</div>"+'<div class="md-right">'+'<div class="md-half-circle"></div>'+"</div>"+"</div>"+"</div>",compile:n};function n(e){e.attr("aria-valuemin",0);e.attr("aria-valuemax",100);e.attr("role","progressbar");return r}function r(n,r,a){t(r);var o=r[0];var l=a.mdDiameter||48;var s=l/48;o.style[e.CSS.TRANSFORM]="scale("+s+")";a.$observe("value",function(e){var t=i(e);r.attr("aria-valuenow",t)})}function i(e){return Math.max(0,Math.min(e||0,100))}}e.$inject=["$mdConstant","$mdTheming"]})();(function(){"use strict";t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e);function e(e,r,i){return{restrict:"E",template:'<div class="md-container">'+'<div class="md-dashed"></div>'+'<div class="md-bar md-bar1"></div>'+'<div class="md-bar md-bar2"></div>'+"</div>",compile:a};function a(e,t,n){e.attr("aria-valuemin",0);e.attr("aria-valuemax",100);e.attr("role","progressbar");return o}function o(a,o,s){i(o);var u=o[0].querySelector(".md-bar1").style,c=o[0].querySelector(".md-bar2").style,d=t.element(o[0].querySelector(".md-container"));s.$observe("value",function(e){if(s.mdMode=="query"){return}var t=l(e);o.attr("aria-valuenow",t);c[r.CSS.TRANSFORM]=n[t]});s.$observe("mdBufferValue",function(e){u[r.CSS.TRANSFORM]=n[l(e)]});e(function(){d.addClass("md-ready")})}function l(e){if(e>100){return 100}if(e<0){return 0}return Math.ceil(e||0)}}e.$inject=["$$rAF","$mdConstant","$mdTheming"];var n=function(){var e=new Array(101);for(var t=0;t<101;t++){e[t]=n(t)}return e;function n(e){var t=e/100;var n=(e-100)/2;return"translateX("+n.toString()+"%) scale("+t.toString()+", 1)"}}()})();(function(){"use strict";t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n);function e(e,n,r,i){o.prototype=l();return{restrict:"E",controller:["$element",o],require:["mdRadioGroup","?ngModel"],link:{pre:a}};function a(a,o,l,s){r(o);var u=s[0];var c=s[1]||e.fakeNgModel();function d(){if(!o.hasClass("md-focused")){o.addClass("md-focused")}}function f(r){var i=r.which||r.keyCode;switch(i){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault();u.selectPrevious();d();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault();u.selectNext();d();break;case n.KEY_CODE.ENTER:var a=t.element(e.getClosest(o[0],"form"));if(a.length>0){a.triggerHandler("submit")}break}}u.init(c);a.mouseActive=false;o.attr({role:"radiogroup",tabIndex:o.attr("tabindex")||"0"}).on("keydown",f).on("mousedown",function(e){a.mouseActive=true;i(function(){a.mouseActive=false},100)}).on("focus",function(){if(a.mouseActive===false){u.$element.addClass("md-focused")}}).on("blur",function(){u.$element.removeClass("md-focused")})}function o(e){this._radioButtonRenderFns=[];this.$element=e}function l(){return{init:function(e){this._ngModelCtrl=e;this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);if(t!==-1){this._radioButtonRenderFns.splice(t,1)}},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t);this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return s(this.$element,1)},selectPrevious:function(){return s(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function s(n,r){var i=e.iterator(n[0].querySelectorAll("md-radio-button"),true);if(i.count()){var a=function(e){return!t.element(e).attr("disabled")};var o=n[0].querySelector("md-radio-button.md-checked");var l=i[r<0?"previous":"next"](o,a)||i.first();t.element(l).triggerHandler("click")}}}e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"];function n(e,t,n){var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:true,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox>'+'<div class="md-off"></div>'+'<div class="md-on"></div>'+"</div>"+'<div ng-transclude class="md-label"></div>',link:i};function i(i,a,o,l){var s;n(a);d(a,i);l.add(c);o.$observe("value",c);a.on("click",u).on("$destroy",function(){l.remove(c)});function u(e){if(a[0].hasAttribute("disabled"))return;i.$apply(function(){l.setViewValue(o.value,e&&e.type)})}function c(){var e=l.getViewValue()==o.value;if(e===s){return}s=e;a.attr("aria-checked",e);if(e){a.addClass(r);l.setActiveDescendant(a.attr("id"))}else{a.removeClass(r)}}function d(n,r){r.ariaId=i();n.attr({id:r.ariaId,role:"radio","aria-checked":"false"});e.expectWithText(n,"aria-label");function i(){return o.id||"radio"+"_"+t.nextUid()}}}}n.$inject=["$mdAria","$mdUtil","$mdTheming"]})();(function(){"use strict";var e=8;var r=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",i).directive("mdSelectMenu",a).directive("mdOption",o).directive("mdOptgroup",l).provider("$mdSelect",s);function i(e,r,i,a,o,l,s){return{restrict:"E",require:["mdSelect","ngModel","?^form"],compile:u,controller:function(){}};function u(o,u){var c=o.find("md-select-label").remove();if(!c.length){c=t.element("<md-select-label><span></span></md-select-label>")}else{if(!c[0].firstElementChild){var d=t.element("<span>");d.append(c.contents());c.append(d)}}c.append('<span class="md-select-icon" aria-hidden="true"></span>');c.addClass("md-select-label");if(!c[0].hasAttribute("id")){c.attr("id","select_label_"+r.nextUid())}if(!o.find("md-content").length){o.append(t.element("<md-content>").append(o.contents()))}if(u.mdOnOpen){o.find("md-content").prepend(t.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent())}if(u.name){var f=t.element('<select class="md-visually-hidden">');f.attr({name:"."+u.name,"ng-model":u.ngModel,"aria-hidden":"true",tabindex:"-1"});var m=o.find("md-option");t.forEach(m,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");if(e.hasAttribute("ng-value"))n.attr("ng-value",e.getAttribute("ng-value"));else if(e.hasAttribute("value"))n.attr("value",e.getAttribute("value"));f.append(n)});o.parent().append(f)}var p='<div class="md-select-menu-container">'+"<md-select-menu "+(t.isDefined(u.multiple)?"multiple":"")+">"+o.html()+"</md-select-menu></div>";o.empty().append(c);u.tabindex=u.tabindex||"0";return function h(o,u,c,d){var f;var m;var h=d[0];var g=d[1];var v=d[2];var b=u.find("md-select-label");var _=b.text().length!==0;var y,E,$;T();i(u);if(c.name&&v){var w=u.parent()[0].querySelector('select[name=".'+c.name+'"]');v.$removeControl(t.element(w).controller())}var A=g.$render;g.$render=function(){A();M()};h.setLabelText=function(e){if(_)return;h.setIsPlaceholder(!e);e=e||c.placeholder||"";var t=_?b:b.children().eq(0);t.text(e)};h.setIsPlaceholder=function(e){e?b.addClass("md-placeholder"):b.removeClass("md-placeholder")};o.$$postDigest(function(){C();M()});function C(){var e=u.attr("placeholder");if(!e){e=u.find("md-select-label").text()}a.expect(u,"aria-label",e)}function M(){if(y){$=$||y.find("md-select-menu").controller("mdSelectMenu");h.setLabelText($.selectedLabels())}}var k;c.$observe("ngMultiple",function(e){if(k)k();var t=s(e);k=o.$watch(function(){return t(o)},function(e,t){if(e===n&&t===n)return;if(e){u.attr("multiple","multiple")}else{u.removeAttr("multiple")}if(y){$.setMultiple(e);A=g.$render;g.$render=function(){A();M()};$.refreshViewValue();g.$render()}})});c.$observe("disabled",function(e){if(typeof e=="string"){e=true}if(m!==n&&m===e){return}m=e;if(e){u.attr({tabindex:-1,"aria-disabled":"true"});u.off("click",N);u.off("keydown",S)}else{u.attr({tabindex:c.tabindex,"aria-disabled":"false"});u.on("click",N);u.on("keydown",S)}});if(!c.disabled&&!c.ngDisabled){u.attr({tabindex:c.tabindex,"aria-disabled":"false"});u.on("click",N);u.on("keydown",S)}var x={role:"combobox","aria-expanded":"false"};if(!u[0].hasAttribute("id")){x.id="select_"+r.nextUid()}u.attr(x);o.$on("$destroy",function(){if(f){e.cancel().then(function(){y.remove()})}else{y.remove()}});function T(){y=t.element(p);var e=y.find("md-select-menu");e.data("$ngModelController",g);e.data("$mdSelectController",h);E=o.$new();y=l(y)(E);$=y.find("md-select-menu").controller("mdSelectMenu")}function S(e){var n=[32,13,38,40];if(n.indexOf(e.keyCode)!=-1){e.preventDefault();N(e)}else{if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var r=$.optNodeForKeyboardSearch(e);if(!r)return;var i=t.element(r).controller("mdOption");if(!$.isMultiple){$.deselect(Object.keys($.selected)[0])}$.select(i.hashKey,i.value);$.refreshViewValue();g.$render()}}}function N(){o.$evalAsync(function(){f=true;e.show({scope:E,preserveScope:true,skipCompile:true,element:y,target:u[0],hasBackdrop:true,loadingAsync:c.mdOnOpen?o.$eval(c.mdOnOpen)||true:false}).then(function(e){f=false})})}}}}i.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"];function a(e,i,a){l.$inject=["$scope","$attrs","$element"];return{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:l,link:{pre:o}};function o(e,n,r,o){var l=o[0];var s=o[1];a(n);n.on("click",d);n.on("keypress",c);if(s)l.init(s);u();function u(){n.attr({id:"select_menu_"+i.nextUid(),role:"listbox","aria-multiselectable":l.isMultiple?"true":"false"})}function c(e){if(e.keyCode==13||e.keyCode==32){d(e)}}function d(n){var r=i.getClosest(n.target,"md-option");var a=r&&t.element(r).data("$mdOptionController");if(!r||!a)return;var o=l.hashGetter(a.value);var s=t.isDefined(l.selected[o]);e.$apply(function(){if(l.isMultiple){if(s){l.deselect(o)}else{l.select(o,a.value)}}else{if(!s){l.deselect(Object.keys(l.selected)[0]);l.select(o,a.value)}}l.refreshViewValue()})}}function l(i,a,o){var l=this;l.isMultiple=t.isDefined(a.multiple);l.selected={};l.options={};i.$watch(function(){return l.options},function(){l.ngModel.$render()},true);var s;l.setMultiple=function(e){var n=l.ngModel;l.isMultiple=e;if(s)s();if(l.isMultiple){n.$validators["md-multiple"]=r;n.$render=h;i.$watchCollection(a.ngModel,function(e){if(r(e))h(e)})}else{delete n.$validators["md-multiple"];n.$render=g}function r(e,n){return t.isArray(e||n||[])}};var c="";var d,f,m;var p=300;l.optNodeForKeyboardSearch=function(e){d&&clearTimeout(d);d=setTimeout(function(){d=n;c="";m=n;f=n},p);c+=String.fromCharCode(e.keyCode);var r=new RegExp("^"+c,"i");if(!f){f=o.find("md-option");m=new Array(f.length);t.forEach(f,function(e,t){m[t]=e.textContent.trim()})}for(var i=0;i<m.length;++i){if(r.test(m[i])){return f[i]}}};l.init=function(n){l.ngModel=n;if(n.$options&&n.$options.trackBy){var a={};var o=e(n.$options.trackBy);l.hashGetter=function(e,t){a.$value=e;return o(t||i,a)}}else{l.hashGetter=function s(e){if(t.isObject(e)){return"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++r))}return e}}l.setMultiple(l.isMultiple)};l.selectedLabels=function(){var e=u(o[0].querySelectorAll("md-option[selected]"));if(e.length){return e.map(function(e){return e.textContent}).join(", ")}else{return""}};l.select=function(e,t){var n=l.options[e];n&&n.setSelected(true);l.selected[e]=t};l.deselect=function(e){var t=l.options[e];t&&t.setSelected(false);delete l.selected[e]};l.addOption=function(e,n){if(t.isDefined(l.options[e])){throw new Error("Duplicate md-option values are not allowed in a select. "+'Duplicate value "'+n.value+'" found.')}l.options[e]=n;if(t.isDefined(l.selected[e])){l.select(e,n.value);l.refreshViewValue()}};l.removeOption=function(e){delete l.options[e]};l.refreshViewValue=function(){var e=[];var t;for(var n in l.selected){if(t=l.options[n]){e.push(t.value)}else{e.push(l.selected[n])}}l.ngModel.$setViewValue(l.isMultiple?e:e[0])};function h(){var e=l.ngModel.$modelValue||l.ngModel.$viewValue;if(!t.isArray(e))return;var n=Object.keys(l.selected);var r=e.map(l.hashGetter);var i=n.filter(function(e){return r.indexOf(e)===-1});i.forEach(l.deselect);r.forEach(function(t,n){l.select(t,e[n])})}function g(){var e=l.ngModel.$viewValue||l.ngModel.$modelValue;Object.keys(l.selected).forEach(l.deselect);l.select(l.hashGetter(e),e)}}}a.$inject=["$parse","$mdUtil","$mdTheming"];function o(e,n){a.$inject=["$element"];return{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:a,compile:r};function r(e,n){e.append(t.element('<div class="md-text">').append(e.contents()));e.attr("tabindex",n.tabindex||"0");return i}function i(r,i,a,o){var l=o[0];var s=o[1];if(t.isDefined(a.ngValue)){r.$watch(a.ngValue,u)}else if(t.isDefined(a.value)){u(a.value)}else{r.$watch(function(){return i.text()},u)}r.$$postDigest(function(){a.$observe("selected",function(e){if(!t.isDefined(e))return;if(e){if(!s.isMultiple){s.deselect(Object.keys(s.selected)[0])}s.select(l.hashKey,l.value)}else{s.deselect(l.hashKey)}s.refreshViewValue();s.ngModel.$render()})});e.attach(r,i);c();function u(e,t){var n=s.hashGetter(t,r);var i=s.hashGetter(e,r);l.hashKey=i;l.value=e;s.removeOption(n,l);s.addOption(i,l)}r.$on("$destroy",function(){s.removeOption(l.hashKey,l)});function c(){var e={role:"option","aria-selected":"false"};if(!i[0].hasAttribute("id")){e.id="select_option_"+n.nextUid()}i.attr(e)}}function a(e){this.selected=false;this.setSelected=function(t){if(t&&!this.selected){e.attr({selected:"selected","aria-selected":"true"})}else if(!t&&this.selected){e.removeAttr("selected");e.attr("aria-selected","false")}this.selected=t}}}o.$inject=["$mdButtonInkRipple","$mdUtil"];function l(){return{restrict:"E",compile:e};function e(e,n){var r=e.find("label");if(!r.length){r=t.element("<label>");e.prepend(r)}if(n.label)r.text(n.label)}}function s(r){i.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"];return r("$mdSelect").setDefaults({methods:["target"],options:i});function i(r,i,l,s,c,d,f){return{parent:"body",onShow:m,onRemove:p,hasBackdrop:true,disableParentScroll:true,themable:true};function m(e,n,a){if(!a.target){throw new Error("$mdSelect.show() expected a target element in options.target but got "+'"'+a.target+'"!')}t.extend(a,{isRemoved:false,target:t.element(a.target),parent:t.element(a.parent),selectEl:n.find("md-select-menu"),contentEl:n.find("md-content"),backdrop:a.hasBackdrop&&t.element('<md-backdrop class="md-select-backdrop md-click-catcher">')});a.resizeFn=function(){l(function(){l(function(){h(e,n,a)})})};t.element(f).on("resize",a.resizeFn);t.element(f).on("orientationchange",a.resizeFn);m();n.removeClass("md-leave");var o=a.selectEl[0].getElementsByTagName("md-option");if(a.loadingAsync&&a.loadingAsync.then){a.loadingAsync.then(function(){e.$$loadingAsyncDone=true;l(function(){l(function(){if(a.isRemoved)return;h(e,n,a)})})})}else if(a.loadingAsync){e.$$loadingAsyncDone=true}if(a.disableParentScroll&&!s.getClosest(a.target,"MD-DIALOG")){a.restoreScroll=s.disableScrollAround(a.target)}else{a.disableParentScroll=false}d(p,75,false);if(a.backdrop){c.inherit(a.backdrop,a.parent);a.parent.append(a.backdrop)}a.parent.append(n);l(function(){l(function(){if(a.isRemoved)return;h(e,n,a)})});return s.transitionEndPromise(a.selectEl,{timeout:350});function m(){a.target.attr("aria-expanded","true")}function p(){if(a.isRemoved)return;var t=a.selectEl.controller("mdSelectMenu")||{};n.addClass("md-clickable");a.backdrop&&a.backdrop.on("click",function(t){t.preventDefault();t.stopPropagation();a.restoreFocus=false;e.$apply(r.cancel)});a.selectEl.on("keydown",function(t){switch(t.keyCode){case i.KEY_CODE.SPACE:case i.KEY_CODE.ENTER:var n=s.getClosest(t.target,"md-option");if(n){a.selectEl.triggerHandler({type:"click",target:n});t.preventDefault()}break;case i.KEY_CODE.TAB:case i.KEY_CODE.ESCAPE:t.preventDefault();a.restoreFocus=true;e.$apply(r.cancel)}});a.selectEl.on("keydown",function(e){switch(e.keyCode){case i.KEY_CODE.UP_ARROW:return d();case i.KEY_CODE.DOWN_ARROW:return c();default:if(e.keyCode>=31&&e.keyCode<=90){var t=a.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(e);t&&t.focus()}}});function l(e){var t=u(o);var n=t.indexOf(a.focusedNode);if(n===-1){n=0}else if(e==="next"&&n<t.length-1){n++}else if(e==="prev"&&n>0){n--}var r=a.focusedNode=t[n];r&&r.focus()}function c(){l("next")}function d(){l("prev")}a.selectEl.on("click",f);a.selectEl.on("keydown",function(e){if(e.keyCode==32||e.keyCode==13){f()}});function f(){if(!t.isMultiple){a.restoreFocus=true;e.$evalAsync(function(){r.hide(t.ngModel.$viewValue)})}}}}function p(e,r,i){i.isRemoved=true;r.addClass("md-leave").removeClass("md-clickable");i.target.attr("aria-expanded","false");t.element(f).off("resize",i.resizeFn);t.element(f).off("orientationchange",i.resizefn);i.resizeFn=n;var a=i.selectEl.controller("mdSelect");if(a){a.setLabelText(i.selectEl.controller("mdSelectMenu").selectedLabels())}return s.transitionEndPromise(r,{timeout:350}).then(function(){r.removeClass("md-active");i.backdrop&&i.backdrop.remove();if(r[0].parentNode===i.parent[0]){i.parent[0].removeChild(r[0])}if(i.disableParentScroll){i.restoreScroll()}if(i.restoreFocus)i.target.focus()})}function h(t,n,r){var u=n[0],c=r.target[0].firstElementChild.firstElementChild,d=r.parent[0],m=r.selectEl[0],p=r.contentEl[0],h=d.getBoundingClientRect(),g=c.getBoundingClientRect(),v=false,b={left:h.left+e,top:e,bottom:h.height-e,right:h.width-e-(s.floatingScrollbars()?16:0)},_={top:g.top-b.top,left:g.left-b.left,right:b.right-(g.left+g.width),bottom:b.bottom-(g.top+g.height)},y=h.width-e*2,E=p.scrollHeight>p.offsetHeight,$=m.querySelector("md-option[selected]"),w=m.getElementsByTagName("md-option"),A=m.getElementsByTagName("md-optgroup");var C;if($){C=$}else if(A.length){C=A[0]}else if(w.length){C=w[0]}else{C=p.firstElementChild||p}if(p.offsetWidth>y){p.style["max-width"]=y+"px"}if(v){p.style["min-width"]=g.width+"px"}if(E){m.classList.add("md-overflow")}var M=m.getBoundingClientRect();var k=o(C);if(C){var x=f.getComputedStyle(C);k.paddingLeft=parseInt(x.paddingLeft,10)||0;k.paddingRight=parseInt(x.paddingRight,10)||0}var T=C;if((T.tagName||"").toUpperCase()==="MD-OPTGROUP"){T=w[0]||p.firstElementChild||p}if(E){var S=p.offsetHeight/2;p.scrollTop=k.top+k.height/2-S;if(_.top<S){p.scrollTop=Math.min(k.top,p.scrollTop+S-_.top)}else if(_.bottom<S){p.scrollTop=Math.max(k.top+k.height-M.height,p.scrollTop-S+_.bottom)}}var N,H,D;if(v){N=g.left;H=g.top+g.height;D="50% 0";if(H+M.height>b.bottom){H=g.top-M.height;D="50% 100%"}}else{N=g.left+k.left-k.paddingLeft;H=Math.floor(g.top+g.height/2-k.height/2-k.top+p.scrollTop);D=k.left+g.width/2+"px "+(k.top+k.height/2-p.scrollTop)+"px 0px";u.style.minWidth=g.width+k.paddingLeft+k.paddingRight+"px"}var O=u.getBoundingClientRect();u.style.left=a(b.left,N,b.right-O.width)+"px";u.style.top=a(b.top,H,b.bottom-O.height)+"px";m.style[i.CSS.TRANSFORM_ORIGIN]=D;m.style[i.CSS.TRANSFORM]="scale("+Math.min(g.width/M.width,1)+","+Math.min(g.height/M.height,1)+")";l(function(){n.addClass("md-active");m.style[i.CSS.TRANSFORM]="";if(T){r.focusedNode=T;T.focus()}})}}function a(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}}s.$inject=["$$interimElementProvider"];function u(e){var t=[];for(var n=0;n<e.length;++n){t.push(e.item(n))}return t}})();(function(){"use strict";t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",i).directive("mdSidenavFocus",r).controller("$mdSidenavController",a);function e(e,n){return function(r){var i;var a="SideNav '"+r+"' is not available!";var o=e.get(r);if(!o){e.notFoundError(r)}return i={isOpen:function(){return o&&o.isOpen()},isLockedOpen:function(){return o&&o.isLockedOpen()},toggle:function(){return o?o.toggle():n.reject(a)},open:function(){return o?o.open():n.reject(a)},close:function(){return o?o.close():n.reject(a)},then:function(e){var r=o?n.when(o):l();return r.then(e||t.noop)}};function l(){return e.when(r).then(function(e){o=e;return e})}}}e.$inject=["$mdComponentRegistry","$q"];function r(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,r){r.focusElement(t)}}}function i(e,r,i,a,o,l,s,u,c,d){return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){e.addClass("md-closed");e.attr("tabIndex","-1");return f}};function f(f,m,p,h){var g;var v=null;var b=c.when(true);var _=i(p.mdIsLockedOpen);var y=function(){return _(f.$parent,{$media:function(e){a.warn("$media is deprecated for is-locked-open. Use $mdMedia instead.");return o(e)},$mdMedia:o})};var E=s('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(f);m.on("$destroy",h.destroy);u.inherit(E,m);f.$watch(y,$);f.$watch("isOpen",w);h.$toggleOpen=C;h.focusElement(h.focusElement()||m);function $(e,t){f.isLockedOpen=e;if(e===t){m.toggleClass("md-locked-open",!!e)}else{r[e?"addClass":"removeClass"](m,"md-locked-open")}E.toggleClass("md-locked-open",!!e)}function w(e){var t=m.parent();t[e?"on":"off"]("keydown",M);E[e?"on":"off"]("click",k);if(e){v=d[0].activeElement;
}var n=h.focusElement();A(e);return b=c.all([e?r.enter(E,t):r.leave(E),r[e?"removeClass":"addClass"](m,"md-closed")]).then(function(){if(f.isOpen){n&&n.focus()}})}function A(e){var r=m.parent();if(e){g=r.css("overflow");r.css("overflow","hidden")}else if(t.isDefined(g)){r.css("overflow",g);g=n}}function C(t){if(f.isOpen==t){return c.when(true)}else{var n=c.defer();f.isOpen=t;e(function(){b.then(function(e){if(!f.isOpen){v&&v.focus();v=null}n.resolve(e)})},0,false);return n.promise}}function M(e){var t=e.keyCode===l.KEY_CODE.ESCAPE;return t?k(e):c.when(true)}function k(e){e.preventDefault();e.stopPropagation();return h.close()}}}i.$inject=["$timeout","$animate","$parse","$log","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"];function a(e,n,r,i,a){var o=this,l;o.isOpen=function(){return!!e.isOpen};o.isLockedOpen=function(){return!!e.isLockedOpen};o.open=function(){return o.$toggleOpen(true)};o.close=function(){return o.$toggleOpen(false)};o.toggle=function(){return o.$toggleOpen(!e.isOpen)};o.focusElement=function(e){if(t.isDefined(e)){l=e}return l};o.$toggleOpen=function(){return a.when(e.isOpen)};o.destroy=i.register(o,r.mdComponentId)}a.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]})();(function(){"use strict";t.module("material.components.slider",["material.core"]).directive("mdSlider",e);function e(e,n,r,i,a,o,l,s){return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:u};function u(e,t){e.attr({tabIndex:0,role:"slider"});r.expect(e,"aria-label");return c}function c(r,u,c,d){o(u);d=d||{$setViewValue:function(e){this.$viewValue=e;this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var f=c.ngDisabled&&s(c.ngDisabled);var m=f?function(){return f(r.$parent)}:t.noop;var p=t.element(u[0].querySelector(".md-thumb"));var h=t.element(u[0].querySelector(".md-thumb-text"));var g=p.parent();var v=t.element(u[0].querySelector(".md-track-container"));var b=t.element(u[0].querySelector(".md-track-fill"));var _=t.element(u[0].querySelector(".md-track-ticks"));var y=i.throttle(R,5e3);c.min?c.$observe("min",k):k(0);c.max?c.$observe("max",x):x(100);c.step?c.$observe("step",T):T(1);var E=t.noop;if(c.ngDisabled){E=r.$parent.$watch(c.ngDisabled,S)}l.register(u,"drag");u.on("keydown",P).on("$md.pressdown",z).on("$md.pressup",V).on("$md.dragstart",G).on("$md.drag",Y).on("$md.dragend",K);function $(){R();F();D()}setTimeout($);var w=e.throttle($);t.element(n).on("resize",w);r.$on("$destroy",function(){t.element(n).off("resize",w);E()});d.$render=F;d.$viewChangeListeners.push(F);d.$formatters.push(U);d.$formatters.push(j);var A;var C;var M;function k(e){A=parseFloat(e);u.attr("aria-valuemin",e);$()}function x(e){C=parseFloat(e);u.attr("aria-valuemax",e);$()}function T(e){M=parseFloat(e);D()}function S(e){u.attr("aria-disabled",!!e)}var N,H;function D(){if(!t.isDefined(c.mdDiscrete))return;var e=Math.floor((C-A)/M);if(!N){var r=n.getComputedStyle(_[0]);N=t.element('<canvas style="position:absolute;">');H=N[0].getContext("2d");H.fillStyle=r.backgroundColor||"black";_.append(N)}var i=I();N[0].width=i.width;N[0].height=i.height;var a;for(var o=0;o<=e;o++){a=Math.floor(i.width*(o/e));H.fillRect(a-1,0,2,i.height)}}var O={};R();function R(){O=v[0].getBoundingClientRect()}function I(){y();return O}function P(e){if(u[0].hasAttribute("disabled")){return}var t;if(e.keyCode===a.KEY_CODE.LEFT_ARROW){t=-M}else if(e.keyCode===a.KEY_CODE.RIGHT_ARROW){t=M}if(t){if(e.metaKey||e.ctrlKey||e.altKey){t*=4}e.preventDefault();e.stopPropagation();r.$evalAsync(function(){L(d.$viewValue+t)})}}function L(e){d.$setViewValue(U(j(e)))}function F(){if(isNaN(d.$viewValue)){d.$viewValue=d.$modelValue}var e=(d.$viewValue-A)/(C-A);r.modelValue=d.$viewValue;u.attr("aria-valuenow",d.$viewValue);B(e);h.text(d.$viewValue)}function U(e){if(t.isNumber(e)){return Math.max(A,Math.min(C,e))}}function j(e){if(t.isNumber(e)){return Math.round(e/M)*M}}function B(e){b.css("width",e*100+"%");g.css("left",e*100+"%");u.toggleClass("md-min",e===0)}var q=false;var W=t.isDefined(c.mdDiscrete);function z(e){if(m())return;u.addClass("active");u[0].focus();R();var t=ee(Z(e.pointer.x));var n=U(j(t));r.$apply(function(){L(n);B(te(n))})}function V(e){if(m())return;u.removeClass("dragging active");var t=ee(Z(e.pointer.x));var n=U(j(t));r.$apply(function(){L(n);F()})}function G(e){if(m())return;q=true;e.stopPropagation();u.addClass("dragging");X(e)}function Y(e){if(!q)return;e.stopPropagation();X(e)}function K(e){if(!q)return;e.stopPropagation();q=false}function X(e){if(W)Q(e.pointer.x);else J(e.pointer.x)}function J(e){r.$evalAsync(function(){L(ee(Z(e)))})}function Q(e){var t=ee(Z(e));var n=U(j(t));B(Z(e));h.text(n)}function Z(e){return Math.max(0,Math.min(1,(e-O.left)/O.width))}function ee(e){return A+e*(C-A)}function te(e){return(e-A)/(C-A)}}}e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]})();(function(){"use strict";t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e);function e(e,r,i,a,o){var l=u();return function d(e,t,n){var r=t.controller("mdContent");if(!r)return;if(l){t.css({position:l,top:0,"z-index":2})}else{var i=r.$element.data("$$sticky");if(!i){i=s(r);r.$element.data("$$sticky",i)}var a=i.add(t,n||t.clone());e.$on("$destroy",a)}};function s(e){var t=e.$element;var i=a.throttle(u);c(t);t.on("$scrollstart",i);t.on("$scroll",f);var o;var l=t.prop("offsetTop");return o={prev:null,current:null,next:null,items:[],add:s,refreshElements:u};function s(e,n){n.addClass("md-sticky-clone");n.css("top",l+"px");var r={element:e,clone:n};o.items.push(r);t.parent().prepend(r.clone);i();return function a(){o.items.forEach(function(t,n){if(t.element[0]===e[0]){o.items.splice(n,1);t.clone.remove()}});i()}}function u(){o.items.forEach(d);o.items=o.items.sort(function(e,t){return e.top<t.top?-1:1});var e;var n=t.prop("scrollTop");for(var r=o.items.length-1;r>=0;r--){if(n>o.items[r].top){e=o.items[r];break}}m(e)}function d(e){var n=e.element[0];e.top=0;e.left=0;while(n&&n!==t[0]){e.top+=n.offsetTop;e.left+=n.offsetLeft;n=n.offsetParent}e.height=e.element.prop("offsetHeight");e.clone.css("margin-left",e.left+"px")}function f(){var e=t.prop("scrollTop");var n=e>(f.prevScrollTop||0);f.prevScrollTop=e;if(e===0){m(null)}else if(n&&o.next){if(o.next.top-e<=0){m(o.next)}else if(o.current){if(o.next.top-e<=o.next.height){h(o.current,o.next.top-o.next.height-e)}else{h(o.current,null)}}}else if(!n&&o.current){if(e<o.current.top){m(o.prev)}if(o.current&&o.next){if(e>=o.next.top-o.current.height){h(o.current,o.next.top-e-o.current.height)}else{h(o.current,null)}}}}function m(e){if(o.current===e)return;if(o.current){h(o.current,null);p(o.current,null)}if(e){p(e,"active")}o.current=e;var t=o.items.indexOf(e);o.next=o.items[t+1];o.prev=o.items[t-1];p(o.next,"next");p(o.prev,"prev")}function p(e,t){if(!e||e.state===t)return;if(e.state){e.clone.attr("sticky-prev-state",e.state);e.element.attr("sticky-prev-state",e.state)}e.clone.attr("sticky-state",t);e.element.attr("sticky-state",t);e.state=t}function h(e,t){if(!e)return;if(t===null||t===n){if(e.translateY){e.translateY=null;e.clone.css(r.CSS.TRANSFORM,"")}}else{e.translateY=t;e.clone.css(r.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")}}}function u(n){var r;var i=t.element("<div>");e[0].body.appendChild(i[0]);var a=["sticky","-webkit-sticky"];for(var o=0;o<a.length;++o){i.css({position:a[o],top:0,"z-index":2});if(i.css("position")==a[o]){r=a[o];break}}i.remove();return r}function c(e){var t=200;var n;var r;e.on("scroll touchmove",function(){if(!n){n=true;a(i);e.triggerHandler("$scrollstart")}e.triggerHandler("$scroll");r=+o.now()});function i(){if(+o.now()-r>t){n=false;e.triggerHandler("$scrollend")}else{e.triggerHandler("$scroll");a(i)}}}}e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]})();(function(){"use strict";t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e);function e(e,n,r){return{restrict:"E",replace:true,transclude:true,template:'<h2 class="md-subheader">'+'<div class="md-subheader-inner">'+'<span class="md-subheader-content"></span>'+"</div>"+"</h2>",compile:function(i,a,o){return function l(i,a,s){r(a);var u=a[0].outerHTML;function c(e){return t.element(e[0].querySelector(".md-subheader-content"))}o(i,function(e){c(a).append(e)});if(!a.hasClass("md-no-sticky")){o(i,function(r){var o=n(t.element(u))(i);c(o).append(r);e(i,a,o)})}}}}}e.$inject=["$mdSticky","$compile","$mdTheming"]})();(function(){"use strict";t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight"));function e(e){var t="md"+e;var n="$md."+e.toLowerCase();r.$inject=["$parse"];return r;function r(e){return{restrict:"A",link:r};function r(r,i,a){var o=e(a[t]);i.on(n,function(e){r.$apply(function(){o(r,{$event:e})})})}}}})();(function(){"use strict";t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e);function e(e,n,r,i,a,o,l,s){var u=e[0];return{restrict:"E",priority:210,transclude:true,template:'<div class="md-container">'+'<div class="md-bar"></div>'+'<div class="md-thumb-container">'+'<div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div>'+"</div>"+"</div>"+'<div ng-transclude class="md-label">'+"</div>",require:"?ngModel",compile:c};function c(e,n){var i=u.compile(e,n);e.addClass("md-dragging");return function(e,n,u,c){c=c||r.fakeNgModel();var d=o(u.ngDisabled);var f=t.element(n[0].querySelector(".md-thumb-container"));var m=t.element(n[0].querySelector(".md-container"));l(function(){n.removeClass("md-dragging")});i(e,n,u,c);if(t.isDefined(u.ngDisabled)){e.$watch(d,function(e){n.attr("tabindex",e?-1:0)})}s.register(m,"drag");m.on("$md.dragstart",h).on("$md.drag",g).on("$md.dragend",v);var p;function h(t){if(d(e))return;t.stopPropagation();n.addClass("md-dragging");p={width:f.prop("offsetWidth")};n.removeClass("transition")}function g(e){if(!p)return;e.stopPropagation();e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/p.width;var n=c.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n));f.css(a.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)");p.translate=n}function v(e){if(!p)return;e.stopPropagation();n.removeClass("md-dragging");f.css(a.CSS.TRANSFORM,"");var t=c.$viewValue?p.translate<.5:p.translate>.5;if(t){b(!c.$viewValue)}p=null}function b(t){e.$apply(function(){c.$setViewValue(t);c.$render()})}}}}e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]})();(function(){"use strict";t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n);function e(){return{restrict:"E"}}function n(e){var t;var n=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:r}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,n){var r={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function i(n){var r=this;n.$watch(function(){return t},function(){r.content=t});this.resolve=function(){e.hide()}}],theme:n.defaultTheme(),controllerAs:"toast",bindToController:true};return r}]}).addMethod("updateContent",function(e){t=e});r.$inject=["$timeout","$animate","$mdToast","$mdUtil"];return n;function r(e,n,r,i){return{onShow:a,onRemove:o,position:"bottom left",themable:true,hideDelay:3e3};function a(a,o,s){o=i.extractElementByName(o,"md-toast");t=s.content;o.addClass(s.position.split(" ").map(function(e){return"md-"+e}).join(" "));s.parent.addClass(l(s.position));s.onSwipe=function(t,n){o.addClass("md-"+t.type.replace("$md.",""));e(r.cancel)};o.on("$md.swipeleft $md.swiperight",s.onSwipe);return n.enter(o,s.parent)}function o(e,t,r){t.off("$md.swipeleft $md.swiperight",r.onSwipe);r.parent.removeClass(l(r.position));return n.leave(t)}function l(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}}}n.$inject=["$$interimElementProvider"]})();(function(){"use strict";t.module("material.components.tabs",["material.core","material.components.icon"])})();(function(){"use strict";t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e);function e(e,n,r,i,a,o){return{restrict:"E",controller:t.noop,link:function(l,s,u){i(s);if(t.isDefined(u.mdScrollShrink)){c()}function c(){var t=0;var i=0;var c=u.mdShrinkSpeedFactor||.5;var d;var f;var m=e.throttle(v);var p=r.debounce(g,5*1e3);l.$on("$mdContentLoaded",h);function h(t,n){if(s.parent()[0]===n.parent()[0]){if(f){f.off("scroll",m)}n.on("scroll",m);n.attr("scroll-shrink","true");f=n;e(g)}}function g(){d=s.prop("offsetHeight");var e=-d*c+"px";f.css("margin-top",e);f.css("margin-bottom",e);v()}function v(e){var r=e?e.target.scrollTop:i;p();t=Math.min(d/c,Math.max(0,t+r-i));s.css(n.CSS.TRANSFORM,"translate3d(0,"+-t*c+"px,0)");f.css(n.CSS.TRANSFORM,"translate3d(0,"+(d-t)*c+"px,0)");i=r;if(s.hasClass("md-whiteframe-z1")){if(!t){o(function(){a.removeClass(s,"md-whiteframe-z1")})}}else{if(t){o(function(){a.addClass(s,"md-whiteframe-z1")})}}}}}}}e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"]})();(function(){"use strict";t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e);function e(e,n,r,i,a,o,l,s,u){var c=300;var d=8;return{restrict:"E",transclude:true,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:f};function f(f,m,p){o(m);var h=k(),g=t.element(m[0].getElementsByClassName("md-background")[0]),v=t.element(m[0].getElementsByClassName("md-content")[0]),b=p.mdDirection,_=x(),y=t.element(_||document.body),E=r.throttle(function(){if(f.visible)O()});return $();function $(){w();M();S();A();C()}function w(){if(!t.isDefined(p.mdDelay))f.delay=c}function A(){f.$on("$destroy",function(){f.visible=false;m.remove();t.element(n).off("resize",E)});f.$watch("visible",function(e){if(e)H();else D()})}function C(){if(!h.attr("aria-label")&&!h.text().trim()){h.attr("aria-label",m.text().trim())}}function M(){m.detach();m.attr("role","tooltip")}function k(){var e=m.parent();while(e&&n.getComputedStyle(e[0])["pointer-events"]=="none"){e=e.parent()}return e}function x(){var e=m.parent()[0];while(e&&e!==l[0]&&e!==document.body){if(e.tagName&&e.tagName.toLowerCase()=="md-content")break;e=e.parentNode}return e}function T(e,r){var i=n.getComputedStyle(m[0]);return t.isDefined(i[e])&&i[e]==r}function S(){var e=false;var r=function(){if(!T("pointer-events","none")){N(true)}};var a=function(){var t=f.hasOwnProperty("autohide")?f.autohide:p.hasOwnProperty("mdAutohide");if(t||e||i[0].activeElement!==h[0]){N(false)}e=false};h.on("mousedown",function(){e=true});h.on("focus mouseenter touchstart",r);h.on("blur mouseleave touchend touchcancel",a);t.element(n).on("resize",E)}function N(t){N.value=!!t;if(!N.queued){if(t){N.queued=true;e(function(){f.visible=N.value;N.queued=false},f.delay)}else{e(function(){f.visible=false})}}}function H(){y.append(m);if(T("display","none")){f.visible=false;m.detach();return}O();t.forEach([m,g,v],function(e){s.addClass(e,"md-show")})}function D(){u.all([s.removeClass(v,"md-show"),s.removeClass(g,"md-show"),s.removeClass(m,"md-show")]).then(function(){if(!f.visible)m.detach()})}function O(){var e=a.offsetRect(m,y);var t=a.offsetRect(h,y);var n=o(b);if(b){n=i(n)}else if(n.top>m.prop("offsetParent").scrollHeight-e.height-d){n=i(o("top"))}m.css({top:n.top+"px",left:n.left+"px"});r();function r(){var t=b==="left"||b==="right"?Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height/2,2))*2:Math.sqrt(Math.pow(e.width/2,2)+Math.pow(e.height,2))*2,n=b==="left"?{left:100,top:50}:b==="right"?{left:0,top:50}:b==="top"?{left:50,top:100}:{left:50,top:0};g.css({width:t+"px",height:t+"px",left:n.left+"%",top:n.top+"%"})}function i(t){var n={left:t.left,top:t.top};n.left=Math.min(n.left,y.prop("scrollWidth")-e.width-d);n.left=Math.max(n.left,d);n.top=Math.min(n.top,y.prop("scrollHeight")-e.height-d);n.top=Math.max(n.top,d);return n}function o(n){return n==="left"?{left:t.left-e.width-d,top:t.top+t.height/2-e.height/2}:n==="right"?{left:t.left+t.width+d,top:t.top+t.height/2-e.height/2}:n==="top"?{left:t.left+t.width/2-e.width/2,top:t.top-e.height-d}:{left:t.left+t.width/2-e.width/2,top:t.top+t.height+d}}}}}e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]})();(function(){"use strict";t.module("material.components.whiteframe",[])})();(function(){"use strict";t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",i);var e=41,n=5.5*e,r=8;function i(e,i,a,o,l,s,u,c,d){var f=this,m=e.itemsExpr.split(/ in /i),p=m[1],h=null,g=null,v={},b=false,_=[],y=false;f.scope=e;f.parent=e.$parent;f.itemName=m[0];f.matches=[];f.loading=false;f.hidden=true;f.index=null;f.messages=[];f.id=a.nextUid();f.keydown=I;f.blur=O;f.focus=R;f.clear=z;f.select=W;f.getCurrentDisplayValue=B;f.registerSelectedItemWatcher=N;f.unregisterSelectedItemWatcher=H;f.listEnter=function(){b=true};f.listLeave=function(){b=false;if(!y)f.hidden=true};f.mouseUp=function(){h.input.focus()};return E();function E(){C();l(function(){M();A();w()})}function $(){if(!h)return l($,0,false);var e=h.wrap.getBoundingClientRect(),t=h.snap.getBoundingClientRect(),i=h.root.getBoundingClientRect(),a=t.bottom-i.top,o=i.bottom-t.top,s=e.left-i.left,u=e.width,c={left:s+"px",minWidth:u+"px",maxWidth:Math.max(e.right-i.left,i.right-e.left)-r+"px"};if(a>o&&i.height-e.bottom-r<n){c.top="auto";c.bottom=o+"px";c.maxHeight=Math.min(n,e.top-i.top-r)+"px"}else{c.top=a+"px";c.bottom="auto";c.maxHeight=Math.min(n,i.bottom-e.bottom-r)+"px"}h.$.ul.css(c);l(d,0,false);function d(){var t=h.ul.getBoundingClientRect(),n={};if(t.right>i.right-r){n.left=e.right-t.width+"px"}h.$.ul.css(n)}}function w(){if(!h.$.root.length)return;s(h.$.ul);h.$.ul.detach();h.$.root.append(h.$.ul);if(c.pin)c.pin(h.$.ul,d)}function A(){if(e.autofocus)h.input.focus()}function C(){var n=parseInt(e.delay,10)||0;e.$watch("searchText",n?a.debounce(D,n):D);N(T);e.$watch("selectedItem",S);e.$watch("$mdAutocompleteCtrl.hidden",function(e,t){if(!e&&t)$()});t.element(u).on("resize",$)}function M(){h={main:i[0],ul:i.find("ul")[0],input:i.find("input")[0],wrap:i.find("md-autocomplete-wrap")[0],root:document.body};h.li=h.ul.getElementsByTagName("li");h.snap=k();h.$=x(h)}function k(){for(var e=i;e.length;e=e.parent()){if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0]}return h.wrap}function x(e){var n={};for(var r in e){n[r]=t.element(e[r])}return n}function T(t,n){if(t){e.searchText=L(t)}if(e.itemChange&&t!==n)e.itemChange(F(t))}function S(e,t){for(var n=0;n<_.length;++n){_[n](e,t)}}function N(e){if(_.indexOf(e)==-1){_.push(e)}}function H(e){var t=_.indexOf(e);if(t!=-1){_.splice(t,1)}}function D(t,n){f.index=U();if(t===n)return;if(t!==L(e.selectedItem))e.selectedItem=null;else return;if(e.textChange&&t!==n)e.textChange(F(e.selectedItem));if(!q()){f.loading=false;f.matches=[];f.hidden=j();G()}else{X()}}function O(){y=false;if(!b)f.hidden=true}function R(){y=true;if(!t.isString(e.searchText))e.searchText="";if(e.minLength>0)return;f.hidden=j();if(!f.hidden)X()}function I(e){switch(e.keyCode){case o.KEY_CODE.DOWN_ARROW:if(f.loading)return;e.preventDefault();f.index=Math.min(f.index+1,f.matches.length-1);K();G();break;case o.KEY_CODE.UP_ARROW:if(f.loading)return;e.preventDefault();f.index=f.index<0?f.matches.length-1:Math.max(0,f.index-1);K();G();break;case o.KEY_CODE.TAB:case o.KEY_CODE.ENTER:if(f.hidden||f.loading||f.index<0||f.matches.length<1)return;e.preventDefault();W(f.index);break;case o.KEY_CODE.ESCAPE:f.matches=[];f.hidden=true;f.index=U();break;default:}}function P(){return t.isNumber(e.minLength)?e.minLength:1}function L(t){return t&&e.itemText?e.itemText(F(t)):t}function F(e){if(!e)return;var t={};if(f.itemName)t[f.itemName]=e;return t}function U(){return e.autoselect?0:-1}function j(){if(!q())return true}function B(){return L(f.matches[f.index])}function q(){return e.searchText.length>=P()}function W(t){e.selectedItem=f.matches[t];e.searchText=L(e.selectedItem)||e.searchText;f.hidden=true;f.index=0;f.matches=[]}function z(){e.searchText="";W(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",true,true,{value:e.searchText});h.input.dispatchEvent(t);h.input.focus()}function V(n){var r=e.$parent.$eval(p),i=n.toLowerCase();if(t.isArray(r)){a(r)}else{f.loading=true;if(r.success)r.success(a);if(r.then)r.then(a);if(r.error)r.error(function(){f.loading=false})}function a(t){v[i]=t;f.loading=false;if(n!==e.searchText)return;g=null;f.matches=t;f.hidden=j();G();$()}}function G(){f.messages=f.matches.length?[Y(),B()]:[]}function Y(){switch(f.matches.length){case 1:return"There is 1 match available.";default:return"There are "+f.matches.length+" matches available."}}function K(){if(!h.li[f.index])return;var e=h.li[f.index],t=e.offsetTop,n=t+e.offsetHeight,r=h.ul.clientHeight;if(t<h.ul.scrollTop){h.ul.scrollTop=t}else if(n>h.ul.scrollTop+r){h.ul.scrollTop=n-r}}function X(){var t=e.searchText,n=t.toLowerCase();if(g&&g.cancel){g.cancel();g=null}if(!e.noCache&&v[n]){f.matches=v[n];G()}else{V(t)}if(y)f.hidden=j()}}i.$inject=["$scope","$element","$mdUtil","$mdConstant","$timeout","$mdTheming","$window","$animate","$rootElement"]})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdAutocomplete",e);function e(e,t){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",link:n,scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass"},template:function(e,t){var n=o(),r=a(),i=e.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel }"            role="listbox">          '+l()+'          <button              type="button"              tabindex="-1"              ng-if="$mdAutocompleteCtrl.scope.searchText && !isDisabled"              ng-click="$mdAutocompleteCtrl.clear()">            <md-icon md-svg-icon="md-cancel"></md-icon>            <span class="md-visually-hidden">Clear</span>          </button>          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions md-whiteframe-z1 {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-hide="$mdAutocompleteCtrl.hidden"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+r+"            </li>            "+n+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages" ng-if="message">{{message}}</p>        </aria-status>';function a(){var t=e.find("md-item-template").remove(),n=t.length?t.html():e.html();if(!t.length)e.empty();return n}function o(){var t=e.find("md-not-found").remove(),n=t.length?t.html():"";return n?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                         && !$mdAutocompleteCtrl.hidden"                         ng-hide="$mdAutocompleteCtrl.hidden"                         md-autocomplete-parent-scope>'+n+"</li>":""}function l(){if(t.mdFloatingLabel){return'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="fl-input-{{$mdAutocompleteCtrl.id}}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+i+"</div>            </md-input-container>"}else{return'            <input flex type="search"                id="input-{{$mdAutocompleteCtrl.id}}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="isRequired"                ng-disabled="isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}}}};function n(n,r,i){i.$observe("disabled",function(e){n.isDisabled=e});i.$observe("required",function(e){n.isRequired=e!==null});t.initOptionalProperties(n,i,{searchText:null,selectedItem:null});e(r)}}e.$inject=["$mdTheming","$mdUtil"]})();(function(){"use strict";t.module("material.components.autocomplete").controller("MdHighlightCtrl",e);function e(e,n,r){this.init=i;return i();function i(i){var a=r(n.html())(e),l=t.element("<div>").text(a).html(),s=n.attr("md-highlight-flags")||"",u=e.$watch(i,function(e){var t=o(e,s),r=l.replace(t,'<span class="highlight">$&</span>');n.html(r)});n.on("$destroy",function(){u()})}function a(e){if(!e)return e;return e.replace(/[\\\^\$\*\+\?\.\(\)\|\{\}\[\]]/g,"\\$&")}function o(e,t){var n="";if(t.indexOf("^")>=1)n+="^";n+=e;if(t.indexOf("$")>=1)n+="$";return new RegExp(a(n),t.replace(/[\$\^]/g,""))}}e.$inject=["$scope","$element","$interpolate"]})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdHighlightText",e);function e(){return{terminal:true,scope:false,controller:"MdHighlightCtrl",link:function(e,t,n,r){r.init(n.mdHighlightText)}}}})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdAutocompleteListItem",e);function e(e,t){return{terminal:true,link:n,scope:false};function n(n,r,i){var a=n.$parent.$mdAutocompleteCtrl,o=a.parent.$new(false,a.parent),l=a.scope.$eval(i.mdAutocompleteListItem);o[l]=n.item;e(r.contents())(o);r.attr({role:"option",id:"item_"+t.nextUid()})}}e.$inject=["$compile","$mdUtil"]})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e);function e(e,t){return{restrict:"A",terminal:true,link:n,scope:false};function n(t,n,r){var i=t.$parent.$mdAutocompleteCtrl;e(n.contents())(i.parent);if(r.hasOwnProperty("mdAutocompleteReplace")){n.after(n.contents());n.remove()}}}e.$inject=["$compile","$mdUtil"]})();(function(){"use strict";t.module("material.components.chips").directive("mdChip",n);var e='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';function n(n){return{restrict:"E",require:"^?mdChips",compile:r};function r(r,i){r.append(e);return function a(e,r,i,o){r.addClass("md-chip");n(r);if(o)t.element(r[0].querySelector(".md-chip-content")).on("blur",function(){o.selectedChip=-1})}}}n.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.chips").directive("mdChipRemove",e);function e(e){return{restrict:"A",require:"^mdChips",scope:false,link:t};function t(t,n,r,i){n.on("click",function(e){t.$apply(function(){i.removeChip(t.$$replacedScope.$index)})});e(function(){n.attr({tabindex:-1,ariaHidden:true});n.find("button").attr("tabindex","-1")})}}e.$inject=["$timeout"]})();(function(){"use strict";t.module("material.components.chips").directive("mdChipTransclude",e);function e(e,t){return{restrict:"EA",terminal:true,link:n,scope:false};function n(t,n,r){var i=t.$parent.$mdChipsCtrl,a=i.parent.$new(false,i.parent);a.$$replacedScope=t;a.$chip=t.$chip;a.$mdChipsCtrl=i;n.html(i.$scope.$eval(r.mdChipTransclude));e(n.contents())(a)}}e.$inject=["$compile","$mdUtil"]})();(function(){"use strict";t.module("material.components.chips").controller("MdChipsCtrl",e);function e(e,t,n,r,i){this.$timeout=i;this.$mdConstant=t;this.$scope=e;this.parent=e.$parent;this.$log=n;this.$element=r;this.ngModelCtrl=null;this.userInputNgModelCtrl=null;this.userInputElement=null;this.items=[];this.selectedChip=-1;this.deleteHint="Press delete to remove this chip.";this.deleteButtonLabel="Remove";this.chipBuffer="";this.useMdOnAppend=false}e.$inject=["$scope","$mdConstant","$log","$element","$timeout"];e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();switch(e.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!t)break;e.preventDefault();this.appendChip(t);this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(t)break;e.stopPropagation();if(this.items.length)this.selectAndFocusChipSafe(this.items.length-1);break}};e.prototype.chipKeydown=function(e){if(this.getChipBuffer())return;switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault();this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault();if(this.selectedChip<0)this.selectedChip=this.items.length;if(this.items.length)this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault();this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:
if(this.selectedChip<0)return;e.preventDefault();this.onFocus();break}};e.prototype.getPlaceholder=function(){var e=this.items.length&&(this.secondaryPlaceholder==""||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder};e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e);this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))};e.prototype.resetSelectedChip=function(){this.selectedChip=-1};e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return t==0?-1:e==t?e-1:e};e.prototype.appendChip=function(e){if(this.items.indexOf(e)+1)return;if(this.useMdOnAppend&&this.mdOnAppend){e=this.mdOnAppend({$chip:e})}this.items.push(e)};e.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=true};e.prototype.getChipBuffer=function(){return!this.userInputElement?this.chipBuffer:this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value};e.prototype.resetChipBuffer=function(){if(this.userInputElement){if(this.userInputNgModelCtrl){this.userInputNgModelCtrl.$setViewValue("");this.userInputNgModelCtrl.$render()}else{this.userInputElement[0].value=""}}else{this.chipBuffer=""}};e.prototype.removeChip=function(e){this.items.splice(e,1)};e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e);this.onFocus()};e.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length){this.selectChip(-1);this.onFocus();return}if(e===this.items.length)return this.onFocus();e=Math.max(e,0);e=Math.min(e,this.items.length-1);this.selectChip(e);this.focusChip(e)};e.prototype.selectChip=function(e){if(e>=-1&&e<=this.items.length){this.selectedChip=e}else{this.$log.warn("Selected Chip index out of bounds; ignoring.")}};e.prototype.selectAndFocusChip=function(e){this.selectChip(e);if(e!=-1){this.focusChip(e)}};e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()};e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}};e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus();this.resetSelectedChip()};e.prototype.onInputFocus=function(){this.inputHasFocus=true;this.resetSelectedChip()};e.prototype.onInputBlur=function(){this.inputHasFocus=false};e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");if(n!=this.ngModelCtrl){this.userInputNgModelCtrl=n}var r=this.$scope;var i=this;e.attr({tabindex:0}).on("keydown",function(e){r.$apply(t.bind(i,function(){i.inputKeydown(e)}))}).on("focus",t.bind(i,i.onInputFocus)).on("blur",t.bind(i,i.onInputBlur))};e.prototype.configureAutocomplete=function(e){e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){this.appendChip(e);this.resetChipBuffer()}}));this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur))};e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}})();(function(){"use strict";t.module("material.components.chips").directive("mdChips",a);var e='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>';var n='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">';var r="      <span>{{$chip}}</span>";var i='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';function a(t,a,o,l,s){return{template:function(t,n){var r=n["$mdUserTemplate"]=t.clone();return e},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:true,compile:u,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}};function u(e,u){var c=u["$mdUserTemplate"];u["$mdUserTemplate"]=null;var d=h("md-chips>*[md-chip-remove]")||i,f=h("md-chips>md-chip-template")||r,m=h("md-chips>md-autocomplete")||h("md-chips>input")||n,p=c.find("md-chip");if(c[0].querySelector("md-chip-template>*[md-chip-remove]")){l.warn("invalid placement of md-chip-remove within md-chip-template.")}function h(e){if(!u.ngModel)return;var t=c[0].querySelector(e);return t&&t.outerHTML}return function g(e,r,i,l){a.initOptionalProperties(e,u);t(r);var c=l[0];c.chipContentsTemplate=f;c.chipRemoveTemplate=d;c.chipInputTemplate=m;r.attr({ariaHidden:true,tabindex:-1}).on("focus",function(){c.onFocus()});if(u.ngModel){c.configureNgModel(r.controller("ngModel"));if(i.mdOnAppend)c.useMdOnAppendExpression();if(m!=n){s(function(){if(m.indexOf("<md-autocomplete")===0)c.configureAutocomplete(r.find("md-autocomplete").controller("mdAutocomplete"));c.configureUserInput(r.find("input"))})}}if(p.length>0){var h=o(p)(e.$parent);s(function(){r.find("md-chips-wrap").prepend(h)})}}}}a.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]})();(function(){"use strict";t.module("material.components.chips").controller("MdContactChipsCtrl",e);function e(){this.selectedItem=null;this.searchText=""}e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n};e.prototype.filterSelectedContacts=function(e){return this.contacts.indexOf(e)==-1}})();(function(){"use strict";t.module("material.components.chips").directive("mdContactChips",n);var e='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';function n(t,n){return{template:function(t,n){return e},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:true,compile:r,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}};function r(e,r){return function i(e,a,o,l){n.initOptionalProperties(e,r);t(a);a.attr("tabindex","-1")}}}n.$inject=["$mdTheming","$mdUtil"]})();(function(){"use strict";t.module("material.components.tabs").directive("mdTab",e);function e(){return{require:"^?mdTabs",terminal:true,template:function(e,t){var n=i(),r=a();return""+"<md-tab-label>"+n+"</md-tab-label>"+"<md-tab-body>"+r+"</md-tab-body>";function i(){return n()||r()||i();function n(){return t.label}function r(){var t=e.find("md-tab-label");if(t.length)return t.remove().html()}function i(){var t=e.html();e.empty();return t}}function a(){var n=e.find("md-tab-body"),r=n.length?n.html():t.label?e.html():"";if(n.length)n.remove();else if(t.label)e.empty();return r}},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"},link:e};function e(e,n,r,i){if(!i)return;var a=n.parent()[0].getElementsByTagName("md-tab"),o=Array.prototype.indexOf.call(a,n[0]),l=i.insertTab({scope:e,parent:e.$parent,index:o,element:n,template:n.find("md-tab-body").html(),label:n.find("md-tab-label").html()},o);e.select=e.select||t.noop;e.deselect=e.deselect||t.noop;e.$watch("active",function(e){if(e)i.select(l.getIndex())});e.$watch("disabled",function(){i.refreshIndex()});e.$watch(function(){return Array.prototype.indexOf.call(a,n[0])},function(e){l.index=e;i.updateTabOrder()});e.$on("$destroy",function(){i.removeTab(l)})}}})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabItem",e);function e(){return{require:"^?mdTabs",link:function e(t,n,r,i){if(!i)return;i.attachRipple(t,n)}}}})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabLabel",e);function e(){return{terminal:true}}})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabScroll",e);function e(e){return{restrict:"A",compile:function(t,n){var r=e(n.mdTabScroll,null,true);return function i(e,t){t.on("mousewheel",function(t){e.$apply(function(){r(e,{$event:t})})})}}}}e.$inject=["$parse"]})();(function(){"use strict";t.module("material.components.tabs").controller("MdTabsController",e);function e(e,n,r,i,a,o,l,s){var u=this,c=false,d=x(),f=[];u.scope=e;u.parent=e.$parent;u.tabs=[];u.lastSelectedIndex=null;u.focusIndex=e.selectedIndex||0;u.offsetLeft=0;u.hasContent=false;u.hasFocus=false;u.lastClick=true;u.redirectFocus=P;u.attachRipple=V;u.shouldStretchTabs=N;u.shouldPaginate=D;u.shouldCenterTabs=H;u.insertTab=k;u.removeTab=M;u.select=E;u.scroll=$;u.nextPage=w;u.previousPage=A;u.keydown=y;u.canPageForward=S;u.canPageBack=T;u.refreshIndex=j;u.incrementSelectedIndex=I;u.updateInkBarStyles=l.debounce(q,100);u.updateTabOrder=l.debounce(R,100);m();function m(){e.$watch("selectedIndex",b);e.$watch("$mdTabsCtrl.focusIndex",v);e.$watch("$mdTabsCtrl.offsetLeft",g);e.$watch("$mdTabsCtrl.hasContent",h);t.element(r).on("resize",C);t.element(d.paging).on("DOMSubtreeModified",u.updateInkBarStyles);i(B,0,false);i(L);e.$on("$destroy",p)}function p(){t.element(r).off("resize",C);t.element(d.paging).off("DOMSubtreeModified",u.updateInkBarStyles)}function h(e){n[e?"removeClass":"addClass"]("md-no-tab-content")}function g(n){var r=H()?"":"-"+n+"px";t.element(d.paging).css("transform","translate3d("+r+", 0, 0)");e.$broadcast("$mdTabsPaginationChanged")}function v(e,t){if(e===t)return;if(!d.tabs[e])return;L();P()}function b(t,n){if(t===n)return;e.selectedIndex=O(t);u.lastSelectedIndex=n;u.updateInkBarStyles();B();e.$broadcast("$mdTabsChanged");u.tabs[n]&&u.tabs[n].scope.deselect();u.tabs[t]&&u.tabs[t].scope.select()}function _(){if(_.watcher)return;_.watcher=e.$watch(function(){i(function(){if(!_.watcher)return;if(n.prop("offsetParent")){_.watcher();_.watcher=null;C()}},0,false)})}function y(t){switch(t.keyCode){case a.KEY_CODE.LEFT_ARROW:t.preventDefault();I(-1,true);break;case a.KEY_CODE.RIGHT_ARROW:t.preventDefault();I(1,true);break;case a.KEY_CODE.SPACE:case a.KEY_CODE.ENTER:t.preventDefault();if(!c)e.selectedIndex=u.focusIndex;break}u.lastClick=false}function E(t){if(!c)u.focusIndex=e.selectedIndex=t;u.lastClick=true;u.tabs[t].element.triggerHandler("click")}function $(e){if(!D())return;e.preventDefault();u.offsetLeft=z(u.offsetLeft-e.wheelDelta)}function w(){var e=d.canvas.clientWidth,t=e+u.offsetLeft,n,r;for(n=0;n<d.tabs.length;n++){r=d.tabs[n];if(r.offsetLeft+r.offsetWidth>t)break}u.offsetLeft=z(r.offsetLeft)}function A(){var e,t;for(e=0;e<d.tabs.length;e++){t=d.tabs[e];if(t.offsetLeft+t.offsetWidth>=u.offsetLeft)break}u.offsetLeft=z(t.offsetLeft+t.offsetWidth-d.canvas.clientWidth)}function C(){e.$apply(function(){u.lastSelectedIndex=e.selectedIndex;u.offsetLeft=z(u.offsetLeft);i(u.updateInkBarStyles,0,false)})}function M(t){var n=e.selectedIndex,r=u.tabs.splice(t.getIndex(),1)[0];j();if(e.selectedIndex===n){r.scope.deselect();u.tabs[e.selectedIndex]&&u.tabs[e.selectedIndex].scope.select()}i(function(){u.offsetLeft=z(u.offsetLeft)})}function k(n,r){var i={getIndex:function(){return u.tabs.indexOf(a)},isActive:function(){return this.getIndex()===e.selectedIndex},isLeft:function(){return this.getIndex()<e.selectedIndex},isRight:function(){return this.getIndex()>e.selectedIndex},hasFocus:function(){return!u.lastClick&&u.hasFocus&&this.getIndex()===u.focusIndex},id:l.nextUid()},a=t.extend(i,n);if(t.isDefined(r)){u.tabs.splice(r,0,a)}else{u.tabs.push(a)}F();U();return a}function x(){var e={};e.wrapper=n[0].getElementsByTagName("md-tabs-wrapper")[0];e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0];e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0];e.tabs=e.paging.getElementsByTagName("md-tab-item");e.dummies=e.canvas.getElementsByTagName("md-dummy-tab");e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0];e.contentsWrapper=n[0].getElementsByTagName("md-tabs-content-wrapper")[0];e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content");return e}function T(){return u.offsetLeft>0}function S(){var e=d.tabs[d.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>d.canvas.clientWidth+u.offsetLeft}function N(){switch(e.stretchTabs){case"always":return true;case"never":return false;default:return!D()&&r.matchMedia("(max-width: 600px)").matches}}function H(){return e.centerTabs&&!D()}function D(){if(e.noPagination)return false;var r=n.prop("clientWidth");t.forEach(d.tabs,function(e){r-=e.offsetWidth});return r<0}function O(e){var t=Math.max(u.tabs.length-e,e),n,r;for(n=0;n<=t;n++){r=u.tabs[e+n];if(r&&r.scope.disabled!==true)return r.getIndex();r=u.tabs[e-n];if(r&&r.scope.disabled!==true)return r.getIndex()}return e}function R(){var t=u.tabs[e.selectedIndex],n=u.tabs[u.focusIndex];u.tabs=u.tabs.sort(function(e,t){return e.index-t.index});e.selectedIndex=u.tabs.indexOf(t);u.focusIndex=u.tabs.indexOf(n)}function I(t,n){var r,i=n?u.focusIndex:e.selectedIndex;for(r=i+t;u.tabs[r]&&u.tabs[r].scope.disabled;r+=t){}if(u.tabs[r]){if(n)u.focusIndex=r;else e.selectedIndex=r}}function P(){d.dummies[u.focusIndex].focus()}function L(){if(H())return;var e=d.tabs[u.focusIndex],t=e.offsetLeft,n=e.offsetWidth+t;u.offsetLeft=Math.max(u.offsetLeft,z(n-d.canvas.clientWidth));u.offsetLeft=Math.min(u.offsetLeft,z(t))}function F(){f.forEach(function(e){i(e)});f=[]}function U(){var e=false;t.forEach(u.tabs,function(t){if(t.template)e=true});u.hasContent=e}function j(){e.selectedIndex=O(e.selectedIndex);u.focusIndex=O(u.focusIndex)}function B(){if(!e.dynamicHeight)return n.css("height","");if(!u.tabs.length)return f.push(B);var t=d.contents[e.selectedIndex],r=t?t.offsetHeight:0,i=d.wrapper.offsetHeight,a=r+i,o=n.prop("clientHeight");if(o===a)return;c=true;s.animate(n,{height:o+"px"},{height:a+"px"}).then(function(){n.css("height","");c=false})}function q(){if(!d.tabs[e.selectedIndex])return;if(!u.tabs.length)return f.push(u.updateInkBarStyles);if(!n.prop("offsetParent"))return _();var r=e.selectedIndex,i=d.paging.offsetWidth,a=d.tabs[r],o=a.offsetLeft,l=i-o-a.offsetWidth;W();t.element(d.inkBar).css({left:o+"px",right:l+"px"})}function W(){var n=e.selectedIndex,r=u.lastSelectedIndex,i=t.element(d.inkBar);i.removeClass("md-left md-right");if(!t.isNumber(r))return;if(n<r){i.addClass("md-left")}else if(n>r){i.addClass("md-right")}}function z(e){if(!d.tabs.length||!D())return 0;var t=d.tabs[d.tabs.length-1],n=t.offsetLeft+t.offsetWidth;e=Math.max(0,e);e=Math.min(n-d.canvas.clientWidth,e);return e}function V(e,n){var r={colorElement:t.element(d.inkBar)};o.attach(e,n,r)}}e.$inject=["$scope","$element","$window","$timeout","$mdConstant","$mdTabInkRipple","$mdUtil","$animate"]})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabs",e);function e(e,n,r){return{scope:{noPagination:"=?mdNoPagination",dynamicHeight:"=?mdDynamicHeight",centerTabs:"=?mdCenterTabs",selectedIndex:"=?mdSelected",stretchTabs:"@?mdStretchTabs"},template:function(e,t){t["$mdTabsTemplate"]=e.html();return'        <md-tabs-wrapper ng-class="{ \'md-stretch-tabs\': $mdTabsCtrl.shouldStretchTabs() }">          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate(),                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs()              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs() }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ tabWidth ? tabWidth + \'px\' : \'none\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="tab.label"                  md-scope="tab.parent"></md-tab-item>              <md-ink-bar ng-hide="noInkBar"></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  tabindex="-1"                  id="tab-item-{{tab.id}}"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="tab.label"                  md-scope="tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent">          <md-tab-content              id="tab-content-{{tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{tab.id}}"              md-swipe-left="$mdTabsCtrl.incrementSelectedIndex(1)"              md-swipe-right="$mdTabsCtrl.incrementSelectedIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"               md-template="tab.template"              md-scope="tab.parent"              md-connected-if="tab.isActive()"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     dynamicHeight              }"></md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",link:function(i,a,o){l(o.$mdTabsTemplate);delete o.$mdTabsTemplate;n.initOptionalProperties(i,o);o.$observe("mdNoBar",function(e){i.noInkBar=t.isDefined(e)});i.selectedIndex=t.isNumber(i.selectedIndex)?i.selectedIndex:0;e(a);function l(e){var t=a.find("md-tab-data");t.html(e);r(t.contents())(i.$parent)}}}}e.$inject=["$mdTheming","$mdUtil","$compile"]})();(function(){"use strict";t.module("material.components.tabs").directive("mdTemplate",e);function e(e,t,n){return{restrict:"A",link:r,scope:{template:"=mdTemplate",compileScope:"=mdScope",connected:"=?mdConnectedIf"},require:"^?mdTabs"};function r(r,i,a,o){if(!o)return;var l=r.compileScope.$new();i.html(r.template);e(i.contents())(l);return n(s);function s(){r.$watch("connected",function(e){e===false?u():c()});r.$on("$destroy",c)}function u(){t.disconnectScope(l)}function c(){t.reconnectScope(l)}}}e.$inject=["$compile","$mdUtil","$timeout"]})();(function(){t.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-icon-button, .md-button.md-THEME_NAME-theme.md-icon-button {    border-radius: 50%; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-3}}' 0%, '{{foreground-3}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-3}}' 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label.md-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-label {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-label {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-label {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-label.md-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme .md-select-label {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-label.md-placeholder {    color: '{{foreground-2}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");
})()})(window,window.angular);(function(){var e=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return true}catch(t){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined)return true}return false};function t(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){var n=function(e){if(!e.__listeners){if(!e.upload)e.upload={};e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r,i){e.__listeners[n]=r;t&&t.apply(this,arguments)}}};t("open",function(e){return function(t,r,i){n(this);this.__url=r;try{e.apply(this,[t,r,i])}catch(a){if(a.message.indexOf("Access is denied")>-1){this.__origError=a;e.apply(this,[t,"_fix_for_ie_crossdomain__",i])}}}});t("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):e==null?null:e.apply(this,[t])}});t("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():e==null?null:e.apply(this)}});t("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():e==null?null:e.apply(this)}});t("setRequestHeader",function(e){return function(t,r){if(t==="__setXHR_"){n(this);var i=r(this);if(i instanceof Function){i(this)}}else{this.__requestHeaders=this.__requestHeaders||{};this.__requestHeaders[t]=r;e.apply(this,arguments)}}});function r(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}t("send",function(t){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0];var a={url:n.__url,jsonp:false,cache:true,complete:function(e,t){n.__completed=true;if(!e&&n.__listeners["load"])n.__listeners["load"]({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:true});if(!e&&n.__listeners["loadend"])n.__listeners["loadend"]({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:true});if(e==="abort"&&n.__listeners["abort"])n.__listeners["abort"]({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:true});if(t.status!==undefined)r(n,"status",function(){return t.status==0&&e&&e!=="abort"?500:t.status});if(t.statusText!==undefined)r(n,"statusText",function(){return t.statusText});r(n,"readyState",function(){return 4});if(t.response!==undefined)r(n,"response",function(){return t.response});var i=t.responseText||(e&&t.status==0&&e!=="abort"?e:undefined);r(n,"responseText",function(){return i});r(n,"response",function(){return i});if(e)r(n,"err",function(){return e});n.__fileApiXHR=t;if(n.onreadystatechange)n.onreadystatechange();if(n.onload)n.onload()},progress:function(e){e.target=n;n.__listeners["progress"]&&n.__listeners["progress"](e);n.__total=e.total;n.__loaded=e.loaded;if(e.total===e.loaded){var t=this;setTimeout(function(){if(!n.__completed){n.getAllResponseHeaders=function(){};t.complete(null,{status:204,statusText:"No Content"})}},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};a.data={};a.files={};for(var o=0;o<i.data.length;o++){var l=i.data[o];if(l.val!=null&&l.val.name!=null&&l.val.size!=null&&l.val.type!=null){a.files[l.key]=l.val}else{a.data[l.key]=l.val}}setTimeout(function(){if(!e()){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}n.__fileApiXHR=FileAPI.upload(a)},1)}else{if(this.__origError){throw this.__origError}t.apply(n,arguments)}}});window.XMLHttpRequest.__isFileAPIShim=true;function i(e){return e[0].tagName.toLowerCase()==="input"&&e.attr("type")&&e.attr("type").toLowerCase()==="file"}window.FormData=FormData=function(){return{append:function(e,t,n){if(t.__isFileAPIBlobShim){t=t.data[0]}this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:true}};window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:true}};(function(){if(!window.FileAPI){window.FileAPI={}}if(FileAPI.forceLoad){FileAPI.html5=false}if(!FileAPI.upload){var t,n,r=document.createElement("script"),i=document.getElementsByTagName("script"),a,o,l;if(window.FileAPI.jsUrl){t=window.FileAPI.jsUrl}else if(window.FileAPI.jsPath){n=window.FileAPI.jsPath}else{for(a=0;a<i.length;a++){l=i[a].src;o=l.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/);if(o>-1){n=l.substring(0,o+1);break}}}if(FileAPI.staticPath==null)FileAPI.staticPath=n;r.setAttribute("src",t||n+"FileAPI.min.js");document.getElementsByTagName("head")[0].appendChild(r);FileAPI.hasFlash=e()}})();FileAPI.ngfFixIE=function(t,n,r,a,o){if(!e()){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}var l=function(e){if(t.attr("disabled")){t.__ngf_elem__.removeClass("js-fileapi-wrapper")}else{var o=t.__ngf_elem__;if(!o){o=t.__ngf_elem__=n();o.addClass("js-fileapi-wrapper");if(!i(t)){}setTimeout(function(){o.bind("mouseenter",l)},10);o.bind("change",function(e){s.apply(this,[e]);a.apply(this,[e])})}else{r(t.__ngf_elem__)}if(!i(t)){o.css("position","absolute").css("top",u(t[0]).top+"px").css("left",u(t[0]).left+"px").css("width",t[0].offsetWidth+"px").css("height",t[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",t.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible")}}function u(e){var t,n;t=n=0;if(e.offsetParent){do{t+=e.offsetLeft;n+=e.offsetTop}while(e=e.offsetParent)}return{left:t,top:n}}};t.bind("mouseenter",l);var s=function(e){var t=FileAPI.getFiles(e);for(var n=0;n<t.length;n++){if(t[n].size===undefined)t[n].size=0;if(t[n].name===undefined)t[n].name="file";if(t[n].type===undefined)t[n].type="undefined"}if(!e.target){e.target={}}e.target.files=t;if(e.target.files!=t){e.__files_=t}(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}};FileAPI.disableFileInput=function(e,t){if(t){e.removeClass("js-fileapi-wrapper")}else{e.addClass("js-fileapi-wrapper")}}}if(!window.FileReader){window.FileReader=function(){var e=this,t=false;this.listeners={};this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[];e.listeners[t].push(n)};this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)};this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n){for(var r=0;r<n.length;r++){n[r].call(e,t)}}};this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};if(n.result!=null)r.target.result=n.result;return r};var r=function(r){if(!t){t=true;e.onloadstart&&e.onloadstart(n("loadstart",r))}if(r.type==="load"){e.onloadend&&e.onloadend(n("loadend",r));var i=n("load",r);e.onload&&e.onload(i);e.dispatchEvent(i)}else if(r.type==="progress"){var i=n("progress",r);e.onprogress&&e.onprogress(i);e.dispatchEvent(i)}else{var i=n("error",r);e.onerror&&e.onerror(i);e.dispatchEvent(i)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,r)};this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,r)};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)};this.readAsText=function(e){FileAPI.readAsText(e,r)}}}})();(function(){var e,t;function n(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}if(window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim){n("setRequestHeader",function(e){return function(t,n){if(t==="__setXHR_"){var r=n(this);if(r instanceof Function){r(this)}}else{e.apply(this,arguments)}}})}var r=angular.module("ngFileUpload",[]);r.version="4.2.4";r.service("Upload",["$http","$q","$timeout",function(t,n,r){function i(e){e.method=e.method||"POST";e.headers=e.headers||{};e.transformRequest=e.transformRequest||function(e,n){if(window.ArrayBuffer&&e instanceof window.ArrayBuffer){return e}return t.defaults.transformRequest[0](e,n)};var i=n.defer();var a=i.promise;e.headers["__setXHR_"]=function(){return function(t){if(!t)return;e.__XHR=t;e.xhrFn&&e.xhrFn(t);t.upload.addEventListener("progress",function(t){t.config=e;i.notify?i.notify(t):a.progress_fn&&r(function(){a.progress_fn(t)})},false);t.upload.addEventListener("load",function(t){if(t.lengthComputable){t.config=e;i.notify?i.notify(t):a.progress_fn&&r(function(){a.progress_fn(t)})}},false)}};t(e).then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.notify(e)});a.success=function(t){a.then(function(n){t(n.data,n.status,n.headers,e)});return a};a.error=function(t){a.then(null,function(n){t(n.data,n.status,n.headers,e)});return a};a.progress=function(e){a.progress_fn=e;a.then(null,null,function(t){e(t)});return a};a.abort=function(){if(e.__XHR){r(function(){e.__XHR.abort()})}return a};a.xhr=function(t){e.xhrFn=function(e){return function(){e&&e.apply(a,arguments);t.apply(a,arguments)}}(e.xhrFn);return a};return a}this.upload=function(t){t.headers=t.headers||{};t.headers["Content-Type"]=undefined;t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[];t.transformRequest.push(function(n){var r=new FormData;var i={};for(e in t.fields){if(t.fields.hasOwnProperty(e)){i[e]=t.fields[e]}}if(n)i["data"]=n;if(t.formDataAppender){for(e in i){if(i.hasOwnProperty(e)){t.formDataAppender(r,e,i[e])}}}else{for(e in i){if(i.hasOwnProperty(e)){var a=i[e];if(a!==undefined){if(angular.isDate(a)){a=a.toISOString()}if(angular.isString(a)){r.append(e,a)}else{if(t.sendObjectsAsJsonBlob&&angular.isObject(a)){r.append(e,new Blob([a],{type:"application/json"}))}else{r.append(e,JSON.stringify(a))}}}}}}if(t.file!=null){var o=t.fileFormDataName||"file";if(angular.isArray(t.file)){var l=angular.isString(o);for(var s=0;s<t.file.length;s++){r.append(l?o:o[s],t.file[s],t.fileName&&t.fileName[s]||t.file[s].name)}}else{r.append(o,t.file,t.fileName||t.file.name)}}return r});return i(t)};this.http=function(e){return i(e)}}]);r.directive("ngfSelect",["$parse","$timeout","$compile",function(e,t,n){return{restrict:"AEC",require:"?ngModel",link:function(r,a,o,l){i(r,a,o,l,e,t,n)}}}]);function i(e,t,n,r,i,a,o){if(t.attr("__ngf_gen__")){return}function u(){return t[0].tagName.toLowerCase()==="input"&&t.attr("type")&&t.attr("type").toLowerCase()==="file"}var c=false;function d(t){if(!c){c=true;try{var o=t.__files_||t.target&&t.target.files;var u=[],d=[];for(var f=0;f<o.length;f++){var m=o.item(f);if(s(e,i,n,m,t)){u.push(m)}else{d.push(m)}}l(i,a,e,r,n,n.ngfChange||n.ngfSelect,u,d,t);if(u.length==0)t.target.value=u}finally{c=false}}}function f(r){if(n.ngfMultiple)r.attr("multiple",i(n.ngfMultiple)(e));if(!i(n.ngfMultiple)(e))r.attr("multiple",undefined);if(n["accept"])r.attr("accept",n["accept"]);if(n.ngfCapture)r.attr("capture",i(n.ngfCapture)(e));for(var a=0;a<t[0].attributes.length;a++){var o=t[0].attributes[a];if(u()&&o.name!=="type"||o.name!=="type"&&o.name!=="class"&&o.name!=="id"&&o.name!=="style"){r.attr(o.name,o.value)}}}function m(n){if(t.attr("disabled")){return}var r=angular.element('<input type="file">');f(r);if(u()){t.replaceWith(r);t=r;r.attr("__ngf_gen__",true);o(t)(e)}else{r.css("visibility","hidden").css("position","absolute").css("width","1").css("height","1").css("z-index","-100000").attr("tabindex","-1");if(t.__ngf_ref_elem__){t.__ngf_ref_elem__.remove()}t.__ngf_ref_elem__=r;document.body.appendChild(r[0])}return r}function p(t){l(i,a,e,r,n,n.ngfChange||n.ngfSelect,[],[],t,true)}function h(e){if(e!=null){e.preventDefault();e.stopPropagation()}var n=m(e);if(n){n.bind("change",d);if(e){p(e)}function r(e){if(e!=null){n[0].click()}if(u()){t.bind("click touchend",h)}}if(navigator.userAgent.toLowerCase().match(/android/)){setTimeout(function(){r(e)},0)}else{r(e)}}return false}if(window.FileAPI&&window.FileAPI.ngfFixIE){window.FileAPI.ngfFixIE(t,m,f,d,p)}else{h();if(!u()){t.bind("click touchend",h)}}}r.directive("ngfDrop",["$parse","$timeout","$location",function(e,t,n){return{restrict:"AEC",require:"?ngModel",link:function(r,i,o,l){a(r,i,o,l,e,t,n)}}}]);r.directive("ngfNoFileDrop",function(){return function(e,t){if(o())t.css("display","none")}});r.directive("ngfDropAvailable",["$parse","$timeout",function(e,t){return function(n,r,i){if(o()){var a=e(i.ngfDropAvailable);t(function(){a(n);if(a.assign){a.assign(n,true)}})}}}]);function a(e,t,n,r,i,a,u){var c=o();if(n.dropAvailable){a(function(){e[n.dropAvailable]?e[n.dropAvailable].value=c:e[n.dropAvailable]=c})}if(!c){if(i(n.ngfHideOnDropNotAvailable)(e)==true){t.css("display","none")}return}var d=null;var f=i(n.ngfStopPropagation);var m=1;var p=i(n.ngfAccept);var h;t[0].addEventListener("dragover",function(r){if(t.attr("disabled"))return;r.preventDefault();if(f(e))r.stopPropagation();if(navigator.userAgent.indexOf("Chrome")>-1){var i=r.dataTransfer.effectAllowed;r.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(d);if(!e.actualDragOverClass){h=g(e,n,r)}t.addClass(h)},false);t[0].addEventListener("dragenter",function(n){if(t.attr("disabled"))return;n.preventDefault();if(f(e))n.stopPropagation()},false);t[0].addEventListener("dragleave",function(){if(t.attr("disabled"))return;d=a(function(){t.removeClass(h);h=null},m||1)},false);t[0].addEventListener("drop",function(o){if(t.attr("disabled"))return;o.preventDefault();if(f(e))o.stopPropagation();t.removeClass(h);h=null;v(o,function(t,s){l(i,a,e,r,n,n.ngfChange||n.ngfDrop,t,s,o)},i(n.ngfAllowDir)(e)!=false,n.multiple||i(n.ngfMultiple)(e))},false);function g(e,t,n){var r=true;var a=n.dataTransfer.items;if(a!=null){for(var o=0;o<a.length&&r;o++){r=r&&(a[o].kind=="file"||a[o].kind=="")&&s(e,i,t,a[o],n)}}var l=i(t.ngfDragOverClass)(e,{$event:n});if(l){if(l.delay)m=l.delay;if(l.accept)l=r?l.accept:l.reject}return l||t.ngfDragOverClass||"dragover"}function v(t,r,o,l){var c=[],d=[],f=t.dataTransfer.items,m=0;function p(r){if(s(e,i,n,r,t)){c.push(r)}else{d.push(r)}}if(f&&f.length>0&&u.protocol()!="file"){for(var h=0;h<f.length;h++){if(f[h].webkitGetAsEntry&&f[h].webkitGetAsEntry()&&f[h].webkitGetAsEntry().isDirectory){var g=f[h].webkitGetAsEntry();if(g.isDirectory&&!o){continue}if(g!=null){y(c,g)}}else{var v=f[h].getAsFile();if(v!=null)p(v)}if(!l&&c.length>0)break}}else{var b=t.dataTransfer.files;if(b!=null){for(var h=0;h<b.length;h++){p(b.item(h));if(!l&&c.length>0)break}}}var _=0;(function E(e){a(function(){if(!m){if(!l&&c.length>1){h=0;while(c[h].type=="directory")h++;c=[c[h]]}r(c,d)}else{if(_++*10<20*1e3){E(10)}}},e||0)})();function y(e,t,n){if(t!=null){if(t.isDirectory){var r=(n||"")+t.name;p({name:t.name,type:"directory",path:r});var i=t.createReader();var a=[];m++;var o=function(){i.readEntries(function(r){try{if(!r.length){for(var i=0;i<a.length;i++){y(e,a[i],(n?n:"")+t.name+"/")}m--}else{a=a.concat(Array.prototype.slice.call(r||[],0));o()}}catch(l){m--;console.error(l)}},function(){m--})};o()}else{m++;t.file(function(e){try{m--;e.path=(n?n:"")+e.name;p(e)}catch(t){m--;console.error(t)}},function(){m--})}}}}}r.directive("ngfSrc",["$parse","$timeout",function(e,t){return{restrict:"AE",link:function(n,r,i,a){if(window.FileReader){n.$watch(i.ngfSrc,function(a){if(a&&s(n,e,i,a,null)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||a.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||a.size<4e6)){t(function(){var e=window.URL||window.webkitURL;if(e&&e.createObjectURL){r.attr("src",e.createObjectURL(a))}else{var n=new FileReader;n.readAsDataURL(a);n.onload=function(e){t(function(){r.attr("src",e.target.result)})}}})}else{r.attr("src",i.ngfDefaultSrc||"")}})}}}}]);function o(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e}function l(e,t,n,r,i,a,o,l,s,u){function c(){if(r){e(i.ngModel).assign(n,o);t(function(){r&&r.$setViewValue(o!=null&&o.length==0?null:o)})}if(i.ngModelRejected){e(i.ngModelRejected).assign(n,l)}if(a){e(a)(n,{$files:o,$rejectedFiles:l,$event:s})}}if(u){c()}else{t(function(){c()})}}function s(e,t,n,r,i){var a=t(n.ngfAccept)(e,{$file:r,$event:i});var o=t(n.ngfMaxSize)(e,{$file:r,$event:i})||9007199254740991;var l=t(n.ngfMinSize)(e,{$file:r,$event:i})||-1;if(a!=null&&angular.isString(a)){var s=new RegExp(u(a),"gi");a=r.type!=null&&s.test(r.type.toLowerCase())||r.name!=null&&s.test(r.name.toLowerCase())}return(a==null||a)&&(r.size==null||r.size<o&&r.size>l)}function u(e){if(e.length>2&&e[0]==="/"&&e[e.length-1]==="/"){return e.substring(1,e.length-1)}var t=e.split(","),n="";if(t.length>1){for(var r=0;r<t.length;r++){n+="("+u(t[r])+")";if(r<t.length-1){n+="|"}}}else{if(e.indexOf(".")==0){e="*"+e}n="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+"-]","g"),"\\$&")+"$";n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".")}return n}})();angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,r){return function(i,a,o){a.attr("draggable","true");if(o.dndDisableIf){i.$watch(o.dndDisableIf,function(e){a.attr("draggable",!e)})}a.on("dragstart",function(l){l=l.originalEvent||l;l.dataTransfer.setData("Text",angular.toJson(i.$eval(o.dndDraggable)));l.dataTransfer.effectAllowed=o.dndEffectAllowed||"move";a.addClass("dndDragging");t(function(){a.addClass("dndDraggingSource")},0);n.dropEffect="none";r.isDragging=true;r.dragType=o.dndType?i.$eval(o.dndType):undefined;e(o.dndDragstart)(i,{event:l});l.stopPropagation()});a.on("dragend",function(t){t=t.originalEvent||t;var l=n.dropEffect;i.$apply(function(){switch(l){case"move":e(o.dndMoved)(i,{event:t});break;case"copy":e(o.dndCopied)(i,{event:t});break}});a.removeClass("dndDragging");a.removeClass("dndDraggingSource");r.isDragging=false;t.stopPropagation()});a.on("click",function(t){t=t.originalEvent||t;i.$apply(function(){e(o.dndSelected)(i,{event:t})});t.stopPropagation()});a.on("selectstart",function(){if(this.dragDrop)this.dragDrop();return false})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,r){return function(i,a,o){var l=angular.element("<li class='dndPlaceholder'></li>");var s=l[0];var u=a[0];var c=o.dndHorizontalList&&i.$eval(o.dndHorizontalList);var d=o.dndExternalSources&&i.$eval(o.dndExternalSources);a.on("dragover",function(e){e=e.originalEvent||e;if(!p(e))return true;if(s.parentNode!=u){a.append(l)}if(e.target!==u){var t=e.target;while(t.parentNode!==u&&t.parentNode){t=t.parentNode}if(t.parentNode===u&&t!==s){if(f(e,t)){u.insertBefore(s,t)}else{u.insertBefore(s,t.nextSibling)}}}else{if(f(e,s,true)){while(s.previousElementSibling&&(f(e,s.previousElementSibling,true)||s.previousElementSibling.offsetHeight===0)){u.insertBefore(s,s.previousElementSibling)}}else{while(s.nextElementSibling&&!f(e,s.nextElementSibling,true)){u.insertBefore(s,s.nextElementSibling.nextElementSibling)}}}if(o.dndDragover&&!g(o.dndDragover,e)){return h()}a.addClass("dndDragover");e.preventDefault();e.stopPropagation();return false});a.on("drop",function(e){e=e.originalEvent||e;if(!p(e))return true;e.preventDefault();var t=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");var r;try{r=JSON.parse(t)}catch(a){return h()}if(o.dndDrop){r=g(o.dndDrop,e,r);if(!r){return h()}}var l=i.$eval(o.dndList);i.$apply(function(){l.splice(m(),0,r)});if(e.dataTransfer.dropEffect==="none"){if(e.dataTransfer.effectAllowed==="copy"||e.dataTransfer.effectAllowed==="move"){n.dropEffect=e.dataTransfer.effectAllowed}else{n.dropEffect=e.ctrlKey?"copy":"move"}}else{n.dropEffect=e.dataTransfer.dropEffect}h();e.stopPropagation();return false});a.on("dragleave",function(e){e=e.originalEvent||e;a.removeClass("dndDragover");t(function(){if(!a.hasClass("dndDragover")){l.remove()}},100)});function f(e,t,n){var r=c?e.offsetX||e.layerX:e.offsetY||e.layerY;var i=c?t.offsetWidth:t.offsetHeight;var a=c?t.offsetLeft:t.offsetTop;a=n?a:0;return r<a+i/2}function m(){return Array.prototype.indexOf.call(u.children,s)}function p(e){if(!r.isDragging&&!d)return false;if(!v(e.dataTransfer.types))return false;if(o.dndAllowedTypes&&r.isDragging){var t=i.$eval(o.dndAllowedTypes);if(angular.isArray(t)&&t.indexOf(r.dragType)===-1){return false}}if(o.dndDisableIf&&i.$eval(o.dndDisableIf))return false;return true}function h(){l.remove();a.removeClass("dndDragover");return true}function g(t,n,a){return e(t)(i,{event:n,index:m(),item:a||undefined,external:!r.isDragging,type:r.isDragging?r.dragType:undefined})}function v(e){if(!e)return true;for(var t=0;t<e.length;t++){if(e[t]==="Text"||e[t]==="text/plain")return true}return false}}}]).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}});(function(){"use strict";var e=8;var t=0;var n={};var r={};var i={};var a=null;var o=["primary","accent","warn","background"];var l="primary";var s=d("rgba(0,0,0,0.87)");var u=d("rgba(255,255,255,0.87");var c=d("rgb(255,255,255)");function d(e){if(angular.isArray(e)&&e.length==3)return e;if(/^rgb/.test(e)){return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return t==3?parseFloat(e,10):parseInt(e,10)})}if(e.charAt(0)=="#")e=e.substring(1);if(!/^([a-fA-F0-9]{3}){1,2}$/g.test(e))return;var t=e.length/3;var n=e.substr(0,t);var r=e.substr(t,t);var i=e.substr(t*2);if(t===1){n+=n;r+=r;i+=i}return[parseInt(n,16),parseInt(r,16),parseInt(i,16)]}angular.module("ngMaterialDropmenu",["material.core","material.components.backdrop"]).directive("mdDropmenu",p).directive("mdDropMenu",h).directive("mdDropOption",g).directive("mdDropOptgroup",v).provider("$mdDropmenu",b).config(f).run(m).constant("$MD_DROPMENU_THEME_CSS","md-drop-menu.md-THEME_NAME-theme md-drop-optgroup { color: '{{foreground-2}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-optgroup md-drop-option { color: '{{foreground-1}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected] { color: '{{primary-500}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected]:focus { color: '{{primary-600}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected].md-accent { color: '{{accent-500}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected].md-accent:focus { color: '{{accent-600}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option:focus:not([selected]) { background: '{{background-200}}'; }");function f(e){n=e._PALETTES;r=e._THEMES;a=e._parseRules}f.$inject=["$mdThemingProvider"];function m(e){var t=document.getElementsByTagName("head")[0];if(!t)return;var f=t.firstElementChild;if(!f)return;var m=e.has("$MD_DROPMENU_THEME_CSS")?e.get("$MD_DROPMENU_THEME_CSS"):"";angular.forEach(n,v);var p={};var h=m.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"});var g=new RegExp("md-("+o.join("|")+")","g");o.forEach(function(e){p[e]=""});h.forEach(function(e){var t=e.match(g);for(var n=0,r;r=o[n];n++){if(e.indexOf(".md-"+r)>-1){return p[r]+=e}}for(n=0;r=o[n];n++){if(e.indexOf(r)>-1){return p[r]+=e}}return p[l]+=e});angular.forEach(r,function(e){if(!i[e.name]){o.forEach(function(n){var r=a(e,n,p[n]);while(r.length){var i=document.createElement("style");i.setAttribute("type","text/css");i.appendChild(document.createTextNode(r.shift()));t.insertBefore(i,f)}});if(e.colors.primary.name==e.colors.accent.name){console.warn("$mdThemingProvider: Using the same palette for primary and"+" accent. This violates the material design spec.")}i[e.name]=true}});function v(e){var t=e.contrastDefaultColor;var n=e.contrastLightColors||[];var r=e.contrastStrongLightColors||[];var i=e.contrastDarkColors||[];if(typeof n==="string")n=n.split(" ");if(typeof r==="string")r=r.split(" ");if(typeof i==="string")i=i.split(" ");delete e.contrastDefaultColor;delete e.contrastLightColors;delete e.contrastStrongLightColors;delete e.contrastDarkColors;angular.forEach(e,function(a,o){if(angular.isObject(a))return;var l=d(a);if(!l){throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",o))}e[o]={value:l,contrast:f()};function f(){if(t==="light"){if(i.indexOf(o)>-1){return s}else{return r.indexOf(o)>-1?c:u}}else{if(n.indexOf(o)>-1){return r.indexOf(o)>-1?c:u}else{return s}}}})}}m.$inject=["$injector"];function p(e,t,n,r,i,a,o){return{restrict:"E",require:["mdDropmenu"],compile:l,controller:function(){}};function l(r,i){var o=r.find("md-drop-label").remove();if(!o.length){o=angular.element("<md-drop-label><span></span></md-drop-label>")}else{if(!o[0].firstElementChild){var l=angular.element("<span>");l.append(o.contents());o.append(l)}}o.addClass("md-drop-label");o.attr("id","drop_label_"+t.nextUid());if(!r.find("md-content").length){r.append(angular.element("<md-content>").append(r.contents()))}var s='<div class="md-drop-menu-container">'+"<md-drop-menu "+(angular.isDefined(i.multiple)?"multiple":"")+">"+r.html()+"</md-drop-menu></div>";r.empty().append(o);i.tabindex=i.tabindex||"-1";return function u(r,i,o,l){var u;var c;var d=l[0];var f,m;p();n(i);o.$observe("disabled",function(e){if(typeof e=="string"){e=true}if(c!==undefined&&c===e){return}c=e;if(e){i.attr({tabindex:-1,"aria-disabled":"true"});i.off("click",g);i.off("keydown",h)}else{i.attr({tabindex:o.tabindex,"aria-disabled":"false"});i.on("click",g);i.on("keydown",h)}});if(!o.disabled&&!o.ngDisabled){i.attr({tabindex:o.tabindex,"aria-disabled":"false"});i.on("click",g);i.on("keydown",h)}i.attr({role:"combobox",id:"dropmenu_"+t.nextUid(),"aria-expanded":"false"});r.$on("$destroy",function(){if(u){e.cancel().then(function(){f.remove()})}else{f.remove()}});function p(){f=angular.element(s);m=r.$new();f=a(f)(m)}function h(e){var t=[32,13,38,40];if(t.indexOf(e.keyCode)!=-1){e.preventDefault();g(e)}}function g(t){r.$evalAsync(function(){var t,n;u=true;t=o.mdOnOpen?r.$eval(o.mdOnOpen)||true:false;n=angular.isDefined(o.disabledAutoFocus)?false:true;e.show({scope:m,preserveScope:true,skipCompile:true,element:f,target:i[0],hasBackdrop:true,loadingAsync:t,autoFocus:n}).then(function(e){u=false})});t.preventDefault()}}}}p.$inject=["$mdDropmenu","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"];function h(e,t,n){return{restrict:"E",link:{pre:r}};function r(e,r,i,a){n(r);o();function o(){r.attr({id:"drop_menu_"+t.nextUid(),role:"listbox"})}}function i(e,t,n){}}h.$inject=["$parse","$mdUtil","$mdTheming"];function g(e,t){i.$inject=["$element"];return{restrict:"E",require:["mdDropOption"],controller:i,compile:n,link:r};function n(e,t){e.append(angular.element('<div class="md-text">').append(e.contents()));e.attr("tabindex",t.tabindex||"0");return r}function r(n,r,i,a){e.attach(n,r);o();function o(){r.attr({role:"option","aria-selected":"false",id:"drop_option_"+t.nextUid()})}}function i(e){this.selected=false;this.setSelected=function(t){if(t&&!this.selected){e.attr({selected:"selected","aria-selected":"true"})}else if(!t&&this.selected){e.removeAttr("selected");e.attr("aria-selected","false")}this.selected=t}}}g.$inject=["$mdButtonInkRipple","$mdUtil"];function v(){return{restrict:"E",compile:e};function e(e,t){var n=e.find("label");if(!n.length){n=angular.element("<label>");e.prepend(n)}if(t.label)n.text(t.label)}}function b(t){n.$inject=["$mdDropmenu","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"];return t("$mdDropmenu").setDefaults({methods:["target"],options:n});function n(t,n,a,o,l,s,u){return{parent:"body",onShow:c,onRemove:d,hasBackdrop:true,disableParentScroll:true,themable:true};function c(e,r,i){if(!i.target){throw new Error("$mdDropmenu.show() expected a target element in "+'options.target but got "'+i.target+'"!')}angular.extend(i,{isRemoved:false,target:angular.element(i.target),parent:angular.element(i.parent),selectEl:r.find("md-drop-menu"),contentEl:r.find("md-content"),backdrop:i.hasBackdrop&&angular.element('<md-backdrop class="md-dropmenu-backdrop md-click-catcher">')});i.resizeFn=function(){a(function(){a(function(){f(e,r,i)})})};angular.element(u).on("resize",i.resizeFn);angular.element(u).on("orientationchange",i.resizeFn);p();r.removeClass("md-leave");var c=i.selectEl[0].getElementsByTagName("md-drop-option");if(!i.autoFocus&&c.length>0&&!c[0].getAttribute("fake")){var d=document.createElement("md-drop-option");var m=c[0].parentElement;d.style.height="1px";d.style.width="0";d.style.maxHeight="1px";d.style.maxWidth="0";d.style.opacity="0";d.setAttribute("tabindex","0");d.setAttribute("fake",true);m.insertBefore(d,c[0]);c=i.selectEl[0].getElementsByTagName("md-drop-option")}if(i.loadingAsync&&i.loadingAsync.then){i.loadingAsync.then(function(){e.$$loadingAsyncDone=true;a(function(){a(function(){if(i.isRemoved)return;f(e,r,i)})})})}else if(i.loadingAsync){e.$$loadingAsyncDone=true}if(i.disableParentScroll&&!o.getClosest(i.target,"MD-DIALOG")){i.restoreScroll=o.disableScrollAround(i.target)}else{i.disableParentScroll=false}s(h,75,false);if(i.backdrop){l.inherit(i.backdrop,i.parent);i.parent.append(i.backdrop)}i.parent.append(r);a(function(){a(function(){if(i.isRemoved)return;f(e,r,i)})});return o.transitionEndPromise(i.selectEl,{timeout:350});function p(){i.target.attr("aria-expanded","true")}function h(){if(i.isRemoved)return;r.addClass("md-clickable");i.backdrop&&i.backdrop.on("click",function(n){n.preventDefault();n.stopPropagation();i.restoreFocus=false;e.$apply(t.cancel)});i.selectEl.on("keydown",function(r){switch(r.keyCode){case n.KEY_CODE.SPACE:case n.KEY_CODE.ENTER:break;case n.KEY_CODE.TAB:case n.KEY_CODE.ESCAPE:r.preventDefault();i.restoreFocus=true;e.$apply(t.cancel)}});i.selectEl.on("keydown",function(e){switch(e.keyCode){case n.KEY_CODE.UP_ARROW:return l();case n.KEY_CODE.DOWN_ARROW:return o()}});function a(e){var t=_(c);var n=t.indexOf(i.focusedNode);if(n===-1){n=0}else if(e==="next"&&n<t.length-1){n++}else if(e==="prev"&&n>0){n--}var r=i.focusedNode=t[n];r&&r.focus()}function o(){a("next")}function l(){a("prev")}i.selectEl.on("click",s);i.selectEl.on("keydown",function(e){if(e.keyCode==32||e.keyCode==13){s()}});function s(){i.restoreFocus=true;e.$evalAsync(function(){t.hide()})}}}function d(e,t,n){n.isRemoved=true;t.addClass("md-leave").removeClass("md-clickable");n.target.attr("aria-expanded","false");angular.element(u).off("resize",n.resizeFn);angular.element(u).off("orientationchange",n.resizefn);n.resizeFn=undefined;return o.transitionEndPromise(t,{timeout:350}).then(function(){t.removeClass("md-active");n.backdrop&&n.backdrop.remove();if(t[0].parentNode===n.parent[0]){n.parent[0].removeChild(t[0])}if(n.disableParentScroll){n.restoreScroll()}if(n.restoreFocus)n.target.focus()})}function f(t,l,s){var c=l[0],d=s.target[0].firstElementChild.firstElementChild,f=s.parent[0],m=s.selectEl[0],p=s.contentEl[0],h=f.getBoundingClientRect(),g=d.getBoundingClientRect(),v=false,b=o.floatingScrollbars()?16:0,_={left:h.left+e,top:e,bottom:h.height-e,right:h.width-e-b},y={top:g.top-_.top,left:g.left-_.left,right:_.right-(g.left+g.width),bottom:_.bottom-(g.top+g.height)},E=h.width-e*2,$=p.scrollHeight>p.offsetHeight,w=m.querySelector("md-drop-option[selected]"),A=m.getElementsByTagName("md-drop-option"),C=m.getElementsByTagName("md-drop-optgroup");var M;if(w){M=w}else if(C.length){M=C[0]}else if(A.length){M=A[0]}else{M=p.firstElementChild||p}if(p.offsetWidth>E){p.style["max-width"]=E+"px"}if(v){p.style["min-width"]=g.width+"px"}if($){m.classList.add("md-overflow")}var k=m.getBoundingClientRect();var x=i(M);if(M){var T=u.getComputedStyle(M);x.paddingLeft=parseInt(T.paddingLeft,10)||0;x.paddingRight=parseInt(T.paddingRight,10)||0}var S=M;if((S.tagName||"").toUpperCase()==="MD-DROP-OPTGROUP"){S=A[0]||p.firstElementChild||p}if($){var N=p.offsetHeight/2;p.scrollTop=x.top+x.height/2-N;if(y.top<N){p.scrollTop=Math.min(x.top,p.scrollTop+N-y.top)}else if(y.bottom<N){p.scrollTop=Math.max(x.top+x.height-k.height,p.scrollTop-N+y.bottom)}}var H,D,O;if(v){H=g.left;D=g.top+g.height;O="50% 0";if(D+k.height>_.bottom){D=g.top-k.height;O="50% 100%"}}else{H=g.left+x.left-x.paddingLeft;D=Math.floor(g.top+g.height/2-x.height/2-x.top+p.scrollTop);O=x.left+g.width/2+"px "+(x.top+x.height/2-p.scrollTop)+"px 0px";
c.style.minWidth=g.width+x.paddingLeft+x.paddingRight+"px"}var R=c.getBoundingClientRect();c.style.left=r(_.left,H,_.right-R.width)+"px";c.style.top=r(_.top,D,_.bottom-R.height)+"px";m.style[n.CSS.TRANSFORM_ORIGIN]=O;m.style[n.CSS.TRANSFORM]="scale("+Math.min(g.width/k.width,1)+","+Math.min(g.height/k.height,1)+")";a(function(){l.addClass("md-active");m.style[n.CSS.TRANSFORM]="";if(S){s.focusedNode=S;S.focus()}})}}function r(e,t,n){return Math.max(e,Math.min(t,n))}function i(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}}b.$inject=["$$interimElementProvider"];function _(e){var t=[];for(var n=0;n<e.length;++n){t.push(e.item(n))}return t}})();(function(){"use strict";angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e);function e(e,t,n,r,i,a){return{restrict:"E",controller:angular.noop,link:function(o,l,s){r(l);if(angular.isDefined(s.mdScrollShrink)){u()}function u(){var r=0;var u=0;var c=s.mdShrinkSpeedFactor||.5;var d;var f;var m=e.throttle(v);var p=n.debounce(g,5*10);o.$on("$mdContentLoaded",h);function h(t,n){if(l.parent()[0]===n.parent()[0]){if(f){f.off("scroll",m)}n.on("scroll",m);n.attr("scroll-shrink","true");f=n;e(g)}}function g(){d=l.prop("offsetHeight");f.css("margin-top",-d*c+"px");v()}function v(e){var n=e?e.target.scrollTop:u;p();r=Math.min(d/c,Math.max(0,r+n-u));l.css(t.CSS.TRANSFORM,"translate3d(0,"+-r*c+"px,0)");f.css(t.CSS.TRANSFORM,"translate3d(0,"+(d-r)*c+"px,0)");u=n;if(l.hasClass("md-whiteframe-z1")){if(!r){a(function(){i.removeClass(l,"md-whiteframe-z1")})}}else{if(r){a(function(){i.addClass(l,"md-whiteframe-z1")})}}}}}}}e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"]})();(function(){angular.module("supActions",[]).directive("draggable",["$document",function(e){return function(t,n){var r,i,a,o,l,s;r=function(e){var t,r;r=e.screenY-o;t=e.screenX-a;n.css({top:r+"px",left:t+"px"})};i=function(){e.off("mousemove",r);e.off("mouseup",i)};a=0;o=0;l=200;s=60;n.css({top:s+"px",left:l+"px",cursor:"pointer"});return n.on("mousedown",function(t){a=t.screenX-l;o=t.screenY-s;e.on("mousemove",r);return e.on("mouseup",i)})}}]).directive("focus",["$timeout",function(e){return{restrict:"EA",scope:{trigger:"="},link:function(t,n){return t.$watch("trigger",function(r){if(r){return e(function(){n[0].focus();t.trigger=false},500)}})}}}]).directive("stopHit",function(){return{restrict:"A",link:function(e,t,n){return t.bind("click mousedown",function(e){return e.supStopActions=true})}}}).directive("clickOutside",["$document",function(e){return{restrict:"A",scope:{clickOutside:"&"},link:function(t,n,r){var i;if(r.outsideIfNot!==void 0){i=r.outsideIfNot.replace(", ",",").split(",")}else{i=[]}if(r.id!==void 0){i.push(r.id)}return e.on("click",function(e){var n,r,a,o;if(!e.target){return}r=e.target;while(r){o=r.id;n=r.className;if(o!==void 0){a=0;while(a<i.length){if(o.indexOf(i[a])>-1||n.indexOf(i[a])>-1){return}a++}}r=r.parentNode}return t.$eval(t.clickOutside)})}}}])}).call(this);(function(){angular.module("supResource",["ngResource"]).factory("supResource",["$resource",function(e){return function(t,n,r){var i,a;i={update:{method:"PUT",isArray:false},trigger:{method:"POST"},create:{method:"POST"},post:{method:"POST"}};r=angular.extend({},i,r);a=e(t,n,r);a.prototype.$save=function(e,t,n){if(!this.id){return this.$create(e,t,n)}else{return this.$update(e,t,n)}};return a}}]).factory("supChain",["$q",function(e){return function(t){var n;if(!t){n=e.defer();n.resolve();return n.promise}else if(typeof t.then==="function"){return t}else if(t.$promise){return t.$promise}else{throw"Error: Invalid parameter in 'supChain'. - Object must have"+" Promise or $promise. [SupResource]"}}}]).factory("supParallel",["$q",function(e){return function(t){var n,r,i,a,o,l,s,u,c,d;r=e.defer();if(t instanceof Array){u=[];n=1;o=t.length;c=function(e,t){return e.then(function(e){u[t]=e;if(n<o){return n++}else{return d(u)}})["catch"](function(e){return i(e)})};for(a in t){l=t[a];if(typeof l.then==="function"){s=l}else if(l.$promise){s=l.$promise}c(s,a)}d=function(e){return r.resolve(e)};i=function(e){return r.reject(e)};return r.promise}else{throw"Error: Invalid parameter in 'supParallel'. - "+"Objst must be Array, each item must be a promise "+"[SupResource]"}}}])}).call(this);(function(){var e,t,n,r,i,a,o,l,s,u,c,d;n=typeof exports!=="undefined"&&exports!==null;s=n?exports:this;if(!s.sup){s.sup={}}sup.localizedDict={};a={};i=null;e=false;o=function(t){if(!e){return t.toLowerCase()}return t};r=function(e){var t,n,r,i;if(!(e instanceof Array)){return{}}r={};for(t=0,n=e.length;t<n;t++){i=e[t];if(i.msgid&&i.msgstr){r[o(i.msgid)]=i.msgstr}}return r};t=function(e){var t,n,r;if(!(e instanceof Array)){return}for(t=0,n=e.length;t<n;t++){r=e[t];if(r.msgid&&r.msgstr){a[o(r.msgid)]=r.msgstr}}};l=function(){c(i)};c=function(e){var t,n,o,l;if(!e){e=""}i=null;e=e.replace("-","_");o=sup.localizedDict;for(t in o){l=o[t];if(t.toLowerCase()===e.toLowerCase()){i=t;break}}if(i&&sup.localizedDict[i]){n=sup.localizedDict[i]}else{n=null}a=r(n);return i};d=function(e){var t,n,r,i,l,s,u,c;if(typeof e!=="string"){return e}c=a[o(e)];if(!c){c=e}n=[];for(r=0,l=arguments.length;r<l;r++){t=arguments[r];n.push(t)}u=n.slice(1);for(i=0,s=u.length;i<s;i++){t=u[i];if(t===void 0){t=""}c=c.replace("%s",t)}return c};u=function(e){var t,n,r;if(typeof e!=="object"){return e}if(i){n=i.split("_")[0]||"en";r=e[i]||e[n]||""}if(!r){t=Object.keys(e)[0];r=e[t]}return r};angular.module("supLocales",["ngCookies"]).run(["supLocales",function(e){if(!e.inited){return e.init()}}]).service("supLocales",["$location","$rootScope","$cookies",function(n,r,a){var o,s;o="en_US";s=this;this.inited=false;this.init=function(t,i){var l,c,f,m,p,h;this.inited=true;e=Boolean(i);if(t){o=t}p=navigator.language||navigator.userLanguage;h=p.replace("-","_");try{l=a.get("current_locale")}catch(g){f=g;l=null}m=n.search();if(m.lang){c=m.lang;n.search("lang",null)}else{c=l?l:h}s.set(c);r._=angular.translate=d;return r._t=angular.self_translate=u};this.translate=function(e){return d.apply(this,arguments)};this.set=function(e){i=c(e)||o;r.locale=i;r.lang=i.split("_")[0]||"en";return a.put("current_locale",i)};this.append=function(e){return t(e)};this.restore=function(){return l()};this.get=function(){var e,t;try{e=a.get("current_locale")}catch(n){t=n;e=null}return e};this.match=function(e,t){if(typeof e!=="string"||typeof t!=="string"){return false}e=e.replace("-","_");t=t.replace("-","_");return e.toLowerCase()===t.toLowerCase()};return this}])}).call(this);(function(){angular.module("boltApp",["ngCookies","ngSanitize","ngRoute","ngAnimate","ngMaterial","ngMessages","ngMaterialDropmenu","dndLists","supResource","supLocales","supActions","supAngularWysiwyg","supAngularMarkdown","ngFileUpload"])}).call(this);(function(){angular.module("boltApp").config(["$mdThemingProvider",function(e){e.setDefaultTheme("bolt");e.definePalette("boltPrimaryPalette",{50:"ffebee",100:"ffcdd2",200:"ef9a9a",300:"e57373",400:"ef5350",500:"7eae64",600:"506e00",700:"fff",800:"fff",900:"fff",A100:"fff",A200:"fff",A400:"fff",A700:"fff",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("boltAccentPalette",{50:"000",100:"000",200:"000",300:"f4bd5f",400:"f4bd5f",500:"f4bd5f",600:"000",700:"000",800:"f4bd5f",900:"000",A100:"000",A200:"f4bd5f",A400:"777",A700:"333",contrastDefaultColor:"light"});e.definePalette("boltWarnPalette",{50:"666",100:"000",200:"000",300:"000",400:"f4bd5f",500:"e56d51",600:"f00",700:"666",800:"999",900:"000",A100:"000",A200:"000",A400:"999",A700:"000",contrastDefaultColor:"light"});return e.theme("bolt").primaryPalette("boltPrimaryPalette").warnPalette("boltWarnPalette").accentPalette("boltAccentPalette")}]).config(["$mdIconProvider",function(e){return e.iconSet("nav","svg-sprite-navigation.svg",24).iconSet("action","svg-sprite-action.svg",24).iconSet("alert","svg-sprite-alert.svg",24).iconSet("av","svg-sprite-av.svg",24).iconSet("comm","svg-sprite-communication.svg",24).iconSet("content","svg-sprite-content.svg",24).iconSet("device","svg-sprite-device.svg",24).iconSet("editor","svg-sprite-editor.svg",24).iconSet("file","svg-sprite-file.svg",24).iconSet("hardware","svg-sprite-hardware.svg",24).iconSet("image","svg-sprite-image.svg",24).iconSet("maps","svg-sprite-maps.svg",24).iconSet("notify","svg-sprite-notification.svg",24).iconSet("social","svg-sprite-social.svg",24).iconSet("toggle","svg-sprite-toggle.svg",24).iconSet("custom","svg-sprite-custom.svg",24)}])}).call(this);(function(){angular.module("boltApp").constant("Config",{version:"1.7.0.beta",BaseURL:{self:sup.server.self,api:sup.server.api,docs:sup.server.docs,libs:sup.server.libs,"static":sup.server["static"],apps:sup.server.apps},cookie_domain:sup.cookie_domain,is_debug:sup.is_debug,browser:sup.browser,locales:[{code:"en_US",text:"English"},{code:"zh_CN",text:"简体中文"}],default_locale:"en_US",pages:{error_404:sup.server.web+"/404",error_browser:sup.server.web+"/old_browser",terms:sup.server.web+"/terms"},max_image_size:{width:1650,height:1650},max_file_size:{image:600*1024,zip:10*1024*1024,docs:2*1024*1024},media_encoder_options:.7,preview_types:["png","jpg","gif","jpeg"],invite:{codes_limit:6,invited_limit:6},markdown:false,plan:["Lab Mice"],path:{oauth:["/oauth"],editor:["/editor"],outer:["/login","/register","/activate","/recover_pwd","/reset_pwd"],open:["/404"]},apptypes:[{name:"Website",alias:"ws",ico:"av:ic_web_24px"},{name:"WeChat Buzz",alias:"wx",ico:"comm:ic_chat_24px"},{name:"Digital Book",alias:"wbk",ico:"action:ic_book_24px"}],default_date_format:"longDate",date_formats:[{"%y":"yy"},{"%Y":"yyyy"},{"%B":"MMMM"},{"%b":"MMM"},{"%m":"MM"},{"%d":"dd"}],copyright:"&copy; Soopro Co.,ltd."})}).call(this);(function(){angular.module("boltApp").constant("error",{ERROR:"Error"})}).call(this);(function(){angular.module("boltApp").factory("restApp",["supResource","Config",function(e,t){var n;n=t.BaseURL.api+"/app";return{doCreateApp:function(t){return e(n+"/").create(null,t).$promise},app:function(){return e(n+"/:app_alias",{app_alias:"@alias"})}(),domain:function(){return e(n+"/:app_alias/domain",{app_alias:"@alias"})}(),ext:function(){return e(n+"/:app_alias/ext/:ext_id",{app_alias:"@app_alias",ext_id:"@id"})}(),doAnalytics:function(t){return e(n+"/:app_id/status").get({app_id:t}).$promise}}}])}).call(this);(function(){angular.module("boltApp").factory("restUser",["supResource","Config",function(e,t){var n;n=t.BaseURL.api+"/user";return{doRegister:function(t){return e(n+"/register").create(null,t).$promise},doCheckSid:function(t){return e(n+"/activate").get({sid:t}).$promise},doActivate:function(t){return e(n+"/activate").trigger(null,t).$promise},doResendActivate:function(t){return e(n+"/activate/resend").trigger(null,t).$promise},doLogin:function(t){return e(n+"/login").trigger(null,t).$promise},doOAuth:function(n){return e(t.BaseURL.api+"/oauth").trigger(null,n).$promise},doLogout:function(){return e(n+"/logout").trigger().$promise},doChangePwd:function(t){return e(n+"/security/pwd").update(null,t).$promise},doRecoverPwd:function(t){return e(n+"/security/recover_pwd").trigger(null,t).$promise},doResetPwd:function(t){return e(n+"/security/reset_pwd").trigger(null,t).$promise},secret:function(){return e(n+"/secret_key")}(),profile:function(){return e(n+"/profile")}(),invite:function(){return e(n+"/invite")}(),doGetInviteLimit:function(){return e(n+"/invite/limit").get().$promise},doCheckInvite:function(){return e(n+"/invite/available").trigger().$promise}}}])}).call(this);(function(){angular.module("boltApp").factory("restStore",["supResource","Config",function(e,t){var n;n=t.BaseURL.api+"/store";return{doGetCustomer:function(){return e(n+"/customer").get().$promise},doGetCustomerPlan:function(){return e(n+"/customer/plan").get().$promise},doUpdateCustomerPlan:function(t){return e(n+"/customer/plan").update(null,t).$promise},doGetCustomerCredit:function(){return e(n+"/customer/credit").get().$promise},doChargeCustomerCredit:function(t){return e(n+"/customer/credit").update(null,t).$promise},customer_ext:function(){return e(n+"/customer/ext/:item_alias",{item_alias:"@alias"})}(),customer_theme:function(){return e(n+"/customer/theme/:item_alias",{item_alias:"@alias"})}(),ext:function(){return e(n+"/ext/:item_alias",{item_alias:"@alias"},{buy:{method:"POST"}})}(),theme:function(){return e(n+"/theme/:item_alias",{item_alias:"@alias"},{buy:{method:"POST"}})}()}}])}).call(this);(function(){angular.module("boltApp").factory("restMedia",["supResource","Config",function(e,t){var n;n=t.BaseURL.api+"/media";return{media:function(){return e(n+"/:app_alias",{app_alias:"@app_alias",filename:"@filename"})}(),http_upload:function(e){return n+"/"+e}}}])}).call(this);(function(){angular.module("boltApp").factory("restSync",["supResource","Config",function(e,t){var n;n=""+t.BaseURL.api;return{app:function(){return e(n+"/app/:app_alias",{app_alias:"@alias"})}(),contentType:function(){return e(n+"/:app_type/:app_alias/content_type/:type_id",{app_alias:"@app_alias",type_id:"@id"})}(),content:function(){return e(n+"/:app_type/:app_alias/content_file/"+":type_alias/:file_id",{app_alias:"@app_alias",type_alias:"@type_alias",file_id:"@id"})}()}}])}).call(this);(function(){angular.module("boltApp").service("FileService",["Upload",function(e){var t,n;n={image:409600,zip:1024e4,docs:102400};t=function(e,t){if(typeof e==="number"){t=e}return t};this.config=function(e){if(typeof e.max_file_size!=="object"){throw new Error("File Service config error.");return}n.image=t(e.max_file_size.image,n.image);n.zip=t(e.max_file_size.zip,n.zip);return n.docs=t(e.max_file_size.docs,n.docs)};this.upload=function(t,n,r,i){var a,o;a=r?"PUT":"POST";o={url:t,method:i||a,file:n};if(r){o.fileName=r}return e.upload(o).progress(function(e){return console.log("Uploading: "+parseInt(100*e.loaded/e.total)+" %")})};this.checkfile=function(e){var t;if(!e||!e.size){return false}t="";if(e.type.indexOf("image")>-1){t="image"}else if(e.type.indexOf("zip")>-1){t="zip"}else{t="docs"}if(n[t]>e.size){return true}else{return false}};return this}])}).call(this);(function(){angular.module("boltApp").service("MediaService",["$q","$timeout","FileService",function(e,t,n){var r,i,a,o;o=this;a={width:1650,height:1650};r=.7;i=function(e,t){if(typeof e==="number"){t=e}return t};this.config=function(e){if(typeof e.max_image_size!=="object"){throw new Error("Media Service config error.");return}a.width=i(e.max_image_size.width,a.width);a.height=i(e.max_image_size.height,a.height);if(e.max_file_size){n.config(e)}if(e.encoder_options){return r=e.encoder_options}};this.upload=function(e,t,r,i){return n.upload(e,t,r,i)};this.checkfile=n.checkfile;this.resize=function(n){var i,l,s,u,c;console.log("Auto Resize: ",n.name);l=e.defer();if(n.type.indexOf("image")<0||n.type.indexOf("svg")>-1){c=t(function(){l.reject(n);return t.cancel(c)},0);return l.promise}s=new Image;u=new FileReader;i=document.createElement("canvas");u.onload=function(e){try{return s.src=e.target.result}catch(t){e=t;return l.reject(n)}};s.onload=function(e){var t,u,c,d,f,m;m=s.width;d=s.height;if(m>d){if(m>a.width){d*=a.width/m;m=a.width}}else{if(d>a.height){m*=a.height/d;d=a.height}}i.width=m;i.height=d;try{t=i.getContext("2d");t.drawImage(s,0,0,m,d);u=i.toDataURL(n.type,r);f=angular.dataURLToBlob(u);f.name=n.name;f.lastModified=n.lastModified;f.lastModifiedDate=new Date}catch(p){c=p;console.error(c);l.reject(n);throw c}if(o.checkfile(f)){return l.resolve(f)}else{return l.reject(n)}};u.readAsDataURL(n);return l.promise};return this}])}).call(this);(function(){angular.module("boltApp").service("Auth",["$cookies","$location","Config",function(e,t,n){var r;r={path:"/",domain:n.cookie_domain};this.isLogged=function(){return!!e.get("auth")};this.token=function(){return e.get("auth")};this.login=function(n,i){e.put("auth",n,r);if(i){t.path(i)}};this.logout=function(){e.remove("auth",r);t.path("/login")}}])}).call(this);(function(){angular.module("boltApp").service("g",["restUser","restStore","restApp","supChain",function(e,t,n,r){var i,a,o,l;o=function(){function t(){this.profile=null}t.prototype.setProfile=function(e){return this.profile=e};t.prototype.init=function(){var t;t=this;return e.profile.get(function(e){t.setProfile(e);return console.log("User data loaded")}).$promise};return t}();i=function(){function e(){this.list=null;this.current=null}e.prototype.setList=function(e){return this.list=e};e.prototype.setCurrent=function(e){var t,n,r,i,a;if(e){this.current={alias:e};i=this.list;a=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.alias===e){a.push(this.current=t)}else{a.push(void 0)}}return a}else{return this.current=null}};e.prototype.init=function(){var e;e=this;return n.app.query(function(t){e.setList(t);return console.log("App data loaded")}).$promise};return e}();a=function(){function e(){this.property=null}e.prototype.setCustomer=function(e){return this.property=e};e.prototype.init=function(){var e;e=this;return t.doGetCustomer().then(function(t){e.setCustomer(t);return console.log("Customer data loadedd")})};return e}();l=this;this.setCurrentApp=function(e){if(l.inited){return l.app.setCurrent(e)}};this.init=function(){l.clear();console.info("------------ Sup: Loading Global Datas ------------");return r().then(function(){return l.user.init()}).then(function(){return l.customer.init()}).then(function(){return l.app.init()}).then(function(){l.inited=true;return console.info("------------------- Sup: Loaded -------------------")})["catch"](function(e){return console.error(e)})};this.clear=function(){l.inited=false;l.user=new o;l.app=new i;return l.customer=new a};this.clear();return this}])}).call(this);(function(){angular.module("boltApp").factory("requestInterceptor",["$q","$cookies","$location","flashMsgStack","Auth","Config",function(e,t,n,r,i,a){return{request:function(e){e.headers=e.headers||{};if(t.get("auth")){e.headers.Authorization="Bearer "+t.get("auth")}return e},response:function(t){return t||e.when(t)},responseError:function(t){var a;if(t.status===0&&t.data===null){n.path("/404");a="Error! No connection to server.";r.set({text:a,warn:true});console.error(a)}if(t.status===401){i.logout()}if(t.data&&t.data.errmsg&&t.status!==200){r.set({text:t.data.errmsg,warn:true});console.apiError(t.data)}return e.reject(t)}}}]).config(["$httpProvider",function(e){return e.interceptors.push("requestInterceptor")}])}).call(this);(function(){angular.module("boltApp").provider("gResolve",function(){return{resolve:["$routeParams","navDefault","g",function(e,t,n){var r;r=function(){var e;if(!n.customer||!n.customer.property){return}e=n.customer.property.app_slots;n.setCurrentApp();return t.load(n.app.list,e)};if(!n.inited){return n.init().then(function(){return r()})}else{return r()}}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").service("flash",["$interval","$mdToast","flashMsgGen",function(e,t,n){return function(e,r,i){var a,o;if(!i){i={}}if(!i.pos){i.pos="top right"}if(!i.delay){i.delay=4e3}if(typeof e==="string"){e=n(e)}o={template:['<md-toast md-theme="{{ opts.theme }}" ',"ng-class=\"{'md-capsule': opts.capsule, 'md-warn': ",'opts.warn}">',"<span flex>",'<md-icon ng-if="opts.warn" ','md-svg-icon="alert:ic_warning_24px"></md-icon> ',"{{ content }}","</span>",'<md-button class="md-action" ng-if="opts.action" ','ng-click="resolve()" ',"ng-class=\"{'md-highlight': opts.highlight}\">","{{ opts.action }}","</md-button>","</md-toast>"].join(""),locals:{content:e,opts:{warn:r,action:i.action,highlight:i.highlight,capsule:i.capsule}},controller:"flashToastCtrl",position:i.pos,hideDelay:i.delay};a=t.build(o);return t.show(a)}}]).service("flashWatcher",["$interval","flashMsgStack","flash",function(e,t,n){this.init=function(){var r,i;i=t.get();return r=e(function(){var e,r,a,o,l;if(i.length>0){l=[];for(r=0,a=i.length;r<a;r++){o=i[r];if(typeof o==="object"){try{n(o.text,o.warn)}catch(s){e=s;throw e.toString()}i=t.unset(o)}break}return l}},500)};return this}]).service("flashMsgStack",function(){var e;e=[];this.set=function(t){e.push(t);return e};this.unset=function(t){var n;n=e.indexOf(t);if(n>-1){e.splice(n,1)}return e};this.reset=function(){e=[];return e};this.get=function(){return e};return this}).service("flashMsgGen",["error",function(e){return function(t){var n;if((n=typeof t)==="string"||n==="number"){t=e[t.toString()]||t}if(typeof angular.translate==="function"){t=angular.translate(t)}return t}}]).controller("flashToastCtrl",["$scope","$mdToast","content","opts",function(e,t,n,r){e.content=n;e.opts=r;return e.resolve=function(){return t.hide()}}])}).call(this);(function(){angular.module("boltApp").service("image",function(){this.trans="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";this.trans_cover="data:image/gif;base64,R0lGODlhCQAFAIAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwMTQgNzkuMTU2Nzk3LCAyMDE0LzA4LzIwLTA5OjUzOjAyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NDk5NENFRjAyNDUxMUU1QjMzNUNBN0JDODgxRTgzQSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1NDk5NENGMDAyNDUxMUU1QjMzNUNBN0JDODgxRTgzQSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjU0OTk0Q0VEMDI0NTExRTVCMzM1Q0E3QkM4ODFFODNBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU0OTk0Q0VFMDI0NTExRTVCMzM1Q0E3QkM4ODFFODNBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAAAsAAAAAAkABQAAAgWEj6nLXQA7";return this})}).call(this);(function(){angular.module("boltApp").service("dialog",["$q","$mdDialog",function(e,t){var n,r;r=this;n=function(e){if(e.clickOutsideToClose===void 0){e.clickOutsideToClose=true}if(e.hasBackdrop===void 0){e.hasBackdrop=true}e.focusOnOpen=Boolean(e.focusOnOpen);return e};this.promise=null;this.alert=function(){return t.alert()};this.confirm=function(){return t.confirm()};this.show=function(e,i){if(r.promise&&!i){r.cancel()}else{r.promise=t.show(n(e));r.promise["finally"](function(){return r.promise=null})}return r.promise};this.hide=function(e){return t.hide(e)};this.cancel=function(e){return t.cancel(e)};return this}])}).call(this);(function(){angular.module("boltApp").service("fsv",function(){return function(e){var t,n,r,i,a,o,l;if(!e){console.error(e,"Form is not exist");return false}if(!e.$valid){n=[];for(r=0,a=arguments.length;r<a;r++){t=arguments[r];n.push(t)}l=n.slice(1);for(i=0,o=l.length;i<o;i++){t=l[i];if(e[t]){e[t].$touched=true;e[t].$dirty=true}else{console.warn("Form Submit Validation Service Error: "+"'"+t+"' is undefined")}}return false}else{return true}}}).service("prompt",function(){return function(e,t){if(typeof angular.translate==="function"){e=angular.translate(e)}return window.prompt(e,t)}}).service("confirm",function(){return function(e){if(typeof angular.translate==="function"){e=angular.translate(e)}return window.confirm(e)}})}).call(this);(function(){angular.module("boltApp").service("funcGenerator",["$filter",function(e){return{more:function(t,n,r,i,a){if(!r){r="paged"}if(!i){i="paginator"}t.showMore=function(){t[r]++;if(typeof a==="function"){return a()}};return t.hasMore=function(){var a;a=e(i)(n,t[r]);return a.length<n.length}},select:function(e,t,n){e.toggleSelect=function(e){angular.toggleList(t,e);if(typeof n==="function"){return n()}};e.isSelected=function(e){return angular.inList(t,e)};return e.isEmptySelected=function(){return t.length<=0}},trash:function(e,t,n,r){return e.trash=function(){var e;e=t.length;angular.forEach(t,function(t){if(!t.deleted&&!t.locked){return t.$remove().then(function(t){if(typeof n==="function"){n(t)}if(typeof r==="function"&&e<=1){return r()}})["finally"](function(){return e--})}});return t.length=0}}}}])}).call(this);(function(){angular.module("boltApp").directive("passwordVerify",function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(e,t,n,r){return e.$watch(function(){var t;t=void 0;if(e.passwordVerify||r.$viewValue){t=e.passwordVerify+"_"+r.$viewValue}return t},function(t){if(t){return r.$parsers.unshift(function(t){var n;n=e.passwordVerify;if(n!==t){r.$setValidity("passwordVerify",false);return void 0}else{r.$setValidity("passwordVerify",true);return t}})}})}}}).directive("input",function(){return{restrict:"E",require:"?ngModel",link:function(e,t,n,r){var i;if(!n.type||((i=n.type)==="checkbox"||i==="radio")||!r){return}t.on("blur",function(){return e.$apply(function(){return r.$setViewValue(t.val())})});return e.$on("autofill:update",function(){return e.$apply(function(){if(t.val()){return r.$setViewValue(t.val())}})})}}}).directive("invisibleIframe",["$rootScope",function(e){return{restrict:"A",link:function(e,t,n){var r;r=function(e){if(typeof e.data==="number"){t[0].style.height=e.data+20+"px"}else{t[0].style.height="auto"}};window.addEventListener("message",r);return e.$on("$destroy",function(){return window.removeEventListener("message",r)})}}}])}).call(this);(function(){angular.module("boltApp").filter("paginator",function(){return function(e,t,n){var r,i;if(!t){t=1}if((i=typeof e)==="object"||i==="array"){if(!n){n="short"}switch(n){case"short":n=12;break;case"full":n=48;break;case"medium":n=24;break}r=t*n;if(r>e.length){r=e.length}return e.slice(0,r)}else{return[]}}}).filter("dateformat",["$filter",function(e){return function(t,n){var r;if(!n){n="mediumDate"}if(typeof angular.translate==="function"){n=angular.translate(n)}r=0;if(typeof t==="number"){r=t.toString().length}if(r===10){t=t*1e3}return e("date")(t,n)}}])}).call(this);(function(){angular.module("boltApp").run(["$rootScope","$location","$timeout","$animate","Auth","Config","flashWatcher","MediaService",function(e,t,n,r,i,a,o,l){var s;if(a.browser){console.log("Detect browser:",a.browser)}l.config({max_file_size:a.max_file_size,max_image_size:a.max_image_size,encoder_options:a.media_encoder_options});o.init();s=function(e){var n,r,i,o,l,s,u,c,d;for(r=0,o=arguments.length;r<o;r++){n=arguments[r];s=a.path[n];for(i=0,l=s.length;i<l;i++){u=s[i];d=t.url();c=new RegExp(u);if(c.test(d)){return true}}}return false};e.$on("$locationChangeStart",function(){if(i.isLogged()){if(s("outer")){return t.path("/")}}else{if(!s("outer")){return t.path("/login")}}});return e.root={isLogged:i.isLogged,hasSideNav:function(){if(!s("outer","open","editor","oauth")){return true}else{return false}},hasTopNav:function(){if(!s("editor")){return true}else{return false}},inEditor:function(){return s("editor")}}}])}).call(this);(function(){angular.module("boltApp").controller("helpModalCtrl",["$scope","dialog","help",function(e,t,n){var r;if(typeof angular.translate==="function"){e._=angular.translate}if(!n){e.content=""}else{e.content=e._(n)}r=/<\/[a-z][\s\S]*>/i;if(!r.test(e.content)){e.content="<p>"+e.content+"</p>"}return e.ok=function(){return t.hide()}}]).service("helpModal",["dialog",function(e){return function(t){return e.show({controller:"helpModalCtrl",templateUrl:"modals/help/help.tmpl.html",locals:{help:t}},true)}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("mediaModalCtrl",["$scope","$mdBottomSheet","restMedia","MediaService","Config","dialog","flash","app","mode",function(t,n,r,i,a,o,l,s,u){var c,d,f,m,p,h,g,v,b,_,y;if(typeof angular.translate==="function"){t._=angular.translate}t.media_sheet_open=false;t.selected_media=null;t.now=Date.now();t.mediafiles=[];t.lightMode=u==="light"?true:false;r.media.query({app_alias:s.alias},function(n){var r;return t.mediafiles=function(){var t,i,o,l;l=[];for(t=0,i=n.length;t<i;t++){r=n[t];if(o=r.type,e.call(a.preview_types,o)>=0){l.push(r)}}return l}()});t.resetSelect=function(){return t.selected_media=null};t.toggleSelect=function(e){if(t.isSelected(e)){return t.resetSelect()}else{m(e);return t.selected_media=e}};m=function(e){if(!e.src){e.src=e.uri}if(!e.title){return e.title=e.filename.substr(0,50)}};t.isSelected=function(e){var n;n=t.selected_media;return n&&n.filename===e.filename};t.edit=function(e,t){g(e);t.stopPropagation();return false};t.insert=function(){var e;if(t.selected_media){e={src:t.selected_media.src,title:t.selected_media.title,link:t.selected_media.link,target:t.selected_media.target,"class":t.selected_media["class"]};return o.hide(e)}};t.trash=function(){return o.hide({})};t.close=function(){return o.cancel()};t.internetMediafiles=[];t.setInternetMedia=function(e){return t.internetMediafiles.push({filename:"internet_media_"+Date.now(),src:e,title:"",target:"_blank",link:e})};t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;_=[];h=[];f=function(e){var t;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){t=angular.translate("%s is so large that it will not be uploaded.",e)}else{t=e+" is too large will be skipped."}return l(t,true)};p=function(e){return i.resize(e).then(function(e){return _.push(e)})["catch"](function(e){return f(e.name)})["finally"](function(){angular.removeFromList(h,e,"name");return v()})};v=function(){if(h.length>0){return p(h[0])}else if(_.length>0){return b(_[0])}};t.onFileSelect=function(e){var n,r,a;if(e.length<=0){return}t.upload_status=1;_=[];for(n=0,r=e.length;n<r;n++){a=e[n];if(!i.checkfile(a)){if(a.type.indexOf("image")>-1){h.push(a)}else{f(a.name)}continue}_.push(a)}return v()};c=0;y=r.http_upload(s.alias);b=function(e){if(!e){return}console.log(c,e.name,e.size);t.upload_status=1;t.percent=0;return i.upload(y,e).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){t.mediafiles.unshift(new r.media(e));t.uploadedMediafiles.unshift(e);t.percent=0;_.shift();if(_.length<=0){return t.upload_status=0}else{c++;return b(_[0])}}).error(function(){t.percent=0;return t.upload_status=2})};d=function(){var e;e=document.querySelector("#media-modal-sheet");if(e){e=angular.element(e)}else{e=angular.element(document.body)}return e};return g=function(e){t.media_sheet_open=true;return n.show({templateUrl:"modals/media/media_sheet.tmpl.html",controller:"mediaModalSheetCtrl",parent:d(),locals:{media:angular.copy(e)}}).then(function(t){e.src=t.src;e.title=t.title;e.link=t.link;e.target=t.target;return e["class"]=t["class"]})["finally"](function(){return t.media_sheet_open=false})}}]).controller("mediaModalSheetCtrl",["$scope","$mdBottomSheet","fsv","media",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.media=r;if(!r.link){e.linkto=""}else if(r.link===r.src){e.linkto="media"}else{e.linkto="url"}if(r.target==="_blank"){e.blank=true}e.$watch("linkto",function(t){switch(t){case"":e.media.link="";break;case"media":e.media.link=e.media.src;break}});e.save=function(){if(!n(e.media_property_form,"title","class")){return}if(e.blank){e.media.target="_blank"}else{e.media.target=""}return t.hide(e.media)};return e.close=function(){
return t.cancel()}}]).service("mediaModal",["dialog",function(e){return function(t,n){return e.show({controller:"mediaModalCtrl",templateUrl:"modals/media/media.tmpl.html",locals:{app:t,mode:n}})}}]).controller("internetMediaCtrl",["$scope","fsv",function(e,t){e.internet_media=null;return e.getInternetMedia=function(){if(!t(e.internet_form,"media")){return}return e.$parent.setInternetMedia(e.internet_media)}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("bgModalCtrl",["$scope","$mdBottomSheet","restMedia","MediaService","Config","dialog","flash","fsv","bg","app",function(t,n,r,i,a,o,l,s,u,c){var d,f,m,p,h,g,v,b,_;if(typeof angular.translate==="function"){t._=angular.translate}f=angular.copy(u);if(!f){f={}}t.current_bg={src:f.src||"",thumbnail:f.thumbnail||"","class":f["class"]||"",color:f.color||"",repeat:f.repeat||"",style:f.style||""};t.selected_media=null;t.now=Date.now();t.forms={};r.media.query({app_alias:c.alias},function(n){var r;return t.mediafiles=function(){var t,i,o,l;l=[];for(t=0,i=n.length;t<i;t++){r=n[t];if(o=r.type,e.call(a.preview_types,o)>=0){l.push(r)}}return l}()});t.goRepository=function(){return t.selectedTab=1};t.setCurrentBg=function(e){t.current_bg.src=e.src;t.current_bg.thumbnail=e.thumbnail;return t.selectedTab=0};t.insert=function(){if(!s(t.forms.bg_propety_form,"class")){t.selectedTab=0;return}return o.hide(t.current_bg)};t.trash=function(){return o.hide({})};t.hasMedia=function(){return t.current_bg};t.close=function(){return o.cancel()};t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;b=[];h=[];m=function(e){var t;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){t=angular.translate("%s is so large that it will not be uploaded.",e)}else{t=e+" is too large will be skipped."}return l(t,true)};p=function(e){return i.resize(e).then(function(e){return b.push(e)})["catch"](function(e){return m(e.name)})["finally"](function(){angular.removeFromList(h,e,"name");return g()})};g=function(){if(h.length>0){return p(h[0])}else if(b.length>0){return v(b[0])}};t.onFileSelect=function(e){var n,r,a;if(e.length<=0){return}t.upload_status=1;b=[];for(n=0,r=e.length;n<r;n++){a=e[n];if(!i.checkfile(a)){if(a.type.indexOf("image")>-1){h.push(a)}else{m(a.name)}continue}b.push(a)}return g()};d=0;_=r.http_upload(c.alias);return v=function(e){if(!e){return}console.log(d,e.name,e.size);t.upload_status=1;t.percent=0;return i.upload(_,e).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){t.mediafiles.unshift(new r.media(e));t.uploadedMediafiles.unshift(e);t.percent=0;b.shift();if(b.length<=0){return t.upload_status=0}else{d++;return v(b[0])}}).error(function(){t.percent=0;return t.upload_status=2})}}]).service("bgModal",["dialog",function(e){return function(t,n){return e.show({controller:"bgModalCtrl",templateUrl:"modals/bg/bg.tmpl.html",locals:{bg:t,app:n}})}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("galleryModalCtrl",["$scope","$mdBottomSheet","restMedia","MediaService","Config","dialog","flash","gallery","app",function(t,n,r,i,a,o,l,s,u){var c,d,f,m,p,h,g,v,b,_,y;if(typeof angular.translate==="function"){t._=angular.translate}t.gallery_sheet_open=false;t.selected_media=null;t.now=Date.now();t.galleryMediafiles=angular.copy(s)||[];r.media.query({app_alias:u.alias},function(n){var r;return t.mediafiles=function(){var t,i,o,l;l=[];for(t=0,i=n.length;t<i;t++){r=n[t];if(o=r.type,e.call(a.preview_types,o)>=0){l.push(r)}}return l}()});t.resetSelect=function(){return t.selected_media=null};t.toggleSelect=function(e){if(t.isSelected(e)){return t.resetSelect()}else{m(e);return t.selected_media=e}};m=function(e){if(!e.src){e.src=e.uri}if(!e.title){e.title=e.filename.substr(0,50)}return e};t.goRepository=function(){return t.selectedTab=1};t.removeFromGallery=function(e){return t.galleryMediafiles.splice(e,1)};t.addToGallery=function(e){m(e);e=angular.copy(e);t.galleryMediafiles.push(e);return t.selectedTab=0};t.isSelected=function(e){var n,r,i;r=t.selected_media;if(!r||!e){return false}i=t.galleryMediafiles.indexOf(r);n=t.galleryMediafiles.indexOf(e);return r&&i===n};t.edit=function(e,t){g(e);t.stopPropagation();return false};t.insert=function(){if(t.galleryMediafiles.length>0){return o.hide(t.galleryMediafiles)}};t.trash=function(){return o.hide([])};t.hasMedia=function(){return t.galleryMediafiles.length>0};t.close=function(){return o.cancel()};t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;_=[];h=[];f=function(e){var t;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){t=angular.translate("%s is so large that it will not be uploaded.",e)}else{t=e+" is too large will be skipped."}return l(t,true)};p=function(e){return i.resize(e).then(function(e){return _.push(e)})["catch"](function(e){return f(e.name)})["finally"](function(){angular.removeFromList(h,e,"name");return v()})};v=function(){if(h.length>0){return p(h[0])}else if(_.length>0){return b(_[0])}};t.onFileSelect=function(e){var n,r,a;if(e.length<=0){return}t.upload_status=1;_=[];for(n=0,r=e.length;n<r;n++){a=e[n];if(!i.checkfile(a)){if(a.type.indexOf("image")>-1){h.push(a)}else{f(a.name)}continue}_.push(a)}return v()};c=0;y=r.http_upload(u.alias);b=function(e){if(!e){return}console.log(c,e.name,e.size);t.upload_status=1;t.percent=0;return i.upload(y,e).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){t.mediafiles.unshift(new r.media(e));t.uploadedMediafiles.unshift(e);t.percent=0;_.shift();if(_.length<=0){return t.upload_status=0}else{c++;return b(_[0])}}).error(function(){t.percent=0;return t.upload_status=2})};d=function(){var e;e=document.querySelector("#gallery-modal-sheet");if(e){e=angular.element(e)}else{e=angular.element(document.body)}return e};return g=function(e){t.gallery_sheet_open=true;return n.show({templateUrl:"modals/gallery/gallery_sheet.tmpl.html",controller:"galleryModalSheetCtrl",parent:d(),locals:{media:angular.copy(e)}}).then(function(n){var r,i,a,o,l;if(n.deleted){e.deleted=true;l=t.galleryMediafiles;for(r=0,a=l.length;r<a;r++){o=l[r];if(o.deleted){i=t.galleryMediafiles.indexOf(o)}}t.galleryMediafiles.splice(i,1);return}e.src=n.src;e.title=n.title;e.link=n.link;e.target=n.target;e.caption=n.caption;return e["class"]=n["class"]})["finally"](function(){return t.gallery_sheet_open=false})}}]).controller("galleryModalSheetCtrl",["$scope","$mdBottomSheet","fsv","media",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.media=r;if(!r.link){e.linkto=""}else if(r.link===r.src){e.linkto="media"}else{e.linkto="url"}if(r.target==="_blank"){e.blank=true}e.$watch("linkto",function(t){switch(t){case"":e.media.link="";break;case"media":e.media.link=e.media.src;break}});e.save=function(){if(!n(e.gallery_propety_form,"title","caption","class")){return}if(e.blank){e.media.target="_blank"}else{e.media.target=""}return t.hide(e.media)};e.remove=function(){e.media.deleted=true;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).service("galleryModal",["dialog",function(e){return function(t,n){return e.show({controller:"galleryModalCtrl",templateUrl:"modals/gallery/gallery.tmpl.html",locals:{gallery:t,app:n}})}}])}).call(this);(function(){angular.module("boltApp").controller("linkModalCtrl",["$scope","dialog","fsv","link",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.link=r;e.blank=r.target==="_blank"?true:false;e.insert=function(){if(!n(e.link_form,"link")){return}e.link.target=e.blank?"_blank":"";return t.hide(e.link)};e.trash=function(){return t.hide({})};return e.close=function(){return t.cancel()}}]).service("linkModal",["dialog",function(e){return function(t){if(!t){t={href:"",target:""}}return e.show({controller:"linkModalCtrl",templateUrl:"modals/link/link.tmpl.html",locals:{link:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("syncModalCtrl",["$scope","restSync","dialog","fsv","apps",function(e,t,n,r,i){var a,o,l;if(typeof angular.translate==="function"){e._=angular.translate}e.apps=angular.copy(i);o="error_404";a=false;e.isCurrentType=function(e,t){if(!e||!t||!e.current_content_type){return false}return t.alias===e.current_content_type.alias};e.isExcludeContent=function(e){if(o.indexOf(e.alias)>-1){return true}else{return false}};e.setContentType=function(e,t){e.current_content_type=t;return l(e)};l=function(e){var n;if(e.current_content_type){n=e.current_content_type.alias}else{return[]}return e.files=t.content.query({app_type:e.type,app_alias:e.alias,type_alias:n})};e.switchApp=function(t){var n;if(a){return}if(t.content_types&&t.content_types.length>0){n=t.content_types[0];return e.setContentType(t,n)}};e.switchApp(e.apps[0]);e.sync=function(e){a=false;return n.hide(e)};return e.close=function(){a=true;return n.cancel()}}]).service("syncModal",["dialog",function(e){return function(t){return e.show({controller:"syncModalCtrl",templateUrl:"modals/sync/sync.tmpl.html",locals:{apps:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("scriptModalCtrl",["$scope","dialog","fsv","code",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.code=r;e.insert=function(){if(!n(e.script_form,"code")){return}return t.hide(e.code)};e.trash=function(){return t.hide("")};return e.close=function(){return t.cancel()}}]).service("scriptModal",["dialog",function(e){return function(t){return e.show({controller:"scriptModalCtrl",templateUrl:"modals/script/script.tmpl.html",locals:{code:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("buttonModalCtrl",["$scope","dialog","fsv","button",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.button=angular.copy(r)||{};e.blank=r.target==="_blank"?true:false;e.insert=function(){if(!n(e.button_form,"link","class")){return}e.button.target=e.blank?"_blank":"";return t.hide(e.button)};e.trash=function(){return t.hide({})};return e.close=function(){return t.cancel()}}]).service("buttonModal",["dialog",function(e){return function(t){if(!t){t={link:"",target:"",title:"","class":""}}return e.show({controller:"buttonModalCtrl",templateUrl:"modals/button/button.tmpl.html",locals:{button:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("sourceModalCtrl",["$scope","dialog","fsv","code",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.code=r;e.insert=function(){if(!n(e.source_form,"code")){return}return t.hide(e.code)};e.trash=function(){return t.hide("")};return e.close=function(){return t.cancel()}}]).service("sourceModal",["dialog",function(e){return function(t){return e.show({controller:"sourceModalCtrl",templateUrl:"modals/source/source.tmpl.html",locals:{code:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("collectModalCtrl",["$scope","$timeout","dialog","fsv","collect",function(e,t,n,r,i){var a;if(typeof angular.translate==="function"){e._=angular.translate}e.collection=angular.copy(i)||[];e.new_item={};a=function(){var t,n,r,i,a,o;a=e.collection;o=[];for(n=t=0,i=a.length;t<i;n=++t){r=a[n];if(!r.name){r.name=n.toString()}if(!r.value){o.push(r.value=n.toString())}else{o.push(void 0)}}return o};e.add=function(){var n;if(!r(e.new_item_form,"name","value")){return}e.collection.push({name:e.new_item.name,value:e.new_item.value});a();return n=t(function(){var r;r=document.querySelector('[rel="collect-add-item-first"]');if(r){r.focus()}e.new_item={};return t.cancel(n)},0)};e.remove=function(t){return e.collection.splice(t,1)};e.moveup=function(t,n){var r,i,a;r=e.collection;if(t>0){i=t-1;a=[r[i],r[t]],r[t]=a[0],r[i]=a[1]}return n.stopPropagation()};e.movedown=function(t,n){var r,i,a;r=e.collection;if(t<r.length){i=t+1;a=[r[i],r[t]],r[t]=a[0],r[i]=a[1]}return n.stopPropagation()};e.insert=function(){a();return n.hide(e.collection)};e.trash=function(){return n.hide([])};return e.close=function(){return n.cancel()}}]).service("collectModal",["dialog",function(e){return function(t){if(!t){t=[]}return e.show({controller:"collectModalCtrl",templateUrl:"modals/collect/collect.tmpl.html",locals:{collect:t}})}}])}).call(this);(function(){angular.module("boltApp").service("navService",function(){var e;e=this;this.data=[];this.activatedMenus=[];this.currTitleLocked=null;this.currIcon=null;this.currTitle="";this.currSubTitle="";this.currSection="";this.currApp=null;this.load=function(t,n,r,i){if(!angular.equals(e.data,t)){e.data=t}e.currTitleLocked=n?n:null;e.currIcon=r?r:null;return e.currApp=i};this.getElement=function(t){var n,r,i,a;a=e.data;for(r=0,i=a.length;r<i;r++){n=a[r];if(n.alias===t){return n}}};this.section=function(t){var n,r,i,a,o,l,s,u,c,d,f,m,p;i=t.indexOf("/");if(i>-1){s=t.slice(0,i);m=t.slice(i+1)}else{s=t}e.currSection=s||"";e.activatedMenus=[];c=e.data;f=[];for(r=0,o=c.length;r<o;r++){u=c[r];if(u.alias===s){if(e.currTitleLocked){e.title(e.currTitleLocked);e.subtitle(u.name);break}else{e.title(u.name)}if(u.nodes&&m){n=false;d=u.nodes;for(a=0,l=d.length;a<l;a++){p=d[a];if(p.alias===m){e.subtitle(p.name);n=true;break}}}else{e.subtitle(false)}if(n){break}else{f.push(void 0)}}else{f.push(void 0)}}return f};this.title=function(t){return e.currTitle=t||""};this.subtitle=function(t){return e.currSubTitle=t||""};this.clear=function(){e.data=[];e.activatedMenus=[];e.currTitleLocked=null;e.currIcon=null;e.currTitle="";e.currSubTitle="";e.currSection="";return e.currApp=null};return this})}).call(this);(function(){angular.module("boltApp").factory("navDefault",["navService",function(e){var t;t=[{alias:"portal",name:"Portal",path:"/",ico:"maps:ic_directions_walk_24px"},{alias:"apps",name:"Apps",ico:"nav:ic_apps_24px",nodes:[{alias:"create",name:"Create New",path:"/create_app","class":"md-primary"}]},{alias:"crm",name:"Membership",ico:"social:ic_people_24px",nodes:[{alias:"member",name:"Members",path:"/crm/member"},{alias:"role",name:"Member Role",path:"/crm/role"},{alias:"event",name:"Events",path:"/crm/event"}]},{alias:"addons",name:"Addons",ico:"action:ic_extension_24px",nodes:[{alias:"store",name:"Themes & Exts Store",path:"/store"},{alias:"purchased",name:"Purchased Items",path:"/store/purchased"}]},{alias:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{alias:"profile",name:"Profile",path:"/user/profile"},{alias:"security",name:"Security",path:"/user/security"},{alias:"invite",name:"Invite Codes",path:"/user/invite","class":"md-primary"}]}];this.load=function(n,r){var i,a,o,l,s,u,c;c=angular.copy(t);n=angular.copy(n).reverse();for(a=0,l=c.length;a<l;a++){u=c[a];if(u.alias==="apps"){if(n.length>=r){u.nodes=[]}for(o=0,s=n.length;o<s;o++){i=n[o];u.nodes.unshift({alias:i.alias,name:i.title,path:i.type+"/"+i.alias,app_id:i.id})}break}}return e.load(c)};return this}])}).call(this);(function(){angular.module("boltApp").controller("mainNavCtrl",["$scope","$location","$mdSidenav","$mdMedia","Auth","navService","g",function(e,t,n,r,i,a,o){var l,s;e.navs=l=a;s=false;e.isLockedOpen=function(e){return r("gt-md")};e.isOpen=function(){var t,r;r=n("main_nav").isOpen();t=e.isLockedOpen();if(r&&t){n("main_nav").close()}return r};e.toggle=function(e){if(s){if(l.activatedMenus!==e){return l.activatedMenus=e}else{return l.activatedMenus=""}}else{return angular.toggleList(l.activatedMenus,e)}};e.isShow=function(t){if(s){return l.activatedMenus===t||e.isCurrent(t)}else{return l.activatedMenus.indexOf(t)>-1||e.isCurrent(t)}};e.isCurrent=function(e){return l.currSection===e};e.toggleNav=function(e){return n(e).toggle()};return e.go=function(e){if(e){t.path(e);return n("main_nav").close()}}}])}).call(this);(function(){angular.module("boltApp").controller("topNavCtrl",["$scope","$route","$location","$mdSidenav","$mdMedia","Config","restUser","Auth","supLocales","navService","g",function(e,t,n,r,i,a,o,l,s,u,c){var d,f;e.navs=u;d=function(){return e.profile=c.user.profile};if(!c.inited){e.g=c;f=e.$watch("g.inited",function(e){if(e){d();return f()}})}else{d()}e.locales=a.locales;e.showMenu=function(){return i("gt-md")};e.toggleNav=function(e){return r(e).toggle()};e.currentLang=function(e){var t;t=s.get();return s.match(e.code,t)};e.changeLang=function(e){s.set(e.code);return t.reload()};e.logout=function(){return o.doLogout().then(function(){c.clear();e.navs.clear();return l.logout()})};return e.go=function(e){if(e){return n.path(e)}}}])}).call(this);(function(){angular.module("boltApp").factory("restCrm",["supResource","Config",function(e,t){var n;n=t.BaseURL.api+"/crm";return{member:function(){return e(n+"/member/:member_id",{member_id:"@id"})}(),member_applyment:function(){return e(n+"/member/:member_id/applyment",{member_id:"@id"})}(),role:function(){return e(n+"/role/:role_id",{role_id:"@id"})}(),doAddToRole:function(t){return e(n+"/role/:role_id/:member_id").trigger({role_id:t.role_id,member_id:t.member_id},{}).$promise},doRemoveFromRole:function(t){return e(n+"/role/:role_id/:member_id").remove({role_id:t.role_id,member_id:t.member_id},{}).$promise},event:function(){return e(n+"/activity/:event_id",{event_id:"@id"})}(),applyment:function(){return e(n+"/applyment/:event_id/:apply_id",{event_id:"@activity_id",apply_id:"@id"})}()}}])}).call(this);(function(){angular.module("boltApp").controller("rolesCtrl",["$scope","restCrm","flash","dialog","navService","funcGenerator","g",function(e,t,n,r,i,a,o){var l,s;i.section("crm/role");e.roles=t.role.query();e.edit=function(e){var t;t=angular.copy(e);return s(t)};e.add=function(){var e;e=new t.role;e._new=true;return s(e)};l=20;e.checkAddable=function(){var t,n,r,i,a;a=0;r=e.roles;for(t=0,n=r.length;t<n;t++){i=r[t];if(!i.deleted){a++}}if(a>=l){return false}else{return true}};return s=function(t){return r.show({controller:"roleEditCtrl",templateUrl:"blueprints/crm/views/role_edit.tmpl.html",locals:{role:t}}).then(function(t){var n,r,i,a,o,l;l=[];if(t){if(t._new){delete t._new;e.roles.unshift(t);return}a=e.roles;for(n=0,i=a.length;n<i;n++){o=a[n];if(o.id===t.id){r=e.roles.indexOf(o);if(t.deleted){e.roles.splice(r,1)}else{e.roles[r]=t}return}}}})}}])}).call(this);(function(){angular.module("boltApp").controller("roleEditCtrl",["$scope","dialog","flash","fsv","role",function(e,t,n,r,i){var a,o;if(typeof angular.translate==="function"){e._=angular.translate}e.role=i;e["new"]=Boolean(i._new);e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return o()}};a=function(){if(!r(e.role_form,"title","alias")){return}e.submitted=true;return e.role.$save().then(function(e){n("Member Role has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};o=function(){if(!r(e.role_form,"title")){return}e.submitted=true;return e.role.$save().then(function(e){n("Member Role has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.role.deleted||e.submitted){return}e.submitted=true;return e.role.$remove().then(function(e){n("Member Role has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("membersCtrl",["$scope","restCrm","navService","funcGenerator","flash","g",function(e,t,n,r,i,a){var o,l,s;n.section("crm/member");e.select_role="";l=false;e.members=t.member.query();e.roles=t.role.query();e.membersCount=0;e.now=Date.now();o=function(){var t,n,r,i,a;t=0;a=e.members;for(n=0,r=a.length;n<r;n++){i=a[n];if(!i.deleted){t++}}return e.membersCount=t};e.members.$promise.then(function(){o();return l=true});e.showMember=function(t){var n;n=t?t.id:"";if(!e.select_role||e.select_role===n){return true}else{return false}};e.checkEmpty=function(){var t,n,r,i,a;if(!l){return}a=e.members;for(t=0,r=a.length;t<r;t++){i=a[t];n=e.showMember(i);if(n){return false}}return true};e.paged=1;s=[];r.select(e,s);r.more(e,e.members);return r.trash(e,s,function(t){return angular.removeFromList(e.members,t)},function(){o();return i("Membership has been canceled.")})}])}).call(this);(function(){angular.module("boltApp").controller("memberEditCtrl",["$scope","dialog","restCrm","flash","g",function(e,t,n,r,i){var a;e.select_role=null;a=$routeParams.member_id;e.member=n.member.get({member_id:a},function(t){if(e.member.role){return e.select_role=e.member.role.id}});e.events=n.member_applyment.query({member_id:a});e.roles=n.role.query();return e.modify=function(){var t;if(e.submitted){return}e.submitted=true;t={member_id:e.member.id,role_id:e.select_role};return n.doAddToRole(t).then(function(){return FlashMsg.show("Member role has been saved")})["finally"](function(){return e.submitted=false})}}])}).call(this);(function(){angular.module("boltApp").controller("eventsCtrl",["$scope","$location","dialog","restCrm","navService","funcGenerator","flash","g",function(e,t,n,r,i,a,o,l){var s;i.section("crm/event");e.events=r.event.query();e.check=function(e){return t.path("/crm/applyment/"+e.id)};e.edit=function(e){var t;t=angular.copy(e);return s(t)};e.add=function(){var e;e=new r.event;e._new=true;return s(e)};return s=function(t){return n.show({controller:"eventEditCtrl",templateUrl:"blueprints/crm/views/event_edit.tmpl.html",locals:{event:t}}).then(function(t){var n,r,i,a,o;if(t){if(t._check){e.check(t);return}if(t._new){delete t._new;e.events.unshift(t);return}o=e.events;for(r=0,a=o.length;r<a;r++){n=o[r];if(n.id===t.id){i=e.events.indexOf(n);if(t.deleted){e.events.splice(i,1)}else{e.events[i]=t}return}}}})}}])}).call(this);(function(){angular.module("boltApp").controller("eventEditCtrl",["$scope","dialog","flash","fsv","event",function(e,t,n,r,i){var a,o;if(typeof angular.translate==="function"){e._=angular.translate}e.event=i;e.submitted=false;e["new"]=Boolean(i._new);e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return o()}};a=function(){if(!r(e.event_form,"title","alias")){return}e.submitted=true;return e.event.$save().then(function(e){n("Event has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};o=function(){if(!r(e.event_form,"title")){return}return e.event.$save().then(function(e){n("Event has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.check=function(){e.event._check=true;return t.hide(e.event)};e.trash=function(){if(i.deleted||e.submitted){return}e.submitted=true;return e.event.$remove().then(function(e){n("Event has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("applymentsCtrl",["$scope","$location","$routeParams","restCrm","navService","funcGenerator","dialog","flash","g",function(e,t,n,r,i,a,o,l,s){var u,c,d;i.section("crm/event");u=n.event_id;e.event=r.event.get({event_id:u});e.applyments=r.applyment.query({event_id:u});e.back=function(){return t.path("/crm/event")};e.open=function(t){return d(t,e.event)};e.paged=1;c=[];a.select(e,c);a.more(e,e.applyments);a.trash(e,c,function(t){return angular.removeFromList(e.applyments,t)},function(){return l("Reservation has been deleted.")});return d=function(t,n){c.length=0;return o.show({controller:"applyEditCtrl",templateUrl:"blueprints/crm/views/apply_edit.tmpl.html",locals:{apply:t,event:n}}).then(function(t){var n,r,i,a,o;if(t){a=e.roles;for(n=0,i=a.length;n<i;n++){o=a[n];if(o.id===t.id){r=e.roles.indexOf(o);if(t.deleted){e.roles.splice(r,1)}else{e.roles[r]=t}return}}}})}}])}).call(this);(function(){angular.module("boltApp").controller("applyEditCtrl",["$scope","dialog","flash","event","apply",function(e,t,n,r,i){if(typeof angular.translate==="function"){e._=angular.translate}e.event=r;e.apply=i;e.submitted=false;e.trash=function(){if(e.apply.deleted||e.submitted){return}e.submitted=true;return e.apply.$remove().then(function(e){n("Reservation has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="crm";r={global:t.resolve};return e.when("/"+n+"/member",{templateUrl:"blueprints/"+n+"/views/members.html",controller:"membersCtrl",resolve:r}).when("/"+n+"/role",{templateUrl:"blueprints/"+n+"/views/roles.html",controller:"rolesCtrl",resolve:r}).when("/"+n+"/event",{templateUrl:"blueprints/"+n+"/views/events.html",controller:"eventsCtrl",resolve:r}).when("/"+n+"/applyment/:event_id",{templateUrl:"blueprints/"+n+"/views/applyments.html",controller:"applymentsCtrl",resolve:r})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigEditor",{allow_query:["ws"],default_form_fields:[{key:"title",name:{en:"Title",zh:"标题"},type:"input",max:120},{key:"subtitle",name:{en:"Subtitle",zh:"副标题"},type:"input",max:200},{key:"description",name:{en:"Description",zh:"描述"},type:"textarea",max:360},{key:"content",name:{en:"Content",zh:"正文内容"},type:"content"},{key:"background",name:{en:"Background",zh:"背景"},type:"bg"}]})}).call(this);(function(){angular.module("boltApp").factory("restEditor",["supResource","Config",function(e,t){var n;n=""+t.BaseURL.api;return{content:function(){return e(n+"/:app_type/:app_alias/"+"content_file/:type_alias/:file_id",{app_type:"@app_type",app_alias:"@app_alias",type_alias:"@content_type",file_id:"@id"})}(),taxonomy:function(){return e(n+"/ws/:app_alias/taxonomy/:tax_id",{app_alias:"@app_alias",tax_id:"@id"})}(),doGetTaxonomy:function(t,r){return e(n+"/ws/:app_alias/term/:tax_alias").query({app_alias:t,tax_alias:r}).$promise},doGetEditorTpl:function(t,r,i){return e(n+"/:app_type/:app_alias/editor/:tpl_alias").get({app_type:t,app_alias:r,tpl_alias:i}).$promise},doGetEditorMetas:function(t,r){return e(n+"/:app_type/:app_alias/editor_metas").get({app_type:t,app_alias:r}).$promise},doGetEditorAnalytics:function(t,r){return e(n+"/app/:app_id/status/:file_id").get({app_id:t,file_id:r}).$promise},doContentQueryEditor:function(t,r,i){return e(n+"/:app_type/:app_alias/editor_query").post({app_type:t,app_alias:r},i).$promise}}}])}).call(this);(function(){angular.module("boltApp").provider("editorResolve",function(){return{resolve:["g","$route","$location","supChain","restEditor",function(e,t,n,r,i){var a,o,l,s,u;u=t.current.params;a=u.app_alias;o=u.type;l=u.id;s=function(){return n.path("/404")};if(!a){s();return}return r().then(function(){if(!e.inited){return e.init().then(function(){return e.setCurrentApp(a)})}else{return e.setCurrentApp(a)}}).then(function(){var t;t=e.app.current;if(!t){s();return}if(t.type&&t.alias&&o&&l){return i.content.get({app_type:t.type,app_alias:t.alias,type_alias:o,file_id:l}).$promise.then(function(t){return e.current_file=t})["catch"](function(){return e.current_file=null})}})}],$get:function(){}}})}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("editorStationCtrl",["$scope","$routeParams","$route","$rootScope","$timeout","$location","$filter","$mdMedia","$mdSidenav","$mdBottomSheet","Config","ConfigEditor","restEditor","supChain","mediaModal","bgModal","scriptModal","galleryModal","sourceModal","linkModal","buttonModal","collectModal","confirm","flash","fsv","g",function(t,n,r,i,a,o,l,s,u,c,d,f,m,p,h,g,v,b,_,y,E,$,w,A,C,M){var k,x,T,S,N,H,D,O,R,I,P,L,F,U,j,B,q,W,z,V,G,Y,K,X,J,Q,Z,ee,te,ne,re,ie;t.g=M;t.app=M.app.current;t.is_mobile=Boolean(d.browser.mobile);t.content_type_alias=q=n.type;t.forms={};t.showCanvas=false;t.showForm=false;t.editor_filed_elements=[];Z=["template","tags","date","date_formatted","author","parent","redirect"];B=false;W=null;t.allowContentQuery=(J=t.app.type,e.call(f.allow_query,J)>=0);if(!i.backlist){i.backlist=[]}t.restEditor=m;t.file=M.current_file;if(!t.file.meta.template){re=t.content_type_alias;if(angular.startswith(re,"_")){re="sub"+re}t.file.meta.template=re}t.config={};m.doGetEditorAnalytics(t.app.id,t.file.id).then(function(e){return t.config.sa=e});m.doGetEditorMetas(t.app.type,t.app.alias).then(function(n){var r,i,a,o,l,s,u,c,d,m,p,h,g;B=true;t.config.site_meta=n.site_meta||{};t.config.theme_meta=n.theme_meta||{};t.config.base_url=n.base_url;t.config.theme_url=n.theme_url;t.config.libs_url=n.libs_url;t.config.locale=n.locale;t.config.lang=n.lang;t.config.menu=n.menu||{};t.hide_property=t.config.theme_meta.hide_property||[];s=t.config.theme_meta.options||{};if(typeof n.taxonomy!=="object"){n.taxonomy={}}d={};u=n.taxonomy;for(l in u){g=u[l];if(g.content_types instanceof Array&&e.call(g.content_types,q)>=0){d[l]=g}}t.taxonomy=t.config.taxonomy=d;t.templates=[];c=t.config.theme_meta.templates;for(p in c){h=c[p];m={name:h,alias:p};t.templates.push(m)}if(!t.config.theme_meta){return}t.useMarkdown=t.config.useMarkdown=Boolean(s.markdown);if(t.useMarkdown&&!t.file.markdown){t.file.markdown=t.file.content}W=s.date_format||null;V(t.file.meta.date,W);o=t.config.theme_meta.mode||0;if(typeof s._debug_mode==="number"){o=s._debug_mode}a=t.config.theme_meta.editor_fields||{};switch(o){case 0:t.showForm=true;break;case 1:t.showCanvas=true;if(t.is_mobile){t.useMarkdown=t.config.useMarkdown=false}break}if(t.showForm){i=f.default_form_fields||[];r=function(n){var r,o,l,s,u,c,d;if(!t.showForm){return}t.editor_filed_elements=[];r=a[n]||i;l=false;d=[];for(s=0,u=r.length;s<u;s++){o=r[s];if(c=o.key,e.call(Z,c)>=0){continue}d.push(t.editor_filed_elements.push(o))}return d};return t.$watch("file.meta.template",function(e){return r(e)})}});K=function(){if(!t.file.meta.author){t.getAuthor()}if(!t.file.meta.date){t.getToday()}t.file.meta.url=t.file.url;t.file.meta.priority=t.file.priority;t.file.meta.type=t.file.content_type;t.file.meta.status=t.file.status;t.file.meta.updated=t.file.updated;t.file.meta.created=t.file.created;V(t.file.meta.date,W);return t.now=Date.now()};t.tags=angular.list2str(t.file.meta.tags);t.$watch("tags",function(e){return t.file.meta.tags=angular.str2list(t.tags,true)});if(t.file.meta.date){t.date=angular.str2date(t.file.meta.date)}t.$watch("date",function(e){var n;n=angular.date2str(e);if(n){t.file.meta.date=n;return V(t.file.meta.date,W)}});V=function(e,n){var r,i,a,o,s,u;if(t.file.deleted){return}if(n){s=d.date_formats;for(i=0,o=s.length;i<o;i++){r=s[i];for(a in r){u=r[a];n=n.replace(a,u)}}return t.file.meta.date_formatted=l("date")(e,n)}else{return t.file.meta.date_formatted=t.file.meta.date}};Y=function(){var e;if(i.backlist.length>0){e=i.backlist.pop()}else{delete i.backlist;e="/"+t.app.type+"/"+t.app.alias+("/content/"+t.content_type_alias)}return o.path(e)};t.getToday=function(){return t.date=new Date};t.getAuthor=function(){return t.file.meta.author=M.user.profile.display_name};t.toolbar_open=false;t.property_adv=false;t.isPropertyLockedOpen=function(){return s("gt-md")&&t.showForm};t.isPropertyOpen=function(){var e,n;n=u("editor_property").isOpen();e=t.isPropertyLockedOpen();if(n&&e){u("editor_property").close()}return n};t.toggleProperty=function(){u("editor_property").toggle()};t.closeProperty=function(){u("editor_property").close()};t.toggleAdvProperty=function(){return t.property_adv=!t.property_adv};t.selectFeaturedImg=function(e){if(e){t.file.meta.featured_img={}}else{h(t.app).then(function(e){return t.file.meta.featured_img=e})}};t.selectMediaImg=function(e,n){if(n){t.file.meta[e]={}}else{h(t.app).then(function(n){return t.file.meta[e]=n})}};t.selectBgImg=function(e,n){if(n){t.file.meta[e]={}}else{g(t.file.meta[e],t.app).then(function(n){return t.file.meta[e]=n})}};t.selectGallery=function(e,n){if(n){t.file.meta[e]=[]}else{b(t.file.meta[e],t.app).then(function(n){return t.file.meta[e]=n})}};t.selectScript=function(e,n){if(n){t.file.meta[e]={};
}else{v(t.file.meta[e]).then(function(n){return t.file.meta[e]=n})}};t.selectButton=function(e,n){if(n){t.file.meta[e]=[]}else{E(t.file.meta[e]).then(function(n){return t.file.meta[e]=n})}};t.selectCollect=function(e,n){if(n){t.file.meta[e]=[]}else{$(t.file.meta[e]).then(function(n){return t.file.meta[e]=n})}};t.back=function(){return Y()};t.save=function(){var e,n,r,i,a;if(t.showForm){a=t.editor_filed_elements;for(r=0,i=a.length;r<i;r++){n=a[r];if(n.field&&!C(t.forms.editor_form,n.field)){A("Content fields is invalid.",true);return}}}if(!C(t.property_form,"title","description","date","author","priority","parent","redirect")){A("Property fields is invalid.",true);return}t.closeProperty();e=angular.cleanSpace(t.file.content);t.file.content=angular.cleanNgAttr(e);if(!t.file.meta.template){t.file.meta.template=t.content_type_alias}if(!t.useMarkdown){t.file.markdown=null}t.file.$save().then(function(e){K();return A("Content has been saved.")})};t.themeSupport=function(n){var r,i;if(!B){return false}if(t.showCanvas){return e.call(t.hide_property,n)<0}else{i=function(){var e,n,i,a;i=t.editor_filed_elements;a=[];for(e=0,n=i.length;e<n;e++){r=i[e];a.push(r.key)}return a}();return e.call(t.hide_property,n)<0&&e.call(i,n)<0}};t.toggleStatus=function(){return t.file.status=t.file.status===0?1:0};t.trash=function(){if(t.file.locked){Y();return}if(w("Do you really want to delete this content?")){return t.file.$remove().then(function(){A("Content has been deleted.");return Y()})}};t.open=function(e){var n;i.backlist.push(o.url());n="/editor/"+t.app.type+"/"+t.app.alias+"/"+(e.type+"/"+e.id);if(w("Make sure your content has been saved. "+"Unsaved content will lost after this redirect. "+"Confirm it to continue the redirection.")){o.path(n);return t.$apply()}};t.device=void 0;t.hasDeviceSwitcher=function(){if(!t.showCanvas||t.is_mobile){return false}else{return true}};t.selectDevice=function(e){if(e&&t.is_mobile){e="desktop"}return t.device=e};t.currentDevice=function(e){if(!e&&!t.showCanvas){return true}else{return t.device===e&&t.showCanvas}};if((Q=n.device)==="phone"||Q==="tablet"){X=n.device}else{X="desktop"}t.selectDevice(X);ie=function(e){};document.addEventListener("wheel",ie);i.station=t;k=null;t.setCanvas=function(e){return k=e};t.render=function(){return t.$apply()};t.blurCanvas=function(){return ne(false)};t.focusCanvas=function(){return i.$emit("canvas.focus")};G=function(e){if(typeof e!=="string"){return e}if(angular.isUrl(e)){return e}else{return t.app.base_url+e.replace(/^\//g,"")}};z=function(e){var t;t=document.querySelector(e);if(t){t=angular.element(t)}else{t=angular.element(document.body)}return t};t.media_property_open=false;te=function(e){if(t.media_property_open){c.cancel();return}t.media_property_open=true;return c.show({templateUrl:"blueprints/editor/views/media_property_sheet.tmpl.html",controller:"mediaPropertySheetCtrl",parent:z("#media-property-sheet"),locals:{media:angular.copy(e),app:t.app}}).then(function(t){e.deleted=t.deleted;e.src=t.src;e.title=t.title;e.link=t.link;e.href=G(t.link);return e.target=t.target})["finally"](function(){return t.media_property_open=false})};t.link_property_open=false;ee=function(e){if(t.link_property_open){c.cancel();return}t.link_property_open=true;return c.show({templateUrl:"blueprints/editor/views/link_property_sheet.tmpl.html",controller:"linkPropertySheetCtrl",parent:z("#link-property-sheet"),locals:{link:angular.copy(e)}}).then(function(t){e.deleted=t.deleted;e.href=t.href;return e.target=t.target})["finally"](function(){return t.link_property_open=false})};j=i.$on("widget.update_script",function(e,t){v(t.data).then(function(e){return t.update(e)});return ne(false)});L=i.$on("widget.update_gallery",function(e,n){b(n.data,t.app).then(function(e){return n.update(e)});return ne(false)});F=i.$on("widget.update_media",function(e,n){h(t.app).then(function(e){return n.update(e)});return ne(false)});R=i.$on("widget.update_bg",function(e,n){g(n.data,t.app).then(function(e){return n.update(e)});return ne(false)});U=i.$on("widget.update_meta",function(e,t){return ne(false)});I=i.$on("widget.update_button",function(e,t){E(t.data).then(function(e){return t.update(e)});return ne(false)});P=i.$on("widget.update_collect",function(e,t){$(t.data).then(function(e){return t.update(e)});return ne(false)});N=i.$on("editor.focus",function(){return ne(true)});x=i.$on("editor.blur",function(){return ne(false)});O=i.$on("editor.insert_link",function(e,t){y().then(function(e){e.href=G(e.href);return t.insertLink(e)});return ne(false)});S=i.$on("editor.edit_link",function(e,t,n){ne(false);return ee(n).then(function(){if(n.deleted){t.removeLink();return A("Link has been removed.")}else{n.href=G(n.href);t.replaceLink(n);return A("Link has been updated.")}})});T=i.$on("editor.edit_image",function(e,t,n){ne(false);return te(n).then(function(){if(n.deleted){t.removeImage();return A("Media has been removed.")}else{n.href=G(n.link);t.replaceImage(n);return A("Media has been updated. "+"It might take a while to refresh automatically.")}})});D=i.$on("editor.insert_image",function(e,n){h(t.app).then(function(e){e.href=G(e.link);return n.insertImage(e)});return ne(false)});H=i.$on("editor.html.open",function(){_(t.file.content).then(function(e){return t.file.content=e});return ne(false)});ne=function(e){if(e){return t.toolbar_open=true}else{return t.toolbar_open=false}};t.$on("$destroy",function(){var e;document.removeEventListener("wheel",ie);delete i.station;if(k){try{k.destory()}catch(t){e=t;console.error("Error: Canvas not exist.",e)}}O();S();T();D();N();x();H();R();F();j();I();L();U();return P()});return K()}])}).call(this);(function(){angular.module("boltApp").controller("mediaPropertySheetCtrl",["$scope","$mdBottomSheet","mediaModal","media","app",function(e,t,n,r,i){if(typeof angular.translate==="function"){e._=angular.translate}e.media=r;e.now=Date.now();if(r.target==="_blank"){e.blank=true}e.selectImg=function(){return n(i,"light").then(function(t){e.media.src=t.src;return e.media.thumbnail=t.thumbnail})};e.save=function(){if(e.blank){e.media.target="_blank"}else{e.media.target=""}return t.hide(e.media)};e.trash=function(){e.media.deleted=true;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("linkPropertySheetCtrl",["$scope","$mdBottomSheet","fsv","link",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.link=r;e.blank=r.target==="_blank"?true:false;e.save=function(){if(!n(e.link_property_form,"link")){return}if(e.blank){e.link.target="_blank"}else{e.link.target=""}return t.hide(e.link)};e.trash=function(){e.link.deleted=true;return t.hide(e.link)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","editorResolveProvider",function(e,t){var n,r;n="editor";r={editor:t.resolve};return e.when("/"+n+"/:app_type/:app_alias/:type/:id",{templateUrl:"blueprints/"+n+"/views/station.html",controller:"editorStationCtrl",resolve:r})}])}).call(this);(function(){angular.module("boltApp").controller("portalCtrl",["$scope","$location","Config","restApp","navService","g",function(e,t,n,r,i,a){var o;i.section("portal");e.customer=a.customer;e.apps=angular.copy(a.app.list)||[];e.now=Date.now();if(e.customer.property){o=e.customer.property.app_slots}if(e.apps.length<o){e.apps.push({_empty:true})}e.createApp=function(){return t.path("create_app")};e.enterApp=function(e){return t.path(e.type+"/"+e.alias+"/")};return e.getAppIcon=function(e){var t,r,i,a;a=n.apptypes;for(r=0,i=a.length;r<i;r++){t=a[r];if(t.alias===e){return t.ico}}return""}}])}).call(this);(function(){angular.module("boltApp").controller("createAppCtrl",["$scope","$location","restApp","Config","supLocales","navService","fsv","flash","g",function(e,t,n,r,i,a,o,l,s){var u,c;a.section("apps/create");e.apptypes=r.apptypes;e.reached_max=false;c=s.customer.property.app_slots;u=s.app.list;if(u.length>=c){e.reached_max=true;l("The number of your apps has reached the limit.",true)}e.app={alias:"",type:"",title:"",locale:i.get()||r.default_locale,description:""};e.create=function(){if(e.reached_max){return}if(!o(e.app_form,"type","alias","title")){return}e.app.alias=e.app.alias.toLowerCase();return n.doCreateApp(e.app).then(function(e){return s.app.init()}).then(function(){return t.path(e.app.type+"/"+e.app.alias)})};return e.cancel=function(){return t.path("/")}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="portal";r={global:t.resolve};return e.when("/",{templateUrl:"blueprints/"+n+"/views/portal.html",controller:"portalCtrl",resolve:r}).when("/create_app",{templateUrl:"blueprints/"+n+"/views/create_app.html",controller:"createAppCtrl",resolve:r})}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("storeCtrl",["$scope","$location","$routeParams","dialog","restStore","supParallel","navService","funcGenerator","g",function(t,n,r,i,a,o,l,s,u){var c,d,f,m,p,h,g;l.section("addons/store");t.customer=u.customer;t.selected_capability="";t.selected_type="";t.search_key="";t.exts_count=0;t.themes_count=0;c=false;p=[];t.addons=[];t.paged=1;t.now=Date.now();f=function(e){if(!e){e=""}return o([a.ext.query({key:e}),a.theme.query({key:e})]).then(function(e){var n,r,i,a;n=[];for(r=0,a=e.length;r<a;r++){i=e[r];n=n.concat(i)}c=true;p=angular.sortby(n,"updated",true);t.paged=1;d();return m()})};g=function(n){var r,i,a;i=t.selected_type;r=t.selected_capability;a=true;if(i&&n.type!==i){a=false}if(r&&e.call(n.capability,r)<0){a=false}return a};d=function(){var e,n,r,i,a,o;t.exts_count=0;t.themes_count=0;for(n=0,a=p.length;n<a;n++){e=p[n];if(e.type==="extension"){t.exts_count++}else if(e.type==="theme"){t.themes_count++}}if(!c){return}t.addons=[];for(i=0,o=p.length;i<o;i++){r=p[i];if(!g(r)){continue}t.addons.push(r)}};f();t.search=function(){return f(t.search_key)};t.$watch("selected_type",function(e){return d()});t.$watch("selected_capability",function(e){return d()});t.checkEmpty=function(){if(!c){return}if(t.addons.length>0){return false}return true};t.open=function(e){return h(e)};t.paged=1;s.more(t,t.addons);m=function(){var e,n,i,a;if(!r.item){return false}a=t.addons;for(e=0,i=a.length;e<i;e++){n=a[e];if(n.alias===r.item){h(n);return true}}return false};return h=function(e){return i.show({controller:"storeDetailCtrl",templateUrl:"blueprints/store/views/detail.tmpl.html",locals:{item:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("purchasedCtrl",["$scope","$location","$routeParams","restStore","supParallel","dialog","navService","funcGenerator","g",function(e,t,n,r,i,a,o,l,s){var u,c,d,f,m;o.section("addons/purchased");e.customer=s.customer;e.exts_count=0;e.themes_count=0;e.empty=false;u=false;e.addons=[];e.now=Date.now();d=function(t){if(!t){t=""}return i([r.customer_ext.query(),r.customer_theme.query()]).then(function(t){var n,r,i,a;n=[];for(r=0,a=t.length;r<a;r++){i=t[r];n=n.concat(i)}e.addons=n;c();f();return u=true})};c=function(){var t,n,r,i,a;if(e.addons.lenght===0){e.empty=true}i=e.addons;a=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.type==="extension"){a.push(e.exts_count++)}else if(t.type==="theme"){a.push(e.themes_count++)}else{a.push(void 0)}}return a};d();e.open=function(e){return m(e)};e.paged=1;l.more(e,e.addons);f=function(){var t,r,i,a;if(!n.item){return false}a=e.addons;for(t=0,i=a.length;t<i;t++){r=a[t];if(r.alias===n.item){m(r)}}return true};return m=function(e){return a.show({controller:"storeDetailCtrl",templateUrl:"blueprints/store/views/detail.tmpl.html",locals:{item:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("storeDetailCtrl",["$scope","dialog","Config","flash","prompt","g","item",function(e,t,n,r,i,a,o){if(typeof angular.translate==="function"){e._=angular.translate}e.item=o;e.customer=a.customer;e.buy=function(){return e.item.$buy().then(function(){a.customer.init();r("This item has been purchased.");return t.hide(e.item)})};e.copy=function(){var t,r;t="Please use the native replication function "+"to copy the content in the textbox.";r=n.BaseURL.self+"#/store?item="+e.item.alias;return i(t,r)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="store";r={global:t.resolve};return e.when("/"+n,{templateUrl:"blueprints/"+n+"/views/store.html",controller:"storeCtrl",resolve:r}).when("/"+n+"/purchased",{templateUrl:"blueprints/"+n+"/views/purchased.html",controller:"purchasedCtrl",resolve:r})}])}).call(this);(function(){angular.module("boltApp").controller("userOAuthCtrl",["$routeParams","$scope","restUser",function(e,t,n){var r,i,a,o;i={state:e.state,response_type:e.response_type,redirect_uri:e.redirect_uri,app_key:e.app_key,open_id:e.open_id};a=i.redirect_uri;if(a&&a.indexOf("?")>-1){r="&"}else{r="?"}o=function(e){var t,n;for(t in e){n=e[t];if(!n){console.error("request data invaild:",t,n);return false}}return true};t.getOAuth=function(){t.oauth_error=false;if(!o(i)){t.oauth_error=true;return}return n.doOAuth(i).then(function(e){var t;t=e.redirect_uri+r;t+="code="+e.code;t+="&state="+e.state;return window.location.href=t})["catch"](function(e){return t.oauth_error=true})};return t.getOAuth()}])}).call(this);(function(){angular.module("boltApp").controller("userRegisterCtrl",["$routeParams","$scope","$location","Config","supLocales","restUser","fsv",function(e,t,n,r,i,a,o){var l,s;t.register={};t.has_code=true;t.registered=false;s=e.email;if(s){t.register.log=s}l=e.code;if(l){t.register.code=l;t.has_code=true}t.getTermsURL=function(){var e;e=i.get()||r.default_locale;e=e.toLowerCase();return r.BaseURL.docs+"/terms_"+e};t.checkAccept=function(){return t.acceptbox=t.accept?true:""};return t.submit=function(){if(!o(t.register_form,"log","accept")){return}t.register.return_url=r.BaseURL.self+"/#/activate?sid=";return a.doRegister(t.register).then(function(e){if(e.sid){console.log(t.register.return_url+e.sid)}return t.registered=true})}}])}).call(this);(function(){angular.module("boltApp").controller("userActivateCtrl",["$routeParams","$scope","$location","Config","Auth","supChain","supLocales","restUser","restApp","fsv",function(e,t,n,r,i,a,o,l,s,u){var c,d,f,m,p;t.activate_data={};m=e.sid;p=null;t.is_end=false;t.activated=false;c=false;t.getTermsURL=function(){var e;e=o.get()||r.default_locale;e=e.toLowerCase();return r.BaseURL.docs+"/terms_"+e};t.checkAccept=function(){return t.acceptbox=t.accept?true:""};l.doCheckSid(m).then(function(e){t.user_alias=e.alias;t.activated=e.activated;return t.inactive=!t.activated});t.submit=function(){if(!u(t.activate_form,"alias","pwd","pwd2","accept")){return}if(!t.inactive){return}return a().then(function(){t.activate.sid=m;t.activate.plan=0;return l.doActivate(t.activate).then(function(e){t.user_alias=e.alias;i.login(e.token);return c=e.activated})}).then(function(){return s.doCreateApp(d())}).then(function(){return s.doCreateApp(f())}).then(function(){return t.activated=c})};d=function(){var e,t,n;n="My Website";t="This is a sample Website. You can "+"experience how to manage contents, upload media, change themes, "+"and many many more features.";if(typeof angular.translate==="function"){n=angular.translate(n);t=angular.translate(t)}e={alias:"website",type:"ws",title:n,locale:o.get()||r.default_locale,description:t};return e};return f=function(){var e,t,n;n="My WeChat Buzz";t=angular.translate("This is a sample WeChat Buzz. You can "+"experience how to manage articles, auto response, broadcasting, "+"bind with website, and many many more features.");if(typeof angular.translate==="function"){n=angular.translate(n);t=angular.translate(t)}e={alias:"wechat",type:"wx",title:n,locale:o.get()||r.default_locale,description:t};return e}}])}).call(this);(function(){angular.module("boltApp").controller("userResendActivateCtrl",["$rootScope","$routeParams","$scope","$location","restUser","Config","fsv",function(e,t,n,r,i,a,o){n.resended=false;n.resend={return_url:a.BaseURL.self+"/#/activate?sid=",log:""};return n.submit=function(){if(!o(n.resend_form,"log")){return}return i.doResendActivate(n.resend).then(function(e){if(e.sid){console.log(n.resend.return_url+e.sid)}return n.resended=true})}}])}).call(this);(function(){angular.module("boltApp").controller("userRecoverPwdCtrl",["$rootScope","$routeParams","$scope","$location","restUser","Config","fsv",function(e,t,n,r,i,a,o){n.recovered=false;n.recover={return_url:a.BaseURL.self+"/#/reset_pwd?sid=",log:""};return n.submit=function(){if(!o(n.recovery_form,"log")){return}return i.doRecoverPwd(n.recover).then(function(e){return n.recovered=true})}}])}).call(this);(function(){angular.module("boltApp").controller("userRestPwdCtrl",["$scope","$timeout","$location","$routeParams","restUser","fsv",function(e,t,n,r,i,a){e.reset={};e.reset.sid=r.sid;e.reseted=false;return e.submit=function(){if(!a(e.reset_form,"pwd","pwd2")){return}return i.doResetPwd(e.reset).then(function(t){return e.reseted=true})}}])}).call(this);(function(){angular.module("boltApp").controller("userLoginCtrl",["$scope","$routeParams","restUser","Auth","Config","fsv",function(e,t,n,r,i,a){var o,l;o=t.app_key;e.copyright=i.copyright;l=o?"/oauth":"/";return e.submit=function(){if(!a(e.login_form,"log","pwd")){return}return n.doLogin(e.login).then(function(e){return r.login(e.token,l)})}}])}).call(this);(function(){angular.module("boltApp").controller("userProfileCtrl",["$scope","navService","flash","fsv","g",function(e,t,n,r,i){t.section("settings/profile");e.user=i.user;e.property=i.customer.property;e.profile=e.user.profile;return e.saveProfile=function(){if(!r(e.profile_form,"display_name","email")){return}return e.profile.$save(function(e){return n("Your profile has been updated.")})}}])}).call(this);(function(){angular.module("boltApp").controller("userSecurityCtrl",["$scope","restUser","navService","flash","fsv",function(e,t,n,r,i){n.section("settings/security");e.pwd={};e.sercet=t.secret.get();e.savePwd=function(){if(!i(e.pwd_form,"opwd","pwd","pwd2")){return}return t.doChangePwd(e.pwd).then(function(e){return r("Your Password has been updated.")})};return e.resetSecretKey=function(){return e.sercet.$save().then(function(e){return r("Your Secret Key has been reset.")})}}])}).call(this);(function(){angular.module("boltApp").controller("userInviteCtrl",["$scope","$rootScope","restUser","flash","navService","supChain","Config","prompt",function(e,t,n,r,i,a,o,l){var s,u;i.section("settings/invite");a().then(function(){return n.doGetInviteLimit().then(function(t){return e.codes_limit=t.limit})}).then(function(){return e.invites=n.invite.query(function(){e.invites_loaded=true;return u()})});u=function(){return e.codes_remained=e.codes_limit-e.invites.length};e.generate=function(){if(e.invites.length<e.codes_limit){return n.invite.create(function(t){e.invites.unshift(t);return u()})}};s="Please use the native replication function "+"to copy the content in the textbox.";e.copyURL=function(e){var t;t=o.BaseURL.self+"/#/register?code="+e;return l(s,t)};return e.copyCode=function(e){return l(s,e)}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="user";r={global:t.resolve};return e.when("/oauth",{templateUrl:"blueprints/"+n+"/views/oauth.html",controller:"userOAuthCtrl"}).when("/register",{templateUrl:"blueprints/"+n+"/views/register.html",controller:"userRegisterCtrl"}).when("/activate/resend",{templateUrl:"blueprints/"+n+"/views/activate_resend.html",controller:"userResendActivateCtrl"}).when("/activate",{templateUrl:"blueprints/"+n+"/views/activate.html",controller:"userActivateCtrl"}).when("/login",{templateUrl:"blueprints/"+n+"/views/login.html",controller:"userLoginCtrl"}).when("/reset_pwd",{templateUrl:"blueprints/"+n+"/views/reset_pwd.html",controller:"userRestPwdCtrl"}).when("/recover_pwd",{templateUrl:"blueprints/"+n+"/views/recover_pwd.html",controller:"userRecoverPwdCtrl"}).when("/"+n+"/profile",{templateUrl:"blueprints/"+n+"/views/profile.html",controller:"userProfileCtrl",resolve:r}).when("/"+n+"/security",{templateUrl:"blueprints/"+n+"/views/security.html",controller:"userSecurityCtrl",resolve:r}).when("/"+n+"/invite",{templateUrl:"blueprints/"+n+"/views/invite.html",controller:"userInviteCtrl",resolve:r})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigWs",{app_type:"ws",theme:{CUSTOM_THEME:"custom",DEFAULT_THEME:"default"},static_type:{alias:"page",title:"Pages"},protocols:[{key:"http",name:"Http"}],max_menus:[24,36]})}).call(this);(function(){angular.module("boltApp").factory("restWs",["supResource","Config","ConfigWs",function(e,t,n){var r;r=t.BaseURL.api+"/"+n.app_type;return{meta:function(){return e(r+"/:app_alias/meta",{app_alias:"@app_alias"})}(),themes:function(){return e(r+"/:app_alias/themes",{app_alias:"@app_alias"})}(),current_theme:function(){return e(r+"/:app_alias/current_theme",{app_alias:"@app_alias"})}(),doSetCurrentTheme:function(t){return e(r+"/:app_alias/current_theme").trigger({app_alias:t.app_alias},t).$promise},doPrepareThemeContent:function(t){return e(r+"/:app_alias/current_theme/prepare").trigger({app_alias:t.app_alias},t).$promise},http_upload_theme:function(e){return r+"/"+e+"/custom_theme"},custom_theme:function(){return e(r+"/:app_alias/custom_theme",{app_alias:"@app_alias"})}(),menu:function(){return e(r+"/:app_alias/menu/:menu_id",{app_alias:"@app_alias",menu_id:"@id"})}(),taxonomy:function(){return e(r+"/:app_alias/taxonomy/:tax_id",{app_alias:"@app_alias",tax_id:"@id"})}(),term:function(){return e(r+"/:app_alias/term/:tax_alias/:term_id",{app_alias:"@app_alias",tax_alias:"@taxonomy",term_id:"@id"})}(),contentType:function(){return e(r+"/:app_alias/content_type/:type_id",{app_alias:"@app_alias",type_id:"@id"})}(),content:function(){return e(r+"/:app_alias/content_file/:type_alias/:file_id",{app_alias:"@app_alias",type_alias:"@content_type",file_id:"@id"})}(),doCopyToType:function(t){return e(r+"/:app_alias/copy_to_type/:type_alias/:file_id").trigger({app_alias:t.app_alias,type_alias:t.content_type,file_id:t.id},t).$promise}}}])}).call(this);(function(){angular.module("boltApp").provider("wsResolve",function(){return{resolve:["$route","navWs","restWs","supChain","g",function(e,t,n,r,i){var a;a=e.current.params.app_alias;return r().then(function(){if(!i.inited){return i.init()}}).then(function(){return i.setCurrentApp(a)}).then(function(){if(!i.app.current.taxonomies){return n.taxonomy.query({app_alias:a},function(e){return i.app.current.taxonomies=e}).$promise}}).then(function(){if(!i.app.current.menus){return n.menu.query({app_alias:a},function(e){return i.app.current.menus=e}).$promise}}).then(function(){return t.load(i.app.current)})}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").factory("navWs",["navService","ConfigWs",function(e,t){var n,r,i;i=[{name:"Website"},{alias:"portal",name:"Go Portal",path:"/",ico:"nav:ic_arrow_back_24px","class":"md-accent"},{alias:"dashboard",name:"Dashboard",path:"$/",ico:"action:ic_dashboard_24px"},{alias:"contents",name:"Contents",ico:"action:ic_description_24px",nodes:[{alias:"manage",name:"Manage",path:"$/content_types","class":"md-primary"}]},{alias:"taxonomies",name:"Taxonomies",ico:"maps:ic_local_offer_24px",nodes:[{alias:"manage",name:"Manage",path:"$/taxonomies","class":"md-primary"}]},{alias:"menus",name:"Menus",ico:"nav:ic_menu_24px",nodes:[{alias:"manage",name:"Manage",path:"$/menus","class":"md-primary"}]},{alias:"meida",name:"Media library",path:"$/media",ico:"image:ic_photo_library_24px"},{alias:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{alias:"options",name:"Options",path:"$/settings"},{alias:"metas",name:"Metas",path:"$/settings/metas"},{alias:"themes",name:"Themes",path:"$/settings/themes"},{alias:"destroy",name:"Destroy",path:"$/settings/destroy","class":"md-warn"}]}];n="av:ic_web_24px";r=function(e,n){e=e.replace("$",t.app_type+"/"+n);return e};this.load=function(t){var a,o,l,s,u,c,d,f,m,p,h,g,v,b,_,y,E,$,w,A,C;if(n){t.icon=n}v=angular.copy(i);for(a=0,u=v.length;a<u;a++){g=v[a];if(g.alias==="contents"){if(g.nodes[0]){A=g.nodes[0]}g.nodes=[];_=t.content_types;for(o=0,c=_.length;o<c;o++){C=_[o];g.nodes.push({alias:C.alias,name:C.title,path:"$/content/"+C.alias})}if(A){g.nodes.push(A)}}if(g.alias==="taxonomies"){if(g.nodes[0]){A=g.nodes[0]}g.nodes=[];y=t.taxonomies;for(l=0,d=y.length;l<d;l++){w=y[l];g.nodes.push({alias:w.alias,name:w.title,path:"$/taxonomy/"+w.alias})}if(A){g.nodes.push(A)}}if(g.alias==="menus"){if(g.nodes[0]){A=g.nodes[0]}g.nodes=[];E=t.menus;for(s=0,f=E.length;s<f;s++){h=E[s];g.nodes.push({alias:h.alias,name:h.title,path:"$/menu/"+h.alias})}if(A){g.nodes.push(A)}}if(g.path&&g.path.indexOf("$")===0){g.path=r(g.path,t.alias)}if(g.nodes){$=g.nodes;for(p=0,m=$.length;p<m;p++){b=$[p];if(b.path&&b.path.indexOf("$")===0){b.path=r(b.path,t.alias)}}}}return e.load(v,t.title,t.icon,t)};return this}])}).call(this);(function(){angular.module("boltApp").controller("wsDashboardCtrl",["$scope","navService","restApp","g",function(e,t,n,r){t.section("dashboard");e.app=r.app.current;return n.doAnalytics(e.app.id).then(function(t){return e.analytic_data=t})}])}).call(this);(function(){angular.module("boltApp").controller("wsContentTypesCtrl",["$scope","restWs","dialog","navService","navWs","flash","funcGenerator","g",function(e,t,n,r,i,a,o,l){var s,u,c;r.section("contents/manage");e.app=l.app.current;e.content_types=t.contentType.query({app_alias:e.app.alias});s=50;e.checkAddable=function(){var t,n,r,i,a;n=0;a=e.content_types;for(r=0,i=a.length;r<i;r++){t=a[r];if(!t.deleted){n++}}if(n>=s){return false}else{return true}};e.add=function(){var n,r;r={app_alias:e.app.alias};n=new t.contentType(r);n._new=true;return c(n)};e.edit=function(e){var t;t=angular.copy(e);return c(t)};u=[];o.select(e,u);o.trash(e,u,function(t){return angular.removeFromList(e.content_types,t)},function(){a("Content types have been deleted.");e.app.content_types=e.content_types;return i.load(e.app)});return c=function(t){return n.show({controller:"wsContentTypeEditCtrl",templateUrl:"blueprints/ws/views/content_type_edit.tmpl.html",locals:{content_type:t}}).then(function(t){var n,r,a,o,l;if(t){if(t._new){delete t._new;e.content_types.push(t)}else{l=e.content_types;for(r=0,o=l.length;r<o;r++){n=l[r];if(n.id===t.id){a=e.content_types.indexOf(n);if(t.deleted){e.content_types.splice(a,1)}else{e.content_types[a]=t}break}}}e.app.content_types=e.content_types;return i.load(e.app)}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsContentTypeEditCtrl",["$scope","dialog","flash","fsv","content_type",function(e,t,n,r,i){var a,o;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.content_type=i;e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return o()}};a=function(){if(!r(e.content_type_form,"title","alias")){return}e.submitted=true;return e.content_type.$save().then(function(e){n("Content type has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};o=function(){if(!r(e.content_type_form,"title")){return}e.submitted=true;return e.content_type.$save().then(function(e){n("Content type has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.content_type.deleted||e.submitted){return}if(e.content_type.locked){return}e.submitted=true;return e.content_type.$remove().then(function(e){n("Content type has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsContentsCtrl",["$scope","$location","$routeParams","ConfigWs","restWs","dialog","navService","funcGenerator","flash","g",function(e,t,n,r,i,a,o,l,s,u){var c,d,f,m,p,h,g,v,b,_,y,E;o.section("contents");c=n.content_type;e.app=u.app.current;e.now=Date.now();e.current_type={};b=e.app.content_types;for(m=0,p=b.length;m<p;m++){E=b[m];if(E.alias===c){e.current_type=E}}e.taxonomies=[];e.selected_tax="";e.selected_term="";e.current_tax=null;i.taxonomy.query({app_alias:e.app.alias},function(t){return angular.forEach(t,function(t){if(t.content_types.indexOf(e.current_type.alias)>-1){return e.taxonomies.push(t)}})});e.$watch("selected_tax",function(t){var n,r,i,a;if(t){i=e.taxonomies;for(n=0,r=i.length;n<r;n++){a=i[n];if(a.alias===t){e.current_tax=a;break}}}else{e.current_tax=null}e.selected_term="";return h()});e.$watch("selected_term",function(e){return h()});e.editTaxonomy=function(n){var i;i=r.app_type+"/"+e.app.alias+"/taxonomy";return t.path(i+"/"+n.alias)};e.add=function(){var t,n;n={app_alias:e.app.alias,content_type:e.current_type.alias,meta:{title:""},status:0,content:""};t=new i.content(n);t._new=true;return y(t).then(function(e){return window.location.href=e.edit_url})};e.contents=[];d=function(t){return t.edit_url="/#/editor/"+e.app.type+"/"+e.app.alias+"/"+(e.current_type.alias+"/"+t.id)};f=function(){return e.files=i.content.query({app_alias:e.app.alias,type_alias:e.current_type.alias},function(e){var t,n,r,i,a;i=[];for(n=0,r=e.length;n<r;n++){t=e[n];if(t.meta.hasOwnProperty("template")){a=t.meta.template}else{a=t.content_type}if(!t.meta.hasOwnProperty("title")){t.meta.title=t.alias}d(t);i.push(h())}return i},function(e){return t.path("/404")})};f();v=function(t){if(!e.selected_term||t===e.selected_term){return true}else{return false}};g=function(t){if(!e.selected_tax||t===e.selected_tax){return true}else{return false}};h=function(){var t,n,r,i,a,o,l;if(!e.files){return}e.contents.length=0;o=e.selected_tax;i=e.files;a=[];for(n=0,r=i.length;n<r;n++){t=i[n];l=t.meta[o];if(g(o)&&v(l)){a.push(e.contents.push(t))}else{a.push(void 0)}}return a};e.switchContentType=function(n){var r;if(n.alias===e.current_type.alias){return}r=e.app.type+"/"+e.app.alias+"/content/"+n.alias;return t.path(r)};e.hasSelected=function(){return _.length>0};e.copyto=null;e.copyFileToType=function(){if(!e.copyto){return}angular.forEach(_,function(t){var n;if(!t.deleted){n=angular.copy(t);n.new_content_type=e.copyto;return i.doCopyToType(n)}});return _.length=0};e.paged=1;_=[];l.select(e,_);l.more(e,e.contents);l.trash(e,_,function(t){return angular.removeFromList(e.contents,t)},function(){return s("Contents has been deleted.")});return y=function(t){_.length=0;return a.show({controller:"wsContentCreateCtrl",templateUrl:"blueprints/ws/views/content_create.tmpl.html",locals:{file:t}}).then(function(t){if(t&&t._new){delete t._new;d(t);e.files.unshift(t)}return t})}}])}).call(this);(function(){angular.module("boltApp").controller("wsContentCreateCtrl",["$scope","dialog","flash","fsv","file",function(e,t,n,r,i){var a;if(typeof angular.translate==="function"){e._=angular.translate}e.file=i;e.submitted=false;e.submit=function(){if(e.submitted){return}return a()};a=function(){if(!r(e.file_form,"title","alias")){return}e.submitted=true;return e.file.$save().then(function(e){e._new=true;t.hide(e);return n("Content has been created.")})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsTaxonomiesCtrl",["$scope","navService","navWs","dialog","restWs","flash","funcGenerator","g",function(e,t,n,r,i,a,o,l){var s,u;t.section("taxonomies/manage");e.app=l.app.current;e.modify=false;e.taxonomies=e.app.taxonomies;e.contentTypes=function(t){var n,r,i,a,o,l,s,u,c;n=[];l=t.content_types;for(r=0,a=l.length;r<a;r++){u=l[r];s=e.app.content_types;for(i=0,o=s.length;i<o;i++){c=s[i];if(c.alias===u){n.push(c.title)}}}return n};u=50;e.checkAddable=function(){var t,n,r,i,a;a=0;r=e.taxonomies;for(t=0,n=r.length;t<n;t++){i=r[t];if(!i.deleted){a++}}if(a>=u){return false;
}else{return true}};e.add=function(){var t,n;n={title:"",app_alias:e.app.alias,content_types:[]};t=new i.taxonomy(n);t._new=true;return s(t)};e.edit=function(e){var t;t=angular.copy(e);return s(t)};return s=function(t){return r.show({controller:"wsTaxonomyEditCtrl",templateUrl:"blueprints/ws/views/taxonomy_edit.tmpl.html",locals:{taxonomy:t,app:e.app}}).then(function(t){var r,i,a,o,l;if(t){if(t._new){delete t._new;e.taxonomies.unshift(t)}else{o=e.taxonomies;for(r=0,a=o.length;r<a;r++){l=o[r];if(l.id===t.id){i=e.taxonomies.indexOf(l);if(t.deleted){e.taxonomies.splice(i,1)}else{e.taxonomies[i]=t}break}}}return n.load(e.app)}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsTaxonomyEditCtrl",["$scope","dialog","flash","fsv","taxonomy","app",function(e,t,n,r,i,a){var o,l,s,u,c,d,f;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.taxonomy=i;d=e.taxonomy.content_types;e.relateable_types=[];e.supported="";u=a.content_types;for(l=0,s=u.length;l<s;l++){f=u[l];e.relateable_types.push({alias:f.alias,title:f.title,checked:d.indexOf(f.alias)>-1})}e.submitted=false;e.$watch("relateable_types",function(t){var n,r,i;d.length=0;e.supported="";i=[];for(n=0,r=t.length;n<r;n++){f=t[n];if(f.checked){d.push(f.alias);i.push(e.supported=true)}else{i.push(void 0)}}return i},true);e.submit=function(){if(e.submitted){return}if(e["new"]){return o()}else{return c()}};o=function(){if(!r(e.taxonomy_form,"title","alias","supported")){return}e.submitted=true;return e.taxonomy.$save().then(function(e){n("Taxonomy has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};c=function(){if(!r(e.taxonomy_form,"title","supported")){return}e.submitted=true;return e.taxonomy.$save().then(function(e){n("Taxonomy has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.taxonomy.locked){return}if(e.taxonomy.deleted||e.submitted){return}e.submitted=true;return e.taxonomy.$remove().then(function(e){n("Taxonomy has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsTermsCtrl",["$scope","$routeParams","ConfigWs","restWs","dialog","navService","funcGenerator","flash","g",function(e,t,n,r,i,a,o,l,s){var u,c,d,f,m,p,h,g;a.section("taxonomies");e.app=s.app.current;h=t.tax;d=e.app.taxonomies;for(u=0,c=d.length;u<c;u++){p=d[u];if(p.alias===h){e.current_taxonomy=p}}e.terms=r.term.query({app_alias:e.app.alias,tax_alias:h});g=50;e.checkAddable=function(){var t,n,r,i,a;a=0;r=e.terms;for(t=0,n=r.length;t<n;t++){i=r[t];if(!i.deleted){a++}}if(a>=g){return false}else{return true}};e.add=function(){var t,n;n={app_alias:e.app.alias,taxonomy:e.current_taxonomy.alias,title:"",Priority:0,meta:{parent:"",description:"",pic:"","class":""}};t=new r.term(n);t._new=true;return m(t)};e.edit=function(e){var t;t=angular.copy(e);return m(t)};f=[];o.select(e,f);o.trash(e,f,function(t){return angular.removeFromList(e.terms,t)},function(){return l("Terms have been deleted.")});return m=function(t){f.length=0;return i.show({controller:"wsTermEditCtrl",templateUrl:"blueprints/ws/views/term_edit.tmpl.html",locals:{term:t}}).then(function(t){var n,r,i,a,o;if(t){if(t._new){delete t._new;e.terms.unshift(t);return}a=e.terms;for(r=0,i=a.length;r<i;r++){o=a[r];if(o.id===t.id){n=e.terms.indexOf(o);if(t.deleted){e.terms.splice(n,1)}else{e.terms[n]=t}return}}}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsTermEditCtrl",["$scope","dialog","flash","fsv","term",function(e,t,n,r,i){var a,o;if(typeof angular.translate==="function"){e._=angular.translate}if(!i){return}else if(!i.meta){i.meta={}}e.term=i;e["new"]=Boolean(i._new);e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return o()}};a=function(){if(!r(e.term_form,"title","alias","parent","priority","description","pic")){return}e.submitted=true;return e.term.$save().then(function(e){n("Term has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};o=function(){if(!r(e.term_form,"title","parent","priority","description","pic","class")){return}e.submitted=true;return e.term.$save().then(function(e){n("Term has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.term.deleted||e.submitted){return}e.submitted=true;return e.term.$remove().then(function(e){n("Term has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsMenusCtrl",["$scope","restWs","navService","navWs","dialog","flash","funcGenerator","g",function(e,t,n,r,i,a,o,l){var s,u,c;n.section("menus");e.app=l.app.current;e.menus=e.app.menus;s=10;e.checkAddable=function(){var t,n,r,i,a;i=0;a=e.menus;for(t=0,n=a.length;t<n;t++){r=a[t];if(!r.deleted){i++}}if(i>=s){return false}else{return true}};e.add=function(){var n,r;r={title:"",app_alias:e.app.alias};n=new t.menu(r);n._new=true;return c(n)};e.edit=function(e){var t;t=angular.copy(e);return c(t)};u=[];o.select(e,u);o.trash(e,u,function(t){return angular.removeFromList(e.menus,t)},function(){a("Menus have been deleted.");return r.load(e.app)});return c=function(t){return i.show({controller:"wsMenuEditCtrl",templateUrl:"blueprints/ws/views/menu_edit.tmpl.html",locals:{menu:t}}).then(function(t){var n,i,a,o,l;if(t){if(t._new){delete t._new;e.menus.push(t)}else{l=e.menus;for(i=n=0,a=l.length;n<a;i=++n){o=l[i];if(o.id===t.id){if(t.deleted){e.menus.splice(i,1)}else{e.menus[i]=t}break}}}return r.load(e.app)}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsMenuEditCtrl",["$scope","dialog","flash","fsv","menu",function(e,t,n,r,i){var a,o;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.menu=i;e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return o()}};a=function(){if(!r(e.menu_form,"title","alias")){return}e.submitted=true;return e.menu.$save().then(function(e){n("Menu has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};o=function(){if(!r(e.menu_form,"title")){return}e.submitted=true;return e.menu.$save().then(function(e){n("Menu has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.menu.locked){return}if(e.menu.deleted||e.submitted){return}e.submitted=true;return e.menu.$remove().then(function(e){n("Menu has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsMenuSingleCtrl",["$scope","$routeParams","$location","restWs","ConfigWs","navService","dialog","flash","g",function(e,t,n,r,i,a,o,l,s){var u,c,d,f,m,p,h,g,v,b,_,y,E;a.section("menus");e.app=s.app.current;e.menu_nodes=[];g=t.menu_alias;v=null;_=e.app.menus;for(m=0,p=_.length;m<p;m++){h=_[m];if(h.alias===g){v=h.id;break}}if(!v){n.path("/404");return}e.menu=r.menu.get({app_alias:e.app.alias,menu_id:v},function(t){return e.menu_nodes=t.nodes});e.selected_node=null;e.top_limit=i.max_menus[0];e.child_limit=i.max_menus[1];e.checkAddable=function(t){if(!t||e.menu_nodes===t){return e.menu_nodes.length>=e.top_limit}else{return t.length>=e.child_limit}};c=function(e,t,n){var r,i,a,o;r=0;if(n===void 0){n=0}for(i=0,a=e.length;i<a;i++){o=e[i];if(t===o.alias){r++}if(r>n){l("Alias can not be repeated at the same level.",true);return true}}return false};d=null;b=false;f=false;e.dragStart=function(t,n){f=false;if(!n){n=e.menu_nodes}b=n;return d=t};u=false;e.dropCallback=function(e,t){var n;if(u===t){if(angular.inList(t,d)){n=1}else{n=0}if(c(t,e.alias,n)){f=true;return false}return e}else{if(!f){l("The number of your menu items has reached the limit.",true)}return false}};e.dragoverCallback=function(t){u=false;f=false;if(angular.inList(t,d)){u=t;return true}if(t===e.menu_nodes&&t.length>=e.top_limit){return false}if(t.length>=e.child_limit){return false}u=t;return true};e.add=function(t,n){if(!t){t=e.menu_nodes}E({_new:true,alias:"",title:"",link:"",target:"",meta:{}},t);if(n){n.stopPropagation()}return false};e.edit=function(e,t,n){E(e,t);n.stopPropagation();return false};e.save=function(){e.menu.nodes=e.menu_nodes;return e.menu.$save().then(function(){return l("Menu has been saved.")})};e.openHardcode=function(){var t;t=angular.copy(e.menu_nodes);return y(t)};e.toggleSelect=function(t){if(e.selected_node===t){return e.selected_node=null}else{return e.selected_node=t}};e.isSelected=function(t){return e.selected_node===t};y=function(t){var n;n="blueprints/ws/views/";return o.show({controller:"wsMenuSingleHardcodeCtrl",templateUrl:n+"single_menu_hardcode.tmpl.html",locals:{nodes:t}}).then(function(t){if(t){e.menu_nodes=t;return e.save()}})};return E=function(e,t){var n,r;r=e;n="blueprints/ws/views/";return o.show({controller:"wsMenuSingleEditCtrl",templateUrl:n+"single_menu_edit.tmpl.html",locals:{node:angular.copy(e)}}).then(function(e){var n;if(e){if(e.deleted){angular.removeFromList(t,r);return}n=e.alias!==r.alias;if(n&&c(t,e.alias)){return}r.title=e.title;r.alias=e.alias;r.link=e.link;r.meta=e.meta;r.target=e.target;if(r._new){delete r._new;if(c(t,e.alias)){return}return t.push(r)}}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsMenuSingleEditCtrl",["$scope","dialog","fsv","node",function(e,t,n,r){var i,a,o;if(typeof angular.translate==="function"){e._=angular.translate}if(!r){return}else if(!r.meta){r.meta={}}e.node=r;e.allow_target=(a=r.target)==="_blank"||a===""?true:false;e.blank=r.target==="_blank"?true:false;e["new"]=Boolean(r._new);e.submit=function(){return o()};i=function(){if(e.allow_target){e.node.target=e.blank?"_blank":""}return e.node.alias=e.node.alias.toLowerCase()};o=function(){if(!n(e.node_form,"title","link","alias","class")){return}i();return t.hide(e.node)};e.trash=function(){e.node.deleted=true;return t.hide(e.node)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wsMenuSingleHardcodeCtrl",["$scope","dialog","fsv","flash","nodes",function(t,n,r,i,a){var o,l,s,u;if(typeof angular.translate==="function"){t._=angular.translate}l=function(e){var t,n,r;for(t=0,n=e.length;t<n;t++){r=e[t];delete r.$$hashKey;if(r.nodes){l(r.nodes)}}return e};s=l(a);t.nodes_hardcode=JSON.stringify(s,null,2);o=function(t){var n,r,i,a,l;n=[];for(r=0,i=t.length;r<i;r++){a=t[r];if(l=a.alias,e.call(n,l)>=0){return true}if(a.nodes&&o(a.nodes)){return true}n.push(a.alias)}return false};t.$watch("nodes_hardcode",function(e){var n,r;if(!e){e="[]"}try{n=JSON.parse(e);if(checDupAlias(n)){i("Alias can not be repeated at the same level.",true);throw{name:"duplicated",message:"Alias can not be duplicated."}}s=n;t.hardcode_form.hardcode.$setValidity("duplicated",true);return t.hardcode_form.hardcode.$setValidity("format",true)}catch(a){r=a;if(r.name==="duplicated"){return t.hardcode_form.hardcode.$setValidity("duplicated",false)}else{return t.hardcode_form.hardcode.$setValidity("format",false)}}});t.submit=function(){return u()};u=function(){if(!r(t.hardcode_form,"hardcode")){return}return n.hide(s)};return t.close=function(){return n.cancel()}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wsMediaCtrl",["$scope","$routeParams","restMedia","MediaService","Config","navService","funcGenerator","flash","prompt","g",function(t,n,r,i,a,o,l,s,u,c){var d,f,m,p,h,g,v,b,_,y;o.section("media");t.app=c.app.current;t.now=Date.now();t.mediafiles=r.media.query({app_alias:t.app.alias});t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;_=[];h=[];m=function(){return t.now=Date.now()};f=function(e){var t;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){t=angular.translate("%s is so large that it will not be uploaded.",e)}else{t=e+" is too large will be skipped."}return s(t,true)};p=function(e){return i.resize(e).then(function(e){return _.push(e)})["catch"](function(e){return f(e.name)})["finally"](function(){angular.removeFromList(h,e,"name");return v()})};v=function(){if(h.length>0){return p(h[0])}else if(_.length>0){return b(_[0])}else{return t.upload_status=0}};t.hasPreview=function(t){return e.call(a.preview_types,t)>=0};t.onFileSelect=function(e,n){var r,a,o;if(e.length<=0){return}t.upload_status=1;_=[];for(r=0,a=e.length;r<a;r++){o=e[r];if(!i.checkfile(o)){if(o.type.indexOf("image")>-1){h.push(o)}else{f(o.name)}continue}o._re_filename=n;_.push(o)}return v()};d=0;y=r.http_upload(t.app.alias);b=function(e){var n;if(!e){return}n=e._re_filename;delete e._re_filename;console.log(d,e.name,e.size);t.upload_status=1;t.percent=0;return i.upload(y,e,n).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){if(e.filename===n){angular.removeFromList(t.mediafiles,e,"filename")}t.mediafiles.unshift(new r.media(e));t.uploadedMediafiles.unshift(e);t.percent=0;_.shift();if(_.length<=0){t.upload_status=0;return s("Media files have been uploaded.")}else{d++;return b(_[0])}}).error(function(){t.percent=0;return t.upload_status=2})["finally"](function(){return m()})};t.copyURL=function(e){var t;t="Please use the native replication function "+"to copy the content in the textbox.";return u(t,e)};t.paged=1;g=[];l.select(t,g);l.more(t,t.mediafiles);return l.trash(t,g,function(e){return angular.removeFromList(t.mediafiles,e)},function(){return s("Media files have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wsOptionsCtrl",["$scope","$routeParams","$rootScope","$location","ConfigWs","Config","navService","flash","fsv","helpModal","restApp","g",function(e,t,n,r,i,a,o,l,s,u,c,d){o.section("settings/options");e.app=e.profile=d.app.current;e.protocols=i.protocols;e.locales=a.locales;e.binded=false;e.domain=c.domain.get({app_alias:e.app.alias},function(t){return e.binded=Boolean(t.domain)});e.save=function(){if(!s(e.profile_form,"title","locales","description")){return}return e.profile.$save().then(function(){return l("Your App profile has been modified.")})};e.bind=function(t){if(!s(e.domain_form,"domain")&&!t){return}return e.domain.$save().then(function(t){e.binded=Boolean(t.domain);e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return l("Your App domain has been modified.")})};e.unbind=function(){e.domain.domain="";e.domain.protocol="";e.domain_form.$setPristine();e.domain_form.$setUntouched();return e.bind(true)};return e.help=function(e){return u(e)}}])}).call(this);(function(){angular.module("boltApp").controller("wsMetasCtrl",["$scope","flash","navService","restWs","dialog","mediaModal","g",function(e,t,n,r,i,a,o){var l,s,u;n.section("settings/metas");e.app=o.app.current;e.meta_hardcode="";l={logo:"",copyright:"",license:"",keywords:"",contacts:"",analytics:"",social:"",seo:"",translates:{}};s=function(e){var t,n,r;n=[];for(t in l){r=l[t];if(e[t]===(null||void 0)){n.push(e[t]=r)}else{n.push(void 0)}}return n};e.meta=r.meta.get({app_alias:e.app.alias},function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return s(e.meta.site_meta)});e.selectLogo=function(t){if(t){e.meta.site_meta.logo=""}else{a(e.app).then(function(t){return e.meta.site_meta.logo=t.src})}};e.openHardcode=function(){return u(e.meta.site_meta)};e.save=function(){return e.meta.$update().then(function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return t("Your App metas have been modified.")})};return u=function(t){return i.show({controller:"wsMetasHardcodeCtrl",templateUrl:"blueprints/ws/views/settings/metas_hardcode.tmpl.html",locals:{meta:t}}).then(function(t){if(t){e.meta.site_meta=t;return e.save()}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsMetasHardcodeCtrl",["$scope","dialog","fsv","meta",function(e,t,n,r){var i,a;if(typeof angular.translate==="function"){e._=angular.translate}i=r;e.meta_hardcode=JSON.stringify(r,null,2);e.$watch("meta_hardcode",function(t){var n;if(!t){t="{}"}try{i=JSON.parse(t);return e.hardcode_form.hardcode.$setValidity("format",true)}catch(r){n=r;return e.hardcode_form.hardcode.$setValidity("format",false)}});e.submit=function(){return a()};a=function(){if(!n(e.hardcode_form,"hardcode")){return}return t.hide(i)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsThemesCtrl",["$scope","$rootScope","$filter","$route","FileService","ConfigWs","restWs","navWs","navService","dialog","flash","fsv","image","supChain","g",function(e,t,n,r,i,a,o,l,s,u,c,d,f,m,p){var h,g,v,b,_,y;s.section("settings/themes");y=a.theme;e.app=p.app.current;e.themes=[];e.current_theme="";e.config_mode=false;e.now=Date.now();e.paged=1;e.image={trans:f.trans};g=function(){return m().then(function(){e.current_theme=o.current_theme.get({app_alias:e.app.alias});return e.current_theme.$promise}).then(function(){e.themes=o.themes.query({app_alias:e.app.alias});return e.themes.$promise}).then(function(){e.custom_theme=o.custom_theme.get({app_alias:e.app.alias});return e.custom_theme.$promise}).then(function(){v();b();return e.custom_theme_loaded=true})};g();v=function(){var t;e.show_current_theme=true;if(e.current_theme.theme==="custom"){e.custom_theme.activated=true}else{e.custom_theme.activated=false}t=e.current_theme.options;e.theme_meta_options=angular.obj2jsonstr(t)||{};if(e.current_theme===y.CUSTOM_THEME){e.is_custom_current=true}else{e.is_custom_current=false}if(e.current_theme===y.DEFAULT_THEME){e.is_default_current=true}else{e.is_default_current=false}e.current_theme.activated=true;return e.current_theme.thumbnail_src=e.current_theme.thumbnail+"?"+e.now};b=function(){return angular.forEach(e.themes,function(t,n){if(t.id===e.current_theme.theme){e.themes.splice(n,1);e.themes.unshift(t);return t.activated=true}else{return t.activated=false}})};e.open=function(t){return _(t,e.app)};h={};e.saveConfig=function(){if(!d(e.config_form,"theme_options")){return}if(angular.equals(h,e.current_theme.options)){e.config_mode=false;return}e.current_theme.options=h;return e.current_theme.$save(function(t){e.config_mode=false;v();return c("Theme config has been updated.")})};e.toggleConfig=function(){return e.config_mode=!e.config_mode};e.reloadTheme=function(){var t;t=e.current_theme.options;return o.doSetCurrentTheme({theme:e.current_theme.theme,app_alias:e.app.alias}).then(function(){e.current_theme.options=t;return e.current_theme.$save().then(function(){return o.doPrepareThemeContent({app_alias:e.app.alias})}).then(function(){p.inited=false;r.reload();return c("Theme has been reloaded.")})})};e.$watch("theme_meta_options",function(t){var n;if(!e.config_form){return}if(!t){t="{}"}try{h=JSON.parse(t);return e.config_form.theme_options.$setValidity("format",true)}catch(r){n=r;return e.config_form.theme_options.$setValidity("format",false)}});e.showMore=function(){return e.paged++};e.hasMore=function(){var t;t=n("paginator")(e.themes,e.paged);return t.length<e.themes.length};e.upload_status=0;e.onFileSelect=function(t){var n,r;if(e.upload_status===1){return}r=t[0];if(!r){return}e.upload_status=1;n=o.http_upload_theme(e.app.alias);return i.upload(n,r).progress(function(t){return e.percent=parseInt(100*t.loaded/t.total)}).success(function(t,n,r,i){e.upload_status=0;e.custom_theme=new o.custom_theme(t);return c("Custom theme has been uploaded.")}).error(function(){return e.upload_status=2}).abort(function(){return e.upload_status=0})};e.removeCustom=function(){if(e.upload_status===1){return}return e.custom_theme.$remove().then(function(){return c("Custom theme has been removed.")})};return _=function(t,n){return u.show({controller:"wsThemeDetailCtrl",templateUrl:"blueprints/ws/views/settings/theme_detail.tmpl.html",locals:{theme:t,app:n}}).then(function(t){return m().then(function(){e.current_theme=o.current_theme.get({app_alias:e.app.alias});return e.current_theme.$promise}).then(function(){return o.doPrepareThemeContent({app_alias:e.app.alias})}).then(function(){p.inited=false;r.reload();return c("Theme has been activated.")})})}}])}).call(this);(function(){angular.module("boltApp").controller("wsThemeDetailCtrl",["$scope","dialog","Config","ConfigWs","restWs","flash","prompt","theme","app",function(e,t,n,r,i,a,o,l,s){var u,c,d;if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}if(!l){return}e.theme=l;e.copy_able=true;c=r.theme;for(u in c){d=c[u];if(l.id===d||l.theme===d){e.copy_able=false}}e.activate=function(){return i.doSetCurrentTheme({theme:e.theme.id,app_alias:s.alias}).then(function(){return t.hide(e.theme)})};e.copy=function(){var t,r;t="Please use the native replication function "+"to copy the content in the textbox.";r=n.BaseURL.self+"#/store?item="+e.theme.alias;return o(t,r)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsDestroyCtrl",["$scope","$location","flash","fsv","navService","g",function(e,t,n,r,i,a){i.section("settings/destroy");e.app=a.app.current;return e.destroy=function(){if(!r(e.destroy_form,"code")){return}return e.app.$remove().then(function(){return a.app.init()}).then(function(){n("App has been destroyed.");return t.path("/")})}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","wsResolveProvider","ConfigWs",function(e,t,n){var r,i;r=n.app_type;i={ws:t.resolve};return e.when("/"+r+"/:app_alias",{templateUrl:"blueprints/"+r+"/views/dashboard.html",controller:"wsDashboardCtrl",resolve:i}).when("/"+r+"/:app_alias/content_types",{templateUrl:"blueprints/"+r+"/views/content_types.html",controller:"wsContentTypesCtrl",resolve:i}).when("/"+r+"/:app_alias/content/:content_type",{templateUrl:"blueprints/"+r+"/views/contents.html",controller:"wsContentsCtrl",resolve:i}).when("/"+r+"/:app_alias/taxonomies",{templateUrl:"blueprints/"+r+"/views/taxonomies.html",controller:"wsTaxonomiesCtrl",resolve:i}).when("/"+r+"/:app_alias/taxonomy/:tax",{templateUrl:"blueprints/"+r+"/views/terms.html",controller:"wsTermsCtrl",resolve:i}).when("/"+r+"/:app_alias/menus",{templateUrl:"blueprints/"+r+"/views/menus.html",controller:"wsMenusCtrl",resolve:i}).when("/"+r+"/:app_alias/menu/:menu_alias",{templateUrl:"blueprints/"+r+"/views/single_menu.html",controller:"wsMenuSingleCtrl",resolve:i}).when("/"+r+"/:app_alias/media",{templateUrl:"blueprints/"+r+"/views/media.html",controller:"wsMediaCtrl",resolve:i}).when("/"+r+"/:app_alias/settings",{templateUrl:"blueprints/"+r+"/views/settings/options.html",controller:"wsOptionsCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/metas",{templateUrl:"blueprints/"+r+"/views/settings/metas.html",controller:"wsMetasCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/themes",{templateUrl:"blueprints/"+r+"/views/settings/themes.html",controller:"wsThemesCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/destroy",{templateUrl:"blueprints/"+r+"/views/settings/destroy.html",controller:"wsDestroyCtrl",resolve:i})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigWx",{app_type:"wx",theme:{CUSTOM_THEME:"custom",DEFAULT_THEME:"default"},static_type:{alias:"article",title:"Articles"},max_menus:[3,5],new_msg_limit:6,wxtypes:[{name:"Subscription",key:"subscription"},{name:"Service",key:"service"}],btntypes:[{name:"View",key:"view"},{name:"Click",key:"click"},{name:"Scan Code",key:"scancode_push"},{name:"Take Photo or Album",key:"pic_photo_or_album"},{name:"Location",key:"location_select"}],sendby_list:[{name:"WeChat Group",key:"group"},{name:"Member Role",key:"member"}],default_msgtype_icon:"comm:ic_chat_bubble_24px",msgtypes:[{name:"Pure text",key:"text",boradcast:true,ico:"notify:ic_sms_24px"},{name:"Graphic news",key:"news",boradcast:true,ico:"notify:ic_mms_24px"},{name:"Newest Article",key:"newest",ico:"av:ic_new_releases_24px"},{name:"Search Article",key:"search",ico:"action:ic_pageview_24px"},{name:"Random Article",key:"random",ico:"comm:ic_forum_24px"}],triggers:[{name:"Subscribe",key:0},{name:"Keywords",key:1},{name:"Auto",key:2},{name:"Default",key:3}]})}).call(this);(function(){angular.module("boltApp").factory("restWx",["supResource","Config","ConfigWx",function(e,t,n){var r;r=t.BaseURL.api+"/"+n.app_type;return{meta:function(){return e(r+"/:app_alias/meta",{app_alias:"@app_alias"})}(),config:function(){return e(r+"/:app_alias/config",{app_alias:"@app_alias"})}(),custom_menu:function(){return e(r+"/:app_alias/adv_menu",{app_alias:"@app_alias"},{sync:{method:"POST"}})}(),broadcast:function(){return e(r+"/:app_alias/adv_broadcast/:cast_id",{app_alias:"@app_alias",cast_id:"@id"},{send:{method:"POST"}})}(),response:function(){return e(r+"/:app_alias/response/:resp_id",{app_alias:"@app_alias",resp_id:"@id"})}(),record:function(){return e(r+"/:app_alias/record/:record_id",{app_alias:"@app_alias",record_id:"@id"})}(),doEmptyRecords:function(t){return e(r+"/:app_alias/record").remove({app_alias:t}).$promise},article:function(){return e(r+"/:app_alias/content_file/:type_alias/:file_id",{app_alias:"@app_alias",type_alias:"@content_type",file_id:"@id"})}(),doCloneArticle:function(t,n){return e(r+"/:app_alias/clone_from_wechat").trigger({app_alias:t},n).$promise},themes:function(){return e(r+"/:app_alias/themes",{app_alias:"@app_alias"})}(),current_theme:function(){return e(r+"/:app_alias/current_theme",{app_alias:"@app_alias"})}(),doSetCurrentTheme:function(t){return e(r+"/:app_alias/current_theme").trigger({app_alias:t.app_alias},t).$promise},http_upload_theme:function(e){return r+"/"+e+"/custom_theme"},custom_theme:function(){return e(r+"/:app_alias/custom_theme",{app_alias:"@app_alias"})}()}}])}).call(this);(function(){angular.module("boltApp").provider("wxResolve",function(){return{resolve:["$route","navWx","g",function(e,t,n){var r;r=e.current.params.app_alias;if(!n.inited){return n.init().then(function(){n.setCurrentApp(r);return t.load(n.app.current)})}else{n.setCurrentApp(r);return t.load(n.app.current)}}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").factory("navWx",["navService","ConfigWx",function(e,t){var n,r,i;i=[{name:"WeChat Buzz"},{alias:"portal",name:"Go Portal",path:"/",ico:"nav:ic_arrow_back_24px","class":"md-accent"},{alias:"dashboard",name:"Dashboard",path:"$/",ico:"action:ic_dashboard_24px"},{alias:"article",name:"Articles",path:"$/content/"+t.static_type.alias,ico:"action:ic_description_24px"},{alias:"responses",name:"Responses",path:"$/responses",ico:"content:ic_reply_all_24px"},{alias:"records",name:"Records",path:"$/records",ico:"action:ic_history_24px"},{alias:"broadcasts",name:"Broadcasts",path:"$/broadcasts",ico:"action:ic_settings_input_antenna_24px"},{alias:"meida",name:"Media library",path:"$/media",ico:"image:ic_photo_library_24px"},{alias:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{alias:"options",name:"Options",path:"$/settings"},{alias:"metas",name:"Metas",path:"$/settings/metas"},{alias:"menu",name:"Custom Menu",path:"$/settings/custom_menu"},{alias:"themes",name:"Themes",path:"$/settings/themes"},{alias:"destroy",name:"Destroy",path:"$/settings/destroy","class":"md-warn"}]}];n="comm:ic_chat_24px";r=function(e,n){e=e.replace("$",t.app_type+"/"+n);return e};this.load=function(t){var a,o,l,s,u,c,d,f;if(n){t.icon=n}c=angular.copy(i);for(a=0,l=c.length;a<l;a++){u=c[a];if(u.path&&u.path.indexOf("$")===0){u.path=r(u.path,t.alias)}if(u.nodes){f=u.nodes;for(o=0,s=f.length;o<s;o++){d=f[o];if(d.path&&d.path.indexOf("$")===0){d.path=r(d.path,t.alias)}}}}return e.load(c,t.title,t.icon,t)};return this}])}).call(this);(function(){angular.module("boltApp").controller("wxDashboardCtrl",["$scope","restWx","restApp","navService","g",function(e,t,n,r,i){r.section("dashboard");e.app=i.app.current;e.config=t.config.get({app_alias:e.app.alias});return n.doAnalytics(e.app.id).then(function(t){return e.analytic_data=t})}])}).call(this);(function(){angular.module("boltApp").controller("wxArticlesCtrl",["$scope","$location","restWx","flash","navService","funcGenerator","ConfigWx","dialog","g",function(e,t,n,r,i,a,o,l,s){var u,c,d,f;i.section("article");e.g=s;e.app=s.app.current;e.current_type=o.static_type;e.now=Date.now();e.add=function(){var t,r;r={app_alias:e.app.alias,content_type:e.current_type.alias,meta:{title:""},status:0,content:""};t=new n.article(r);t._new=true;return f(t).then(function(e){return window.location.href=e.edit_url})};u=function(t){return t.edit_url="/#/editor/"+e.app.type+"/"+e.app.alias+"/"+(e.current_type.alias+"/"+t.id+"?device=phone")};c=function(){e.files=n.article.query({app_alias:e.app.alias,type_alias:e.current_type.alias},function(){var t,n,r,i,a,o;i=e.files;a=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.meta.hasOwnProperty("template")){o=t.meta.template}else{o=t.content_type}if(!t.meta.hasOwnProperty("title")){t.meta.title=t.alias}a.push(u(t))}return a})};c();e.clone=function(t){var i;i={url:t,status:1};return n.doCloneArticle(e.app.alias,i).then(function(e){c();return r("Article has been cloned.")})};e.paged=1;d=[];a.select(e,d);a.more(e,e.files);a.trash(e,d,function(t){return angular.removeFromList(e.files,t)},function(){return r("Articles have been deleted.")});return f=function(t){d.length=0;return l.show({controller:"wxArticleCreateCtrl",templateUrl:"blueprints/wx/views/article_create.tmpl.html",locals:{article:t}}).then(function(t){if(t&&t._new){delete t._new;u(t);e.files.unshift(t)}return t})}}])}).call(this);(function(){angular.module("boltApp").controller("wxArticleCreateCtrl",["$scope","dialog","flash","fsv","article",function(e,t,n,r,i){var a;if(typeof angular.translate==="function"){e._=angular.translate}e.article=i;e.submitted=false;e.submit=function(){if(e.submitted){return}return a()};a=function(){if(!r(e.article_form,"title","alias")){return}e.submitted=true;return e.article.$save().then(function(e){e._new=true;t.hide(e);return n("Article has been created.")})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxResponesesCtrl",["$scope","$location","restWx","ConfigWx","navService","flash","funcGenerator","g",function(e,t,n,r,i,a,o,l){var s,u,c,d;i.section("responses");e.app=l.app.current;u="/wx/"+e.app.alias+"/response";e.responses=n.response.query({app_alias:e.app.alias});d=r.triggers;e.getTrigger=function(e){var t,n,r,i;n=d[e.trigger.type];if(typeof angular.translate==="function"){r=angular.translate(n.name)}else{r=n.name}if(n.key===1&&e.trigger.keys){t=e.trigger.keys.join(", ");i=r+" ["+t+"]"}else{i=r}return i};s=r.msgtypes;e.getMsgIcon=function(e){var t,n,i;for(t=0,i=s.length;t<i;t++){n=s[t];if(e.msg_type===n.key){return n.ico}}return r.default_msgtype_icon};e.add=function(){return t.path(u+"/"+"new")};e.edit=function(e){return t.path(u+"/"+e.id)};e.paged=1;c=[];o.select(e,c);o.more(e,e.responses);return o.trash(e,c,function(t){return angular.removeFromList(e.responses,t)},function(){return a("Responses have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wxResponeseEditCtrl",["$scope","$routeParams","$location","ConfigWx","restWx","image","dialog","mediaModal","syncModal","navService","flash","fsv","g",function(e,t,n,r,i,a,o,l,s,u,c,d,f){var m,p,h,g,v,b,_;u.section("responses");v=t.resp_id;e.app=f.app.current;e.applist=f.app.list;e.content_type=r.static_type;e.image={cover:a.trans_cover,trans:a.trans};g="/"+e.app.type+"/"+e.app.alias+"/responses";h="/"+e.app.type+"/"+e.app.alias+"/response";e.is_new=v==="new"?true:false;e.published=false;
e.msgtypes=r.msgtypes;e.triggers=r.triggers;e.new_msg_limit=r.new_msg_limit;e.keywords="";b=function(){if(!e.response.related){return e.response.related={app_id:e.app.id,content_type:e.content_type.alias,limit:1}}};p=function(){var t;if(e.is_new){t={app_alias:e.app.alias,title:"",messages:[{title:"",content:"",pic_url:"",url:""}],content:"",msg_type:e.msgtypes[1].key,trigger:{type:e.triggers[1].key,keys:[]},status:0};e.response=new i.response(t);return b()}else{return e.response=i.response.get({app_alias:e.app.alias,resp_id:v},function(t){if(t.status===1){e.published=true}if(t.trigger.keys){e.keywords=angular.list2str(t.trigger.keys)}return b()})}};p();e.showKeywords=function(){return e.response.trigger&&e.response.trigger.type===1};e.selected_node=null;e.toggleSelect=function(t){if(e.selected_node===t){return e.selected_node=null}else{return e.selected_node=t}};e.isSelected=function(t){return e.selected_node===t};e.newsItemAddAble=function(){return e.response.messages.length<e.new_msg_limit};e.addNewsItem=function(){var t;if(e.newsItemAddAble()){t={title:"",content:"",pic_url:"",url:"",_new:true};return _(t)}};e.editNewsItem=function(e,t,n){_(e,t);return n.stopPropagation()};_=function(t,n){return o.show({controller:"wxResponseNewsMsgEditCtrl",templateUrl:"blueprints/wx/views/response_news_msg_edit.tmpl.html",locals:{msg:t}}).then(function(t){if(!t){}else if(t.deleted&&n){e.response.messages.splice(n,1);return c("Message has been removed.")}else if(t._new){delete t._new;e.response.messages.push(t);return c("Message has been added.")}else if(n){e.response.messages[n]=t;return c("Message has been updated.")}})};e.save=function(){var t;if(!d(e.response_form,"title","type","trigger","keywords")){return}t=angular.str2list(e.keywords);e.response.trigger.keys=t;return e.response.$save().then(function(t){e.keywords.string=angular.list2str(t.trigger.keys);c("Response has been saved.");if(e.is_new){return n.path(h+"/"+e.response.id)}})};e.back=function(){return n.path(g)};e.trash=function(){if(e.is_new){return}return e.response.$remove().then(function(){c("Response has been deleted.");return n.path(g)})};e.selectable_apps=function(){var t,n,r,i;r=e.applist;i=[];for(t=0,n=r.length;t<n;t++){m=r[t];if(m.type!=="wx"){i.push(m)}}return i}();e.selectable_apps.unshift(e.app);e.related_limit=[1,2,3,4,5,6,7,8,9,10];e.curr_app_content_types=[];e.loadContentTypes=function(){var t,n,r,i,a;t=e.response.related.app_id;i=e.selectable_apps;a=[];for(n=0,r=i.length;n<r;n++){m=i[n];if(m.id===t){e.curr_app_content_types=m.content_types;break}else{a.push(void 0)}}return a};e.$watch("response.related.app_id",function(t){if(e.response.related){return e.response.related.content_type=""}});e.moveup=function(t,n){var r,i,a;r=e.response.messages;if(t>0){i=t-1;a=[r[i],r[t]],r[t]=a[0],r[i]=a[1]}return n.stopPropagation()};e.movedown=function(t,n){var r,i,a;r=e.response.messages;if(t<r.length-1){i=t+1;a=[r[i],r[t]],r[t]=a[0],r[i]=a[1]}return n.stopPropagation()};e.callMedia=function(t,n){l(e.app).then(function(e){t.pic_url=e.src;return c("Media has been updated.")});return n.stopPropagation()};return e.callSync=function(t,n){var r;r=angular.copy(e.selectable_apps);s(r).then(function(n){switch(e.response.msg_type){case"news":t.title=n.meta.title||"";t.pic_url=n.meta.featured_img||"";t.content=n.meta.description||"";t.url=n.url||"";break;case"text":t.text=n.content;break}return c("Content has been synchronized.")});return n.stopPropagation()}}])}).call(this);(function(){angular.module("boltApp").controller("wxResponseNewsMsgEditCtrl",["$scope","dialog","flash","fsv","msg",function(e,t,n,r,i){var a,o;if(typeof angular.translate==="function"){e._=angular.translate}e.msg=i;e["new"]=Boolean(i._new);e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return o()}};a=function(){if(!r(e.msg_form,"title","url","content")){return}e.msg._new=true;return t.hide(e.msg)};o=function(){if(!r(e.msg_form,"title","url","content")){return}return t.hide(e.msg)};e.trash=function(){e.msg.deleted=true;return t.hide(e.msg)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxRecordsCtrl",["$scope","$routeParams","restWx","navService","funcGenerator","flash","ConfigWx","g",function(e,t,n,r,i,a,o,l){var s;r.section("records");e.g=l;e.app=l.app.current;e.records=n.record.query({app_alias:e.app.alias});e.getType=function(e){var t,n,r,i,a;a=null;r=o.triggers;for(t=0,n=r.length;t<n;t++){i=r[t];if(e===i.key){a=i.name}}return a};e.empty=function(){return n.doEmptyRecords(e.app.alias).then(function(){e.records.length=0;s.length=0;return a("Records have been cleared.")})};e.paged=1;s=[];i.select(e,s);i.more(e,e.records);return i.trash(e,s,function(t){return angular.removeFromList(e.records,t)},function(){return a("Records have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wxBroadcastsCtrl",["$scope","$location","ConfigWx","restWx","funcGenerator","flash","g",function(e,t,n,r,i,a,o){var l,s,u;e.current_section="broadcast";e.app=o.app.current;l="/wx/"+e.app.alias+"/broadcast";e.broadcasts=r.broadcast.query({app_alias:e.app.alias});s=n.msgtypes;e.getMsgIcon=function(e){var t,r,i;for(t=0,i=s.length;t<i;t++){r=s[t];if(e.msg_type===r.key){return r.ico}}return n.default_msgtype_icon};e.add=function(){return t.path(l+"/"+"new")};e.edit=function(e){return t.path(l+"/"+e.id)};e.paged=1;u=[];i.select(e,u);i.more(e,e.broadcasts);return i.trash(e,u,function(t){return angular.removeFromList(e.broadcasts,t)},function(){return a("Broadcasts have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wxBroadcastEditCtrl",["$scope","$routeParams","$location","restWx","image","navService","flash","fsv","mediaModal","syncModal","ConfigWx","g",function(e,t,n,r,i,a,o,l,s,u,c,d){var f,m,p,h,g,v,b;a.section("broadcasts");m=t.cast_id;e.app=d.app.current;e.applist=d.app.list;e.image={cover:i.trans_cover,trans:i.trans};h=e.app.type+"/"+e.app.alias+"/broadcasts";g="/"+e.app.type+"/"+e.app.alias+"/broadcast";e.is_new=m==="new"?true:false;e.advance_mode=false;e.config=r.config.get({app_alias:e.app.alias},function(t){e.advance_mode=t.advance_mode;return e.wx_type=t.type});e.msgtypes=function(){var e,t,n,r;n=c.msgtypes;r=[];for(e=0,t=n.length;e<t;e++){b=n[e];if(b.boradcast){r.push(b)}}return r}();e.sendby_list=c.sendby_list;e.role_list=[];e.group_list=[];p=function(){var t;if(e.is_new){t={app_alias:e.app.alias,msg_type:e.msgtypes[1].key,send_by:e.sendby_list[0].key,member_role:"",member_group:0};return e.broadcast=new r.broadcast(t)}else{return e.broadcast=r.broadcast.get({app_alias:e.app.alias,cast_id:m})}};p();e.back=function(){return n.path(h)};e.save=function(){if(!l(e.broadcast_form,"title","type","sendby","group","member")){return}return e.broadcast.$save(function(t){o("Broadcast has been saved.");if(e.is_new){return n.path(g+"/"+e.broadcast.id)}})};e.trash=function(){if(e.is_new){return}return e.broadcast.$remove(function(e){o("Broadcast has been deleted.");return n.path(h)})};e.send=function(){if(!l(e.send_form,"code")){return}return e.broadcast.$save().then(function(){return v()})};v=function(){return e.broadcast.$send(function(e){return o("Broadcast has been sent.")})};e.selectable_apps=function(){var t,n,r,i;r=e.applist;i=[];for(t=0,n=r.length;t<n;t++){f=r[t];if(f.type!=="wx"){i.push(f)}}return i}();e.selectable_apps.unshift(e.app);e.callMedia=function(t){return s(e.app).then(function(e){return t.media_url=e.src})};return e.callSync=function(t){var n;n=angular.copy(e.selectable_apps);return u(n).then(function(e){t.title=e.meta.title||"";t.media_url=e.meta.featured_img||"";t.content=e.meta.description||"";return t.url=e.url||""})}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wxMediaCtrl",["$scope","$routeParams","restMedia","MediaService","Config","navService","funcGenerator","flash","prompt","g",function(t,n,r,i,a,o,l,s,u,c){var d,f,m,p,h,g,v,b,_,y;o.section("media");t.app=c.app.current;t.now=Date.now();t.mediafiles=r.media.query({app_alias:t.app.alias});t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;_=[];h=[];m=function(){return t.now=Date.now()};f=function(e){var t;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){t=angular.translate("%s is so large that it will not be uploaded.",e)}else{t=e+" is too large will be skipped."}return s(t,true)};p=function(e){return i.resize(e).then(function(e){return _.push(e)})["catch"](function(e){return f(e.name)})["finally"](function(){angular.removeFromList(h,e,"name");return v()})};v=function(){if(h.length>0){return p(h[0])}else if(_.length>0){return b(_[0])}else{return t.upload_status=0}};t.hasPreview=function(t){return e.call(a.preview_types,t)>=0};t.onFileSelect=function(e,n){var r,a,o;if(e.length<=0){return}t.upload_status=1;_=[];for(r=0,a=e.length;r<a;r++){o=e[r];if(!i.checkfile(o)){if(o.type.indexOf("image")>-1){h.push(o)}else{f(o.name)}continue}o._re_filename=n;_.push(o)}return v()};d=0;y=r.http_upload(t.app.alias);b=function(e){var n;if(!e){return}n=e._re_filename;delete e._re_filename;console.log(d,e.name,e.size);t.upload_status=1;t.percent=0;return i.upload(y,e,n).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){if(e.filename===n){angular.removeFromList(t.mediafiles,e,"filename")}t.mediafiles.unshift(new r.media(e));t.uploadedMediafiles.unshift(e);t.percent=0;_.shift();if(_.length<=0){t.upload_status=0;return s("Media files have been uploaded.")}else{d++;return b(_[0])}}).error(function(){t.percent=0;return t.upload_status=2})["finally"](function(){return m()})};t.copyURL=function(e){var t;t="Please use the native replication function "+"to copy the content in the textbox.";return u(t,e)};t.paged=1;g=[];l.select(t,g);l.more(t,t.mediafiles);return l.trash(t,g,function(e){return angular.removeFromList(t.mediafiles,e)},function(){return s("Media files have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wxOptionsCtrl",["$scope","$routeParams","$location","supChain","restWx","restApp","Config","ConfigWx","flash","fsv","helpModal","navService","g",function(e,t,n,r,i,a,o,l,s,u,c,d,f){d.section("settings/options");e.app=e.profile=f.app.current;e.wxtypes=l.wxtypes;e.locales=o.locales;e.domain=a.domain.get({app_alias:e.app.alias},function(t){return e.binded=Boolean(t.domain)});e.config=i.config.get({app_alias:e.app.alias},function(t){if(o.is_debug){e.config.skip_access_test=true}e.wx_admins=angular.list2str(e.config.wx_admins);return e.show_adv_form=t.advance_mode});e.toggleAdv=function(){return e.show_adv_form=!e.show_adv_form};e.$watch("wx_admins",function(t){return e.config.wx_admins=angular.str2list(e.wx_admins)});e.save=function(){if(!u(e.profile_form,"title","locales","description")){return}return e.profile.$save(function(e){return s("Your App profile has been modified.")})};e.bind=function(t){if(!u(e.domain_form,"domain")&&!t){return}return e.domain.$save().then(function(t){e.binded=Boolean(t.domain);e.profile.base_url=t.base_url;e.profile.domain=t.domain;return e.profile.url=t.uri})};e.unbind=function(){e.domain.domain="";e.domain.protocol="";e.domain_form.$setPristine();e.domain_form.$setUntouched();return e.bind(true)};e.bindInterface=function(){if(!u(e.interface_form,"token","type")){return}e.config.advance_mode=e.config.wx_appid||e.config.wx_secret?true:false;return e.config.$save(function(t){if(o.is_debug){e.config.skip_access_test=true}e.wx_admins=angular.list2str(e.config.wx_admins);return s("Your WeChat config has been updated.")})};return e.help=function(e){return c(e)}}])}).call(this);(function(){angular.module("boltApp").controller("wxDestroyCtrl",["$scope","$location","flash","fsv","navService","g",function(e,t,n,r,i,a){i.section("settings/destroy");e.app=a.app.current;e.submitted=false;return e.destroy=function(){if(!r(e.destroy_form,"code")){return}if(e.submitted){return}e.submitted=true;return e.app.$remove().then(function(){return a.app.init()}).then(function(){n("App has been destroyed.");return t.path("/")})["finally"](function(){return e.submitted=false})}}])}).call(this);(function(){angular.module("boltApp").controller("wxCustomMenuCtrl",["$scope","restWx","ConfigWx","navService","dialog","flash","g",function(e,t,n,r,i,a,o){var l,s,u,c;r.section("settings/menu");e.app=o.app.current;e.menu_nodes=[];e.custom_menu=t.custom_menu.get({app_alias:e.app.alias},function(t){return e.menu_nodes=t.menu});e.selected_node=null;e.top_limit=n.max_menus[0];e.child_limit=n.max_menus[1];e.checkAddable=function(t){if(!t||e.menu_nodes===t){return e.menu_nodes.length>=e.top_limit}else{return t.length>=e.child_limit}};s=null;e.dragStart=function(e){return s=e};l=false;e.dropCallback=function(e,t){if(l===t){return e}else{a("The number of your submenu has reached the limit.",true);return false}};e.dragoverCallback=function(t){l=false;if(angular.inList(t,s)){l=t;return true}if(t===e.menu_nodes&&t.length>=e.top_limit){return false}if(t.length>=e.child_limit){return false}l=t;return true};e.add=function(t,n){if(!t){t=e.menu_nodes}c({_new:true,name:"",type:"",key:"",url:""},t);if(n){n.stopPropagation()}return false};e.edit=function(e,t,n){c(e,t);n.stopPropagation();return false};e.save=function(){if(e.menu_nodes.length<=0){e.destroy();return}e.custom_menu.menu=e.menu_nodes;return e.custom_menu.$save().then(function(n){var r;r=t.custom_menu.sync({app_alias:e.app.alias});return r.$promise}).then(function(e){return a("Custom menu has been saved.")})};e.destroy=function(){return e.custom_menu.$remove().then(function(n){var r;r=t.custom_menu.sync({app_alias:e.app.alias});return r.$promise}).then(function(e){return a("Custom menu has been removed.")})};e.openHardcode=function(){var t;t=angular.copy(e.menu_nodes);return u(t)};e.toggleSelect=function(t){if(e.selected_node===t){return e.selected_node=null}else{return e.selected_node=t}};e.isSelected=function(t){return e.selected_node===t};u=function(t){var n;n="blueprints/wx/views/settings/";return i.show({controller:"wxMenuHardcodeCtrl",templateUrl:n+"custom_menu_hardcode.tmpl.html",locals:{nodes:t}}).then(function(t){if(t){e.menu_nodes=t;return e.save()}})};return c=function(e,t){var r,a;a=e;r="blueprints/wx/views/settings/";return i.show({controller:"wxMenuEditCtrl",templateUrl:r+"custom_menu_edit.tmpl.html",locals:{node:angular.copy(e),nodetypes:n.btntypes}}).then(function(e){if(e){if(e.deleted){angular.removeFromList(t,a);return}a.name=e.name;a.type=e.type;a.url=e.url;a.key=e.key;if(a._new){delete a._new;return t.push(a)}}})}}])}).call(this);(function(){angular.module("boltApp").controller("wxMenuEditCtrl",["$scope","dialog","fsv","node","nodetypes",function(e,t,n,r,i){var a;if(typeof angular.translate==="function"){e._=angular.translate}e.node=r;e.nodetypes=i;e["new"]=Boolean(r._new);e.submit=function(){return a()};a=function(){var r;r=e.node.type==="view"?"url":"key";if(!n(e.node_form,"title",r,"type")){return}return t.hide(e.node)};e.trash=function(){e.node.deleted=true;return t.hide(e.node)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxMenuHardcodeCtrl",["$scope","dialog","fsv","nodes",function(e,t,n,r){var i,a,o;if(typeof angular.translate==="function"){e._=angular.translate}i=function(e){var t,n,r;for(t=0,n=e.length;t<n;t++){r=e[t];delete r.$$hashKey;if(r.nodes){i(r.nodes)}}return e};a=i(r);e.nodes_hardcode=JSON.stringify(a,null,2);e.$watch("nodes_hardcode",function(t){var n;if(!t){t="[]"}try{a=JSON.parse(t);return e.hardcode_form.hardcode.$setValidity("format",true)}catch(r){n=r;return e.hardcode_form.hardcode.$setValidity("format",false)}});e.submit=function(){return o()};o=function(){if(!n(e.hardcode_form,"hardcode")){return}return t.hide(a)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxMetasCtrl",["$scope","flash","navService","restWx","dialog","mediaModal","g",function(e,t,n,r,i,a,o){var l,s,u;n.section("settings/metas");e.app=o.app.current;e.meta_hardcode="";l={logo:"",copyright:"",license:"",keywords:"",contacts:"",analytics:""};s=function(e){var t,n,r;n=[];for(t in l){r=l[t];if(e[t]===(null||void 0)){n.push(e[t]=r)}else{n.push(void 0)}}return n};e.meta=r.meta.get({app_alias:e.app.alias},function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return s(e.meta.site_meta)});e.selectLogo=function(t){if(t){e.meta.site_meta.logo=""}else{a(e.app).then(function(t){return e.meta.site_meta.logo=t.src})}};e.openHardcode=function(){return u(e.meta.site_meta)};e.save=function(){return e.meta.$update().then(function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return t("Your App metas have been modified.")})};return u=function(t){return i.show({controller:"wxMetasHardcodeCtrl",templateUrl:"blueprints/wx/views/settings/metas_hardcode.tmpl.html",locals:{meta:t}}).then(function(t){if(t){e.meta.site_meta=t;return e.save()}})}}])}).call(this);(function(){angular.module("boltApp").controller("wxMetasHardcodeCtrl",["$scope","dialog","fsv","meta",function(e,t,n,r){var i,a;if(typeof angular.translate==="function"){e._=angular.translate}i=r;e.meta_hardcode=JSON.stringify(r,null,2);e.$watch("meta_hardcode",function(t){var n;if(!t){t="{}"}try{i=JSON.parse(t);return e.hardcode_form.hardcode.$setValidity("format",true)}catch(r){n=r;return e.hardcode_form.hardcode.$setValidity("format",false)}});e.submit=function(){return a()};a=function(){if(!n(e.hardcode_form,"hardcode")){return}return t.hide(i)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxThemesCtrl",["$scope","$rootScope","$filter","FileService","ConfigWx","restWx","navService","dialog","flash","fsv","image","supChain","g",function(e,t,n,r,i,a,o,l,s,u,c,d,f){var m,p,h,g,v,b;o.section("settings/themes");b=i.theme;e.app=f.app.current;e.themes=[];e.current_theme="";e.config_mode=false;e.now=Date.now();e.paged=1;e.image={trans:c.trans};p=function(){return d().then(function(){e.current_theme=a.current_theme.get({app_alias:e.app.alias});return e.current_theme.$promise}).then(function(){e.themes=a.themes.query({app_alias:e.app.alias});return e.themes.$promise}).then(function(){e.custom_theme=a.custom_theme.get({app_alias:e.app.alias});return e.custom_theme.$promise}).then(function(){h();g();return e.custom_theme_loaded=true})};p();h=function(){var t;e.show_current_theme=true;if(e.current_theme.theme==="custom"){e.custom_theme.activated=true}else{e.custom_theme.activated=false}t=e.current_theme.options;e.theme_meta_options=angular.obj2jsonstr(t)||{};if(e.current_theme===b.CUSTOM_THEME){e.is_custom_current=true}else{e.is_custom_current=false}if(e.current_theme===b.DEFAULT_THEME){e.is_default_current=true}else{e.is_default_current=false}e.current_theme.activated=true;return e.current_theme.thumbnail_src=e.current_theme.thumbnail+"?"+e.now};g=function(){return angular.forEach(e.themes,function(t,n){if(t.id===e.current_theme.theme){e.themes.splice(n,1);e.themes.unshift(t);return t.activated=true}else{return t.activated=false}})};e.open=function(t){return v(t,e.app)};m={};e.saveConfig=function(){if(!u(e.config_form,"theme_options")){return}if(angular.equals(m,e.current_theme.options)){e.config_mode=false;return}e.current_theme.options=m;return e.current_theme.$save(function(t){e.config_mode=false;h();return s("Theme config has been updated.")})};e.toggleConfig=function(){return e.config_mode=!e.config_mode};e.reloadTheme=function(){var t;t=e.current_theme.options;return a.doSetCurrentTheme({theme:e.current_theme.theme,app_alias:e.app.alias}).then(function(){e.current_theme.options=t;return e.current_theme.$save(function(e){h();return s("Theme has been reloaded.")})})};e.$watch("theme_meta_options",function(t){var n;if(!e.config_form){return}if(!t){t="{}"}try{m=JSON.parse(t);return e.config_form.theme_options.$setValidity("format",true)}catch(r){n=r;return e.config_form.theme_options.$setValidity("format",false)}});e.showMore=function(){return e.paged++};e.hasMore=function(){var t;t=n("paginator")(e.themes,e.paged);return t.length<e.themes.length};e.upload_status=0;e.onFileSelect=function(t){var n,i;if(e.upload_status===1){return}i=t[0];if(!i){return}e.upload_status=1;n=a.http_upload_theme(e.app.alias);return r.upload(n,i).progress(function(t){return e.percent=parseInt(100*t.loaded/t.total)}).success(function(t,n,r,i){e.upload_status=0;e.custom_theme=new a.custom_theme(t);return s("Custom theme has been uploaded.")}).error(function(){return e.upload_status=2}).abort(function(){return e.upload_status=0})};e.removeCustom=function(){if(e.upload_status===1){return}return e.custom_theme.$remove().then(function(){return s("Custom theme has been removed.")})};return v=function(t,n){return l.show({controller:"wxThemeDetailCtrl",templateUrl:"blueprints/wx/views/settings/theme_detail.tmpl.html",locals:{theme:t,app:n}}).then(function(t){return d().then(function(){e.current_theme=a.current_theme.get({app_alias:e.app.alias});return e.current_theme.$promise}).then(function(){h();g();return s("Theme has been activated.")})})}}])}).call(this);(function(){angular.module("boltApp").controller("wxThemeDetailCtrl",["$scope","dialog","Config","ConfigWx","restWx","flash","prompt","theme","app",function(e,t,n,r,i,a,o,l,s){var u,c,d;if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}if(!l){return}e.theme=l;e.copy_able=true;c=r.theme;for(u in c){d=c[u];if(l.id===d||l.theme===d){e.copy_able=false}}e.activate=function(){return i.doSetCurrentTheme({theme:e.theme.id,app_alias:s.alias}).then(function(){return t.hide(e.theme)})};e.copy=function(){var t,r;t="Please use the native replication function "+"to copy the content in the textbox.";r=n.BaseURL.self+"#/store?item="+e.theme.alias;return o(t,r)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","wxResolveProvider","ConfigWx",function(e,t,n){var r,i;r=n.app_type;i={wx:t.resolve};return e.when("/"+r+"/:app_alias",{templateUrl:"blueprints/"+r+"/views/dashboard.html",controller:"wxDashboardCtrl",resolve:i}).when("/"+r+"/:app_alias/content/article",{templateUrl:"blueprints/"+r+"/views/articles.html",controller:"wxArticlesCtrl",resolve:i}).when("/"+r+"/:app_alias/responses",{templateUrl:"blueprints/"+r+"/views/responses.html",controller:"wxResponesesCtrl",resolve:i}).when("/"+r+"/:app_alias/response/:resp_id",{templateUrl:"blueprints/"+r+"/views/response_edit.html",controller:"wxResponeseEditCtrl",resolve:i}).when("/"+r+"/:app_alias/records",{templateUrl:"blueprints/"+r+"/views/records.html",controller:"wxRecordsCtrl",resolve:i}).when("/"+r+"/:app_alias/broadcasts",{templateUrl:"blueprints/"+r+"/views/broadcasts.html",controller:"wxBroadcastsCtrl",resolve:i}).when("/"+r+"/:app_alias/broadcast/:cast_id",{templateUrl:"blueprints/"+r+"/views/broadcast_edit.html",controller:"wxBroadcastEditCtrl",resolve:i}).when("/"+r+"/:app_alias/media",{templateUrl:"blueprints/"+r+"/views/media.html",controller:"wxMediaCtrl",resolve:i}).when("/"+r+"/:app_alias/settings",{templateUrl:"blueprints/"+r+"/views/settings/options.html",controller:"wxOptionsCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/custom_menu",{templateUrl:"blueprints/"+r+"/views/settings/custom_menu.html",controller:"wxCustomMenuCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/metas",{templateUrl:"blueprints/"+r+"/views/settings/metas.html",controller:"wxMetasCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/themes",{templateUrl:"blueprints/"+r+"/views/settings/themes.html",controller:"wxThemesCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/destroy",{templateUrl:"blueprints/"+r+"/views/settings/destroy.html",controller:"wxDestroyCtrl",resolve:i})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigWbk",{app_type:"wbk",theme:{CUSTOM_THEME:"custom",DEFAULT_THEME:"default"},static_type:{alias:"page",title:"Pages"},article_type:{alias:"article",title:"Articles"}})}).call(this);(function(){angular.module("boltApp").factory("restWbk",["supResource","Config","ConfigWbk",function(e,t,n){var r;r=t.BaseURL.api+"/"+n.app_type;return{meta:function(){return e(r+"/:app_alias/meta",{app_alias:"@app_alias"})}(),content:function(){return e(r+"/:app_alias/content_file/:type_alias/:file_id",{app_alias:"@app_alias",type_alias:"@content_type",file_id:"@id"})}(),gutter:function(){return e(r+"/:app_alias/gutter",{app_alias:"@app_alias"})}(),themes:function(){return e(r+"/:app_alias/themes",{app_alias:"@app_alias"})}(),current_theme:function(){return e(r+"/:app_alias/current_theme",{app_alias:"@app_alias"})}(),doSetCurrentTheme:function(t){return e(r+"/:app_alias/current_theme").trigger({app_alias:t.app_alias},t).$promise},http_upload_theme:function(e){return r+"/"+e+"/custom_theme"},custom_theme:function(){return e(r+"/:app_alias/custom_theme",{app_alias:"@app_alias"})}()}}])}).call(this);(function(){angular.module("boltApp").provider("wbkResolve",function(){return{resolve:["$route","navWbk","g",function(e,t,n){var r;r=e.current.params.app_alias;if(!n.inited){return n.init().then(function(){n.setCurrentApp(r);return t.load(n.app.current)})}else{n.setCurrentApp(r);return t.load(n.app.current)}}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").factory("navWbk",["navService","ConfigWbk",function(e,t){var n,r,i;i=[{name:"Digital Book"},{alias:"portal",name:"Go Portal",path:"/",ico:"nav:ic_arrow_back_24px","class":"md-accent"},{alias:"dashboard",name:"Dashboard",path:"$/",ico:"action:ic_dashboard_24px"},{alias:"articles",name:"Book Articles",path:"$/content/"+t.article_type.alias,ico:"action:ic_description_24px"},{alias:"bookframes",name:"Book Frames",path:"$/content/"+t.static_type.alias,ico:"action:ic_description_24px"},{alias:"meida",name:"Media library",path:"$/media",ico:"image:ic_photo_library_24px"},{alias:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{alias:"options",name:"Options",path:"$/settings"},{alias:"metas",name:"Metas",path:"$/settings/metas"},{alias:"themes",name:"Themes",path:"$/settings/themes"},{alias:"destroy",name:"Destroy",path:"$/settings/destroy","class":"md-warn"}]}];n="comm:ic_chat_24px";r=function(e,n){e=e.replace("$",t.app_type+"/"+n);return e};this.load=function(t){var a,o,l,s,u,c,d,f;if(n){t.icon=n}c=angular.copy(i);for(a=0,l=c.length;a<l;a++){u=c[a];if(u.path&&u.path.indexOf("$")===0){u.path=r(u.path,t.alias)}if(u.nodes){f=u.nodes;for(o=0,s=f.length;o<s;o++){d=f[o];if(d.path&&d.path.indexOf("$")===0){d.path=r(d.path,t.alias)}}}}return e.load(c,t.title,t.icon,t)};return this}])}).call(this);(function(){angular.module("boltApp").controller("wbkDashboardCtrl",["$scope","restWbk","restApp","navService","g",function(e,t,n,r,i){r.section("dashboard");e.app=i.app.current;return n.doAnalytics(e.app.id).then(function(t){return e.analytic_data=t})}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wbkArticleCtrl",["$scope","$location","restWbk","flash","navService","funcGenerator","ConfigWbk","dialog","g",function(t,n,r,i,a,o,l,s,u){var c,d,f,m,p,h,g,v;a.section("articles");t.g=u;t.app=u.app.current;t.current_type=l.article_type;t.now=Date.now();t.unallocated={nodes:[]};t.gutter_loaded=false;t.chapters=[];t.gutter=r.gutter.get({app_alias:t.app.alias});t.gutter.$promise.then(function(){t.gutter_loaded=true;t.chapters=t.gutter.nodes;return f()});c=function(e,t){var n,r,i;for(r=0,i=t.length;r<i;r++){n=t[r];if(e.id&&e.id===n.id){return n}}return null};f=function(){return t.files=r.content.query({app_alias:t.app.alias,type_alias:t.current_type.alias},function(){var n,r,i,a,o,l,s,u,f,m,p,h,g,v,b,_,y,E,$,w;y=t.files;for(s=0,m=y.length;s<m;s++){a=y[s];if(a.meta.hasOwnProperty("template")){w=a.meta.template}else{w=a.content_type}if(!a.meta.hasOwnProperty("title")){a.meta.title=a.alias}d(a)}i=[];E=t.chapters;for(u=0,p=E.length;u<p;u++){r=E[u];if(!(r.nodes instanceof Array)){continue}n=[];$=r.nodes;for(l=f=0,h=$.length;f<h;l=++f){_=$[l];b=c(_,t.files);if(_&&b){angular.merge(_,b,true);i.push(_.id)}else{n.push(l)}}n.reverse();for(v=0,g=n.length;v<g;v++){o=n[v];r.nodes.splice(o,1)}}return t.unallocated.nodes=function(){var n,r,o,l,s;o=t.files;s=[];for(r=0,n=o.length;r<n;r++){a=o[r];if(l=a.id,e.call(i,l)<0){s.push(a)}}return s}()})};t.add=function(e,n){var i,a;a={app_alias:t.app.alias,content_type:t.current_type.alias,meta:{title:""},status:0,content:""};i=new r.content(a);i._new=true;return h(i).then(function(r){if(e){e.nodes.push(r)}return g(null).then(function(){if(!n){window.location.href=r.edit_url}if(n){return t.toggleChapter(e,true)}})})};t.addChapter=function(){var e;if(!t.gutter_loaded){return}e={_new:true,nodes:[]};p(e)};t.editChapter=function(e,t){if(!e){return}p(e);if(t){t.stopPropagation()}};t.saveChapter=function(e){g();if(e){e.stopPropagation()}};g=function(e,n){if(!t.gutter_loaded){return}if(n){i("Chapter alias is duplicated.",true);return}if(e===void 0){e="Chapter has been saved."}t.gutter.nodes=t.chapters;return t.gutter.$save().then(function(){var n,r,a,o,l;l=t.gutter.nodes;for(n=r=0,a=l.length;r<a;n=++r){o=l[n];if(!t.chapters[n]||t.chapters[n].alias!==o.alias){t.chapters[n]=o}}if(t.gutter.nodes.length!==t.chapters.length){t.chapters.length=t.gutter.nodes.length}if(e){i(e)}return m.length=0})};t.showChapter=function(e){return e&&e._show};t.toggleChapter=function(e,t){var n,r,i,a,o;if(!e){return}if(!t&&e._show){e._show=false}else{e._show=true}a=e.nodes;o=[];for(n=0,r=a.length;n<r;n++){i=a[n];o.push(angular.removeFromList(m,i,"id"))}return o};t.switchChapter=function(e,t,n){if(!e||!t||!n){return}if(t.nodes instanceof Array&&e.nodes instanceof Array){n=angular.popFromList(e.nodes,n,"id");t.nodes.push(n)}};t.moveForward=function(e,t,n){var r,i,a;if(!e){return}i=e.nodes;if(t>0){r=t-1;a=[i[r],i[t]],i[t]=a[0],i[r]=a[1]}if(n){n.stopPropagation()}};t.moveBackward=function(e,t,n){var r,i,a;if(!e){return}i=e.nodes;if(t<i.length-1){r=t+1;a=[i[r],i[t]],i[t]=a[0],i[r]=a[1]}if(n){n.stopPropagation()}};m=[];o.select(t,m);o.trash(t,m,function(e){var n,r,i,a,o;angular.removeFromList(t.files,e);angular.removeFromList(t.unallocated.nodes,e,"id");a=t.chapters;o=[];for(r=0,i=a.length;r<i;r++){n=a[r];o.push(angular.removeFromList(n.nodes,e,"id"))}return o},function(){return i("Articles have been deleted.")});p=function(e){return s.show({controller:"wbkChapterEditCtrl",templateUrl:"blueprints/wbk/views/chapter_edit.tmpl.html",locals:{chapter:e}}).then(function(e){var n,r,i,a,o,l,s;a=false;r="";if(e){if(e._new){delete e._new;a=v(e);if(!a){t.chapters.push(e);r="Chapter has been created."}}else{s=t.chapters;for(i=o=0,l=s.length;o<l;i=++o){n=s[i];if(n.alias===e.alias){if(e.deleted){t.chapters.splice(i,1);r="Chapter has been deleted.";f()}else{t.chapters[i]=e;r="Chapter has been saved."}break}}}return g(r,a)}})};v=function(e){var n,r,i,a;a=t.chapters;for(r=0,i=a.length;r<i;r++){n=a[r];if(e.alias===n.alias){return true}}};h=function(e){m.length=0;return s.show({controller:"wbkContentCreateCtrl",templateUrl:"blueprints/wbk/views/content_create.tmpl.html",locals:{file:e}}).then(function(e){if(e&&e._new){delete e._new;d(e)}return e})};return d=function(e){return e.edit_url="/#/editor/"+t.app.type+"/"+t.app.alias+"/"+(t.current_type.alias+"/"+e.id)}}])}).call(this);(function(){angular.module("boltApp").controller("wbkBookFramesCtrl",["$scope","$location","restWbk","flash","navService","funcGenerator","ConfigWbk","dialog","g",function(e,t,n,r,i,a,o,l,s){var u,c,d;i.section("bookframes");e.g=s;e.app=s.app.current;e.current_type=o.static_type;e.now=Date.now();e.files=n.content.query({app_alias:e.app.alias,type_alias:e.current_type.alias},function(){var t,n,r,i,a,o;i=e.files;a=[];for(n=0,r=i.length;n<r;n++){
t=i[n];if(t.meta.hasOwnProperty("template")){o=t.meta.template}else{o=t.content_type}if(!t.meta.hasOwnProperty("title")){t.meta.title=t.alias}a.push(u(t))}return a});e.add=function(){var t,r;r={app_alias:e.app.alias,content_type:e.current_type.alias,meta:{title:""},status:0,content:""};t=new n.content(r);t._new=true;return d(t).then(function(e){return window.location.href=e.edit_url})};c=[];a.select(e,c);a.trash(e,c,function(t){return angular.removeFromList(e.files,t)},function(){return r("Contents have been deleted.")});d=function(t){c.length=0;return l.show({controller:"wbkContentCreateCtrl",templateUrl:"blueprints/wbk/views/content_create.tmpl.html",locals:{file:t}}).then(function(t){if(t&&t._new){delete t._new;u(t);e.files.unshift(t)}return t})};return u=function(t){return t.edit_url="/#/editor/"+e.app.type+"/"+e.app.alias+"/"+(e.current_type.alias+"/"+t.id)}}])}).call(this);(function(){angular.module("boltApp").controller("wbkContentCreateCtrl",["$scope","dialog","flash","fsv","file",function(e,t,n,r,i){var a;if(typeof angular.translate==="function"){e._=angular.translate}e.file=i;e.submitted=false;e.submit=function(){if(e.submitted){return}return a()};a=function(){if(!r(e.file_form,"title","alias")){return}e.submitted=true;return e.file.$save().then(function(e){e._new=true;t.hide(e);return n("Content has been created.")})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wbkChapterEditCtrl",["$scope","dialog","flash","fsv","chapter",function(e,t,n,r,i){var a,o;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.chapter=i;e.submit=function(){if(e["new"]){return a()}else{return o()}};a=function(){if(!r(e.chapter_form,"title","alias")){return}return t.hide(e.chapter)};o=function(){if(!r(e.chapter_form,"title")){return}return t.hide(e.chapter)};e.trash=function(){e.chapter.deleted=true;return t.hide(e.chapter)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wbkMediaCtrl",["$scope","$routeParams","restMedia","MediaService","Config","navService","funcGenerator","flash","prompt","g",function(t,n,r,i,a,o,l,s,u,c){var d,f,m,p,h,g,v,b,_,y;o.section("media");t.app=c.app.current;t.now=Date.now();t.mediafiles=r.media.query({app_alias:t.app.alias});t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;_=[];h=[];m=function(){return t.now=Date.now()};f=function(e){var t;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){t=angular.translate("%s is so large that it will not be uploaded.",e)}else{t=e+" is too large will be skipped."}return s(t,true)};p=function(e){return i.resize(e).then(function(e){return _.push(e)})["catch"](function(e){return f(e.name)})["finally"](function(){angular.removeFromList(h,e,"name");return v()})};v=function(){if(h.length>0){return p(h[0])}else if(_.length>0){return b(_[0])}else{return t.upload_status=0}};t.hasPreview=function(t){return e.call(a.preview_types,t)>=0};t.onFileSelect=function(e,n){var r,a,o;if(e.length<=0){return}t.upload_status=1;_=[];for(r=0,a=e.length;r<a;r++){o=e[r];if(!i.checkfile(o)){if(o.type.indexOf("image")>-1){h.push(o)}else{f(o.name)}continue}o._re_filename=n;_.push(o)}return v()};d=0;y=r.http_upload(t.app.alias);b=function(e){var n;if(!e){return}n=e._re_filename;delete e._re_filename;console.log(d,e.name,e.size);t.upload_status=1;t.percent=0;return i.upload(y,e,n).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){if(e.filename===n){angular.removeFromList(t.mediafiles,e,"filename")}t.mediafiles.unshift(new r.media(e));t.uploadedMediafiles.unshift(e);t.percent=0;_.shift();if(_.length<=0){t.upload_status=0;return s("Media files have been uploaded.")}else{d++;return b(_[0])}}).error(function(){t.percent=0;return t.upload_status=2})["finally"](function(){return m()})};t.copyURL=function(e){var t;t="Please use the native replication function "+"to copy the content in the textbox.";return u(t,e)};t.paged=1;g=[];l.select(t,g);l.more(t,t.mediafiles);return l.trash(t,g,function(e){return angular.removeFromList(t.mediafiles,e)},function(){return s("Media files have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wbkOptionsCtrl",["$scope","$routeParams","$rootScope","$location","ConfigWbk","Config","navService","flash","fsv","helpModal","restApp","g",function(e,t,n,r,i,a,o,l,s,u,c,d){o.section("settings/options");e.app=e.profile=d.app.current;e.protocols=i.protocols;e.locales=a.locales;e.binded=false;e.domain=c.domain.get({app_alias:e.app.alias},function(t){return e.binded=Boolean(t.domain)});e.save=function(){if(!s(e.profile_form,"title","locales","description")){return}return e.profile.$save().then(function(){return l("Your App profile has been modified.")})};e.bind=function(t){if(!s(e.domain_form,"domain")&&!t){return}return e.domain.$save().then(function(t){e.binded=Boolean(t.domain);e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return l("Your App domain has been modified.")})};e.unbind=function(){e.domain.domain="";e.domain.protocol="";e.domain_form.$setPristine();e.domain_form.$setUntouched();return e.bind(true)};return e.help=function(e){return u(e)}}])}).call(this);(function(){angular.module("boltApp").controller("wbkDestroyCtrl",["$scope","$location","flash","fsv","navService","g",function(e,t,n,r,i,a){i.section("settings/destroy");e.app=a.app.current;e.submitted=false;return e.destroy=function(){if(!r(e.destroy_form,"code")){return}if(e.submitted){return}e.submitted=true;return e.app.$remove().then(function(){return a.app.init()}).then(function(){n("App has been destroyed.");return t.path("/")})["finally"](function(){return e.submitted=false})}}])}).call(this);(function(){angular.module("boltApp").controller("wbkMetasCtrl",["$scope","flash","navService","restWbk","dialog","mediaModal","g",function(e,t,n,r,i,a,o){var l,s,u;n.section("settings/metas");e.app=o.app.current;e.meta_hardcode="";l={logo:"",copyright:"",license:"",keywords:"",contacts:"",analytics:""};s=function(e){var t,n,r;n=[];for(t in l){r=l[t];if(e[t]===(null||void 0)){n.push(e[t]=r)}else{n.push(void 0)}}return n};e.meta=r.meta.get({app_alias:e.app.alias},function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return s(e.meta.site_meta)});e.selectLogo=function(t){if(t){e.meta.site_meta.logo=""}else{a(e.app).then(function(t){return e.meta.site_meta.logo=t.src})}};e.openHardcode=function(){return u(e.meta.site_meta)};e.save=function(){return e.meta.$update().then(function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return t("Your App metas have been modified.")})};return u=function(t){return i.show({controller:"wbkMetasHardcodeCtrl",templateUrl:"blueprints/wbk/views/settings/metas_hardcode.tmpl.html",locals:{meta:t}}).then(function(t){if(t){e.meta.site_meta=t;return e.save()}})}}])}).call(this);(function(){angular.module("boltApp").controller("wbkMetasHardcodeCtrl",["$scope","dialog","fsv","meta",function(e,t,n,r){var i,a;if(typeof angular.translate==="function"){e._=angular.translate}i=r;e.meta_hardcode=JSON.stringify(r,null,2);e.$watch("meta_hardcode",function(t){var n;if(!t){t="{}"}try{i=JSON.parse(t);return e.hardcode_form.hardcode.$setValidity("format",true)}catch(r){n=r;return e.hardcode_form.hardcode.$setValidity("format",false)}});e.submit=function(){return a()};a=function(){if(!n(e.hardcode_form,"hardcode")){return}return t.hide(i)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wbkThemesCtrl",["$scope","$rootScope","$filter","FileService","ConfigWbk","restWbk","navService","dialog","flash","fsv","image","supChain","g",function(e,t,n,r,i,a,o,l,s,u,c,d,f){var m,p,h,g,v,b;o.section("settings/themes");b=i.theme;e.app=f.app.current;e.themes=[];e.current_theme="";e.config_mode=false;e.now=Date.now();e.paged=1;e.image={trans:c.trans};p=function(){return d().then(function(){e.current_theme=a.current_theme.get({app_alias:e.app.alias});return e.current_theme.$promise}).then(function(){e.themes=a.themes.query({app_alias:e.app.alias});return e.themes.$promise}).then(function(){e.custom_theme=a.custom_theme.get({app_alias:e.app.alias});return e.custom_theme.$promise}).then(function(){h();g();return e.custom_theme_loaded=true})};p();h=function(){var t;e.show_current_theme=true;if(e.current_theme.theme==="custom"){e.custom_theme.activated=true}else{e.custom_theme.activated=false}t=e.current_theme.options;e.theme_meta_options=angular.obj2jsonstr(t)||{};if(e.current_theme===b.CUSTOM_THEME){e.is_custom_current=true}else{e.is_custom_current=false}if(e.current_theme===b.DEFAULT_THEME){e.is_default_current=true}else{e.is_default_current=false}e.current_theme.activated=true;return e.current_theme.thumbnail_src=e.current_theme.thumbnail+"?"+e.now};g=function(){return angular.forEach(e.themes,function(t,n){if(t.id===e.current_theme.theme){e.themes.splice(n,1);e.themes.unshift(t);return t.activated=true}else{return t.activated=false}})};e.open=function(t){return v(t,e.app)};m={};e.saveConfig=function(){if(!u(e.config_form,"theme_options")){return}if(angular.equals(m,e.current_theme.options)){e.config_mode=false;return}e.current_theme.options=m;return e.current_theme.$save(function(t){e.config_mode=false;h();return s("Theme config has been updated.")})};e.toggleConfig=function(){return e.config_mode=!e.config_mode};e.reloadTheme=function(){var t;t=e.current_theme.options;return a.doSetCurrentTheme({theme:e.current_theme.theme,app_alias:e.app.alias}).then(function(){e.current_theme.options=t;return e.current_theme.$save(function(e){h();return s("Theme has been reloaded.")})})};e.$watch("theme_meta_options",function(t){var n;if(!e.config_form){return}if(!t){t="{}"}try{m=JSON.parse(t);return e.config_form.theme_options.$setValidity("format",true)}catch(r){n=r;return e.config_form.theme_options.$setValidity("format",false)}});e.showMore=function(){return e.paged++};e.hasMore=function(){var t;t=n("paginator")(e.themes,e.paged);return t.length<e.themes.length};e.upload_status=0;e.onFileSelect=function(t){var n,i;if(e.upload_status===1){return}i=t[0];if(!i){return}e.upload_status=1;n=a.http_upload_theme(e.app.alias);return r.upload(n,i).progress(function(t){return e.percent=parseInt(100*t.loaded/t.total)}).success(function(t,n,r,i){e.upload_status=0;e.custom_theme=new a.custom_theme(t);return s("Custom theme has been uploaded.")}).error(function(){return e.upload_status=2}).abort(function(){return e.upload_status=0})};e.removeCustom=function(){if(e.upload_status===1){return}return e.custom_theme.$remove().then(function(){return s("Custom theme has been removed.")})};return v=function(t,n){return l.show({controller:"wbkThemeDetailCtrl",templateUrl:"blueprints/wbk/views/settings/theme_detail.tmpl.html",locals:{theme:t,app:n}}).then(function(t){return d().then(function(){e.current_theme=a.current_theme.get({app_alias:e.app.alias});return e.current_theme.$promise}).then(function(){h();g();return s("Theme has been activated.")})})}}])}).call(this);(function(){angular.module("boltApp").controller("wbkThemeDetailCtrl",["$scope","dialog","Config","ConfigWbk","restWbk","flash","prompt","theme","app",function(e,t,n,r,i,a,o,l,s){var u,c,d;if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}if(!l){return}e.theme=l;e.copy_able=true;c=r.theme;for(u in c){d=c[u];if(l.id===d||l.theme===d){e.copy_able=false}}e.activate=function(){return i.doSetCurrentTheme({theme:e.theme.id,app_alias:s.alias}).then(function(){return t.hide(e.theme)})};e.copy=function(){var t,r;t="Please use the native replication function "+"to copy the content in the textbox.";r=n.BaseURL.self+"#/store?item="+e.theme.alias;return o(t,r)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","wbkResolveProvider","ConfigWbk",function(e,t,n){var r,i;r=n.app_type;i={wbk:t.resolve};return e.when("/"+r+"/:app_alias",{templateUrl:"blueprints/"+r+"/views/dashboard.html",controller:"wbkDashboardCtrl",resolve:i}).when("/"+r+"/:app_alias/content/article",{templateUrl:"blueprints/"+r+"/views/articles.html",controller:"wbkArticleCtrl",resolve:i}).when("/"+r+"/:app_alias/content/page",{templateUrl:"blueprints/"+r+"/views/bookframes.html",controller:"wbkBookFramesCtrl",resolve:i}).when("/"+r+"/:app_alias/media",{templateUrl:"blueprints/"+r+"/views/media.html",controller:"wbkMediaCtrl",resolve:i}).when("/"+r+"/:app_alias/settings",{templateUrl:"blueprints/"+r+"/views/settings/options.html",controller:"wbkOptionsCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/custom_menu",{templateUrl:"blueprints/"+r+"/views/settings/custom_menu.html",controller:"wbkCustomMenuCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/metas",{templateUrl:"blueprints/"+r+"/views/settings/metas.html",controller:"wbkMetasCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/themes",{templateUrl:"blueprints/"+r+"/views/settings/themes.html",controller:"wbkThemesCtrl",resolve:i}).when("/"+r+"/:app_alias/settings/destroy",{templateUrl:"blueprints/"+r+"/views/settings/destroy.html",controller:"wbkDestroyCtrl",resolve:i})}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider",function(e){return e.when("/404",{templateUrl:"blueprints/404.html"}).otherwise({redirectTo:"/404"})}])}).call(this);
