(function(){var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/;e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;e.item=s(e.item,"gm")(/bull/g,e.bullet)();e.list=s(e.list)(/bull/g,e.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")();e.blockquote=s(e.blockquote)("def",e.def)();e._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";e.html=s(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)();e.paragraph=s(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)();e.normal=c({},e);e.gfm=c({},e.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});e.gfm.paragraph=s(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|")();e.tables=c({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function t(t){this.tokens=[];this.tokens.links={};this.options=t||d.defaults;this.rules=e.normal;if(this.options.gfm){if(this.options.tables){this.rules=e.tables}else{this.rules=e.gfm}}}t.rules=e;t.lex=function(e,n){var r=new t(n);return r.lex(e)};t.prototype.lex=function(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(e,true)};t.prototype.token=function(t,n,r){var t=t.replace(/^ +$/gm,""),i,o,a,l,s,u,c,d,f;while(t){if(a=this.rules.newline.exec(t)){t=t.substring(a[0].length);if(a[0].length>1){this.tokens.push({type:"space"})}}if(a=this.rules.code.exec(t)){t=t.substring(a[0].length);a=a[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?a.replace(/\n+$/,""):a});continue}if(a=this.rules.fences.exec(t)){t=t.substring(a[0].length);this.tokens.push({type:"code",lang:a[2],text:a[3]||""});continue}if(a=this.rules.heading.exec(t)){t=t.substring(a[0].length);this.tokens.push({type:"heading",depth:a[1].length,text:a[2]});continue}if(n&&(a=this.rules.nptable.exec(t))){t=t.substring(a[0].length);u={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/\n$/,"").split("\n")};for(d=0;d<u.align.length;d++){if(/^ *-+: *$/.test(u.align[d])){u.align[d]="right"}else if(/^ *:-+: *$/.test(u.align[d])){u.align[d]="center"}else if(/^ *:-+ *$/.test(u.align[d])){u.align[d]="left"}else{u.align[d]=null}}for(d=0;d<u.cells.length;d++){u.cells[d]=u.cells[d].split(/ *\| */)}this.tokens.push(u);continue}if(a=this.rules.lheading.exec(t)){t=t.substring(a[0].length);this.tokens.push({type:"heading",depth:a[2]==="="?1:2,text:a[1]});continue}if(a=this.rules.hr.exec(t)){t=t.substring(a[0].length);this.tokens.push({type:"hr"});continue}if(a=this.rules.blockquote.exec(t)){t=t.substring(a[0].length);this.tokens.push({type:"blockquote_start"});a=a[0].replace(/^ *> ?/gm,"");this.token(a,n,true);this.tokens.push({type:"blockquote_end"});continue}if(a=this.rules.list.exec(t)){t=t.substring(a[0].length);l=a[2];this.tokens.push({type:"list_start",ordered:l.length>1});a=a[0].match(this.rules.item);i=false;f=a.length;d=0;for(;d<f;d++){u=a[d];c=u.length;u=u.replace(/^ *([*+-]|\d+\.) +/,"");if(~u.indexOf("\n ")){c-=u.length;u=!this.options.pedantic?u.replace(new RegExp("^ {1,"+c+"}","gm"),""):u.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&d!==f-1){s=e.bullet.exec(a[d+1])[0];if(l!==s&&!(l.length>1&&s.length>1)){t=a.slice(d+1).join("\n")+t;d=f-1}}o=i||/\n\n(?!\s*$)/.test(u);if(d!==f-1){i=u.charAt(u.length-1)==="\n";if(!o)o=i}this.tokens.push({type:o?"loose_item_start":"list_item_start"});this.token(u,false,r);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(a=this.rules.html.exec(t)){t=t.substring(a[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(a[1]==="pre"||a[1]==="script"||a[1]==="style"),text:a[0]});continue}if(!r&&n&&(a=this.rules.def.exec(t))){t=t.substring(a[0].length);this.tokens.links[a[1].toLowerCase()]={href:a[2],title:a[3]};continue}if(n&&(a=this.rules.table.exec(t))){t=t.substring(a[0].length);u={type:"table",header:a[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:a[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(d=0;d<u.align.length;d++){if(/^ *-+: *$/.test(u.align[d])){u.align[d]="right"}else if(/^ *:-+: *$/.test(u.align[d])){u.align[d]="center"}else if(/^ *:-+ *$/.test(u.align[d])){u.align[d]="left"}else{u.align[d]=null}}for(d=0;d<u.cells.length;d++){u.cells[d]=u.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(u);continue}if(n&&(a=this.rules.paragraph.exec(t))){t=t.substring(a[0].length);this.tokens.push({type:"paragraph",text:a[1].charAt(a[1].length-1)==="\n"?a[1].slice(0,-1):a[1]});continue}if(a=this.rules.text.exec(t)){t=t.substring(a[0].length);this.tokens.push({type:"text",text:a[0]});continue}if(t){throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}}return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;n.link=s(n.link)("inside",n._inside)("href",n._href)();n.reflink=s(n.reflink)("inside",n._inside)();n.normal=c({},n);n.pedantic=c({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});n.gfm=c({},n.normal,{escape:s(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(n.text)("]|","~]|")("|","|https?://|")()});n.breaks=c({},n.gfm,{br:s(n.br)("{2,}","*")(),text:s(n.gfm.text)("{2,}","*")()});function r(e,t){this.options=t||d.defaults;this.links=e;this.rules=n.normal;this.renderer=this.options.renderer||new i;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=n.breaks}else{this.rules=n.gfm}}else if(this.options.pedantic){this.rules=n.pedantic}}r.rules=n;r.output=function(e,t,n){var i=new r(t,n);return i.output(e)};r.prototype.output=function(e){var t="",n,r,i,o;while(e){if(o=this.rules.escape.exec(e)){e=e.substring(o[0].length);t+=o[1];continue}if(o=this.rules.autolink.exec(e)){e=e.substring(o[0].length);if(o[2]==="@"){r=o[1].charAt(6)===":"?this.mangle(o[1].substring(7)):this.mangle(o[1]);i=this.mangle("mailto:")+r}else{r=a(o[1]);i=r}t+=this.renderer.link(i,null,r);continue}if(!this.inLink&&(o=this.rules.url.exec(e))){e=e.substring(o[0].length);r=a(o[1]);i=r;t+=this.renderer.link(i,null,r);continue}if(o=this.rules.tag.exec(e)){if(!this.inLink&&/^<a /i.test(o[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(o[0])){this.inLink=false}e=e.substring(o[0].length);t+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):a(o[0]):o[0];continue}if(o=this.rules.link.exec(e)){e=e.substring(o[0].length);this.inLink=true;t+=this.outputLink(o,{href:o[2],title:o[3]});this.inLink=false;continue}if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){e=e.substring(o[0].length);n=(o[2]||o[1]).replace(/\s+/g," ");n=this.links[n.toLowerCase()];if(!n||!n.href){t+=o[0].charAt(0);e=o[0].substring(1)+e;continue}this.inLink=true;t+=this.outputLink(o,n);this.inLink=false;continue}if(o=this.rules.strong.exec(e)){e=e.substring(o[0].length);t+=this.renderer.strong(this.output(o[2]||o[1]));continue}if(o=this.rules.em.exec(e)){e=e.substring(o[0].length);t+=this.renderer.em(this.output(o[2]||o[1]));continue}if(o=this.rules.code.exec(e)){e=e.substring(o[0].length);t+=this.renderer.codespan(a(o[2],true));continue}if(o=this.rules.br.exec(e)){e=e.substring(o[0].length);t+=this.renderer.br();continue}if(o=this.rules.del.exec(e)){e=e.substring(o[0].length);t+=this.renderer.del(this.output(o[1]));continue}if(o=this.rules.text.exec(e)){e=e.substring(o[0].length);t+=this.renderer.text(a(this.smartypants(o[0])));continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return t};r.prototype.outputLink=function(e,t){var n=a(t.href),r=t.title?a(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,a(e[1]))};r.prototype.smartypants=function(e){if(!this.options.smartypants)return e;return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")};r.prototype.mangle=function(e){if(!this.options.mangle)return e;var t="",n=e.length,r=0,i;for(;r<n;r++){i=e.charCodeAt(r);if(Math.random()>.5){i="x"+i.toString(16)}t+="&#"+i+";"}return t};function i(e){this.options=e||{}}i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);if(r!=null&&r!==e){n=true;e=r}}if(!t){return"<pre><code>"+(n?e:a(e,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+a(t,true)+'">'+(n?e:a(e,true))+"\n</code></pre>\n"};i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"};i.prototype.html=function(e){return e};i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"};i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"};i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"};i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"};i.prototype.table=function(e,t){return"<table>\n"+"<thead>\n"+e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"};i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"};i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";var r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"};i.prototype.strong=function(e){return"<strong>"+e+"</strong>"};i.prototype.em=function(e){return"<em>"+e+"</em>"};i.prototype.codespan=function(e){return"<code>"+e+"</code>"};i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};i.prototype.del=function(e){return"<del>"+e+"</del>"};i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0){return""}}var o='<a href="'+e+'"';if(t){o+=' title="'+t+'"'}o+=">"+n+"</a>";return o};i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';if(t){r+=' title="'+t+'"'}r+=this.options.xhtml?"/>":">";return r};i.prototype.text=function(e){return e};function o(e){this.tokens=[];this.token=null;this.options=e||d.defaults;this.options.renderer=this.options.renderer||new i;this.renderer=this.options.renderer;this.renderer.options=this.options}o.parse=function(e,t,n){var r=new o(t,n);return r.parse(e)};o.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer);this.tokens=e.reverse();var t="";while(this.next()){t+=this.tok()}return t};o.prototype.next=function(){return this.token=this.tokens.pop()};o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};o.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text"){e+="\n"+this.next().text}return this.inline.output(e)};o.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var e="",t="",n,r,i,o,a;i="";for(n=0;n<this.token.header.length;n++){o={header:true,align:this.token.align[n]};i+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:true,align:this.token.align[n]})}e+=this.renderer.tablerow(i);for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n];i="";for(a=0;a<r.length;a++){i+=this.renderer.tablecell(this.inline.output(r[a]),{header:false,align:this.token.align[a]})}t+=this.renderer.tablerow(i)}return this.renderer.table(e,t)}case"blockquote_start":{var t="";while(this.next().type!=="blockquote_end"){t+=this.tok()}return this.renderer.blockquote(t)}case"list_start":{var t="",l=this.token.ordered;while(this.next().type!=="list_end"){t+=this.tok()}return this.renderer.list(t,l)}case"list_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(t)}case"loose_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.tok()}return this.renderer.listitem(t)}case"html":{var s=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(s)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function a(e,t){return e.replace(!t?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&([#\w]+);/g,function(e,t){t=t.toLowerCase();if(t==="colon")return":";if(t.charAt(0)==="#"){return t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1))}return""})}function s(e,t){e=e.source;t=t||"";return function n(r,i){if(!r)return new RegExp(e,t);i=i.source||i;i=i.replace(/(^|[^\[])\^/g,"$1");e=e.replace(r,i);return n}}function u(){}u.exec=u;function c(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e}function d(e,n,r){if(r||typeof n==="function"){if(!r){r=n;n=null}n=c({},d.defaults,n||{});var i=n.highlight,l,s,u=0;try{l=t.lex(e,n)}catch(f){return r(f)}s=l.length;var m=function(e){if(e){n.highlight=i;return r(e)}var t;try{t=o.parse(l,n)}catch(a){e=a}n.highlight=i;return e?r(e):r(null,t)};if(!i||i.length<3){return m()}delete n.highlight;if(!s)return m();for(;u<l.length;u++){(function(e){if(e.type!=="code"){return--s||m()}return i(e.text,e.lang,function(t,n){if(t)return m(t);if(n==null||n===e.text){return--s||m()}e.text=n;e.escaped=true;--s||m()})})(l[u])}return}try{if(n)n=c({},d.defaults,n);return o.parse(t.lex(e,n),n)}catch(f){f.message+="\nPlease report this to https://github.com/chjj/marked.";if((n||d.defaults).silent){return"<p>An error occured:</p><pre>"+a(f.message+"",true)+"</pre>"}throw f}}d.options=d.setOptions=function(e){c(d.defaults,e);return d};d.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,sanitizer:null,mangle:true,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new i,xhtml:false};d.Parser=o;d.parser=o.parse;d.Renderer=i;d.Lexer=t;d.lexer=t.lex;d.InlineLexer=r;d.inlineLexer=r.output;d.parse=d;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=d}else if(typeof define==="function"&&define.amd){define(function(){return d})}else{this.marked=d}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.toMarkdown=e()}})(function(){var e,t,n;return function r(e,t,n){function i(a,l){if(!t[a]){if(!e[a]){var s=typeof require=="function"&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,r,e,t,n)}return t[a].exports}var o=typeof require=="function"&&require;for(var a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,n){"use strict";var r;var i;var o=e("./lib/md-converters");var a=e("./lib/gfm-converters");var l=e("collapse-whitespace");var s=typeof window!=="undefined"?window:this,u;if(typeof document==="undefined"){u=e("jsdom").jsdom()}else{u=document}function c(e){return e.replace(/^[ \r\n\t]+|[ \r\n\t]+$/g,"")}var d=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function f(e){return d.indexOf(e.nodeName.toLowerCase())!==-1}var m=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function p(e){return m.indexOf(e.nodeName.toLowerCase())!==-1}function h(){var e=s.DOMParser,t=false;try{if((new e).parseFromString("","text/html")){t=true}}catch(n){}return t}function g(){var e=function(){};e.prototype.parseFromString=function(e){var t=u.implementation.createHTMLDocument("");if(e.toLowerCase().indexOf("<!doctype")>-1){t.documentElement.innerHTML=e}else{t.body.innerHTML=e}return t};return e}var v=h()?s.DOMParser:g();function b(e){var t=(new v).parseFromString(e,"text/html");l(t,f);return t}function y(e){var t=[e],n=[],r,i,o;while(t.length>0){r=t.shift();n.push(r);i=r.childNodes;for(o=0;o<i.length;o++){if(i[o].nodeType===1){t.push(i[o])}}}n.shift();return n}function _(e){var t="";for(var n=0;n<e.childNodes.length;n++){if(e.childNodes[n].nodeType===1){t+=e.childNodes[n]._replacement}else if(e.childNodes[n].nodeType===3){t+=e.childNodes[n].data}else{continue}}return t}function w(e,t){return e.cloneNode(false).outerHTML.replace("><",">"+t+"<")}function $(e,t){if(typeof t==="string"){return t===e.nodeName.toLowerCase()}if(Array.isArray(t)){return t.indexOf(e.nodeName.toLowerCase())!==-1}else if(typeof t==="function"){return t.call(r,e)}else{throw new TypeError("`filter` needs to be a string, array, or function")}}function E(e,t){var n,r,i;if(e==="left"){n=t.previousSibling;r=/ $/}else{n=t.nextSibling;r=/^ /}if(n){if(n.nodeType===3){i=r.test(n.nodeValue)}else if(n.nodeType===1&&!f(n)){i=r.test(n.textContent)}}return i}function A(e){var t="",n="";if(!f(e)){var r=/^[ \r\n\t]/.test(e.innerHTML),i=/[ \r\n\t]$/.test(e.innerHTML);if(r&&!E("left",e)){t=" "}if(i&&!E("right",e)){n=" "}}return{leading:t,trailing:n}}function C(e){var t,n=_(e);for(var o=0;o<i.length;o++){var a=i[o];if($(e,a.filter)){if(typeof a.replacement!=="function"){throw new TypeError("`replacement` needs to be a function that returns a string")}var l=A(e);if(l.leading||l.trailing){n=c(n)}t=l.leading+a.replacement.call(r,n,e)+l.trailing;break}}if(!p(e)&&!/A/.test(e.nodeName)&&/^\s*$/i.test(n)){t=""}e._replacement=t}r=function(e,t){t=t||{};if(typeof e!=="string"){throw new TypeError(e+" is not a string")}e=e.replace(/(\d+)\. /g,"$1\\. ");var n=b(e).body,r=y(n),l;i=o.slice(0);if(t.gfm){i=a.concat(i)}if(t.converters){i=t.converters.concat(i)}for(var s=r.length-1;s>=0;s--){C(r[s])}l=_(n);return l.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")};r.isBlock=f;r.isVoid=p;r.trim=c;r.outer=w;t.exports=r},{"./lib/gfm-converters":2,"./lib/md-converters":3,"collapse-whitespace":4,jsdom:7}],2:[function(e,t,n){"use strict";function r(e,t){var n=Array.prototype.indexOf.call(t.parentNode.childNodes,t);var r=" ";if(n===0){r="| "}return r+e+" |"}var i=/highlight highlight-(\S+)/;t.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}},{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(e,t){return r(e,t)}},{filter:"tr",replacement:function(e,t){var n="";var i={left:":--",right:"--:",center:":-:"};if(t.parentNode.nodeName==="THEAD"){for(var o=0;o<t.childNodes.length;o++){var a=t.childNodes[o].attributes.align;var l="---";if(a){l=i[a.value]||l}n+=r(l,t.childNodes[o])}}return"\n"+e+(n?"\n"+n:"")}},{filter:"table",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(e){return e}},{filter:function(e){return e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t){return"\n\n```\n"+t.firstChild.textContent+"\n```\n\n"}},{filter:function(e){return e.nodeName==="PRE"&&e.parentNode.nodeName==="DIV"&&i.test(e.parentNode.className)},replacement:function(e,t){var n=t.parentNode.className.match(i)[1];return"\n\n```"+n+"\n"+t.textContent+"\n```\n\n"}},{filter:function(e){return e.nodeName==="DIV"&&i.test(e.className)},replacement:function(e){return"\n\n"+e+"\n\n"}}]},{}],3:[function(e,t,n){"use strict";t.exports=[{filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t){var n=t.nodeName.charAt(1);var r="";for(var i=0;i<n;i++){r+="#"}return"\n\n"+r+" "+e+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(e){return"_"+e+"_"}},{filter:["strong","b"],replacement:function(e){return"**"+e+"**"}},{filter:function(e){var t=e.previousSibling||e.nextSibling;var n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){return"`"+e+"`"}},{filter:function(e){return e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.title?' "'+t.title+'"':"";return"["+e+"]("+t.getAttribute("href")+n+")"}},{filter:"img",replacement:function(e,t){var n=t.alt||"";var r=t.getAttribute("src")||"";var i=t.title||"";var o=i?' "'+i+'"':"";return r?"!["+n+"]"+"("+r+o+")":""}},{filter:function(e){return e.nodeName==="PRE"&&e.firstChild.nodeName==="CODE"},replacement:function(e,t){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(e){e=this.trim(e);e=e.replace(/\n{3,}/g,"\n\n");e=e.replace(/^/gm,"> ");return"\n\n"+e+"\n\n"}},{filter:"li",replacement:function(e,t){e=e.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var n="*   ";var r=t.parentNode;var i=Array.prototype.indexOf.call(r.children,t)+1;n=/ol/i.test(r.nodeName)?i+".  ":"*   ";return n+e}},{filter:["ul","ol"],replacement:function(e,t){var n=[];for(var r=0;r<t.childNodes.length;r++){n.push(t.childNodes[r]._replacement)}if(/li/i.test(t.parentNode.nodeName)){return"\n"+n.join("\n")}return"\n\n"+n.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,t){return"\n\n"+this.outer(t,e)+"\n\n"}},{filter:function(){return true},replacement:function(e,t){return this.outer(t,e)}}]},{}],4:[function(e,t,n){"use strict";var r=e("void-elements");Object.keys(r).forEach(function(e){r[e.toUpperCase()]=1});var i={};e("block-elements").forEach(function(e){i[e.toUpperCase()]=1});function o(e){return!!(e&&i[e.nodeName])}function a(e){return!!(e&&r[e.nodeName])}function l(e,t){if(!e.firstChild||e.nodeName==="PRE")return;if(typeof t!=="function"){t=o}var n=null;var r=false;var i=null;var l=u(i,e);while(l!==e){if(l.nodeType===3){var c=l.data.replace(/[ \r\n\t]+/g," ");if((!n||/ $/.test(n.data))&&!r&&c[0]===" "){c=c.substr(1)}if(!c){l=s(l);continue}l.data=c;n=l}else if(l.nodeType===1){if(t(l)||l.nodeName==="BR"){if(n){n.data=n.data.replace(/ $/,"")}n=null;r=false}else if(a(l)){n=null;r=true}}else{l=s(l);continue}var d=u(i,l);i=l;l=d}if(n){n.data=n.data.replace(/ $/,"");if(!n.data){s(n)}}}function s(e){var t=e.nextSibling||e.parentNode;e.parentNode.removeChild(e);return t}function u(e,t){if(e&&e.parentNode===t||t.nodeName==="PRE"){return t.nextSibling||t.parentNode}return t.firstChild||t.nextSibling||t.parentNode}t.exports=l},{"block-elements":5,"void-elements":6}],5:[function(e,t,n){t.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(e,t,n){t.exports={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,menuitem:true,meta:true,param:true,source:true,track:true,wbr:true}},{}],7:[function(e,t,n){},{}]},{},[1])(1)});(function(e,t,n){"use strict";var r=t.module("ngRoute",["ng"]).provider("$route",o),i=t.$$minErr("ngRoute");function o(){function e(e,n){return t.extend(Object.create(e),n)}var n={};this.when=function(e,i){var o=t.copy(i);if(t.isUndefined(o.reloadOnSearch)){o.reloadOnSearch=true}if(t.isUndefined(o.caseInsensitiveMatch)){o.caseInsensitiveMatch=this.caseInsensitiveMatch}n[e]=t.extend(o,e&&r(e,o));if(e){var a=e[e.length-1]=="/"?e.substr(0,e.length-1):e+"/";n[a]=t.extend({redirectTo:e},r(a,o))}return this};this.caseInsensitiveMatch=false;function r(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){var o=r==="?"?r:null;var a=r==="*"?r:null;i.push({name:n,optional:!!o});t=t||"";return""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1");r.regexp=new RegExp("^"+e+"$",n?"i":"");return r}this.otherwise=function(e){if(typeof e==="string"){e={redirectTo:e}}this.when(null,e);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,o,a,l,s,u,c){var d=false,f,m,p={routes:n,reload:function(){d=true;r.$evalAsync(function(){g();v()})},updateParams:function(e){if(this.current&&this.current.$$route){e=t.extend({},this.current.params,e);o.path(y(this.current.$$route.originalPath,e));o.search(e)}else{throw i("norout","Tried updating route when with no current route")}}};r.$on("$locationChangeStart",g);r.$on("$locationChangeSuccess",v);return p;function h(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var o=1,a=i.length;o<a;++o){var l=n[o-1];var s=i[o];if(l&&s){r[l.name]=s}}return r}function g(e){var n=p.current;f=b();m=f&&n&&f.$$route===n.$$route&&t.equals(f.pathParams,n.pathParams)&&!f.reloadOnSearch&&!d;if(!m&&(n||f)){if(r.$broadcast("$routeChangeStart",f,n).defaultPrevented){if(e){e.preventDefault()}}}}function v(){var e=p.current;var n=f;if(m){e.params=n.params;t.copy(e.params,a);r.$broadcast("$routeUpdate",e)}else if(n||e){d=false;p.current=n;if(n){if(n.redirectTo){if(t.isString(n.redirectTo)){o.path(y(n.redirectTo,n.params)).search(n.params).replace()}else{o.url(n.redirectTo(n.pathParams,o.path(),o.search())).replace()}}}l.when(n).then(function(){if(n){var e=t.extend({},n.resolve),r,i;t.forEach(e,function(n,r){e[r]=t.isString(n)?s.get(n):s.invoke(n,null,null,r)});if(t.isDefined(r=n.template)){if(t.isFunction(r)){r=r(n.params)}}else if(t.isDefined(i=n.templateUrl)){if(t.isFunction(i)){i=i(n.params)}i=c.getTrustedResourceUrl(i);if(t.isDefined(i)){n.loadedTemplateUrl=i;r=u(i)}}if(t.isDefined(r)){e["$template"]=r}return l.all(e)}}).then(function(i){if(n==p.current){if(n){n.locals=i;t.copy(n.params,a)}r.$broadcast("$routeChangeSuccess",n,e)}},function(t){if(n==p.current){r.$broadcast("$routeChangeError",n,e,t)}})}}function b(){var r,i;t.forEach(n,function(n,a){if(!i&&(r=h(o.path(),n))){i=e(n,{params:t.extend({},o.search(),r),pathParams:r});i.$$route=n}});return i||n[null]&&e(n[null],{params:{},pathParams:{}})}function y(e,n){var r=[];t.forEach((e||"").split(":"),function(e,t){if(t===0){r.push(e)}else{var i=e.match(/(\w+)(?:[?*])?(.*)/);var o=i[1];r.push(n[o]);r.push(i[2]||"");delete n[o]}});return r.join("")}}]}r.provider("$routeParams",a);function a(){this.$get=function(){return{}}}r.directive("ngView",l);r.directive("ngView",s);l.$inject=["$route","$anchorScroll","$animate"];function l(e,n,r){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(i,o,a,l,s){var u,c,d,f=a.autoscroll,m=a.onload||"";i.$on("$routeChangeSuccess",h);h();function p(){if(d){r.cancel(d);d=null}if(u){u.$destroy();u=null}if(c){d=r.leave(c);d.then(function(){d=null});c=null}}function h(){var a=e.current&&e.current.locals,l=a&&a.$template;if(t.isDefined(l)){var d=i.$new();var h=e.current;var g=s(d,function(e){r.enter(e,null,c||o).then(function a(){if(t.isDefined(f)&&(!f||i.$eval(f))){n()}});p()});c=g;u=h.scope=d;u.$emit("$viewContentLoaded");u.$eval(m)}else{p()}}}}}s.$inject=["$compile","$controller","$route"];function s(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var l=e(i.contents());if(o.controller){a.$scope=r;var s=t(o.controller,a);if(o.controllerAs){r[o.controllerAs]=s}i.data("$ngControllerController",s);i.children().data("$ngControllerController",s)}l(r)}}}})(window,window.angular);(function(e,t,n){"use strict";var r=t.$$minErr("$resource");var i=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function o(e){return e!=null&&e!==""&&e!=="hasOwnProperty"&&i.test("."+e)}function a(e,t){if(!o(t)){throw r("badmember",'Dotted member path "@{0}" is invalid.',t)}var i=t.split(".");for(var a=0,l=i.length;a<l&&e!==n;a++){var s=i[a];e=e!==null?e[s]:n}return e}function l(e,n){n=n||{};t.forEach(n,function(e,t){delete n[t]});for(var r in e){if(e.hasOwnProperty(r)&&!(r.charAt(0)==="$"&&r.charAt(1)==="$")){n[r]=e[r]}}return n}t.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:true,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:true},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$q",function(i,o){var s=t.noop,u=t.forEach,c=t.extend,d=t.copy,f=t.isFunction;function m(e){return p(e,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function p(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function h(t,n){this.template=t;this.defaults=c({},e.defaults,n);this.urlParams={}}h.prototype={setUrlParams:function(e,n,i){var o=this,a=i||o.template,l,s;var c=o.urlParams={};u(a.split(/\W/),function(e){if(e==="hasOwnProperty"){throw r("badname","hasOwnProperty is not a valid parameter name.")}if(!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(a)){c[e]=true}});a=a.replace(/\\:/g,":");n=n||{};u(o.urlParams,function(e,r){l=n.hasOwnProperty(r)?n[r]:o.defaults[r];if(t.isDefined(l)&&l!==null){s=m(l);a=a.replace(new RegExp(":"+r+"(\\W|$)","g"),function(e,t){return s+t})}else{a=a.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){
if(n.charAt(0)=="/"){return n}else{return t+n}})}});if(o.defaults.stripTrailingSlashes){a=a.replace(/\/+$/,"")||"/"}a=a.replace(/\/\.(?=\w+($|\?))/,".");e.url=a.replace(/\/\\\./,"/.");u(n,function(t,n){if(!o.urlParams[n]){e.params=e.params||{};e.params[n]=t}})}};function g(m,p,v,b){var y=new h(m,b);v=c({},e.defaults.actions,v);function _(e,t){var n={};t=c({},p,t);u(t,function(t,r){if(f(t)){t=t()}n[r]=t&&t.charAt&&t.charAt(0)=="@"?a(e,t.substr(1)):t});return n}function w(e){return e.resource}function $(e){l(e||{},this)}$.prototype.toJSON=function(){var e=c({},this);delete e.$promise;delete e.$resolved;return e};u(v,function(e,a){var m=/^(POST|PUT|PATCH)$/i.test(e.method);$[a]=function(p,h,g,v){var b={},E,A,C;switch(arguments.length){case 4:C=v;A=g;case 3:case 2:if(f(h)){if(f(p)){A=p;C=h;break}A=h;C=g}else{b=p;E=h;A=g;break}case 1:if(f(p))A=p;else if(m)E=p;else b=p;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var M=this instanceof $;var k=M?E:e.isArray?[]:new $(E);var x={};var T=e.interceptor&&e.interceptor.response||w;var S=e.interceptor&&e.interceptor.responseError||n;u(e,function(e,t){if(t!="params"&&t!="isArray"&&t!="interceptor"){x[t]=d(e)}});if(m)x.data=E;y.setUrlParams(x,c({},_(E,e.params||{}),b),e.url);var N=i(x).then(function(n){var i=n.data,o=k.$promise;if(i){if(t.isArray(i)!==!!e.isArray){throw r("badcfg","Error in resource configuration for action `{0}`. Expected response to "+"contain an {1} but got an {2} (Request: {3} {4})",a,e.isArray?"array":"object",t.isArray(i)?"array":"object",x.method,x.url)}if(e.isArray){k.length=0;u(i,function(e){if(typeof e==="object"){k.push(new $(e))}else{k.push(e)}})}else{l(i,k);k.$promise=o}}k.$resolved=true;n.resource=k;return n},function(e){k.$resolved=true;(C||s)(e);return o.reject(e)});N=N.then(function(e){var t=T(e);(A||s)(t,e.headers);return t},S);if(!M){k.$promise=N;k.$resolved=false;return k}return N};$.prototype["$"+a]=function(e,t,n){if(f(e)){n=t;t=e;e={}}var r=$[a].call(this,e,this,t,n);return r.$promise||r}});$.bind=function(e){return g(m,c({},p,e),v)};return $}return g}]})})(window,window.angular);(function(e,t,n){"use strict";var r=t.module("ngAria",["ng"]).provider("$aria",i);function i(){var e={ariaHidden:true,ariaChecked:true,ariaDisabled:true,ariaRequired:true,ariaInvalid:true,ariaMultiline:true,ariaValue:true,tabindex:true,bindKeypress:true};this.config=function(n){e=t.extend(e,n)};function n(t,n,r){return function(i,o,a){var l=a.$normalize(n);if(e[l]&&!a[l]){i.$watch(a[t],function(e){if(r){e=!e}o.attr(n,e)})}}}this.$get=function(){return{config:function(t){return e[t]},$$watchExpr:n}}}r.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",true)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",false)}]).directive("ngModel",["$aria",function(e){function t(t,n,r){return e.config(n)&&!r.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&t[0].nodeName!=="INPUT"}function r(e,t){var n=e.type,r=e.role;return(n||r)==="checkbox"||r==="menuitemcheckbox"?"checkbox":(n||r)==="radio"||r==="menuitemradio"?"radio":n==="range"||r==="progressbar"||r==="slider"?"range":(n||r)==="textbox"||t[0].nodeName==="TEXTAREA"?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(i,o){var a=r(o,i);return{pre:function(e,t,n,r){if(a==="checkbox"&&n.type!=="checkbox"){r.$isEmpty=function(e){return e===false}}},post:function(r,i,o,l){var s=t("tabindex","tabindex",i);function u(){return l.$modelValue}function c(){if(s){s=false;return function e(t){var n=o.value==l.$viewValue;i.attr("aria-checked",n);i.attr("tabindex",0-!n)}}else{return function t(e){i.attr("aria-checked",o.value==l.$viewValue)}}}function d(){i.attr("aria-checked",!l.$isEmpty(l.$viewValue))}switch(a){case"radio":case"checkbox":if(n(a,i)){i.attr("role",a)}if(t("aria-checked","ariaChecked",i)){r.$watch(u,a==="radio"?c():d)}break;case"range":if(n(a,i)){i.attr("role","slider")}if(e.config("ariaValue")){if(o.min&&!i.attr("aria-valuemin")){i.attr("aria-valuemin",o.min)}if(o.max&&!i.attr("aria-valuemax")){i.attr("aria-valuemax",o.max)}if(!i.attr("aria-valuenow")){r.$watch(u,function f(e){i.attr("aria-valuenow",e)})}}break;case"multiline":if(t("aria-multiline","ariaMultiline",i)){i.attr("aria-multiline",true)}break}if(s){i.attr("tabindex",0)}if(l.$validators.required&&t("aria-required","ariaRequired",i)){r.$watch(function m(){return l.$error.required},function p(e){i.attr("aria-required",!!e)})}if(t("aria-invalid","ariaInvalid",i)){r.$watch(function h(){return l.$invalid},function g(e){i.attr("aria-invalid",!!e)})}}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){if(!t.attr("aria-live")){t.attr("aria-live","assertive")}}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,r){var i=t(r.ngClick,null,true);return function(t,n,r){var o=["BUTTON","A","INPUT","TEXTAREA"];function a(e,t){if(t.indexOf(e[0].nodeName)!==-1){return true}}if(!n.attr("role")&&!a(n,o)){n.attr("role","button")}if(e.config("tabindex")&&!n.attr("tabindex")){n.attr("tabindex",0)}if(e.config("bindKeypress")&&!r.ngKeypress&&!a(n,o)){n.on("keypress",function(e){var n=e.which||e.keyCode;if(n===32||n===13){t.$apply(r)}function r(){i(t,{$event:e})}})}}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,r){if(e.config("tabindex")&&!n.attr("tabindex")){n.attr("tabindex",0)}}}])})(window,window.angular);(function(e,t,n){"use strict";var r=t.noop;var i=t.extend;var o=t.element;var a=t.forEach;var l=t.isArray;var s=t.isString;var u=t.isObject;var c=t.isUndefined;var d=t.isDefined;var f=t.isFunction;var m=t.isElement;var p=1;var h=8;var g="ng-animate";var v="$$ngAnimateChildren";var b=function(e){return e&&e.then?true:false};function y(e,t,n){if(!e){throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required")}return e}function _(e,t){if(!e&&!t)return"";if(!e)return t;if(!t)return e;if(l(e))e=e.join(" ");if(l(t))t=t.join(" ");return e+" "+t}function w(e){var t={};if(e&&(e.to||e.from)){t.to=e.to;t.from=e.from}return t}function $(e,t,n){var r="";e=l(e)?e:e&&s(e)&&e.length?e.split(/\s+/):[];a(e,function(e,i){if(e&&e.length>0){r+=i>0?" ":"";r+=n?t+e:e+t}});return r}function E(e,t){var n=e.indexOf(t);if(t>=0){e.splice(n,1)}}function A(e){if(e instanceof o){switch(e.length){case 0:return[];break;case 1:if(e[0].nodeType===p){return e}break;default:return o(C(e));break}}if(e.nodeType===p){return o(e)}}function C(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==p){return n}}}function M(e,t,n){a(t,function(t){e.addClass(t,n)})}function k(e,t,n){a(t,function(t){e.removeClass(t,n)})}function x(e){return function(t,n){if(n.addClass){M(e,t,n.addClass);n.addClass=null}if(n.removeClass){k(e,t,n.removeClass);n.removeClass=null}}}function T(e){e=e||{};if(!e.$$prepared){var t=e.domOperation||r;e.domOperation=function(){e.$$domOperationFired=true;t();t=r};e.$$prepared=true}return e}function S(e,t){N(e,t);D(e,t)}function N(e,t){if(t.from){e.css(t.from);t.from=null}}function D(e,t){if(t.to){e.css(t.to);t.to=null}}function H(e,t,n){var r=(t.addClass||"")+" "+(n.addClass||"");var o=(t.removeClass||"")+" "+(n.removeClass||"");var a=R(e.attr("class"),r,o);i(t,n);if(a.addClass){t.addClass=a.addClass}else{t.addClass=null}if(a.removeClass){t.removeClass=a.removeClass}else{t.removeClass=null}return t}function R(e,t,n){var r=1;var i=-1;var o={};e=u(e);t=u(t);a(t,function(e,t){o[t]=r});n=u(n);a(n,function(e,t){o[t]=o[t]===r?null:i});var l={addClass:"",removeClass:""};a(o,function(t,n){var o,a;if(t===r){o="addClass";a=!e[n]}else if(t===i){o="removeClass";a=e[n]}if(a){if(l[o].length){l[o]+=" "}l[o]+=n}});function u(e){if(s(e)){e=e.split(" ")}var t={};a(e,function(e){if(e.length){t[e]=true}});return t}return l}function I(e){return e instanceof t.element?e[0]:e}var P=["$$rAF",function(e){var t=[];var n;function r(e){t.push([].concat(e));i()}r.waitUntilQuiet=function(t){if(n)n();n=e(function(){n=null;t();i()})};return r;function i(){if(!t.length)return;var r=[];for(var a=0;a<t.length;a++){var l=t[a];o(l);if(l.length){r.push(l)}}t=r;if(!n){e(function(){if(!n)i()})}}function o(e){var t=e.shift();t()}}];var O=[function(){return function(e,n,r){var i=r.ngAnimateChildren;if(t.isString(i)&&i.length===0){n.data(v,true)}else{r.$observe("ngAnimateChildren",function(e){e=e==="on"||e==="true";n.data(v,e)})}}}];var U="",L,F,j,B;if(e.ontransitionend===n&&e.onwebkittransitionend!==n){U="-webkit-";L="WebkitTransition";F="webkitTransitionEnd transitionend"}else{L="transition";F="transitionend"}if(e.onanimationend===n&&e.onwebkitanimationend!==n){U="-webkit-";j="WebkitAnimation";B="webkitAnimationEnd animationend"}else{j="animation";B="animationend"}var z="Duration";var q="Property";var W="Delay";var G="TimingFunction";var V="IterationCount";var Y="PlayState";var K=3;var X=1.5;var Z=1e3;var J=10;var Q=9999;var ee=j+W;var te=j+z;var ne=L+W;var re=L+z;var ie={transitionDuration:re,transitionDelay:ne,transitionProperty:L+q,animationDuration:te,animationDelay:ee,animationIterationCount:j+V};var oe={transitionDuration:re,transitionDelay:ne,animationDuration:te,animationDelay:ee};function ae(e,t,n){var r=Object.create(null);var i=e.getComputedStyle(t)||{};a(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);if(o==="-"||o==="+"||o>=0){n=le(n)}if(n===0){n=null}r[t]=n}});return r}function le(e){var t=0;var n=e.split(/\s*,\s*/);a(n,function(e){if(e.charAt(e.length-1)=="s"){e=e.substring(0,e.length-1)}e=parseFloat(e)||0;t=t?Math.max(e,t):e});return t}function se(e){return e===0||e!=null}function ue(e,t){var n=L;var r=e+"s";if(t){n+=z}else{r+=" linear all"}return[n,r]}function ce(e){return[te,e+"s"]}function de(e,t){var n=t?ee:ne;return[n,e+"s"]}function fe(e,t){var n=t?"-"+t+"s":"";pe(e,[ne,n]);return[ne,n]}function me(e,t){var n=t?"paused":"";var r=j+Y;pe(e,[r,n]);return[r,n]}function pe(e,t){var n=t[0];var r=t[1];e.style[n]=r}function he(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){if(!e[t]){e[t]={total:1,value:n}}else{e[t].total++}}}}var ge=["$animateProvider",function(e){var t=he();var n=he();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(e,r,i,o,s,u,c){var d=x(r);var f=0;function m(e,t){var n="$$ngAnimateParentKey";var r=e.parentNode;var i=r[n]||(r[n]=++f);return i+"-"+e.getAttribute("class")+"-"+t}function p(n,r,i,o){var a=t.get(i);if(!a){a=ae(e,n,o);if(a.animationIterationCount==="infinite"){a.animationIterationCount=1}}t.put(i,a);return a}function h(i,o,a,l){var s;if(t.count(a)>0){s=n.get(a);if(!s){var u=$(o,"-stagger");r.addClass(i,u);s=ae(e,i,l);s.animationDuration=Math.max(s.animationDuration,0);s.transitionDuration=Math.max(s.transitionDuration,0);r.removeClass(i,u);n.put(a,s)}}return s||{}}var g=I(s).body;var v=[];function b(e){v.push(e);c.waitUntilQuiet(function(){t.flush();n.flush();var e=g.offsetWidth+1;for(var r=0;r<v.length;r++){v[r](e)}v.length=0})}return _;function y(e,t,n){var r=p(e,t,n,ie);var i=r.animationDelay;var o=r.transitionDelay;r.maxDelay=i&&o?Math.max(i,o):i||o;r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration);return r}function _(e,n){var s=I(e);n=T(n);var c=[];var f=e.attr("class");var p=w(n);var g;var v;var _;var A;var C;var M;var k;var x;var H;if(n.duration===0||!u.animations&&!u.transitions){return Ee()}var R=n.event&&l(n.event)?n.event.join(" "):n.event;var P=R&&n.structural;var O="";var U="";if(P){O=$(R,"ng-",true)}else if(R){O=R}if(n.addClass){U+=$(n.addClass,"-add")}if(n.removeClass){if(U.length){U+=" "}U+=$(n.removeClass,"-remove")}if(n.applyClassesEarly&&U.length){d(e,n);U=""}var z=[O,U].join(" ").trim();var W=f+" "+z;var V=$(z,"-active");var Y=p.to&&Object.keys(p.to).length>0;if(!Y&&!z){return Ee()}var J,ee;if(n.stagger>0){var te=parseFloat(n.stagger);ee={transitionDelay:te,animationDelay:te,transitionDuration:0,animationDuration:0}}else{J=m(s,W);ee=h(s,z,J,oe)}r.addClass(e,z);var ne;if(n.transitionStyle){var re=[L,n.transitionStyle];pe(s,re);c.push(re)}if(n.duration>=0){ne=s.style[L].length>0;var ie=ue(n.duration,ne);pe(s,ie);c.push(ie)}if(n.keyframeStyle){var ae=[j,n.keyframeStyle];pe(s,ae);c.push(ae)}var le=ee?n.staggerIndex>=0?n.staggerIndex:t.count(J):0;var he=le===0;if(he){fe(s,Q)}var ge=y(s,W,J);var ve=ge.maxDelay;M=Math.max(ve,0);x=ge.maxDuration;var be={};be.hasTransitions=ge.transitionDuration>0;be.hasAnimations=ge.animationDuration>0;be.hasTransitionAll=be.hasTransitions&&ge.transitionProperty=="all";be.applyTransitionDuration=Y&&(be.hasTransitions&&!be.hasTransitionAll||be.hasAnimations&&!be.hasTransitions);be.applyAnimationDuration=n.duration&&be.hasAnimations;be.applyTransitionDelay=se(n.delay)&&(be.applyTransitionDuration||be.hasTransitions);be.applyAnimationDelay=se(n.delay)&&be.hasAnimations;be.recalculateTimingStyles=U.length>0;if(be.applyTransitionDuration||be.applyAnimationDuration){x=n.duration?parseFloat(n.duration):x;if(be.applyTransitionDuration){be.hasTransitions=true;ge.transitionDuration=x;ne=s.style[L+q].length>0;c.push(ue(x,ne))}if(be.applyAnimationDuration){be.hasAnimations=true;ge.animationDuration=x;c.push(ce(x))}}if(x===0&&!be.recalculateTimingStyles){return Ee()}if(n.duration==null&&ge.transitionDuration>0){be.recalculateTimingStyles=be.recalculateTimingStyles||he}k=M*Z;H=x*Z;if(!n.skipBlocking){be.blockTransition=ge.transitionDuration>0;be.blockKeyframeAnimation=ge.animationDuration>0&&ee.animationDelay>0&&ee.animationDuration===0}N(e,n);if(!be.blockTransition){fe(s,false)}$e(x);return{$$willAnimate:true,end:ye,start:function(){if(g)return;C={end:ye,cancel:_e,resume:null,pause:null};A=new i(C);b(Ae);return A}};function ye(){we()}function _e(){we(true)}function we(t){if(g||_&&v)return;g=true;v=false;r.removeClass(e,z);r.removeClass(e,V);me(s,false);fe(s,false);a(c,function(e){s.style[e[0]]=""});d(e,n);S(e,n);if(n.onDone){n.onDone()}if(A){A.complete(!t)}}function $e(e){if(be.blockTransition){fe(s,e)}if(be.blockKeyframeAnimation){me(s,!!e)}}function Ee(){A=new i({end:ye,cancel:_e});we();return{$$willAnimate:false,start:function(){return A},end:ye}}function Ae(){if(g)return;var t,i=[];var l=function(e){if(!_){v=!e;if(ge.animationDuration){var t=me(s,v);v?c.push(t):E(c,t)}}else if(v&&e){v=false;we()}};var u=le>0&&(ge.transitionDuration&&ee.transitionDuration===0||ge.animationDuration&&ee.animationDuration===0)&&Math.max(ee.animationDelay,ee.transitionDelay);if(u){o(f,Math.floor(u*le*Z),false)}else{f()}C.resume=function(){l(true)};C.pause=function(){l(false)};function f(){if(g)return;$e(false);a(c,function(e){var t=e[0];var n=e[1];s.style[t]=n});d(e,n);r.addClass(e,V);if(be.recalculateTimingStyles){W=s.className+" "+z;J=m(s,W);ge=y(s,W,J);ve=ge.maxDelay;M=Math.max(ve,0);x=ge.maxDuration;if(x===0){we();return}be.hasTransitions=ge.transitionDuration>0;be.hasAnimations=ge.animationDuration>0}if(be.applyTransitionDelay||be.applyAnimationDelay){ve=typeof n.delay!=="boolean"&&se(n.delay)?parseFloat(n.delay):ve;M=Math.max(ve,0);var l;if(be.applyTransitionDelay){ge.transitionDelay=ve;l=de(ve);c.push(l);s.style[l[0]]=l[1]}if(be.applyAnimationDelay){ge.animationDelay=ve;l=de(ve,true);c.push(l);s.style[l[0]]=l[1]}}k=M*Z;H=x*Z;if(n.easing){var u,f=n.easing;if(be.hasTransitions){u=L+G;c.push([u,f]);s.style[u]=f}if(be.hasAnimations){u=j+G;c.push([u,f]);s.style[u]=f}}if(ge.transitionDuration){i.push(F)}if(ge.animationDuration){i.push(B)}t=Date.now();e.on(i.join(" "),h);o(p,k+X*H);D(e,n)}function p(){we()}function h(e){e.stopPropagation();var n=e.originalEvent||e;var r=n.$manualTimeStamp||n.timeStamp||Date.now();var i=parseFloat(n.elapsedTime.toFixed(K));if(Math.max(r-t,0)>=k&&i>=x){_=true;we()}}}}}]}];var ve=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim";var n="ng-anchor";var i="ng-anchor-out";var l="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(e,u,c,d,f,m){if(!m.animations&&!m.transitions)return r;var p=I(f).body;var h=I(d);var g=o(p.parentNode===h?p:h);return function $(e){return e.from&&e.to?_(e.from,e.to,e.classes,e.anchors):w(e)};function v(e){return e.replace(/\bng-\S+\b/g,"")}function b(e,t){if(s(e))e=e.split(" ");if(s(t))t=t.split(" ");return e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function y(r,s,u){var d=o(I(s).cloneNode(true));var f=v($(d));s.addClass(t);u.addClass(t);d.addClass(n);g.append(d);var m,h=w();if(!h){m=E();if(!m){return A()}}var y=h||m;return{start:function(){var e;var t=y.start();t.done(function(){t=null;if(!m){m=E();if(m){t=m.start();t.done(function(){t=null;A();e.complete()});return t}}A();e.complete()});e=new c({end:n,cancel:n});return e;function n(){if(t){t.end()}}}};function _(e){var t={};var n=I(e).getBoundingClientRect();a(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=p.scrollTop;break;case"left":r+=p.scrollLeft;break}t[e]=Math.floor(r)+"px"});return t}function w(){var t=e(d,{addClass:i,delay:true,from:_(s)});return t.$$willAnimate?t:null}function $(e){return e.attr("class")||""}function E(){var t=v($(u));var n=b(t,f);var r=b(f,t);var o=e(d,{to:_(u),addClass:l+" "+n,removeClass:i+" "+r,delay:true});return o.$$willAnimate?o:null}function A(){d.remove();s.removeClass(t);u.removeClass(t)}}function _(e,t,n,r){var i=w(e);var o=w(t);var l=[];a(r,function(e){var t=e["out"];var r=e["in"];var i=y(n,t,r);if(i){l.push(i)}});if(!i&&!o&&l.length===0)return;return{start:function(){var e=[];if(i){e.push(i.start())}if(o){e.push(o.start())}a(l,function(t){e.push(t.start())});var t=new c({end:n,cancel:n});c.all(e,function(e){t.complete(e)});return t;function n(){a(e,function(e){e.end()})}}}}function w(t){var n=t.element;var r=t.options||{};if(t.structural){r.structural=r.applyClassesEarly=true;r.event=t.event;if(r.event==="leave"){r.onDone=r.domOperation}}else{r.event=null}var i=e(n,r);return i.$$willAnimate?i:null}}]}];var be=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(t,n,i,o){var s=x(o);return function(e,t,i,o){if(arguments.length===3&&u(i)){o=i;i=null}o=T(o);if(!i){i=e.attr("class")||"";if(o.addClass){i+=" "+o.addClass}if(o.removeClass){i+=" "+o.removeClass}}var l=o.addClass;var d=o.removeClass;var m=c(i);var p,h;if(m.length){var g,v;if(t=="leave"){v="leave";g="afterLeave"}else{v="before"+t.charAt(0).toUpperCase()+t.substr(1);g=t}if(t!=="enter"&&t!=="move"){p=w(e,t,o,m,v)}h=w(e,t,o,m,g)}if(!p&&!h)return;function b(){o.domOperation();s(e,o)}return{start:function(){var t;var i=[];if(p){i.push(function(e){t=p(e)})}if(i.length){i.push(function(e){b();e(true)})}else{b()}if(h){i.push(function(e){t=h(e)})}var a=false;var l=new n({end:function(){u()},cancel:function(){u(true)}});n.chain(i,s);return l;function s(t){a=true;b();S(e,o);l.complete(t)}function u(e){if(!a){(t||r)(e);s(e)}}}};function y(e,t,i,o,a){var s;switch(i){case"animate":s=[t,o.from,o.to,a];break;case"setClass":s=[t,l,d,a];break;case"addClass":s=[t,l,a];break;case"removeClass":s=[t,d,a];break;default:s=[t,a];break}s.push(o);var u=e.apply(e,s);if(u){if(f(u.start)){u=u.start()}if(u instanceof n){u.done(a)}else if(f(u)){return u}}return r}function _(e,t,i,o,l){var s=[];a(o,function(o){var a=o[l];if(!a)return;s.push(function(){var o;var l;var s=false;var u=function(e){if(!s){s=true;(l||r)(e);o.complete(!e)}};o=new n({end:function(){u()},cancel:function(){u(true)}});l=y(a,e,t,i,function(e){var t=e===false;u(t)});return o})});return s}function w(e,t,r,i,o){var l=_(e,t,r,i,o);if(l.length===0){var s,u;if(o==="beforeSetClass"){s=_(e,"removeClass",r,i,"beforeRemoveClass");u=_(e,"addClass",r,i,"beforeAddClass")}else if(o==="setClass"){s=_(e,"removeClass",r,i,"removeClass");u=_(e,"addClass",r,i,"addClass")}if(s){l=l.concat(s)}if(u){l=l.concat(u)}}if(l.length===0)return;return function c(e){var t=[];if(l.length){a(l,function(e){t.push(e())})}t.length?n.all(t,e):e();return function r(e){a(t,function(t){e?t.cancel():t.end()})}}}};function c(n){n=l(n)?n:n.split(" ");var r=[],i={};for(var o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];if(s&&!i[a]){r.push(t.get(s));i[a]=true}}return r}}]}];var ye=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(e,t){return function r(e){if(e.from&&e.to){var r=n(e.from);var i=n(e.to);if(!r&&!i)return;return{start:function(){var e=[];if(r){e.push(r.start())}if(i){e.push(i.start())}t.all(e,l);var n=new t({end:o(),cancel:o()});return n;function o(){return function(){a(e,function(e){e.end()})}}function l(e){n.complete(e)}}}}else{return n(e)}};function n(t){var n=t.element;var r=t.event;var i=t.options;var o=t.classes;return e(n,r,o,i)}}]}];var _e="data-ng-animate";var we="$ngAnimatePin";var $e=["$animateProvider",function(e){var t=1;var n=2;var r=this.rules={skip:[],cancel:[],join:[]};function s(e,t,n,i){return r[e].some(function(e){return e(t,n,i)})}function f(e,t){e=e||{};var n=(e.addClass||"").length>0;var r=(e.removeClass||"").length>0;return t?n&&r:n||r}r.join.push(function(e,t,n){return!t.structural&&f(t.options)});r.skip.push(function(e,t,n){return!t.structural&&!f(t.options)});r.skip.push(function(e,t,n){return n.event=="leave"&&t.structural});r.skip.push(function(e,t,n){return n.structural&&!t.structural});r.cancel.push(function(e,t,n){return n.structural&&t.structural});r.cancel.push(function(e,t,r){return r.state===n&&t.structural});r.cancel.push(function(e,t,n){var r=t.options;var i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(r,h,g,b,_,w,$,E,M){var k=new _;var N=new _;var D=null;var R=h.$watch(function(){return E.totalPendingRequests===0},function(e){if(!e)return;R();h.$$postDigest(function(){h.$$postDigest(function(){if(D===null){D=true}})})});var P=o(b[0].body);var O={};var U=e.classNameFilter();var L=!U?function(){return true}:function(e){return U.test(e)};var F=x(M);function j(e,t){return H(e,t,{})}function B(e,t){var n=I(e);var r=[];var i=O[t];if(i){a(i,function(e){if(e.node.contains(n)){r.push(e.callback)}})}return r}function z(e,t,n,i){r(function(){a(B(t,e),function(e){e(t,n,i)})})}return{on:function(e,t,n){var r=C(t);O[e]=O[e]||[];O[e].push({node:r,callback:n})},off:function(e,t,n){var r=O[e];if(!r)return;O[e]=arguments.length===1?null:i(r,t,n);function i(e,t,n){var r=C(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}},pin:function(e,t){y(m(e),"element","not an element");y(m(t),"parentElement","not an element");e.data(we,t)},push:function(e,t,n,r){n=n||{};n.domOperation=r;return q(e,t,n)},enabled:function(e,t){var n=arguments.length;if(n===0){t=!!D}else{var r=m(e);if(!r){t=D=!!e}else{var i=I(e);var o=N.get(i);if(n===1){t=!o}else{t=!!t;if(!t){N.put(i,true)}else if(o){N.remove(i)}}}}return t}};function q(e,r,i){var o,a;e=A(e);if(e){o=I(e);a=e.parent()}i=T(i);var c=new $;if(!o){R();return c}if(l(i.addClass)){i.addClass=i.addClass.join(" ")}if(l(i.removeClass)){i.removeClass=i.removeClass.join(" ")}if(i.from&&!u(i.from)){i.from=null}if(i.to&&!u(i.to)){i.to=null}var d=[o.className,i.addClass,i.removeClass].join(" ");if(!L(d)){R();return c}var m=["enter","move","leave"].indexOf(r)>=0;var p=!D||N.get(o);var g=!p&&k.get(o)||{};var v=!!g.state;if(!p&&(!v||g.state!=t)){p=!K(e,a,r)}if(p){R();return c}if(m){W(e)}var b={structural:m,element:e,event:r,close:R,options:i,runner:c};if(v){var y=s("skip",e,b,g);if(y){if(g.state===n){R();return c}else{H(e,g.options,i);return g.runner}}var _=s("cancel",e,b,g);if(_){if(g.state===n){g.runner.end()}else if(g.structural){g.close()}else{H(e,b.options,g.options)}}else{var E=s("join",e,b,g);if(E){if(g.state===n){j(e,i)}else{r=b.event=g.event;i=H(e,g.options,b.options);return c}}}}else{j(e,i)}var C=b.structural;if(!C){C=b.event==="animate"&&Object.keys(b.options.to||{}).length>0||f(b.options)}if(!C){R();G(e);return c}if(m){Y(a)}var M=(g.counter||0)+1;b.counter=M;X(e,t,b);h.$$postDigest(function(){var t=k.get(o);var a=!t;t=t||{};var l=e.parent()||[];var s=l.length>0&&(t.event==="animate"||t.structural||f(t.options));if(a||t.counter!==M||!s){if(a){F(e,i);S(e,i)}if(a||m&&t.event!==r){i.domOperation();c.end()}if(!s){G(e)}return}r=!t.structural&&f(t.options,true)?"setClass":t.event;if(t.structural){Y(l)}X(e,n);var u=w(e,r,t.options);u.done(function(t){R(!t);var n=k.get(o);if(n&&n.counter===M){G(I(e))}x(c,r,"close",{})});c.setHost(u);x(c,r,"start",{})});return c;function x(t,n,r,i){z(n,e,r,i);t.progress(n,r,i)}function R(t){F(e,i);S(e,i);i.domOperation();c.complete(!t)}}function W(e){var r=I(e);var i=r.querySelectorAll("["+_e+"]");a(i,function(e){var r=parseInt(e.getAttribute(_e));var i=k.get(e);switch(r){case n:i.runner.end();case t:if(i){k.remove(e)}break}})}function G(e){var t=I(e);t.removeAttribute(_e);k.remove(t)}function V(e,t){return I(e)===I(t)}function Y(e){var t=I(e);do{if(!t||t.nodeType!==p)break;var r=k.get(t);if(r){i(t,r)}t=t.parentNode}while(true);function i(e,t){if(t.structural||!f(t.options))return;if(t.state===n){t.runner.end()}G(e)}}function K(e,t,n){var r=false;var i=false;var o=false;var a;var l=e.data(we);if(l){t=l}while(t&&t.length){if(!i){i=V(t,g)}var s=t[0];if(s.nodeType!==p){break}var u=k.get(s)||{};if(!o){o=u.structural||N.get(s)}if(c(a)||a===true){var f=t.data(v);if(d(f)){a=f}}if(o&&a===false)break;if(!i){i=V(t,g);if(!i){l=t.data(we);if(l){t=l}}}if(!r){r=V(t,P)}t=t.parent()}var m=!o||a;return m&&i&&r}function X(e,t,n){n=n||{};n.state=t;var r=I(e);r.setAttribute(_e,t);var o=k.get(r);var a=o?i(o,n):n;k.put(r,a)}}]}];var Ee=["$$rAF",function(e){return function(){var t=false;e(function(){t=true});return function(n){t?n():e(n)}}}];var Ae=["$q","$$rAFMutex",function(e,t){var n=0;var i=1;var o=2;l.chain=function(e,t){var n=0;r();function r(){if(n===e.length){t(true);return}e[n](function(e){if(e===false){t(false);return}n++;r()})}};l.all=function(e,t){var n=0;var r=true;a(e,function(e){e.done(i)});function i(i){r=r&&i;if(++n===e.length){t(r)}}};function l(e){this.setHost(e);this._doneCallbacks=[];this._runInAnimationFrame=t();this._state=0}l.prototype={setHost:function(e){this.host=e||{}},done:function(e){if(this._state===o){e()}else{this._doneCallbacks.push(e)}},progress:r,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===false?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(e){var t=this;if(t._state===n){t._state=i;t._runInAnimationFrame(function(){t._resolve(e)})}},_resolve:function(e){if(this._state!==o){a(this._doneCallbacks,function(t){t(e)});this._doneCallbacks.length=0;this._state=o}}};return l}];var Ce=["$animateProvider",function(e){var t="ng-animate-ref";var n=this.drivers=[];var r="$$animationRunner";function i(e,t){e.data(r,t)}function l(e){e.removeData(r)}function s(e){return e.data(r)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(e,r,u,c,d){var f=[];var m=x(e);var p=0;var h=0;var v=[];return function(b,y,w){w=T(w);var $=["enter","move","leave"].indexOf(y)>=0;var E=new c({end:function(){O()},cancel:function(){O(true)}});if(!n.length){O();return E}i(b,E);var A=_(b.attr("class"),_(w.addClass,w.removeClass));var C=w.tempClasses;if(C){A+=" "+C;w.tempClasses=null}var M;if(!$){M=p;p+=1}f.push({element:b,classes:A,event:y,classBasedIndex:M,structural:$,options:w,beforeStart:H,close:O});b.on("$destroy",P);if(f.length>1)return E;r.$$postDigest(function(){h=p;p=0;v.length=0;var e=[];a(f,function(t){if(s(t.element)){e.push(t)}});f.length=0;a(x(e),function(e){if(e.structural){t()}else{v.push({node:I(e.element),fn:t});if(e.classBasedIndex===h-1){v=v.sort(function(e,t){return t.node.contains(e.node)}).map(function(e){return e.fn});d(v)}}function t(){e.beforeStart();var t,n=e.close;var r=e.anchors?e.from.element||e.to.element:e.element;if(s(r)){var i=D(e);if(i){t=i.start}}if(!t){n()}else{var o=t();o.done(function(e){n(!e)});R(e,o)}}})});return E;function k(e){var n="["+t+"]";var r=e.hasAttribute(t)?[e]:e.querySelectorAll(n);var i=[];a(r,function(e){var n=e.getAttribute(t);if(n&&n.length){i.push(e)}});return i}function x(e){var n=[];var r={};a(e,function(e,i){var l=e.element;var s=I(l);var u=e.event;var c=["enter","move"].indexOf(u)>=0;var d=e.structural?k(s):[];if(d.length){var f=c?"to":"from";a(d,function(e){var n=e.getAttribute(t);r[n]=r[n]||{};r[n][f]={animationID:i,element:o(e)}})}else{n.push(e)}});var i={};var l={};a(r,function(t,r){var o=t.from;var a=t.to;if(!o||!a){var s=o?o.animationID:a.animationID;var u=s.toString();if(!i[u]){i[u]=true;n.push(e[s])}return}var c=e[o.animationID];var d=e[a.animationID];var f=o.animationID.toString();if(!l[f]){var m=l[f]={structural:true,beforeStart:function(){c.beforeStart();d.beforeStart()},close:function(){c.close();d.close()},classes:N(c.classes,d.classes),from:c,to:d,anchors:[]};if(m.classes.length){n.push(m)}else{n.push(c);n.push(d)}}l[f].anchors.push({out:o.element,"in":a.element})});return n}function N(e,t){e=e.split(" ");t=t.split(" ");var n=[];for(var r=0;r<e.length;r++){var i=e[r];if(i.substring(0,3)==="ng-")continue;for(var o=0;o<t.length;o++){if(i===t[o]){n.push(i);break}}}return n.join(" ")}function D(e){for(var t=n.length-1;t>=0;t--){var r=n[t];if(!u.has(r))continue;var i=u.get(r);var o=i(e);if(o){return o}}}function H(){b.addClass(g);if(C){e.addClass(b,C)}}function R(e,t){if(e.from&&e.to){n(e.from.element);n(e.to.element)}else{n(e.element)}function n(e){s(e).setHost(t)}}function P(){var e=s(b);if(e&&(y!=="leave"||!w.$$domOperationFired)){e.end()}}function O(t){b.off("$destroy",P);l(b);m(b,w);S(b,w);w.domOperation();if(C){e.removeClass(b,C)}b.removeClass(g);E.complete(!t)}}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",O).factory("$$rAFMutex",Ee).factory("$$rAFScheduler",P).factory("$$AnimateRunner",Ae).provider("$$animateQueue",$e).provider("$$animation",Ce).provider("$animateCss",ge).provider("$$animateCssDriver",ve).provider("$$animateJs",be).provider("$$animateJsDriver",ye)})(window,window.angular);(function(e,t,n){"use strict";var r=t.isArray;var i=t.forEach;var o=t.isString;var a=t.element;t.module("ngMessages",[]).directive("ngMessages",["$animate",function(e){var t="ng-active";var n="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,l,s){var u=this;var c=0;var d=this.messages={};var f,m;this.render=function(c){c=c||{};f=false;m=c;var d=r(l,s.ngMessagesMultiple)||r(l,s.multiple);var p=[];var h={};var g=u.head;var v=false;var b=0;while(g!=null){b++;var y=g.message;var _=false;if(!v){i(c,function(e,t){if(!_&&a(e)&&y.test(t)){if(h[t])return;h[t]=true;_=true;y.attach()}})}if(_){v=!d}else{p.push(y)}g=g.next}i(p,function(e){e.detach()});p.length!==b?e.setClass(o,t,n):e.setClass(o,n,t)};l.$watchCollection(s.ngMessages||s["for"],u.render);this.reRender=function(){if(!f){f=true;l.$evalAsync(function(){if(f){m&&u.render(m)}})}};this.register=function(e,t){var n=c.toString();d[n]={message:t};h(o[0],e,n);e.$$ngMessageNode=n;c++;u.reRender()};this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode;g(o[0],e,t);
delete d[t];u.reRender()};function p(e,t){var n=t;var r=[];while(n&&n!==e){var i=n.$$ngMessageNode;if(i&&i.length){return d[i]}if(n.childNodes.length&&r.indexOf(n)==-1){r.push(n);n=n.childNodes[n.childNodes.length-1]}else{n=n.previousSibling||n.parentNode}}}function h(e,t,n){var r=d[n];if(!u.head){u.head=r}else{var i=p(e,t);if(i){r.next=i.next;i.next=r}else{r.next=u.head;u.head=r}}}function g(e,t,n){var r=d[n];var i=p(e,t);if(i){i.next=r.next}else{u.head=r.next}}}]};function r(e,t){return o(t)&&t.length===0||a(e.$eval(t))}function a(e){return o(e)?e.length:!!e}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,o){var l=o.ngMessagesInclude||o.src;e(l).then(function(e){n(e)(r,function(e){i.after(e);var n=a(t[0].createComment(" ngMessagesInclude: "+l+" "));i.after(n);i.remove()})})}}}]).directive("ngMessage",l("AE")).directive("ngMessageExp",l("A"));function l(e){return["$animate",function(e){return{restrict:"AE",transclude:"element",terminal:true,require:"^^ngMessages",link:function(n,i,o,a,l){var s=i[0];var u;var c=o.ngMessage||o.when;var d=o.ngMessageExp||o.whenExp;var f=function(e){u=e?r(e)?e:e.split(/[\s,]+/):null;a.reRender()};if(d){f(n.$eval(d));n.$watchCollection(d,f)}else{f(c)}var m,p;a.register(s,p={test:function(e){return t(u,e)},attach:function(){if(!m){l(n,function(t){e.enter(t,null,i);m=t;m.on("$destroy",function(){if(m){a.deregister(s);p.detach()}})})}},detach:function(){if(m){var t=m;m=null;e.leave(t)}}})}}}];function t(e,t){if(e){return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}}}})(window,window.angular);(function(e,t,n){"use strict";(function(){"use strict";t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.dialog","material.components.divider","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.toast","material.components.tabs","material.components.toolbar","material.components.tooltip","material.components.whiteframe"])})();(function(){"use strict";t.module("material.core",["material.core.gestures","material.core.theming"]).config(e);function e(e,t){e.decorator("$$rAF",["$delegate",n]);t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}e.$inject=["$provide","$mdThemingProvider"];function n(e){e.throttle=function(t){var n,r,i,o;return function a(){n=arguments;o=this;i=t;if(!r){r=true;e(function(){i.apply(o,n);r=false})}}};return e}})();(function(){"use strict";t.module("material.core").factory("$mdConstant",e);function e(e,t){var n=/webkit/i.test(t.vendorPrefix);function r(e){return n?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(n?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(n?" webkitAnimationEnd":""),TRANSFORM:r("transform"),TRANSFORM_ORIGIN:r("transformOrigin"),TRANSITION:r("transition"),TRANSITION_DURATION:r("transitionDuration"),ANIMATION_PLAY_STATE:r("animationPlayState"),ANIMATION_DURATION:r("animationDuration"),ANIMATION_NAME:r("animationName"),ANIMATION_TIMING:r("animationTimingFunction"),ANIMATION_DIRECTION:r("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}e.$inject=["$$rAF","$sniffer"]})();(function(){"use strict";t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){t.iterator=e;return t}])}]);function e(e,n){var r=function(){return true};if(e&&!t.isArray(e)){e=Array.prototype.slice.call(e)}n=!!n;var i=e||[];return{items:o,count:a,inRange:l,contains:h,indexOf:p,itemAt:c,findBy:d,add:f,remove:m,first:g,last:v,next:t.bind(null,b,false),previous:t.bind(null,b,true),hasPrevious:u,hasNext:s};function o(){return[].concat(i)}function a(){return i.length}function l(e){return i.length&&e>-1&&e<i.length}function s(e){return e?l(p(e)+1):false}function u(e){return e?l(p(e)-1):false}function c(e){return l(e)?i[e]:null}function d(e,t){return i.filter(function(n){return n[e]===t})}function f(e,n){if(!e)return-1;if(!t.isNumber(n)){n=i.length}i.splice(n,0,e);return p(e)}function m(e){if(h(e)){i.splice(p(e),1)}}function p(e){return i.indexOf(e)}function h(e){return e&&p(e)>-1}function g(){return i.length?i[0]:null}function v(){return i.length?i[i.length-1]:null}function b(e,o,a,s){a=a||r;var u=p(o);while(true){if(!l(u))return null;var c=u+(e?-1:1);var d=null;if(l(c)){d=i[c]}else if(n){d=e?v():g();c=p(d)}if(d===null||c===s)return null;if(a(d))return d;if(t.isUndefined(s))s=c;u=c}}}})();(function(){"use strict";t.module("material.core").factory("$mdMedia",e);function e(e,n,r){var i={};var o={};var a={};var l={};s.getResponsiveAttribute=m;s.getQuery=f;s.watchResponsiveAttributes=p;return s;function s(e){var n=i[e];if(t.isUndefined(n)){n=i[e]=u(e)}var r=a[n];if(t.isUndefined(r)){r=c(n)}return r}function u(t){return e.MEDIA[t]||(t.charAt(0)!=="("?"("+t+")":t)}function c(e){var t=o[e]=r.matchMedia(e);t.addListener(d);return a[t.media]=!!t.matches}function d(e){n.$evalAsync(function(){a[e.media]=!!e.matches})}function f(e){return o[e]}function m(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var a=e.MEDIA_PRIORITY[r];if(!o[i[a]].matches){continue}var l=h(t,n+"-"+a);if(t[l]){return t[l]}}return t[h(t,n)]}function p(n,r,i){var o=[];n.forEach(function(n){var a=h(r,n);if(r[a]){o.push(r.$observe(a,t.bind(void 0,i,null)))}for(var l in e.MEDIA){a=h(r,n+"-"+l);if(!r[a]){return}o.push(r.$observe(a,t.bind(void 0,i,l)))}});return function a(){o.forEach(function(e){e()})}}function h(e,t){return l[t]||(l[t]=e.$normalize(t))}}e.$inject=["$mdConstant","$rootScope","$window"]})();(function(){"use strict";var r=["0","0","0"];t.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$window","$mdConstant",function(i,o,a,l,s,u){var c;function d(e){return e[0]||e}return c={now:e.performance?t.bind(e.performance,e.performance.now):Date.now,clientRect:function(e,t,n){var r=d(e);t=d(t||r.offsetParent||document.body);var i=r.getBoundingClientRect();var o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-o.left,top:i.top-o.top,width:i.width,height:i.height}},offsetRect:function(e,t){return c.clientRect(e,t,true)},disableScrollAround:function(e){e=e instanceof t.element?e[0]:e;var n=e;var r;while(n=this.getClosest(n,"MD-CONTENT",true)){if(u(n)){r=t.element(n)[0]}}if(!r){r=o[0].body;if(!u(r))return t.noop}if(r.nodeName=="BODY"){return a()}else{return i()}function i(){var e=t.element('<div class="md-scroll-mask"><div class="md-scroll-mask-bar"></div></div>');var n=s.getComputedStyle(r);var i=r.getBoundingClientRect();var a=i.width-r.clientWidth;l(e[0],{zIndex:n.zIndex=="auto"?2:n.zIndex+1,width:i.width+"px",height:i.height+"px",top:i.top+"px",left:i.left+"px"});e[0].firstElementChild.style.width=a+"px";o[0].body.appendChild(e[0]);e.on("wheel",c);e.on("touchmove",c);o.on("keydown",u);return function d(){e.off("wheel");e.off("touchmove");e[0].parentNode.removeChild(e[0]);o.off("keydown",u)};function u(e){if(r.contains(e.target)){e.preventDefault();e.stopImmediatePropagation()}}function c(e){e.preventDefault()}}function a(){var e=r.getAttribute("style")||"";var t=r.scrollTop;l(r,{position:"fixed",width:"100%",overflowY:"scroll",top:-t+"px"});return function n(){r.setAttribute("style",e);r.scrollTop=t}}function l(e,t){for(var n in t){e.style[n]=t[n]}}function u(e){if(e instanceof t.element)e=e[0];return e.scrollHeight>e.offsetHeight}},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');o[0].body.appendChild(e[0]);this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth;e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function i(e){if(e.target===n&&e.$focus){n.focus();e.stopImmediatePropagation();e.preventDefault();n.removeEventListener("click",i)}},true);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",false,true,e,{},0,0,0,0,false,false,false,false,0,null);r.$material=true;r.$focus=true;n.dispatchEvent(r)},transitionEndPromise:function(e,t){t=t||{};var n=l.defer();e.on(u.CSS.TRANSITIONEND,r);function r(t){if(!t||t.target===e[0]){e.off(u.CSS.TRANSITIONEND,r);n.resolve()}}if(t.timeout)a(r,t.timeout);return n.promise},fakeNgModel:function(){return{$fake:true,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e;this.$render(e);this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return(""+e).length===0},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,r,i){var o;return function l(){var l=r,s=Array.prototype.slice.call(arguments);a.cancel(o);o=a(function(){o=n;e.apply(l,s)},t||10,i)}},throttle:function f(e,t){var n;return function r(){var r=this;var i=arguments;var o=c.now();if(!n||o-n>t){e.apply(r,i);n=o}}},time:function m(e){var t=c.now();e();return c.now()-t},nextUid:function(){var e=r.length;var t;while(e){e--;t=r[e].charCodeAt(0);if(t==57){r[e]="A";return r.join("")}if(t==90){r[e]="0"}else{r[e]=String.fromCharCode(t+1);return r.join("")}}r.unshift("0");return r.join("")},disconnectScope:function p(e){if(!e)return;if(e.$root===e)return;if(e.$$destroyed)return;var t=e.$parent;e.$$disconnected=true;if(t.$$childHead===e)t.$$childHead=e.$$nextSibling;if(t.$$childTail===e)t.$$childTail=e.$$prevSibling;if(e.$$prevSibling)e.$$prevSibling.$$nextSibling=e.$$nextSibling;if(e.$$nextSibling)e.$$nextSibling.$$prevSibling=e.$$prevSibling;e.$$nextSibling=e.$$prevSibling=null},reconnectScope:function h(e){if(!e)return;if(e.$root===e)return;if(!e.$$disconnected)return;var t=e;var n=t.$parent;t.$$disconnected=false;t.$$prevSibling=n.$$childTail;if(n.$$childHead){n.$$childTail.$$nextSibling=t;n.$$childTail=t}else{n.$$childHead=n.$$childTail=t}},getClosest:function g(e,n,r){if(e instanceof t.element)e=e[0];n=n.toUpperCase();if(r)e=e.parentNode;if(!e)return null;do{if(e.nodeName===n){return e}}while(e=e.parentNode);return null},extractElementByName:function(e,n){for(var r=0,i=e.length;r<i;r++){if(e[r].nodeName.toLowerCase()===n){return t.element(e[r])}}return e},initOptionalProperties:function(e,n,r){r=r||{};t.forEach(e.$$isolateBindings,function(i,o){if(i.optional&&t.isUndefined(e[o])){var a=n.hasOwnProperty(n.$normalize(i.attrName));e[o]=t.isDefined(r[o])?r[o]:a}})}}}]);t.element.prototype.focus=t.element.prototype.focus||function(){if(this.length){this[0].focus()}return this};t.element.prototype.blur=t.element.prototype.blur||function(){if(this.length){this[0].blur()}return this}})();(function(){"use strict";t.module("material.core").service("$mdAria",e);function e(e,n,r){return{expect:i,expectAsync:o,expectWithText:a};function i(e,r,i){var o=e[0]||e;if(o&&((!o.hasAttribute(r)||o.getAttribute(r).length===0)&&!s(o,r))){i=t.isString(i)?i.trim():"";if(i.length){e.attr(r,i)}else{n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',o)}}}function o(t,n,r){e(function(){i(t,n,r())})}function a(e,t){o(e,t,function(){return l(e)})}function l(e){return e.text().trim()}function s(e,t){var n=e.hasChildNodes(),i=false;function o(e){var t=e.currentStyle?e.currentStyle:r.getComputedStyle(e);return t.display==="none"}if(n){var a=e.childNodes;for(var l=0;l<a.length;l++){var s=a[l];if(s.nodeType===1&&s.hasAttribute(t)){if(!o(s)){i=true}}}}return i}}e.$inject=["$$rAF","$log","$window"]})();(function(){"use strict";t.module("material.core").service("$mdCompiler",e);function e(e,n,r,i,o,a){this.compile=function(l){var s=l.templateUrl;var u=l.template||"";var c=l.controller;var d=l.controllerAs;var f=l.resolve||{};var m=l.locals||{};var p=l.transformTemplate||t.identity;var h=l.bindToController;t.forEach(f,function(e,n){if(t.isString(e)){f[n]=r.get(e)}else{f[n]=r.invoke(e)}});t.extend(f,m);if(s){f.$template=n.get(s,{cache:a}).then(function(e){return e.data})}else{f.$template=e.when(u)}return e.all(f).then(function(e){var n=p(e.$template);var r=l.element||t.element("<div>").html(n.trim()).contents();var a=i(r);return{locals:e,element:r,link:function s(n){e.$scope=n;if(c){var i=o(c,e,true);if(h){t.extend(i.instance,e)}var l=i();r.data("$ngControllerController",l);r.children().data("$ngControllerController",l);if(d){n[d]=l}}return a(n)}}})}}e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]})();(function(){"use strict";var n={};var r,i,o=false;var a=false;t.module("material.core.gestures",[]).provider("$mdGesture",l).factory("$$MdGestureHandler",c).run(d);function l(){}l.prototype={skipClickHijack:function(){return o=true},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new s(e,t,n)}]};function s(r,i,a){var l=navigator.userAgent||navigator.vendor||e.opera;var s=l.match(/ipad|iphone|ipod/i);var u=l.match(/android/i);var c=typeof e.jQuery!=="undefined"&&t.element===e.jQuery;var d={handler:h,register:m,isHijackingClicks:(s||u)&&!c&&!o};if(d.isHijackingClicks){d.handler("click",{options:{maxDistance:6},onEnd:function(e,t){if(t.distance<this.state.options.maxDistance){this.dispatchEvent(e,"click")}}})}function m(e,t,r){var i=n[t.replace(/^\$md./,"")];if(!i){throw new Error("Failed to register element with handler "+t+". "+"Available handlers: "+Object.keys(n).join(", "))}return i.registerElement(e,r)}function h(e,i){var o=new r(e);t.extend(o,i);n[e]=o;return d}return d.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){a.cancel(this.state.timeout)},onStart:function(e,n){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:n.x,y:n.y};this.state.timeout=a(t.bind(this,function r(){this.dispatchEvent(e,"$md.hold");this.cancel()}),this.state.options.delay,false)},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x;var r=this.state.pos.y-t.y;if(Math.sqrt(n*n+r*r)>this.options.maxDistance){this.cancel()}},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:true,cancelMultiplier:1.5},onStart:function(e){if(!this.state.registeredParent)this.cancel()},onMove:function(e,t){var n,r;e.preventDefault();if(!this.state.dragPointer){if(this.state.options.horizontal){n=Math.abs(t.distanceX)>this.state.options.minDistance;r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier}else{n=Math.abs(t.distanceY)>this.state.options.minDistance;r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier}if(n){this.state.dragPointer=f(e);p(e,this.state.dragPointer);this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)}else if(r){this.cancel()}}else{this.dispatchDragMove(e)}},dispatchDragMove:i.throttle(function(e){if(this.state.isRunning){p(e,this.state.dragPointer);this.dispatchEvent(e,"$md.drag",this.state.dragPointer)}}),onEnd:function(e,t){if(this.state.dragPointer){p(e,this.state.dragPointer);this.dispatchEvent(e,"$md.dragend",this.state.dragPointer)}}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var n=t.directionX=="left"?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,n)}}})}s.$inject=["$$MdGestureHandler","$$rAF","$timeout"];function u(e){this.name=e;this.state={}}function c(){var n=typeof e.jQuery!=="undefined"&&t.element===e.jQuery;u.prototype={options:{},dispatchEvent:n?i:o,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(this.state.isRunning)return;var r=this.getNearestParent(e.target);var i=r&&r.$mdGesture[this.name]||{};this.state={isRunning:true,options:t.extend({},this.options,i),registeredParent:r};this.onStart(e,n)},move:function(e,t){if(!this.state.isRunning)return;this.onMove(e,t)},end:function(e,t){if(!this.state.isRunning)return;this.onEnd(e,t);this.state.isRunning=false},cancel:function(e,t){this.onCancel(e,t);this.state={}},getNearestParent:function(e){var t=e;while(t){if((t.$mdGesture||{})[this.name]){return t}t=t.parentNode}return null},registerElement:function(e,t){var n=this;e[0].$mdGesture=e[0].$mdGesture||{};e[0].$mdGesture[this.name]=t||{};e.on("$destroy",r);return r;function r(){delete e[0].$mdGesture[n.name];e.off("$destroy",r)}}};return u;function i(e,n,i){i=i||r;var o=new t.element.Event(n);o.$material=true;o.pointer=i;o.srcEvent=e;t.extend(o,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey});t.element(i.target).trigger(o)}function o(t,n,i){i=i||r;var o;if(n==="click"){o=document.createEvent("MouseEvents");o.initMouseEvent("click",true,true,e,t.detail,i.x,i.y,i.x,i.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)}else{o=document.createEvent("CustomEvent");o.initCustomEvent(n,true,true,{})}o.$material=true;o.pointer=i;o.srcEvent=t;i.target.dispatchEvent(o)}}function d(e,o){document.contains||(document.contains=function(e){return document.body.contains(e)});if(!a&&e.isHijackingClicks){document.addEventListener("click",function v(e){var t=e.clientX===0&&e.clientY===0;if(!t&&!e.$material&&!e.isIonicTap){e.preventDefault();e.stopPropagation()}},true);a=true}var l="mousedown touchstart pointerdown";var s="mousemove touchmove pointermove";var u="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(l,d).on(s,h).on(u,g).on("$$mdGestureReset",function b(){i=r=null});function c(e,t){var i;for(var a in n){i=n[a];if(i instanceof o){if(e==="start"){i.cancel()}i[e](t,r)}}}function d(e){if(r)return;var t=+Date.now();if(i&&!m(e,i)&&t-i.endTime<1500){return}r=f(e);c("start",e)}function h(e){if(!r||!m(e,r))return;p(e,r);c("move",e)}function g(e){if(!r||!m(e,r))return;p(e,r);r.endTime=+Date.now();c("end",e);i=r;r=null}}d.$inject=["$mdGesture","$$MdGestureHandler"];function f(e){var t=h(e);var n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};n.startX=n.x=t.pageX;n.startY=n.y=t.pageY;return n}function m(e,t){return e&&t&&e.type.charAt(0)===t.type}function p(e,t){var n=h(e);var r=t.x=n.pageX;var i=t.y=n.pageY;t.distanceX=r-t.startX;t.distanceY=i-t.startY;t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY);t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"";t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"";t.duration=+Date.now()-t.startTime;t.velocityX=t.distanceX/t.duration;t.velocityY=t.distanceY/t.duration}function h(e){e=e.originalEvent||e;return e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}})();(function(){"use strict";t.module("material.core").provider("$$interimElement",e);function e(){e.$get=r;r.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"];return e;function e(e){var n=["onHide","onShow","onRemove"];var r={};var i={presets:{}};var o={setDefaults:a,addPreset:s,addMethod:l,$get:u};o.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]});u.$inject=["$$interimElement","$animate","$injector"];return o;function a(e){i.optionsFactory=e.options;i.methods=(e.methods||[]).concat(n);return o}function l(e,t){r[e]=t;return o}function s(t,r){r=r||{};r.methods=r.methods||[];r.options=r.options||function(){return{}};if(/^cancel|hide|show$/.test(t)){throw new Error("Preset '"+t+"' in "+e+" is reserved!")}if(r.methods.indexOf("_options")>-1){throw new Error("Method '_options' in "+e+" is reserved!")}i.presets[t]={methods:r.methods.concat(n),optionsFactory:r.options,argOption:r.argOption};return o}function u(n,o,a){var l;var s;var u=n();var c={hide:u.hide,cancel:u.cancel,show:d};l=i.methods||[];s=f(i.optionsFactory,{});t.forEach(r,function(e,t){c[t]=e});t.forEach(i.presets,function(e,n){var r=f(e.optionsFactory,{});var i=(e.methods||[]).concat(l);t.extend(r,{$type:n});function o(e){this._options=t.extend({},r,e)}t.forEach(i,function(e){o.prototype[e]=function(t){this._options[e]=t;return this}});if(e.argOption){var a="show"+n.charAt(0).toUpperCase()+n.slice(1);c[a]=function(e){var t=c[n](e);return c.show(t)}}c[n]=function(n){if(arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)){return(new o)[e.argOption](n)}else{return new o(n)}}});return c;function d(e){if(e&&e._options)e=e._options;return u.show(t.extend({},s,e))}function f(t,n){var r={};r[e]=c;return a.invoke(t||function(){return n},{},r)}}}function r(e,r,i,o,a,l,s,u,c){var d=s.startSymbol(),f=s.endSymbol(),m=d==="{{"&&f==="}}",p=m?t.identity:h;return function g(){var s=[];var d;return d={show:f,hide:m,cancel:h};function f(e){if(s.length){return d.cancel().then(function(){return f(e)})}else{var t=new g(e);s.push(t);return t.show().then(function(){return t.deferred.promise})}}function m(e){var t=s.shift();return t&&t.remove().then(function(){t.deferred.resolve(e)})}function h(e){var t=s.shift();return r.when(t&&t.remove().then(function(){t.deferred.reject(e)}))}function g(s){var f;var m,h,g,v;s=s||{};s=t.extend({preserveScope:false,scope:s.scope||i.$new(s.isolateScope),onShow:function(e,t,n){return l.enter(t,n.parent)},onRemove:function(e,t,n){return t&&l.leave(t)||r.when()}},s);if(s.template){s.template=p(s.template)}return f={options:s,deferred:r.defer(),show:function(){var n;if(s.skipCompile){n=r(function(e){e({locals:{},link:function(){return s.element}})})}else{n=u.compile(s)}return g=n.then(function(n){t.extend(n.locals,f.options);h=n.link(s.scope);if(t.isFunction(s.parent)){s.parent=s.parent(s.scope,h,s)}else if(t.isString(s.parent)){s.parent=t.element(e[0].querySelector(s.parent))}if(!(s.parent||{}).length){var i;if(a[0]&&a[0].querySelector){i=a[0].querySelector(":not(svg) > body")}if(!i)i=a[0];if(i.nodeName=="#comment"){i=e[0].body}s.parent=t.element(i)}if(s.themable)c(h);var l=s.onShow(s.scope,h,s);return r.when(l).then(function(){(s.onComplete||t.noop)(s.scope,h,s);u()});function u(){if(s.hideDelay){m=o(d.cancel,s.hideDelay)}}},function(e){g=true;f.deferred.reject(e)})},cancelTimeout:function(){if(m){o.cancel(m);m=n}},remove:function(){f.cancelTimeout();return v=r.when(g).then(function(){var e=h?s.onRemove(s.scope,h,s):true;return r.when(e).then(function(){if(!s.preserveScope)s.scope.$destroy();v=true})})}}}};function h(e){if(!e||!t.isString(e))return e;return e.replace(/\{\{/g,d).replace(/}}/g,f)}}}})();(function(){"use strict";t.module("material.core").factory("$mdComponentRegistry",e);function e(e,n){var r;var i=[];var o={};return r={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return i},get:function(e){if(!a(e))return null;var t,n,r;for(t=0,n=i.length;t<n;t++){r=i[t];if(r.$$mdHandle===e){return r}}return null},register:function(e,n){if(!n)return t.noop;e.$$mdHandle=n;i.push(e);a();return r;function r(){var t=i.indexOf(e);if(t!==-1){i.splice(t,1)}}function a(){var t=o[n];if(t){t.resolve(e);delete o[n]}}},when:function(e){if(a(e)){var t=n.defer();var i=r.get(e);if(i){t.resolve(i)}else{o[e]=t}return t.promise}return n.reject("Invalid `md-component-id` value.")}};function a(e){return e&&e!==""}}e.$inject=["$log","$q"]})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdButtonInkRipple",e);function e(e){return{attach:n};function n(n,i,o){var a=r(i);return e.attach(n,i,t.extend(a,o))}function r(e){if(e.hasClass("md-icon-button")){return{isMenuItem:e.hasClass("md-menu-item"),fitRipple:true,center:true}}else{return{isMenuItem:e.hasClass("md-menu-item"),dimBackground:true}}}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdCheckboxInkRipple",e);function e(e){return{attach:n};function n(n,r,i){return e.attach(n,r,t.extend({center:true,dimBackground:false,fitRipple:true},i))}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdListInkRipple",e);function e(e){return{attach:n};function n(n,r,i){return e.attach(n,r,t.extend({center:false,dimBackground:true,outline:false,rippleSize:"full"},i))}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",r()).directive("mdNoBar",r()).directive("mdNoStretch",r());function e(e,n){return{controller:t.noop,link:function(t,r,i){if(i.hasOwnProperty("mdInkRippleCheckbox")){n.attach(t,r)}else{e.attach(t,r)}}}}e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"];function n(e,n){return{attach:r};function r(r,i,o){if(i.controller("mdNoInk"))return t.noop;o=t.extend({colorElement:i,mousedown:true,hover:true,focus:true,center:false,mousedownPauseTime:150,dimBackground:false,outline:false,fullRipple:true,isMenuItem:false,fitRipple:false},o);var a,l=i.controller("mdInkRipple")||{},s=0,u=[],c=[],d=i.attr("md-highlight"),f=false,m=false,p=i[0],h=i.attr("md-ripple-size"),g=b(i.attr("md-ink-ripple"))||b(o.colorElement.length&&e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");switch(h){case"full":o.fullRipple=true;break;case"partial":o.fullRipple=false;break}if(o.mousedown){i.on("$md.pressdown",$).on("$md.pressup",E)}l.createRipple=w;if(d){r.$watch(d,function C(e){f=e;if(f&&!u.length){n(function(){w(0,0)},0,false)}t.forEach(u,_)})}return function M(){i.off("$md.pressdown",$).off("$md.pressup",E);v().remove()};function v(){var e=i.data("$mdRippleContainer");if(e)return e;e=t.element('<div class="md-ripple-container">');i.append(e);i.data("$mdRippleContainer",e);return e}function b(e){if(!e)return;if(e.indexOf("rgba")===0)return e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)");if(e.indexOf("rgb")===0)return n(e);if(e.indexOf("#")===0)return t(e);function t(e){var t=e.charAt(0)==="#"?e.substr(1):e,n=t.length/3,r=t.substr(0,n),i=t.substr(n,n),o=t.substr(n*2);if(n===1){r+=r;i+=i;o+=o}return"rgba("+parseInt(r,16)+","+parseInt(i,16)+","+parseInt(o,16)+",0.1)"}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}}function y(e,t){u.splice(u.indexOf(e),1);if(u.length===0){v().css({backgroundColor:""})}n(function(){e.remove()},t,false)}function _(e){var t=u.indexOf(e),n=c[t]||{},r=u.length>1?false:f,i=u.length>1?false:m;if(r||n.animating||i){e.addClass("md-ripple-visible")}else if(e){e.removeClass("md-ripple-visible");if(o.outline){e.css({width:a+"px",height:a+"px",marginLeft:a*-1+"px",marginTop:a*-1+"px"})}y(e,o.outline?450:650)}}function w(r,l){g=b(i.attr("md-ink-ripple"))||b(e.getComputedStyle(o.colorElement[0]).color||"rgb(0, 0, 0)");var d=v(),f=E(r,l),m=A(f,r,l),h=$(m),y=u.indexOf(h),w=c[y]||{};a=f;w.animating=true;n(function(){if(o.dimBackground){d.css({backgroundColor:g})}h.addClass("md-ripple-placed md-ripple-scaled");if(o.outline){h.css({borderWidth:f*.5+"px",marginLeft:f*-.5+"px",marginTop:f*-.5+"px"})}else{h.css({left:"50%",top:"50%"})}_(h);n(function(){w.animating=false;_(h)},o.outline?450:225,false)},0,false);return h;function $(e){var n=t.element('<div class="md-ripple" data-counter="'+s++ +'">');u.unshift(n);c.unshift({animating:true});d.append(n);e&&n.css(e);return n}function E(e,t){var n=d.prop("offsetWidth"),r=d.prop("offsetHeight"),i,a,l;if(o.isMenuItem){a=Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}else if(o.outline){l=p.getBoundingClientRect();e-=l.left;t-=l.top;n=Math.max(e,n-e);r=Math.max(t,r-t);a=2*Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}else{i=o.fullRipple?1.1:.8;a=Math.sqrt(Math.pow(n,2)+Math.pow(r,2))*i;if(o.fitRipple){a=Math.min(r,n,a)}}return a}function A(e,t,n){var r=p.getBoundingClientRect(),i={backgroundColor:a(g),borderColor:a(g),width:e+"px",height:e+"px"};if(o.outline){i.width=0;i.height=0}else{i.marginLeft=i.marginTop=e*-.5+"px"}if(o.center){i.left=i.top="50%"}else{i.left=Math.round((t-r.left)/d.prop("offsetWidth")*100)+"%";i.top=Math.round((n-r.top)/d.prop("offsetHeight")*100)+"%"}return i;function a(e){return e.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}}}function $(e){if(!A())return;w(e.pointer.x,e.pointer.y);m=true}function E(){m=false;var e=u[u.length-1];n(function(){_(e)},0,false)}function A(){var e=p.parentNode;var t=e&&e.parentNode;var n=t&&t.parentNode;return!r(p)&&!r(e)&&!r(t)&&!r(n);function r(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}}}}n.$inject=["$window","$timeout"];function r(){return function(){return{controller:t.noop}}}})();(function(){"use strict";(function(){"use strict";t.module("material.core").factory("$mdTabInkRipple",e);function e(e){return{attach:n};function n(n,r,i){return e.attach(n,r,t.extend({center:false,dimBackground:true,outline:false,rippleSize:"full"},i))}}e.$inject=["$mdInkRipple"]})()})();(function(){"use strict";t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",
500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})})();(function(){"use strict";t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",b).directive("mdThemable",y).provider("$mdTheming",v).run(w);var e={};var r;var i;var o={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"};var a={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"};var l="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)";var s="";var u=E("rgba(0,0,0,0.87)");var c=E("rgba(255,255,255,0.87");var d=E("rgb(255,255,255)");var f=["primary","accent","warn","background"];var m="primary";var p={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}};var h={background:{"default":"800","hue-1":"300","hue-2":"600","hue-3":"900"}};f.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};if(!p[e])p[e]=t;if(!h[e])h[e]=t});var g=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];function v(e){r={};i={};var u;var c="default";var d=false;t.extend(r,e);$.$inject=["$rootScope","$log"];return u={definePalette:m,extendPalette:v,theme:y,setDefaultTheme:function(e){c=e},alwaysWatchTheme:function(e){d=e},$get:$,_LIGHT_DEFAULT_HUES:p,_DARK_DEFAULT_HUES:h,_PALETTES:r,_THEMES:i,_parseRules:_,_rgba:A};function m(e,t){t=t||{};r[e]=b(e,t);return u}function v(e,n){return b(e,t.extend({},r[e]||{},n))}function b(e,t){var n=g.filter(function(e){return!t[e]});if(n.length){throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e))}return t}function y(e,n){if(i[e])return i[e];n=n||"default";var r=typeof n==="string"?i[n]:n;var o=new w(e);if(r){t.forEach(r.colors,function(e,n){o.colors[n]={name:e.name,hues:t.extend({},e.hues)}})}i[e]=o;return o}function w(e){var n=this;n.name=e;n.colors={};n.dark=r;r(false);function r(e){e=arguments.length===0?true:!!e;if(e===n.isDark)return;n.isDark=e;n.foregroundPalette=n.isDark?a:o;n.foregroundShadow=n.isDark?l:s;var r=n.isDark?h:p;var i=n.isDark?p:h;t.forEach(r,function(e,t){var r=n.colors[t];var o=i[t];if(r){for(var a in r.hues){if(r.hues[a]===o[a]){r.hues[a]=e[a]}}}});return n}f.forEach(function(e){var r=(n.isDark?h:p)[e];n[e+"Palette"]=function i(o,a){var l=n.colors[e]={name:o,hues:t.extend({},r,a)};Object.keys(l.hues).forEach(function(e){if(!r[e]){throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",n.name).replace("%3",o).replace("%4",Object.keys(r).join(", ")))}});Object.keys(l.hues).map(function(e){return l.hues[e]}).forEach(function(t){if(g.indexOf(t)==-1){throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",n.name).replace("%3",e).replace("%4",o).replace("%5",g.join(", ")))}});return n};n[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. "+"Use $mdThemingProviderTheme."+e+"Palette() instead.");return n[e+"Palette"].apply(n,t)}})}function $(e,r){a.inherit=function(n,i){var a=i.controller("mdTheme");var l=n.attr("md-theme-watch");if((d||t.isDefined(l))&&l!="false"){var s=e.$watch(function(){return a&&a.$mdTheme||c},f);n.on("$destroy",s)}else{var u=a&&a.$mdTheme||c;f(u)}function f(e){if(!o(e)){r.warn("Attempted to use unregistered theme '"+e+"'. "+"Register it with $mdThemingProvider.theme().")}var t=n.data("$mdThemeName");if(t)n.removeClass("md-"+t+"-theme");n.addClass("md-"+e+"-theme");n.data("$mdThemeName",e)}};a.THEMES=t.extend({},i);a.defaultTheme=function(){return c};a.registered=o;return a;function o(e){if(e===n||e==="")return true;return a.THEMES[e]!==n}function a(t,r){if(r===n){r=t;t=n}if(t===n){t=e}a.inherit(r,r)}}}v.$inject=["$mdColorPalette"];function b(e,t,n){return{priority:100,link:{pre:function(r,i,o){var a={$setTheme:function(t){if(!e.registered(t)){n.warn("attempted to use unregistered theme '"+t+"'")}a.$mdTheme=t}};i.data("$mdThemeController",a);a.$setTheme(t(o.mdTheme)(r));o.$observe("mdTheme",a.$setTheme)}}}}b.$inject=["$mdTheming","$interpolate","$log"];function y(e){return e}y.$inject=["$mdTheming"];function _(e,n,i){$(e,n);i=i.replace(/THEME_NAME/g,e.name);var o=[];var a=e.colors[n];var l=new RegExp(".md-"+e.name+"-theme","g");var s=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g");var u=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g;var c=r[a.name];i=i.replace(u,function(t,n,i,o){if(n==="foreground"){if(i=="shadow"){return e.foregroundShadow}else{return e.foregroundPalette[i]||e.foregroundPalette["1"]}}if(i.indexOf("hue")===0){i=e.colors[n].hues[i]}return A((r[e.colors[n].name][i]||"").value,o)});t.forEach(a.hues,function(t,n){var r=i.replace(s,function(e,n,r,i,o){return A(c[t][i==="color"?"value":"contrast"],o)});if(n!=="default"){r=r.replace(l,".md-"+e.name+"-theme.md-"+n)}o.push(r)});return o}function w(n){var o=document.getElementsByTagName("head")[0];var a=o?o.firstElementChild:null;var l=n.has("$MD_THEME_CSS")?n.get("$MD_THEME_CSS"):"";if(!a)return;if(l.length===0)return;t.forEach(r,g);var s={};var p=l.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"});var h=new RegExp("md-("+f.join("|")+")","g");f.forEach(function(e){s[e]=""});p.forEach(function(e){var t=e.match(h);for(var n=0,r;r=f[n];n++){if(e.indexOf(".md-"+r)>-1){return s[r]+=e}}for(n=0;r=f[n];n++){if(e.indexOf(r)>-1){return s[r]+=e}}return s[m]+=e});t.forEach(i,function(t){if(!e[t.name]){f.forEach(function(e){var n=_(t,e,s[e]);while(n.length){var r=document.createElement("style");r.setAttribute("type","text/css");r.appendChild(document.createTextNode(n.shift()));o.insertBefore(r,a)}});if(t.colors.primary.name==t.colors.accent.name){console.warn("$mdThemingProvider: Using the same palette for primary and"+" accent. This violates the material design spec.")}e[t.name]=true}});function g(e){var n=e.contrastDefaultColor;var r=e.contrastLightColors||[];var i=e.contrastStrongLightColors||[];var o=e.contrastDarkColors||[];if(typeof r==="string")r=r.split(" ");if(typeof i==="string")i=i.split(" ");if(typeof o==="string")o=o.split(" ");delete e.contrastDefaultColor;delete e.contrastLightColors;delete e.contrastStrongLightColors;delete e.contrastDarkColors;t.forEach(e,function(a,l){if(t.isObject(a))return;var s=E(a);if(!s){throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",l))}e[l]={value:s,contrast:f()};function f(){if(n==="light"){if(o.indexOf(l)>-1){return u}else{return i.indexOf(l)>-1?d:c}}else{if(r.indexOf(l)>-1){return i.indexOf(l)>-1?d:c}else{return u}}}})}}w.$inject=["$injector"];function $(e,t){if(!r[(e.colors[t]||{}).name]){throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(r).join(", ")))}}function E(e){if(t.isArray(e)&&e.length==3)return e;if(/^rgb/.test(e)){return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return t==3?parseFloat(e,10):parseInt(e,10)})}if(e.charAt(0)=="#")e=e.substring(1);if(!/^([a-fA-F0-9]{3}){1,2}$/g.test(e))return;var n=e.length/3;var r=e.substr(0,n);var i=e.substr(n,n);var o=e.substr(n*2);if(n===1){r+=r;i+=i;o+=o}return[parseInt(r,16),parseInt(i,16),parseInt(o,16)]}function A(e,n){if(!e)return"rgb('0,0,0')";if(e.length==4){e=t.copy(e);n?e.pop():n=e.pop()}return n&&(typeof n=="number"||typeof n=="string"&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"}})();(function(){"use strict";t.module("material.components.autocomplete",["material.core","material.components.icon"])})();(function(){"use strict";t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",e);function e(e){return e}e.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n);function e(){return{restrict:"E"}}function n(e){var n=.5;var r=80;i.$inject=["$animate","$mdConstant","$mdUtil","$timeout","$compile","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"];return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:i});function i(e,i,o,a,l,s,u,c,d){var f;return{themable:true,targetEvent:null,onShow:m,onRemove:p,escapeToClose:true,disableParentScroll:true};function m(n,r,d){r=o.extractElementByName(r,"md-bottom-sheet");f=l('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(n);f.on("click",function(){a(u.cancel)});s.inherit(f,d.parent);e.enter(f,d.parent,null);var m=new h(r,d.parent);d.bottomSheet=m;d.targetEvent&&t.element(d.targetEvent.target).blur();s.inherit(m.element,d.parent);if(d.disableParentScroll){d.lastOverflow=d.parent.css("overflow");d.parent.css("overflow","hidden")}return e.enter(m.element,d.parent).then(function(){var e=t.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector("[ng-click]"));e.focus();if(d.escapeToClose){d.rootElementKeyupCallback=function(e){if(e.keyCode===i.KEY_CODE.ESCAPE){a(u.cancel)}};c.on("keyup",d.rootElementKeyupCallback)}})}function p(n,r,i){var o=i.bottomSheet;e.leave(f);return e.leave(o.element).then(function(){if(i.disableParentScroll){i.parent.css("overflow",i.lastOverflow);delete i.lastOverflow}o.cleanup();i.targetEvent&&t.element(i.targetEvent.target).focus()})}function h(e,t){var o=d.register(t,"drag",{horizontal:false});t.on("$md.dragstart",l).on("$md.drag",s).on("$md.dragend",c);return{element:e,cleanup:function f(){o();t.off("$md.dragstart",l).off("$md.drag",s).off("$md.dragend",c)}};function l(t){e.css(i.CSS.TRANSITION_DURATION,"0ms")}function s(t){var n=t.pointer.distanceY;if(n<5){n=Math.max(-r,n/2)}e.css(i.CSS.TRANSFORM,"translate3d(0,"+(r+n)+"px,0)")}function c(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>n)){var r=e.prop("offsetHeight")-t.pointer.distanceY;var o=Math.min(r/t.pointer.velocityY*.75,500);e.css(i.CSS.TRANSITION_DURATION,o+"ms");a(u.cancel)}else{e.css(i.CSS.TRANSITION_DURATION,"");e.css(i.CSS.TRANSFORM,"")}}}}}n.$inject=["$$interimElementProvider"]})();(function(){"use strict";t.module("material.components.button",["material.core"]).directive("mdButton",e);function e(e,n,r,i){return{restrict:"EA",replace:true,transclude:true,template:a,link:l};function o(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){return o(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function l(a,l,s){var u=l[0];n(l);e.attach(a,l);var c=u.textContent.trim();if(!c){r.expect(l,"aria-label")}if(o(s)&&t.isDefined(s.ngDisabled)){a.$watch(s.ngDisabled,function(e){l.attr("tabindex",e?-1:0)})}l.on("click",function(e){if(s.disabled===true){e.preventDefault();e.stopImmediatePropagation()}});a.mouseActive=false;l.on("mousedown",function(){a.mouseActive=true;i(function(){a.mouseActive=false},100)}).on("focus",function(){if(a.mouseActive===false){l.addClass("md-focused")}}).on("blur",function(){l.removeClass("md-focused")})}}e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]})();(function(){"use strict";t.module("material.components.card",["material.core"]).directive("mdCard",e);function e(e){return{restrict:"E",link:function(t,n,r){e(n)}}}e.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e);function e(e,n,r,i,o,a,l){e=e[0];var s="md-checked";return{restrict:"E",transclude:true,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox>'+'<div class="md-icon"></div>'+"</div>"+'<div ng-transclude class="md-label"></div>',compile:u};function u(n,u){u.type="checkbox";u.tabindex=u.tabindex||"0";n.attr("role",u.type);return function c(n,u,d,f){f=f||a.fakeNgModel();o(u);if(d.ngChecked){n.$watch(n.$eval.bind(n,d.ngChecked),f.$setViewValue.bind(f))}m("ngDisabled","tabindex",{"true":"-1","false":d.tabindex});r.expectWithText(u,"aria-label");e.link.pre(n,{on:t.noop,0:{}},d,[f]);n.mouseActive=false;u.on("click",h).on("keypress",p).on("mousedown",function(){n.mouseActive=true;l(function(){n.mouseActive=false},100)}).on("focus",function(){if(n.mouseActive===false){u.addClass("md-focused")}}).on("blur",function(){u.removeClass("md-focused")});f.$render=g;function m(e,t,r){if(d[e]){n.$watch(d[e],function(e){if(r[e]){u.attr(t,r[e])}})}}function p(e){var t=e.which||e.keyCode;if(t===i.KEY_CODE.SPACE||t===i.KEY_CODE.ENTER){e.preventDefault();if(!u.hasClass("md-focused")){u.addClass("md-focused")}h(e)}}function h(e){if(u[0].hasAttribute("disabled"))return;n.$apply(function(){var t=d.ngChecked?d.checked:!f.$viewValue;f.$setViewValue(t,e&&e.type);f.$render()})}function g(){if(f.$viewValue){u.addClass(s)}else{u.removeClass(s)}}}}}e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]})();(function(){"use strict";t.module("material.components.chips",["material.core","material.components.autocomplete"])})();(function(){"use strict";t.module("material.components.content",["material.core"]).directive("mdContent",e);function e(e){return{restrict:"E",controller:["$scope","$element",t],link:function(t,r,i){var o=r[0];e(r);t.$broadcast("$mdContentLoaded",r);n(r[0])}};function t(e,t){this.$scope=e;this.$element=t}}e.$inject=["$mdTheming"];function n(e){t.element(e).on("$md.pressdown",function(t){if(t.pointer.type!=="t")return;if(t.$materialScrollFixed)return;t.$materialScrollFixed=true;if(e.scrollTop===0){e.scrollTop=1}else if(e.scrollHeight===e.scrollTop+e.offsetHeight){e.scrollTop-=1}})}})();(function(){"use strict";t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",n);function e(e,t){return{restrict:"E",link:function(n,r,i){t(r);e(function(){var e=r[0].querySelector("md-dialog-content");if(e&&e.scrollHeight>e.clientHeight){r.addClass("md-content-overflow")}})}}}e.$inject=["$$rAF","$mdTheming"];function n(e){var n=["title","content","ariaLabel","ok"];r.$inject=["$mdDialog","$mdTheming"];i.$inject=["$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$mdDialog","$timeout","$rootElement","$animate","$$rAF","$q"];return e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:i}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:r}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:r});function r(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">','<md-dialog-content role="document" tabIndex="-1">','<h2 class="md-title">{{ dialog.title }}</h2>',"<p>{{ dialog.content }}</p>","</md-dialog-content>",'<div class="md-actions">',"<md-button ng-if=\"dialog.$type == 'confirm'\""+' ng-click="dialog.abort()" class="md-primary">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function n(){this.hide=function(){e.hide(true)};this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:true,theme:t.defaultTheme()}}function i(e,n,r,i,o,a,l,s,u,c,d){return{hasBackdrop:true,isolateScope:true,onShow:m,onRemove:p,clickOutsideToClose:false,escapeToClose:true,targetEvent:null,focusOnOpen:true,disableParentScroll:true,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}};function f(e){var t=document.querySelector("md-dialog");if(t&&!t.contains(e.target)){e.stopImmediatePropagation();t.focus()}}function m(e,c,d){t.element(n[0].body).addClass("md-dialog-is-showing");c=r.extractElementByName(c,"md-dialog");d.parent=t.element(d.parent);d.popInTarget=t.element((d.targetEvent||{}).target);var m=w();if(d.hasBackdrop){var p=d.parent[0]==n[0].body&&n[0].documentElement&&n[0].documentElement.scrollTop?t.element(n[0].documentElement):d.parent;var g=p.prop("scrollTop");d.backdrop=t.element('<md-backdrop class="md-dialog-backdrop md-opaque">');d.backdrop.css("top",g+"px");o.inherit(d.backdrop,d.parent);u.enter(d.backdrop,d.parent);c.css("top",g+"px")}var y="dialog",_=m;if(d.$type==="alert"){y="alertdialog";_=c.find("md-dialog-content")}h(c.find("md-dialog"),y,d);document.addEventListener("focus",f,true);if(d.disableParentScroll){d.lastOverflow=d.parent.css("overflow");d.parent.css("overflow","hidden")}return b(c,d.parent,d.popInTarget&&d.popInTarget.length&&d.popInTarget).then(function(){v(c,true);if(d.escapeToClose){d.rootElementKeyupCallback=function(e){if(e.keyCode===i.KEY_CODE.ESCAPE){l(a.cancel)}};s.on("keyup",d.rootElementKeyupCallback)}if(d.clickOutsideToClose){d.dialogClickOutsideCallback=function(e){if(e.target===c[0]){l(a.cancel)}};c.on("click",d.dialogClickOutsideCallback)}if(d.focusOnOpen){_.focus()}});function w(){var e=c[0].querySelector(".dialog-close");if(!e){var n=c[0].querySelectorAll(".md-actions button");e=n[n.length-1]}return t.element(e)}}function p(e,r,i){t.element(n[0].body).removeClass("md-dialog-is-showing");if(i.backdrop){u.leave(i.backdrop)}if(i.disableParentScroll){i.parent.css("overflow",i.lastOverflow);delete i.lastOverflow}if(i.escapeToClose){s.off("keyup",i.rootElementKeyupCallback)}if(i.clickOutsideToClose){r.off("click",i.dialogClickOutsideCallback)}v(r,false);document.removeEventListener("focus",f,true);return y(r,i.parent,i.popInTarget&&i.popInTarget.length&&i.popInTarget).then(function(){r.remove();i.popInTarget&&i.popInTarget.focus()})}function h(t,n,i){t.attr({role:n,tabIndex:"-1"});var o=t.find("md-dialog-content");if(o.length===0){o=t}var a=t.attr("id")||"dialog_"+r.nextUid();o.attr("id",a);t.attr("aria-describedby",a);if(i.ariaLabel){e.expect(t,"aria-label",i.ariaLabel)}else{e.expectAsync(t,"aria-label",function(){var e=o.text().split(/\s+/);if(e.length>3)e=e.slice(0,3).concat("...");return e.join(" ")})}}function g(e,t){if(t.indexOf(e.nodeName)!==-1){return true}}function v(e,t){var n="aria-hidden";e=e[0];function r(e){while(e.parentNode){if(e===document.body){return}var i=e.parentNode.children;for(var o=0;o<i.length;o++){if(e!==i[o]&&!g(i[o],["SCRIPT","STYLE"])){i[o].setAttribute(n,t)}}r(e=e.parentNode)}}r(e)}function b(e,t,n){var o=e.find("md-dialog");t.append(e);_(o,n);c(function(){o.addClass("transition-in").css(i.CSS.TRANSFORM,"")});return r.transitionEndPromise(o)}function y(e,t,n){var i=e.find("md-dialog");i.addClass("transition-out").removeClass("transition-in");_(i,n);return r.transitionEndPromise(i)}function _(e,t){if(t){var n=t[0].getBoundingClientRect();var r=e[0].getBoundingClientRect();var o=Math.min(.5,n.width/r.width);var a=Math.min(.5,n.height/r.height);e.css(i.CSS.TRANSFORM,"translate3d("+(-r.left+n.left+n.width/2-r.width/2)+"px,"+(-r.top+n.top+n.height/2-r.height/2)+"px,"+"0) scale("+o+","+a+")")}}function w(e){var t=d.defer();e.on(i.CSS.TRANSITIONEND,n);function n(r){if(r.target===e[0]){e.off(i.CSS.TRANSITIONEND,n);t.resolve()}}return t.promise}}}n.$inject=["$$interimElementProvider"]})();(function(){"use strict";t.module("material.components.divider",["material.core"]).directive("mdDivider",e);function e(e){return{restrict:"E",link:e}}e.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",i).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",r);function e(e,r,i,o){return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a};function a(n,a,l,s){a.attr("role","list");s.layoutDelegate=h;var u=t.bind(s,s.invalidateLayout),c=d();n.$on("$destroy",f);function d(){for(var e in r.MEDIA){o(e);o.getQuery(r.MEDIA[e]).addListener(u)}return o.watchResponsiveAttributes(["md-cols","md-row-height"],l,m)}function f(){s.layoutDelegate=t.noop;c();for(var e in r.MEDIA){o.getQuery(r.MEDIA[e]).removeListener(u)}}function m(e){if(e==null){s.invalidateLayout()}else if(o(e)){s.invalidateLayout()}}var p;function h(e){var r=A();var o={tileSpans:C(r),colCount:M(),rowMode:T(),rowHeight:x(),gutter:k()};if(!e&&t.equals(o,p)){return}var l=i(o.colCount,o.tileSpans,r).map(function(e,n){return{grid:{element:a,style:E(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:e.map(function(e,n){return{element:t.element(r[n]),style:$(e.position,e.spans,o.colCount,o.rowCount,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:l}});p=o}var g=e.startSymbol();var v=e.endSymbol();function b(e){return g+e+v}var y=e(b("share")+"% - ("+b("gutter")+" * "+b("gutterShare")+")");var _=e("calc(("+b("unit")+" + "+b("gutter")+") * "+b("offset")+")");var w=e("calc(("+b("unit")+") * "+b("span")+" + ("+b("span")+" - 1) * "+b("gutter")+")");function $(e,t,n,r,i,o,a){var l=1/n*100;var s=(n-1)/n;var u=y({share:l,gutterShare:s,gutter:i});var c={left:_({unit:u,offset:e.col,gutter:i}),width:w({unit:u,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":c.top=_({unit:a,offset:e.row,gutter:i});c.height=w({unit:a,span:t.row,gutter:i});break;case"ratio":var d=l/a;var f=y({share:d,gutterShare:s,gutter:i});c.paddingTop=w({unit:f,span:t.row,gutter:i});c.marginTop=_({unit:f,offset:e.row,gutter:i});break;case"fit":var m=(r-1)/r;var d=1/r*100;var f=y({share:d,gutterShare:m,gutter:i});c.top=_({unit:f,offset:e.row,gutter:i});c.height=w({unit:f,span:t.row,gutter:i});break}return c}function E(e,t,n,r,i){var o={height:"",paddingBottom:""};switch(r){case"fixed":o.height=w({unit:i,span:t,gutter:n});break;case"ratio":var a=e===1?0:(e-1)/e,l=1/e*100,s=l*(1/i),u=y({share:s,gutterShare:a,gutter:n});o.paddingBottom=w({unit:u,span:t,gutter:n});break;case"fit":break}return o}function A(){return[].filter.call(a.children(),function(e){return e.tagName=="MD-GRID-TILE"})}function C(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function M(){var e=parseInt(o.getResponsiveAttribute(l,"md-cols"),10);if(isNaN(e)){throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value"}return e}function k(){return S(o.getResponsiveAttribute(l,"md-gutter")||1)}function x(){var e=o.getResponsiveAttribute(l,"md-row-height");switch(T()){case"fixed":return S(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function T(){var e=o.getResponsiveAttribute(l,"md-row-height");if(e=="fit"){return"fit"}else if(e.indexOf(":")!==-1){return"ratio"}else{return"fixed"}}function S(e){return/\D$/.test(e)?e:e+"px"}}}e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"];function n(e){this.layoutInvalidated=false;this.tilesInvalidated=false;this.$timeout_=e;this.layoutDelegate=t.noop}n.$inject=["$timeout"];n.prototype={invalidateTiles:function(){this.tilesInvalidated=true;this.invalidateLayout()},invalidateLayout:function(){if(this.layoutInvalidated){return}this.layoutInvalidated=true;this.$timeout_(t.bind(this,this.layout))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=false;this.tilesInvalidated=false}}};function r(e){var n=i;r.animateWith=function(e){n=!t.isFunction(e)?i:e};return r;function r(t,r){var i,a,l,s,u,c;s=e.time(function(){a=o(t,r)});return i={layoutInfo:function(){return a},map:function(t){u=e.time(function(){var e=i.layoutInfo();l=t(e.positioning,e.rowCount)});return i},reflow:function(t){c=e.time(function(){var e=t||n;e(l.grid,l.tiles)});return i},performance:function(){return{tileCount:r.length,layoutTime:s,mapTime:u,reflowTime:c,totalTime:s+u+c}}}}function i(e,t){e.element.css(e.style);t.forEach(function(e){e.element.css(e.style)})}function o(e,t){var n=0,r=0,i=u();return{positioning:t.map(function(e,t){return{spans:e,position:o(e,t)}}),rowCount:r+Math.max.apply(Math,i)};function o(t,o){if(t.col>e){throw"md-grid-list: Tile at position "+o+" has a colspan "+"("+t.col+") that exceeds the column count "+"("+e+")"}var u=0,c=0;while(c-u<t.col){if(n>=e){a();continue}u=i.indexOf(0,n);if(u===-1||(c=s(u+1))===-1){u=c=0;a();continue}n=c+1}l(u,t.col,t.row);n=u+t.col;return{col:u,row:r}}function a(){n=0;r++;l(0,e,-1)}function l(e,t,n){for(var r=e;r<e+t;r++){i[r]=Math.max(i[r]+n,0)}}function s(e){var t;for(t=e;t<i.length;t++){if(i[t]!==0){return t}}if(t===i.length){return t}}function u(){var t=[];for(var n=0;n<e;n++){t.push(0)}return t}}}r.$inject=["$mdUtil"];function i(e){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:true,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n};function n(n,r,i,o){r.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],i,t.bind(o,o.invalidateLayout));o.invalidateTiles();n.$on("$destroy",function(){a();o.invalidateLayout()});if(t.isDefined(n.$parent.$index)){n.$watch(function(){return n.$parent.$index},function l(e,t){if(e===t){return}o.invalidateTiles()})}}}i.$inject=["$mdMedia"];function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:true}}})();(function(){"use strict";t.module("material.components.icon",["material.core"]).directive("mdIcon",e);function e(e,t,n,r){return{scope:{fontLib:"@mdFontLibrary",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",transclude:true,template:i,link:o};function i(e,t){var n=function(e){return t[e]&&t[e].length};var i=function(e){return n(e)?t[e]:""};var o=n("mdFontIcon")?'<span class="md-font {{classNames}}" ng-class="fontIcon"></span>':n("mdFontLibrary")?"<span ng-transclude></span>":"";var a=(i("mdFontLibrary")+" "+i("class")).trim();e.attr("class",a);return r(o)({classNames:a})}function o(r,i,o){t(i);var a=o.alt||r.fontIcon||r.svgIcon;var l=o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||"");if(!o.mdFontLibrary){if(o.alt!=""&&!s()){n.expect(i,"aria-label",a);n.expect(i,"role","img")}else{n.expect(i,"aria-hidden","true")}}if(l){o.$observe(l,function(t){i.empty();if(t){e(t).then(function(e){i.append(e)})}})}function s(){var e=i.parent();if(e.attr("aria-label")||e.text()){return true}else if(e.parent().attr("aria-label")||e.parent().text()){return true}return false}}}e.$inject=["$mdIcon","$mdTheming","$mdAria","$interpolate"]})();(function(){"use strict";t.module("material.components.icon").provider("$mdIcon",n);var e={defaultIconSize:24};function n(){}n.prototype={icon:function o(t,n,i){if(t.indexOf(":")==-1)t="$default:"+t;e[t]=new r(n,i);return this},iconSet:function a(t,n,i){e[t]=new r(n,i);return this},defaultIconSet:function l(t,n){var i="$default";if(!e[i]){e[i]=new r(t,n)}e[i].iconSize=n||e.defaultIconSize;return this},defaultIconSize:function s(t){e.defaultIconSize=t;return this},preloadIcons:function(e){var t=this;var n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100"><path d="M 50 0 L 100 14 L 92 80 L 50 100 L 8 80 L 0 14 Z" fill="#b2b2b2"></path><path d="M 50 5 L 6 18 L 13.5 77 L 50 94 Z" fill="#E42939"></path><path d="M 50 5 L 94 18 L 86.5 77 L 50 94 Z" fill="#B72833"></path><path d="M 50 7 L 83 75 L 72 75 L 65 59 L 50 59 L 50 50 L 61 50 L 50 26 Z" fill="#b2b2b2"></path><path d="M 50 7 L 17 75 L 28 75 L 35 59 L 50 59 L 50 50 L 39 50 L 50 26 Z" fill="#fff"></path></svg>'
},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url);e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(t,n,r,o){this.preloadIcons(o);return new i(e,t,n,r,o)}]};function r(t,n){this.url=t;this.iconSize=n||e.defaultIconSize}function i(e,n,r,i,o){var a={};var l=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/i;h.prototype={clone:v,prepare:g};return function b(e){e=e||"";if(a[e])return r.when(a[e].clone());if(l.test(e))return d(e).then(s(e));if(e.indexOf(":")==-1)e="$default:"+e;return u(e).catch(c).catch(f).catch(m).then(s(e))};function s(t){return function n(r){a[t]=p(r)?r:new h(r,e[t]);return a[t].clone()}}function u(t){var n=e[t];return!n?r.reject(t):d(n.url).then(function(e){return new h(e,n)})}function c(t){var n=t.substring(0,t.lastIndexOf(":"))||"$default";var i=e[n];return!i?r.reject(t):d(i.url).then(o);function o(e){var n=t.slice(t.lastIndexOf(":")+1);var o=e.querySelector("#"+n);return!o?r.reject(t):new h(o,i)}}function d(e){return n.get(e,{cache:o}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})}function f(e){var n;if(t.isString(e)){n="icon "+e+" not found";i.warn(n)}return r.reject(n||e)}function m(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;i.warn(n);return r.reject(n)}function p(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function h(e,n){if(e.tagName!="svg"){e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]}if(!e.getAttribute("xmlns")){e.setAttribute("xmlns","http://www.w3.org/2000/svg")}this.element=e;this.config=n;this.prepare()}function g(){var n=this.config?this.config.iconSize:e.defaultIconSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this);t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function v(){return this.element.cloneNode(true)}}})();(function(){"use strict";t.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",n).directive("input",r).directive("textarea",r).directive("mdMaxlength",i).directive("placeholder",o);function e(e,t){r.$inject=["$scope","$element","$attrs"];return{restrict:"E",link:n,controller:r};function n(t,n,r){e(n)}function r(e,n,r){var i=this;i.isErrorGetter=r.mdIsError&&t(r.mdIsError);i.delegateClick=function(){i.input.focus()};i.element=n;i.setFocused=function(e){n.toggleClass("md-input-focused",!!e)};i.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)};i.setInvalid=function(e){n.toggleClass("md-input-invalid",!!e)};e.$watch(function(){return i.label&&i.input},function(e){if(e&&!i.label.attr("for")){i.label.attr("for",i.input.attr("id"))}})}}e.$inject=["$mdTheming","$parse"];function n(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){if(!r||n.mdNoFloat)return;r.label=t;e.$on("$destroy",function(){r.label=null})}}}function r(e,n,r){return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:i};function i(i,o,a,l){var s=l[0];var u=l[1]||e.fakeNgModel();var c=t.isDefined(a.readonly);if(!s)return;if(s.input){throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!")}s.input=o;if(!s.label){r.expect(o,"aria-label",o.attr("placeholder"))}o.addClass("md-input");if(!o.attr("id")){o.attr("id","input_"+e.nextUid())}if(o[0].tagName.toLowerCase()==="textarea"){p()}var d=s.isErrorGetter||function(){return u.$invalid&&u.$touched};i.$watch(d,s.setInvalid);u.$parsers.push(f);u.$formatters.push(f);o.on("input",m);if(!c){o.on("focus",function(e){s.setFocused(true)}).on("blur",function(e){s.setFocused(false);m()})}i.$on("$destroy",function(){s.setFocused(false);s.setHasValue(false);s.input=null});function f(e){s.setHasValue(!u.$isEmpty(e));return e}function m(){s.setHasValue(o.val().length>0||(o[0].validity||{}).badInput)}function p(){var r=o[0];var a=e.debounce(s,1);function l(e){a();return e}if(u){u.$formatters.push(l);u.$viewChangeListeners.push(l)}else{a()}o.on("keydown input",a);o.on("scroll",d);t.element(n).on("resize",a);i.$on("$destroy",function(){t.element(n).off("resize",a)});function s(){r.style.height="auto";r.scrollTop=0;var e=c();if(e)r.style.height=e+"px"}function c(){var e=r.scrollHeight-r.offsetHeight;return r.offsetHeight+(e>0?e:0)}function d(e){r.scrollTop=0;var t=r.scrollHeight-r.offsetHeight;var n=r.offsetHeight+t;r.style.height=n+"px"}}}}r.$inject=["$mdUtil","$window","$mdAria"];function i(e){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:n};function n(n,r,i,o){var a;var l=o[0];var s=o[1];var u=t.element('<div class="md-char-counter">');i.$set("ngTrim","false");s.element.append(u);l.$formatters.push(c);l.$viewChangeListeners.push(c);r.on("input keydown",function(){c()});n.$watch(i.mdMaxlength,function(n){a=n;if(t.isNumber(n)&&n>0){if(!u.parent().length){e.enter(u,s.element,t.element(s.element[0].lastElementChild))}c()}else{e.leave(u)}});l.$validators["md-maxlength"]=function(e,n){if(!t.isNumber(a)||a<0){return true}return(e||r.val()||n||"").length<=a};function c(e){u.text((r.val()||e||"").length+"/"+a);return e}}}i.$inject=["$animate"];function o(e){var n=["MD-SELECT"];return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:r};function r(r,i,o,a){if(!a)return;if(n.indexOf(i[0].nodeName)!=-1)return;if(t.isDefined(a.element.attr("md-no-float")))return;var l=o.placeholder;i.removeAttr("placeholder");if(a.element.find("label").length==0){var s='<label ng-click="delegateClick()">'+l+"</label>";a.element.addClass("md-icon-float");a.element.prepend(s)}else{e.warn("The placeholder='"+l+"' will be ignored since this md-input-container has a child label element.")}}}o.$inject=["$log"]})();(function(){"use strict";t.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",e).directive("mdListItem",n);function e(e){return{restrict:"E",compile:function(t){t[0].setAttribute("role","list");return e}}}e.$inject=["$mdTheming"];function n(e,n,r){var i=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(o,a){var l=o[0].querySelector(".md-secondary");var s;var u;o[0].setAttribute("role","listitem");if(!a.ngClick){for(var c=0,d;d=i[c];++c){if(u=o[0].querySelector(d)){s=true;break}}if(s){m("div")}else if(!o[0].querySelector("md-button")){o.addClass("md-no-proxy")}}else{m("button")}f();function f(){var e=["md-switch","md-checkbox"];var t;for(var n=0,r;r=e[n];++n){if(t=o.find(r)[0]){if(!t.hasAttribute("aria-label")){var i=o.find("p")[0];if(!i)return;t.setAttribute("aria-label","Toggle "+i.textContent)}}}}function m(n){var r;if(n=="div"){r=t.element('<div class="md-no-style md-list-item-inner">');r.append(o.contents());o.addClass("md-proxy-focus")}else{r=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>');var i=["ng-click","aria-label","ng-disabled"];t.forEach(i,function(e){if(o[0].hasAttribute(e)){r[0].setAttribute(e,o[0].getAttribute(e));o[0].removeAttribute(e)}});r.children().eq(0).append(o.contents())}o[0].setAttribute("tabindex","-1");o.append(r);if(l&&l.hasAttribute("ng-click")){e.expect(l,"aria-label");var s=t.element('<md-button class="md-secondary-container md-icon-button">');s.attr("ng-click",l.getAttribute("ng-click"));l.removeAttribute("ng-click");l.setAttribute("tabindex","-1");l.classList.remove("md-secondary");s.append(l);l=s[0]}if(l&&(l.hasAttribute("ng-click")||a.ngClick&&p(l))){o.addClass("md-with-secondary");o.append(l)}}function p(e){return i.indexOf(e.nodeName.toLowerCase())!=-1}return h;function h(e,o,a,l){var s=[],u=o[0].firstElementChild,c=u&&u.hasAttribute("ng-click");d();f();if(o.hasClass("md-proxy-focus")&&s.length){t.forEach(s,function(n){n=t.element(n);e.mouseActive=false;n.on("mousedown",function(){e.mouseActive=true;r(function(){e.mouseActive=false},100)}).on("focus",function(){if(e.mouseActive===false){o.addClass("md-focused")}n.on("blur",function t(){o.removeClass("md-focused");n.off("blur",t)})})})}function d(){var e=o.children();if(e.length&&!e[0].hasAttribute("ng-click")){t.forEach(i,function(e){t.forEach(u.querySelectorAll(e),function(e){s.push(e)})})}}function f(){if(s.length||c){o.addClass("md-clickable");l.attachRipple(e,t.element(o[0].querySelector(".md-no-style")))}}if(!c&&!s.length){u.addEventListener("keypress",function(e){if(e.target.nodeName!="INPUT"&&e.target.nodeName!="TEXTAREA"){var t=e.which||e.keyCode;if(t==n.KEY_CODE.SPACE){u.click();e.preventDefault();e.stopPropagation()}}})}o.off("click");o.off("keypress");if(s.length&&u){o.children().eq(0).on("click",function(e){if(u.contains(e.target)){t.forEach(s,function(n){if(e.target!==n&&!n.contains(e.target)){t.element(n).triggerHandler("click")}})}})}}}}}n.$inject=["$mdAria","$mdConstant","$timeout"];function r(e,t,n){var r=this;r.attachRipple=i;function i(e,t){var r={};n.attach(e,t,r)}}r.$inject=["$scope","$element","$mdListInkRipple"]})();(function(){"use strict";t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e);function e(e,t){return{restrict:"E",template:'<div class="md-spinner-wrapper">'+'<div class="md-inner">'+'<div class="md-gap"></div>'+'<div class="md-left">'+'<div class="md-half-circle"></div>'+"</div>"+'<div class="md-right">'+'<div class="md-half-circle"></div>'+"</div>"+"</div>"+"</div>",compile:n};function n(e){e.attr("aria-valuemin",0);e.attr("aria-valuemax",100);e.attr("role","progressbar");return r}function r(n,r,o){t(r);var a=r[0];var l=o.mdDiameter||48;var s=l/48;a.style[e.CSS.TRANSFORM]="scale("+s+")";o.$observe("value",function(e){var t=i(e);r.attr("aria-valuenow",t)})}function i(e){return Math.max(0,Math.min(e||0,100))}}e.$inject=["$mdConstant","$mdTheming"]})();(function(){"use strict";t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e);function e(e,r,i){return{restrict:"E",template:'<div class="md-container">'+'<div class="md-dashed"></div>'+'<div class="md-bar md-bar1"></div>'+'<div class="md-bar md-bar2"></div>'+"</div>",compile:o};function o(e,t,n){e.attr("aria-valuemin",0);e.attr("aria-valuemax",100);e.attr("role","progressbar");return a}function a(o,a,s){i(a);var u=a[0].querySelector(".md-bar1").style,c=a[0].querySelector(".md-bar2").style,d=t.element(a[0].querySelector(".md-container"));s.$observe("value",function(e){if(s.mdMode=="query"){return}var t=l(e);a.attr("aria-valuenow",t);c[r.CSS.TRANSFORM]=n[t]});s.$observe("mdBufferValue",function(e){u[r.CSS.TRANSFORM]=n[l(e)]});e(function(){d.addClass("md-ready")})}function l(e){if(e>100){return 100}if(e<0){return 0}return Math.ceil(e||0)}}e.$inject=["$$rAF","$mdConstant","$mdTheming"];var n=function(){var e=new Array(101);for(var t=0;t<101;t++){e[t]=n(t)}return e;function n(e){var t=e/100;var n=(e-100)/2;return"translateX("+n.toString()+"%) scale("+t.toString()+", 1)"}}()})();(function(){"use strict";t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n);function e(e,n,r,i){a.prototype=l();return{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:o}};function o(o,a,l,s){r(a);var u=s[0];var c=s[1]||e.fakeNgModel();function d(){if(!a.hasClass("md-focused")){a.addClass("md-focused")}}function f(r){var i=r.which||r.keyCode;switch(i){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault();u.selectPrevious();d();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault();u.selectNext();d();break;case n.KEY_CODE.ENTER:var o=t.element(e.getClosest(a[0],"form"));if(o.length>0){o.triggerHandler("submit")}break}}u.init(c);o.mouseActive=false;a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",f).on("mousedown",function(e){o.mouseActive=true;i(function(){o.mouseActive=false},100)}).on("focus",function(){if(o.mouseActive===false){u.$element.addClass("md-focused")}}).on("blur",function(){u.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[];this.$element=e}function l(){return{init:function(e){this._ngModelCtrl=e;this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);if(t!==-1){this._radioButtonRenderFns.splice(t,1)}},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t);this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return s(this.$element,1)},selectPrevious:function(){return s(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function s(n,r){var i=e.iterator(n[0].querySelectorAll("md-radio-button"),true);if(i.count()){var o=function(e){return!t.element(e).attr("disabled")};var a=n[0].querySelector("md-radio-button.md-checked");var l=i[r<0?"previous":"next"](a,o)||i.first();t.element(l).triggerHandler("click")}}}e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"];function n(e,t,n){var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:true,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox>'+'<div class="md-off"></div>'+'<div class="md-on"></div>'+"</div>"+'<div ng-transclude class="md-label"></div>',link:i};function i(i,o,a,l){var s;n(o);d(o,i);l.add(c);a.$observe("value",c);o.on("click",u).on("$destroy",function(){l.remove(c)});function u(e){if(o[0].hasAttribute("disabled"))return;i.$apply(function(){l.setViewValue(a.value,e&&e.type)})}function c(){var e=l.getViewValue()==a.value;if(e===s){return}s=e;o.attr("aria-checked",e);if(e){o.addClass(r);l.setActiveDescendant(o.attr("id"))}else{o.removeClass(r)}}function d(n,r){r.ariaId=i();n.attr({id:r.ariaId,role:"radio","aria-checked":"false"});e.expectWithText(n,"aria-label");function i(){return a.id||"radio"+"_"+t.nextUid()}}}}n.$inject=["$mdAria","$mdUtil","$mdTheming"]})();(function(){"use strict";var e=8;var r=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",i).directive("mdSelectMenu",o).directive("mdOption",a).directive("mdOptgroup",l).provider("$mdSelect",s);function i(e,r,i,o,a,l,s){return{restrict:"E",require:["mdSelect","ngModel","?^form"],compile:u,controller:function(){}};function u(a,u){var c=a.find("md-select-label").remove();if(!c.length){c=t.element("<md-select-label><span></span></md-select-label>")}else{if(!c[0].firstElementChild){var d=t.element("<span>");d.append(c.contents());c.append(d)}}c.append('<span class="md-select-icon" aria-hidden="true"></span>');c.addClass("md-select-label");if(!c[0].hasAttribute("id")){c.attr("id","select_label_"+r.nextUid())}if(!a.find("md-content").length){a.append(t.element("<md-content>").append(a.contents()))}if(u.mdOnOpen){a.find("md-content").prepend(t.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent())}if(u.name){var f=t.element('<select class="md-visually-hidden">');f.attr({name:"."+u.name,"ng-model":u.ngModel,"aria-hidden":"true",tabindex:"-1"});var m=a.find("md-option");t.forEach(m,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");if(e.hasAttribute("ng-value"))n.attr("ng-value",e.getAttribute("ng-value"));else if(e.hasAttribute("value"))n.attr("value",e.getAttribute("value"));f.append(n)});a.parent().append(f)}var p='<div class="md-select-menu-container">'+"<md-select-menu "+(t.isDefined(u.multiple)?"multiple":"")+">"+a.html()+"</md-select-menu></div>";a.empty().append(c);u.tabindex=u.tabindex||"0";return function h(a,u,c,d){var f;var m;var h=d[0];var g=d[1];var v=d[2];var b=u.find("md-select-label");var y=b.text().length!==0;var _,w,$;T();i(u);if(c.name&&v){var E=u.parent()[0].querySelector('select[name=".'+c.name+'"]');v.$removeControl(t.element(E).controller())}var A=g.$render;g.$render=function(){A();M()};h.setLabelText=function(e){if(y)return;h.setIsPlaceholder(!e);e=e||c.placeholder||"";var t=y?b:b.children().eq(0);t.text(e)};h.setIsPlaceholder=function(e){e?b.addClass("md-placeholder"):b.removeClass("md-placeholder")};a.$$postDigest(function(){C();M()});function C(){var e=u.attr("placeholder");if(!e){e=u.find("md-select-label").text()}o.expect(u,"aria-label",e)}function M(){if(_){$=$||_.find("md-select-menu").controller("mdSelectMenu");h.setLabelText($.selectedLabels())}}var k;c.$observe("ngMultiple",function(e){if(k)k();var t=s(e);k=a.$watch(function(){return t(a)},function(e,t){if(e===n&&t===n)return;if(e){u.attr("multiple","multiple")}else{u.removeAttr("multiple")}if(_){$.setMultiple(e);A=g.$render;g.$render=function(){A();M()};$.refreshViewValue();g.$render()}})});c.$observe("disabled",function(e){if(typeof e=="string"){e=true}if(m!==n&&m===e){return}m=e;if(e){u.attr({tabindex:-1,"aria-disabled":"true"});u.off("click",N);u.off("keydown",S)}else{u.attr({tabindex:c.tabindex,"aria-disabled":"false"});u.on("click",N);u.on("keydown",S)}});if(!c.disabled&&!c.ngDisabled){u.attr({tabindex:c.tabindex,"aria-disabled":"false"});u.on("click",N);u.on("keydown",S)}var x={role:"combobox","aria-expanded":"false"};if(!u[0].hasAttribute("id")){x.id="select_"+r.nextUid()}u.attr(x);a.$on("$destroy",function(){if(f){e.cancel().then(function(){_.remove()})}else{_.remove()}});function T(){_=t.element(p);var e=_.find("md-select-menu");e.data("$ngModelController",g);e.data("$mdSelectController",h);w=a.$new();_=l(_)(w);$=_.find("md-select-menu").controller("mdSelectMenu")}function S(e){var n=[32,13,38,40];if(n.indexOf(e.keyCode)!=-1){e.preventDefault();N(e)}else{if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var r=$.optNodeForKeyboardSearch(e);if(!r)return;var i=t.element(r).controller("mdOption");if(!$.isMultiple){$.deselect(Object.keys($.selected)[0])}$.select(i.hashKey,i.value);$.refreshViewValue();g.$render()}}}function N(){a.$evalAsync(function(){f=true;e.show({scope:w,preserveScope:true,skipCompile:true,element:_,target:u[0],hasBackdrop:true,loadingAsync:c.mdOnOpen?a.$eval(c.mdOnOpen)||true:false}).then(function(e){f=false})})}}}}i.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"];function o(e,i,o){l.$inject=["$scope","$attrs","$element"];return{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:l,link:{pre:a}};function a(e,n,r,a){var l=a[0];var s=a[1];o(n);n.on("click",d);n.on("keypress",c);if(s)l.init(s);u();function u(){n.attr({id:"select_menu_"+i.nextUid(),role:"listbox","aria-multiselectable":l.isMultiple?"true":"false"})}function c(e){if(e.keyCode==13||e.keyCode==32){d(e)}}function d(n){var r=i.getClosest(n.target,"md-option");var o=r&&t.element(r).data("$mdOptionController");if(!r||!o)return;var a=l.hashGetter(o.value);var s=t.isDefined(l.selected[a]);e.$apply(function(){if(l.isMultiple){if(s){l.deselect(a)}else{l.select(a,o.value)}}else{if(!s){l.deselect(Object.keys(l.selected)[0]);l.select(a,o.value)}}l.refreshViewValue()})}}function l(i,o,a){var l=this;l.isMultiple=t.isDefined(o.multiple);l.selected={};l.options={};i.$watch(function(){return l.options},function(){l.ngModel.$render()},true);var s;l.setMultiple=function(e){var n=l.ngModel;l.isMultiple=e;if(s)s();if(l.isMultiple){n.$validators["md-multiple"]=r;n.$render=h;i.$watchCollection(o.ngModel,function(e){if(r(e))h(e)})}else{delete n.$validators["md-multiple"];n.$render=g}function r(e,n){return t.isArray(e||n||[])}};var c="";var d,f,m;var p=300;l.optNodeForKeyboardSearch=function(e){d&&clearTimeout(d);d=setTimeout(function(){d=n;c="";m=n;f=n},p);c+=String.fromCharCode(e.keyCode);var r=new RegExp("^"+c,"i");if(!f){f=a.find("md-option");m=new Array(f.length);t.forEach(f,function(e,t){m[t]=e.textContent.trim()})}for(var i=0;i<m.length;++i){if(r.test(m[i])){return f[i]}}};l.init=function(n){l.ngModel=n;if(n.$options&&n.$options.trackBy){var o={};var a=e(n.$options.trackBy);l.hashGetter=function(e,t){o.$value=e;return a(t||i,o)}}else{l.hashGetter=function s(e){if(t.isObject(e)){return"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++r))}return e}}l.setMultiple(l.isMultiple)};l.selectedLabels=function(){var e=u(a[0].querySelectorAll("md-option[selected]"));if(e.length){return e.map(function(e){return e.textContent}).join(", ")}else{return""}};l.select=function(e,t){var n=l.options[e];n&&n.setSelected(true);l.selected[e]=t};l.deselect=function(e){var t=l.options[e];t&&t.setSelected(false);delete l.selected[e]};l.addOption=function(e,n){if(t.isDefined(l.options[e])){throw new Error("Duplicate md-option values are not allowed in a select. "+'Duplicate value "'+n.value+'" found.')}l.options[e]=n;if(t.isDefined(l.selected[e])){l.select(e,n.value);l.refreshViewValue()}};l.removeOption=function(e){delete l.options[e]};l.refreshViewValue=function(){var e=[];var t;for(var n in l.selected){if(t=l.options[n]){e.push(t.value)}else{e.push(l.selected[n])}}l.ngModel.$setViewValue(l.isMultiple?e:e[0])};function h(){var e=l.ngModel.$modelValue||l.ngModel.$viewValue;if(!t.isArray(e))return;var n=Object.keys(l.selected);var r=e.map(l.hashGetter);var i=n.filter(function(e){return r.indexOf(e)===-1});i.forEach(l.deselect);r.forEach(function(t,n){l.select(t,e[n])})}function g(){var e=l.ngModel.$viewValue||l.ngModel.$modelValue;Object.keys(l.selected).forEach(l.deselect);l.select(l.hashGetter(e),e)}}}o.$inject=["$parse","$mdUtil","$mdTheming"];function a(e,n){o.$inject=["$element"];return{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:o,compile:r};function r(e,n){e.append(t.element('<div class="md-text">').append(e.contents()));e.attr("tabindex",n.tabindex||"0");return i}function i(r,i,o,a){var l=a[0];var s=a[1];if(t.isDefined(o.ngValue)){r.$watch(o.ngValue,u)}else if(t.isDefined(o.value)){u(o.value)}else{r.$watch(function(){return i.text()},u)}r.$$postDigest(function(){o.$observe("selected",function(e){if(!t.isDefined(e))return;if(e){if(!s.isMultiple){s.deselect(Object.keys(s.selected)[0])}s.select(l.hashKey,l.value)}else{s.deselect(l.hashKey)}s.refreshViewValue();s.ngModel.$render()})});e.attach(r,i);c();function u(e,t){var n=s.hashGetter(t,r);var i=s.hashGetter(e,r);l.hashKey=i;l.value=e;s.removeOption(n,l);s.addOption(i,l)}r.$on("$destroy",function(){s.removeOption(l.hashKey,l)});function c(){var e={role:"option","aria-selected":"false"};if(!i[0].hasAttribute("id")){e.id="select_option_"+n.nextUid()}i.attr(e)}}function o(e){this.selected=false;this.setSelected=function(t){if(t&&!this.selected){e.attr({selected:"selected","aria-selected":"true"})}else if(!t&&this.selected){e.removeAttr("selected");e.attr("aria-selected","false")}this.selected=t}}}a.$inject=["$mdButtonInkRipple","$mdUtil"];function l(){return{restrict:"E",compile:e};function e(e,n){var r=e.find("label");if(!r.length){r=t.element("<label>");e.prepend(r)}if(n.label)r.text(n.label)}}function s(r){i.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"];return r("$mdSelect").setDefaults({methods:["target"],options:i});function i(r,i,l,s,c,d,f){return{parent:"body",onShow:m,onRemove:p,hasBackdrop:true,disableParentScroll:true,themable:true};function m(e,n,o){if(!o.target){throw new Error("$mdSelect.show() expected a target element in options.target but got "+'"'+o.target+'"!')}t.extend(o,{isRemoved:false,target:t.element(o.target),parent:t.element(o.parent),selectEl:n.find("md-select-menu"),contentEl:n.find("md-content"),backdrop:o.hasBackdrop&&t.element('<md-backdrop class="md-select-backdrop md-click-catcher">')});o.resizeFn=function(){l(function(){l(function(){h(e,n,o)})})};t.element(f).on("resize",o.resizeFn);t.element(f).on("orientationchange",o.resizeFn);m();n.removeClass("md-leave");var a=o.selectEl[0].getElementsByTagName("md-option");if(o.loadingAsync&&o.loadingAsync.then){o.loadingAsync.then(function(){e.$$loadingAsyncDone=true;l(function(){l(function(){if(o.isRemoved)return;h(e,n,o)})})})}else if(o.loadingAsync){e.$$loadingAsyncDone=true}if(o.disableParentScroll&&!s.getClosest(o.target,"MD-DIALOG")){o.restoreScroll=s.disableScrollAround(o.target)}else{o.disableParentScroll=false}d(p,75,false);if(o.backdrop){c.inherit(o.backdrop,o.parent);o.parent.append(o.backdrop)}o.parent.append(n);l(function(){l(function(){if(o.isRemoved)return;h(e,n,o)})});return s.transitionEndPromise(o.selectEl,{timeout:350});function m(){o.target.attr("aria-expanded","true")}function p(){if(o.isRemoved)return;var t=o.selectEl.controller("mdSelectMenu")||{};n.addClass("md-clickable");o.backdrop&&o.backdrop.on("click",function(t){t.preventDefault();t.stopPropagation();o.restoreFocus=false;e.$apply(r.cancel)});o.selectEl.on("keydown",function(t){switch(t.keyCode){case i.KEY_CODE.SPACE:case i.KEY_CODE.ENTER:var n=s.getClosest(t.target,"md-option");if(n){o.selectEl.triggerHandler({type:"click",target:n});t.preventDefault()}break;case i.KEY_CODE.TAB:case i.KEY_CODE.ESCAPE:t.preventDefault();o.restoreFocus=true;e.$apply(r.cancel)}});o.selectEl.on("keydown",function(e){switch(e.keyCode){case i.KEY_CODE.UP_ARROW:return d();case i.KEY_CODE.DOWN_ARROW:return c();default:if(e.keyCode>=31&&e.keyCode<=90){var t=o.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(e);t&&t.focus()}}});function l(e){var t=u(a);var n=t.indexOf(o.focusedNode);if(n===-1){n=0}else if(e==="next"&&n<t.length-1){n++}else if(e==="prev"&&n>0){n--}var r=o.focusedNode=t[n];r&&r.focus()}function c(){l("next")}function d(){l("prev")}o.selectEl.on("click",f);o.selectEl.on("keydown",function(e){if(e.keyCode==32||e.keyCode==13){f()}});function f(){if(!t.isMultiple){o.restoreFocus=true;e.$evalAsync(function(){r.hide(t.ngModel.$viewValue)})}}}}function p(e,r,i){i.isRemoved=true;r.addClass("md-leave").removeClass("md-clickable");i.target.attr("aria-expanded","false");t.element(f).off("resize",i.resizeFn);t.element(f).off("orientationchange",i.resizefn);i.resizeFn=n;var o=i.selectEl.controller("mdSelect");if(o){o.setLabelText(i.selectEl.controller("mdSelectMenu").selectedLabels())}return s.transitionEndPromise(r,{timeout:350}).then(function(){r.removeClass("md-active");i.backdrop&&i.backdrop.remove();if(r[0].parentNode===i.parent[0]){i.parent[0].removeChild(r[0])}if(i.disableParentScroll){i.restoreScroll()}if(i.restoreFocus)i.target.focus()})}function h(t,n,r){var u=n[0],c=r.target[0].firstElementChild.firstElementChild,d=r.parent[0],m=r.selectEl[0],p=r.contentEl[0],h=d.getBoundingClientRect(),g=c.getBoundingClientRect(),v=false,b={left:h.left+e,top:e,bottom:h.height-e,right:h.width-e-(s.floatingScrollbars()?16:0)},y={top:g.top-b.top,left:g.left-b.left,right:b.right-(g.left+g.width),bottom:b.bottom-(g.top+g.height)},_=h.width-e*2,w=p.scrollHeight>p.offsetHeight,$=m.querySelector("md-option[selected]"),E=m.getElementsByTagName("md-option"),A=m.getElementsByTagName("md-optgroup");var C;if($){C=$}else if(A.length){C=A[0]}else if(E.length){C=E[0]}else{C=p.firstElementChild||p}if(p.offsetWidth>_){p.style["max-width"]=_+"px"}if(v){p.style["min-width"]=g.width+"px"}if(w){m.classList.add("md-overflow")}var M=m.getBoundingClientRect();var k=a(C);if(C){var x=f.getComputedStyle(C);k.paddingLeft=parseInt(x.paddingLeft,10)||0;k.paddingRight=parseInt(x.paddingRight,10)||0}var T=C;if((T.tagName||"").toUpperCase()==="MD-OPTGROUP"){T=E[0]||p.firstElementChild||p}if(w){var S=p.offsetHeight/2;p.scrollTop=k.top+k.height/2-S;if(y.top<S){p.scrollTop=Math.min(k.top,p.scrollTop+S-y.top)}else if(y.bottom<S){p.scrollTop=Math.max(k.top+k.height-M.height,p.scrollTop-S+y.bottom)}}var N,D,H;if(v){N=g.left;D=g.top+g.height;H="50% 0";if(D+M.height>b.bottom){D=g.top-M.height;H="50% 100%"}}else{N=g.left+k.left-k.paddingLeft;D=Math.floor(g.top+g.height/2-k.height/2-k.top+p.scrollTop);H=k.left+g.width/2+"px "+(k.top+k.height/2-p.scrollTop)+"px 0px";u.style.minWidth=g.width+k.paddingLeft+k.paddingRight+"px"}var R=u.getBoundingClientRect();u.style.left=o(b.left,N,b.right-R.width)+"px";u.style.top=o(b.top,D,b.bottom-R.height)+"px";m.style[i.CSS.TRANSFORM_ORIGIN]=H;m.style[i.CSS.TRANSFORM]="scale("+Math.min(g.width/M.width,1)+","+Math.min(g.height/M.height,1)+")";l(function(){n.addClass("md-active");m.style[i.CSS.TRANSFORM]="";if(T){r.focusedNode=T;T.focus()}})}}function o(e,t,n){return Math.max(e,Math.min(t,n))}function a(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}}s.$inject=["$$interimElementProvider"];function u(e){var t=[];for(var n=0;n<e.length;++n){t.push(e.item(n))}return t}})();(function(){"use strict";t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",i).directive("mdSidenavFocus",r).controller("$mdSidenavController",o);function e(e,n){return function(r){var i;var o="SideNav '"+r+"' is not available!";var a=e.get(r);if(!a){e.notFoundError(r)}return i={isOpen:function(){return a&&a.isOpen()},isLockedOpen:function(){return a&&a.isLockedOpen()},toggle:function(){return a?a.toggle():n.reject(o)},open:function(){return a?a.open():n.reject(o)},close:function(){return a?a.close():n.reject(o)},then:function(e){var r=a?n.when(a):l();return r.then(e||t.noop)}};function l(){return e.when(r).then(function(e){a=e;return e})}}}e.$inject=["$mdComponentRegistry","$q"];function r(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,r){r.focusElement(t)}}}function i(e,r,i,o,a,l,s,u,c,d){return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){e.addClass("md-closed");e.attr("tabIndex","-1");return f}};function f(f,m,p,h){var g;var v=null;var b=c.when(true);var y=i(p.mdIsLockedOpen);var _=function(){return y(f.$parent,{$media:function(e){o.warn("$media is deprecated for is-locked-open. Use $mdMedia instead.");return a(e)},$mdMedia:a})};var w=s('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(f);m.on("$destroy",h.destroy);u.inherit(w,m);f.$watch(_,$);f.$watch("isOpen",E);h.$toggleOpen=C;h.focusElement(h.focusElement()||m);function $(e,t){f.isLockedOpen=e;if(e===t){m.toggleClass("md-locked-open",!!e)}else{r[e?"addClass":"removeClass"](m,"md-locked-open")}w.toggleClass("md-locked-open",!!e)}function E(e){var t=m.parent();t[e?"on":"off"]("keydown",M);w[e?"on":"off"]("click",k);if(e){v=d[0].activeElement}var n=h.focusElement();A(e);return b=c.all([e?r.enter(w,t):r.leave(w),r[e?"removeClass":"addClass"](m,"md-closed")]).then(function(){if(f.isOpen){n&&n.focus()}})}function A(e){var r=m.parent();if(e){g=r.css("overflow");r.css("overflow","hidden")}else if(t.isDefined(g)){r.css("overflow",g);g=n}}function C(t){if(f.isOpen==t){return c.when(true)}else{var n=c.defer();f.isOpen=t;e(function(){b.then(function(e){if(!f.isOpen){v&&v.focus();v=null}n.resolve(e)})},0,false);return n.promise}}function M(e){var t=e.keyCode===l.KEY_CODE.ESCAPE;return t?k(e):c.when(true)}function k(e){e.preventDefault();e.stopPropagation();return h.close()}}}i.$inject=["$timeout","$animate","$parse","$log","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"];function o(e,n,r,i,o){var a=this,l;a.isOpen=function(){return!!e.isOpen};a.isLockedOpen=function(){return!!e.isLockedOpen};a.open=function(){return a.$toggleOpen(true)};a.close=function(){return a.$toggleOpen(false)};a.toggle=function(){return a.$toggleOpen(!e.isOpen)};a.focusElement=function(e){if(t.isDefined(e)){l=e}return l};a.$toggleOpen=function(){return o.when(e.isOpen)};a.destroy=i.register(a,r.mdComponentId)}o.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]})();(function(){"use strict";t.module("material.components.slider",["material.core"]).directive("mdSlider",e);function e(e,n,r,i,o,a,l,s){return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',
compile:u};function u(e,t){e.attr({tabIndex:0,role:"slider"});r.expect(e,"aria-label");return c}function c(r,u,c,d){a(u);d=d||{$setViewValue:function(e){this.$viewValue=e;this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var f=c.ngDisabled&&s(c.ngDisabled);var m=f?function(){return f(r.$parent)}:t.noop;var p=t.element(u[0].querySelector(".md-thumb"));var h=t.element(u[0].querySelector(".md-thumb-text"));var g=p.parent();var v=t.element(u[0].querySelector(".md-track-container"));var b=t.element(u[0].querySelector(".md-track-fill"));var y=t.element(u[0].querySelector(".md-track-ticks"));var _=i.throttle(I,5e3);c.min?c.$observe("min",k):k(0);c.max?c.$observe("max",x):x(100);c.step?c.$observe("step",T):T(1);var w=t.noop;if(c.ngDisabled){w=r.$parent.$watch(c.ngDisabled,S)}l.register(u,"drag");u.on("keydown",O).on("$md.pressdown",W).on("$md.pressup",G).on("$md.dragstart",V).on("$md.drag",Y).on("$md.dragend",K);function $(){I();L();H()}setTimeout($);var E=e.throttle($);t.element(n).on("resize",E);r.$on("$destroy",function(){t.element(n).off("resize",E);w()});d.$render=L;d.$viewChangeListeners.push(L);d.$formatters.push(F);d.$formatters.push(j);var A;var C;var M;function k(e){A=parseFloat(e);u.attr("aria-valuemin",e);$()}function x(e){C=parseFloat(e);u.attr("aria-valuemax",e);$()}function T(e){M=parseFloat(e);H()}function S(e){u.attr("aria-disabled",!!e)}var N,D;function H(){if(!t.isDefined(c.mdDiscrete))return;var e=Math.floor((C-A)/M);if(!N){var r=n.getComputedStyle(y[0]);N=t.element('<canvas style="position:absolute;">');D=N[0].getContext("2d");D.fillStyle=r.backgroundColor||"black";y.append(N)}var i=P();N[0].width=i.width;N[0].height=i.height;var o;for(var a=0;a<=e;a++){o=Math.floor(i.width*(a/e));D.fillRect(o-1,0,2,i.height)}}var R={};I();function I(){R=v[0].getBoundingClientRect()}function P(){_();return R}function O(e){if(u[0].hasAttribute("disabled")){return}var t;if(e.keyCode===o.KEY_CODE.LEFT_ARROW){t=-M}else if(e.keyCode===o.KEY_CODE.RIGHT_ARROW){t=M}if(t){if(e.metaKey||e.ctrlKey||e.altKey){t*=4}e.preventDefault();e.stopPropagation();r.$evalAsync(function(){U(d.$viewValue+t)})}}function U(e){d.$setViewValue(F(j(e)))}function L(){if(isNaN(d.$viewValue)){d.$viewValue=d.$modelValue}var e=(d.$viewValue-A)/(C-A);r.modelValue=d.$viewValue;u.attr("aria-valuenow",d.$viewValue);B(e);h.text(d.$viewValue)}function F(e){if(t.isNumber(e)){return Math.max(A,Math.min(C,e))}}function j(e){if(t.isNumber(e)){return Math.round(e/M)*M}}function B(e){b.css("width",e*100+"%");g.css("left",e*100+"%");u.toggleClass("md-min",e===0)}var z=false;var q=t.isDefined(c.mdDiscrete);function W(e){if(m())return;u.addClass("active");u[0].focus();I();var t=ee(Q(e.pointer.x));var n=F(j(t));r.$apply(function(){U(n);B(te(n))})}function G(e){if(m())return;u.removeClass("dragging active");var t=ee(Q(e.pointer.x));var n=F(j(t));r.$apply(function(){U(n);L()})}function V(e){if(m())return;z=true;e.stopPropagation();u.addClass("dragging");X(e)}function Y(e){if(!z)return;e.stopPropagation();X(e)}function K(e){if(!z)return;e.stopPropagation();z=false}function X(e){if(q)J(e.pointer.x);else Z(e.pointer.x)}function Z(e){r.$evalAsync(function(){U(ee(Q(e)))})}function J(e){var t=ee(Q(e));var n=F(j(t));B(Q(e));h.text(n)}function Q(e){return Math.max(0,Math.min(1,(e-R.left)/R.width))}function ee(e){return A+e*(C-A)}function te(e){return(e-A)/(C-A)}}}e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]})();(function(){"use strict";t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e);function e(e,r,i,o,a){var l=u();return function d(e,t,n){var r=t.controller("mdContent");if(!r)return;if(l){t.css({position:l,top:0,"z-index":2})}else{var i=r.$element.data("$$sticky");if(!i){i=s(r);r.$element.data("$$sticky",i)}var o=i.add(t,n||t.clone());e.$on("$destroy",o)}};function s(e){var t=e.$element;var i=o.throttle(u);c(t);t.on("$scrollstart",i);t.on("$scroll",f);var a;var l=t.prop("offsetTop");return a={prev:null,current:null,next:null,items:[],add:s,refreshElements:u};function s(e,n){n.addClass("md-sticky-clone");n.css("top",l+"px");var r={element:e,clone:n};a.items.push(r);t.parent().prepend(r.clone);i();return function o(){a.items.forEach(function(t,n){if(t.element[0]===e[0]){a.items.splice(n,1);t.clone.remove()}});i()}}function u(){a.items.forEach(d);a.items=a.items.sort(function(e,t){return e.top<t.top?-1:1});var e;var n=t.prop("scrollTop");for(var r=a.items.length-1;r>=0;r--){if(n>a.items[r].top){e=a.items[r];break}}m(e)}function d(e){var n=e.element[0];e.top=0;e.left=0;while(n&&n!==t[0]){e.top+=n.offsetTop;e.left+=n.offsetLeft;n=n.offsetParent}e.height=e.element.prop("offsetHeight");e.clone.css("margin-left",e.left+"px")}function f(){var e=t.prop("scrollTop");var n=e>(f.prevScrollTop||0);f.prevScrollTop=e;if(e===0){m(null)}else if(n&&a.next){if(a.next.top-e<=0){m(a.next)}else if(a.current){if(a.next.top-e<=a.next.height){h(a.current,a.next.top-a.next.height-e)}else{h(a.current,null)}}}else if(!n&&a.current){if(e<a.current.top){m(a.prev)}if(a.current&&a.next){if(e>=a.next.top-a.current.height){h(a.current,a.next.top-e-a.current.height)}else{h(a.current,null)}}}}function m(e){if(a.current===e)return;if(a.current){h(a.current,null);p(a.current,null)}if(e){p(e,"active")}a.current=e;var t=a.items.indexOf(e);a.next=a.items[t+1];a.prev=a.items[t-1];p(a.next,"next");p(a.prev,"prev")}function p(e,t){if(!e||e.state===t)return;if(e.state){e.clone.attr("sticky-prev-state",e.state);e.element.attr("sticky-prev-state",e.state)}e.clone.attr("sticky-state",t);e.element.attr("sticky-state",t);e.state=t}function h(e,t){if(!e)return;if(t===null||t===n){if(e.translateY){e.translateY=null;e.clone.css(r.CSS.TRANSFORM,"")}}else{e.translateY=t;e.clone.css(r.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")}}}function u(n){var r;var i=t.element("<div>");e[0].body.appendChild(i[0]);var o=["sticky","-webkit-sticky"];for(var a=0;a<o.length;++a){i.css({position:o[a],top:0,"z-index":2});if(i.css("position")==o[a]){r=o[a];break}}i.remove();return r}function c(e){var t=200;var n;var r;e.on("scroll touchmove",function(){if(!n){n=true;o(i);e.triggerHandler("$scrollstart")}e.triggerHandler("$scroll");r=+a.now()});function i(){if(+a.now()-r>t){n=false;e.triggerHandler("$scrollend")}else{e.triggerHandler("$scroll");o(i)}}}}e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]})();(function(){"use strict";t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e);function e(e,n,r){return{restrict:"E",replace:true,transclude:true,template:'<h2 class="md-subheader">'+'<div class="md-subheader-inner">'+'<span class="md-subheader-content"></span>'+"</div>"+"</h2>",compile:function(i,o,a){return function l(i,o,s){r(o);var u=o[0].outerHTML;function c(e){return t.element(e[0].querySelector(".md-subheader-content"))}a(i,function(e){c(o).append(e)});if(!o.hasClass("md-no-sticky")){a(i,function(r){var a=n(t.element(u))(i);c(a).append(r);e(i,o,a)})}}}}}e.$inject=["$mdSticky","$compile","$mdTheming"]})();(function(){"use strict";t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight"));function e(e){var t="md"+e;var n="$md."+e.toLowerCase();r.$inject=["$parse"];return r;function r(e){return{restrict:"A",link:r};function r(r,i,o){var a=e(o[t]);i.on(n,function(e){r.$apply(function(){a(r,{$event:e})})})}}}})();(function(){"use strict";t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e);function e(e,n,r,i,o,a,l,s){var u=e[0];return{restrict:"E",priority:210,transclude:true,template:'<div class="md-container">'+'<div class="md-bar"></div>'+'<div class="md-thumb-container">'+'<div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div>'+"</div>"+"</div>"+'<div ng-transclude class="md-label">'+"</div>",require:"?ngModel",compile:c};function c(e,n){var i=u.compile(e,n);e.addClass("md-dragging");return function(e,n,u,c){c=c||r.fakeNgModel();var d=a(u.ngDisabled);var f=t.element(n[0].querySelector(".md-thumb-container"));var m=t.element(n[0].querySelector(".md-container"));l(function(){n.removeClass("md-dragging")});i(e,n,u,c);if(t.isDefined(u.ngDisabled)){e.$watch(d,function(e){n.attr("tabindex",e?-1:0)})}s.register(m,"drag");m.on("$md.dragstart",h).on("$md.drag",g).on("$md.dragend",v);var p;function h(t){if(d(e))return;t.stopPropagation();n.addClass("md-dragging");p={width:f.prop("offsetWidth")};n.removeClass("transition")}function g(e){if(!p)return;e.stopPropagation();e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/p.width;var n=c.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n));f.css(o.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)");p.translate=n}function v(e){if(!p)return;e.stopPropagation();n.removeClass("md-dragging");f.css(o.CSS.TRANSFORM,"");var t=c.$viewValue?p.translate<.5:p.translate>.5;if(t){b(!c.$viewValue)}p=null}function b(t){e.$apply(function(){c.$setViewValue(t);c.$render()})}}}}e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]})();(function(){"use strict";t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n);function e(){return{restrict:"E"}}function n(e){var t;var n=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:r}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,n){var r={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function i(n){var r=this;n.$watch(function(){return t},function(){r.content=t});this.resolve=function(){e.hide()}}],theme:n.defaultTheme(),controllerAs:"toast",bindToController:true};return r}]}).addMethod("updateContent",function(e){t=e});r.$inject=["$timeout","$animate","$mdToast","$mdUtil"];return n;function r(e,n,r,i){return{onShow:o,onRemove:a,position:"bottom left",themable:true,hideDelay:3e3};function o(o,a,s){a=i.extractElementByName(a,"md-toast");t=s.content;a.addClass(s.position.split(" ").map(function(e){return"md-"+e}).join(" "));s.parent.addClass(l(s.position));s.onSwipe=function(t,n){a.addClass("md-"+t.type.replace("$md.",""));e(r.cancel)};a.on("$md.swipeleft $md.swiperight",s.onSwipe);return n.enter(a,s.parent)}function a(e,t,r){t.off("$md.swipeleft $md.swiperight",r.onSwipe);r.parent.removeClass(l(r.position));return n.leave(t)}function l(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}}}n.$inject=["$$interimElementProvider"]})();(function(){"use strict";t.module("material.components.tabs",["material.core","material.components.icon"])})();(function(){"use strict";t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e);function e(e,n,r,i,o,a){return{restrict:"E",controller:t.noop,link:function(l,s,u){i(s);if(t.isDefined(u.mdScrollShrink)){c()}function c(){var t=0;var i=0;var c=u.mdShrinkSpeedFactor||.5;var d;var f;var m=e.throttle(v);var p=r.debounce(g,5*1e3);l.$on("$mdContentLoaded",h);function h(t,n){if(s.parent()[0]===n.parent()[0]){if(f){f.off("scroll",m)}n.on("scroll",m);n.attr("scroll-shrink","true");f=n;e(g)}}function g(){d=s.prop("offsetHeight");var e=-d*c+"px";f.css("margin-top",e);f.css("margin-bottom",e);v()}function v(e){var r=e?e.target.scrollTop:i;p();t=Math.min(d/c,Math.max(0,t+r-i));s.css(n.CSS.TRANSFORM,"translate3d(0,"+-t*c+"px,0)");f.css(n.CSS.TRANSFORM,"translate3d(0,"+(d-t)*c+"px,0)");i=r;if(s.hasClass("md-whiteframe-z1")){if(!t){a(function(){o.removeClass(s,"md-whiteframe-z1")})}}else{if(t){a(function(){o.addClass(s,"md-whiteframe-z1")})}}}}}}}e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"]})();(function(){"use strict";t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e);function e(e,n,r,i,o,a,l,s,u){var c=300;var d=8;return{restrict:"E",transclude:true,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:f};function f(f,m,p){a(m);var h=k(),g=t.element(m[0].getElementsByClassName("md-background")[0]),v=t.element(m[0].getElementsByClassName("md-content")[0]),b=p.mdDirection,y=x(),_=t.element(y||document.body),w=r.throttle(function(){if(f.visible)R()});return $();function $(){E();M();S();A();C()}function E(){if(!t.isDefined(p.mdDelay))f.delay=c}function A(){f.$on("$destroy",function(){f.visible=false;m.remove();t.element(n).off("resize",w)});f.$watch("visible",function(e){if(e)D();else H()})}function C(){if(!h.attr("aria-label")&&!h.text().trim()){h.attr("aria-label",m.text().trim())}}function M(){m.detach();m.attr("role","tooltip")}function k(){var e=m.parent();while(e&&n.getComputedStyle(e[0])["pointer-events"]=="none"){e=e.parent()}return e}function x(){var e=m.parent()[0];while(e&&e!==l[0]&&e!==document.body){if(e.tagName&&e.tagName.toLowerCase()=="md-content")break;e=e.parentNode}return e}function T(e,r){var i=n.getComputedStyle(m[0]);return t.isDefined(i[e])&&i[e]==r}function S(){var e=false;var r=function(){if(!T("pointer-events","none")){N(true)}};var o=function(){var t=f.hasOwnProperty("autohide")?f.autohide:p.hasOwnProperty("mdAutohide");if(t||e||i[0].activeElement!==h[0]){N(false)}e=false};h.on("mousedown",function(){e=true});h.on("focus mouseenter touchstart",r);h.on("blur mouseleave touchend touchcancel",o);t.element(n).on("resize",w)}function N(t){N.value=!!t;if(!N.queued){if(t){N.queued=true;e(function(){f.visible=N.value;N.queued=false},f.delay)}else{e(function(){f.visible=false})}}}function D(){_.append(m);if(T("display","none")){f.visible=false;m.detach();return}R();t.forEach([m,g,v],function(e){s.addClass(e,"md-show")})}function H(){u.all([s.removeClass(v,"md-show"),s.removeClass(g,"md-show"),s.removeClass(m,"md-show")]).then(function(){if(!f.visible)m.detach()})}function R(){var e=o.offsetRect(m,_);var t=o.offsetRect(h,_);var n=a(b);if(b){n=i(n)}else if(n.top>m.prop("offsetParent").scrollHeight-e.height-d){n=i(a("top"))}m.css({top:n.top+"px",left:n.left+"px"});r();function r(){var t=b==="left"||b==="right"?Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height/2,2))*2:Math.sqrt(Math.pow(e.width/2,2)+Math.pow(e.height,2))*2,n=b==="left"?{left:100,top:50}:b==="right"?{left:0,top:50}:b==="top"?{left:50,top:100}:{left:50,top:0};g.css({width:t+"px",height:t+"px",left:n.left+"%",top:n.top+"%"})}function i(t){var n={left:t.left,top:t.top};n.left=Math.min(n.left,_.prop("scrollWidth")-e.width-d);n.left=Math.max(n.left,d);n.top=Math.min(n.top,_.prop("scrollHeight")-e.height-d);n.top=Math.max(n.top,d);return n}function a(n){return n==="left"?{left:t.left-e.width-d,top:t.top+t.height/2-e.height/2}:n==="right"?{left:t.left+t.width+d,top:t.top+t.height/2-e.height/2}:n==="top"?{left:t.left+t.width/2-e.width/2,top:t.top-e.height-d}:{left:t.left+t.width/2-e.width/2,top:t.top+t.height+d}}}}}e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]})();(function(){"use strict";t.module("material.components.whiteframe",[])})();(function(){"use strict";t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",i);var e=41,n=5.5*e,r=8;function i(e,i,o,a,l,s,u,c,d){var f=this,m=e.itemsExpr.split(/ in /i),p=m[1],h=null,g=null,v={},b=false,y=[],_=false;f.scope=e;f.parent=e.$parent;f.itemName=m[0];f.matches=[];f.loading=false;f.hidden=true;f.index=null;f.messages=[];f.id=o.nextUid();f.keydown=P;f.blur=R;f.focus=I;f.clear=W;f.select=q;f.getCurrentDisplayValue=B;f.registerSelectedItemWatcher=N;f.unregisterSelectedItemWatcher=D;f.listEnter=function(){b=true};f.listLeave=function(){b=false;if(!_)f.hidden=true};f.mouseUp=function(){h.input.focus()};return w();function w(){C();l(function(){M();A();E()})}function $(){if(!h)return l($,0,false);var e=h.wrap.getBoundingClientRect(),t=h.snap.getBoundingClientRect(),i=h.root.getBoundingClientRect(),o=t.bottom-i.top,a=i.bottom-t.top,s=e.left-i.left,u=e.width,c={left:s+"px",minWidth:u+"px",maxWidth:Math.max(e.right-i.left,i.right-e.left)-r+"px"};if(o>a&&i.height-e.bottom-r<n){c.top="auto";c.bottom=a+"px";c.maxHeight=Math.min(n,e.top-i.top-r)+"px"}else{c.top=o+"px";c.bottom="auto";c.maxHeight=Math.min(n,i.bottom-e.bottom-r)+"px"}h.$.ul.css(c);l(d,0,false);function d(){var t=h.ul.getBoundingClientRect(),n={};if(t.right>i.right-r){n.left=e.right-t.width+"px"}h.$.ul.css(n)}}function E(){if(!h.$.root.length)return;s(h.$.ul);h.$.ul.detach();h.$.root.append(h.$.ul);if(c.pin)c.pin(h.$.ul,d)}function A(){if(e.autofocus)h.input.focus()}function C(){var n=parseInt(e.delay,10)||0;e.$watch("searchText",n?o.debounce(H,n):H);N(T);e.$watch("selectedItem",S);e.$watch("$mdAutocompleteCtrl.hidden",function(e,t){if(!e&&t)$()});t.element(u).on("resize",$)}function M(){h={main:i[0],ul:i.find("ul")[0],input:i.find("input")[0],wrap:i.find("md-autocomplete-wrap")[0],root:document.body};h.li=h.ul.getElementsByTagName("li");h.snap=k();h.$=x(h)}function k(){for(var e=i;e.length;e=e.parent()){if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0]}return h.wrap}function x(e){var n={};for(var r in e){n[r]=t.element(e[r])}return n}function T(t,n){if(t){e.searchText=U(t)}if(e.itemChange&&t!==n)e.itemChange(L(t))}function S(e,t){for(var n=0;n<y.length;++n){y[n](e,t)}}function N(e){if(y.indexOf(e)==-1){y.push(e)}}function D(e){var t=y.indexOf(e);if(t!=-1){y.splice(t,1)}}function H(t,n){f.index=F();if(t===n)return;if(t!==U(e.selectedItem))e.selectedItem=null;else return;if(e.textChange&&t!==n)e.textChange(L(e.selectedItem));if(!z()){f.loading=false;f.matches=[];f.hidden=j();V()}else{X()}}function R(){_=false;if(!b)f.hidden=true}function I(){_=true;if(!t.isString(e.searchText))e.searchText="";if(e.minLength>0)return;f.hidden=j();if(!f.hidden)X()}function P(e){switch(e.keyCode){case a.KEY_CODE.DOWN_ARROW:if(f.loading)return;e.preventDefault();f.index=Math.min(f.index+1,f.matches.length-1);K();V();break;case a.KEY_CODE.UP_ARROW:if(f.loading)return;e.preventDefault();f.index=f.index<0?f.matches.length-1:Math.max(0,f.index-1);K();V();break;case a.KEY_CODE.TAB:case a.KEY_CODE.ENTER:if(f.hidden||f.loading||f.index<0||f.matches.length<1)return;e.preventDefault();q(f.index);break;case a.KEY_CODE.ESCAPE:f.matches=[];f.hidden=true;f.index=F();break;default:}}function O(){return t.isNumber(e.minLength)?e.minLength:1}function U(t){return t&&e.itemText?e.itemText(L(t)):t}function L(e){if(!e)return;var t={};if(f.itemName)t[f.itemName]=e;return t}function F(){return e.autoselect?0:-1}function j(){if(!z())return true}function B(){return U(f.matches[f.index])}function z(){return e.searchText.length>=O()}function q(t){e.selectedItem=f.matches[t];e.searchText=U(e.selectedItem)||e.searchText;f.hidden=true;f.index=0;f.matches=[]}function W(){e.searchText="";q(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",true,true,{value:e.searchText});h.input.dispatchEvent(t);h.input.focus()}function G(n){var r=e.$parent.$eval(p),i=n.toLowerCase();if(t.isArray(r)){o(r)}else{f.loading=true;if(r.success)r.success(o);if(r.then)r.then(o);if(r.error)r.error(function(){f.loading=false})}function o(t){v[i]=t;f.loading=false;if(n!==e.searchText)return;g=null;f.matches=t;f.hidden=j();V();$()}}function V(){f.messages=f.matches.length?[Y(),B()]:[]}function Y(){switch(f.matches.length){case 1:return"There is 1 match available.";default:return"There are "+f.matches.length+" matches available."}}function K(){if(!h.li[f.index])return;var e=h.li[f.index],t=e.offsetTop,n=t+e.offsetHeight,r=h.ul.clientHeight;if(t<h.ul.scrollTop){h.ul.scrollTop=t}else if(n>h.ul.scrollTop+r){h.ul.scrollTop=n-r}}function X(){var t=e.searchText,n=t.toLowerCase();if(g&&g.cancel){g.cancel();g=null}if(!e.noCache&&v[n]){f.matches=v[n];V()}else{G(t)}if(_)f.hidden=j()}}i.$inject=["$scope","$element","$mdUtil","$mdConstant","$timeout","$mdTheming","$window","$animate","$rootElement"]})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdAutocomplete",e);function e(e,t){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",link:n,scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass"},template:function(e,t){var n=a(),r=o(),i=e.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel }"            role="listbox">          '+l()+'          <button              type="button"              tabindex="-1"              ng-if="$mdAutocompleteCtrl.scope.searchText && !isDisabled"              ng-click="$mdAutocompleteCtrl.clear()">            <md-icon md-svg-icon="md-cancel"></md-icon>            <span class="md-visually-hidden">Clear</span>          </button>          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions md-whiteframe-z1 {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-hide="$mdAutocompleteCtrl.hidden"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+r+"            </li>            "+n+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages" ng-if="message">{{message}}</p>        </aria-status>';function o(){var t=e.find("md-item-template").remove(),n=t.length?t.html():e.html();if(!t.length)e.empty();return n}function a(){var t=e.find("md-not-found").remove(),n=t.length?t.html():"";return n?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                         && !$mdAutocompleteCtrl.hidden"                         ng-hide="$mdAutocompleteCtrl.hidden"                         md-autocomplete-parent-scope>'+n+"</li>":""}function l(){if(t.mdFloatingLabel){return'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="fl-input-{{$mdAutocompleteCtrl.id}}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+i+"</div>            </md-input-container>"}else{return'            <input flex type="search"                id="input-{{$mdAutocompleteCtrl.id}}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="isRequired"                ng-disabled="isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>'}}}};function n(n,r,i){i.$observe("disabled",function(e){n.isDisabled=e});i.$observe("required",function(e){n.isRequired=e!==null});t.initOptionalProperties(n,i,{searchText:null,selectedItem:null});e(r)}}e.$inject=["$mdTheming","$mdUtil"]})();(function(){"use strict";t.module("material.components.autocomplete").controller("MdHighlightCtrl",e);function e(e,n,r){this.init=i;return i();function i(i){var o=r(n.html())(e),l=t.element("<div>").text(o).html(),s=n.attr("md-highlight-flags")||"",u=e.$watch(i,function(e){var t=a(e,s),r=l.replace(t,'<span class="highlight">$&</span>');n.html(r)});n.on("$destroy",function(){u()})}function o(e){if(!e)return e;return e.replace(/[\\\^\$\*\+\?\.\(\)\|\{\}\[\]]/g,"\\$&")}function a(e,t){var n="";if(t.indexOf("^")>=1)n+="^";n+=e;if(t.indexOf("$")>=1)n+="$";return new RegExp(o(n),t.replace(/[\$\^]/g,""))}}e.$inject=["$scope","$element","$interpolate"]})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdHighlightText",e);function e(){return{terminal:true,scope:false,controller:"MdHighlightCtrl",link:function(e,t,n,r){r.init(n.mdHighlightText)}}}})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdAutocompleteListItem",e);function e(e,t){return{terminal:true,link:n,scope:false};function n(n,r,i){var o=n.$parent.$mdAutocompleteCtrl,a=o.parent.$new(false,o.parent),l=o.scope.$eval(i.mdAutocompleteListItem);a[l]=n.item;e(r.contents())(a);r.attr({role:"option",id:"item_"+t.nextUid()})}}e.$inject=["$compile","$mdUtil"]})();(function(){"use strict";t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e);function e(e,t){return{restrict:"A",terminal:true,link:n,scope:false};function n(t,n,r){var i=t.$parent.$mdAutocompleteCtrl;e(n.contents())(i.parent);if(r.hasOwnProperty("mdAutocompleteReplace")){n.after(n.contents());n.remove()}}}e.$inject=["$compile","$mdUtil"]})();(function(){"use strict";t.module("material.components.chips").directive("mdChip",n);var e='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';function n(n){return{restrict:"E",require:"^?mdChips",compile:r};function r(r,i){r.append(e);return function o(e,r,i,a){r.addClass("md-chip");n(r);if(a)t.element(r[0].querySelector(".md-chip-content")).on("blur",function(){a.selectedChip=-1})}}}n.$inject=["$mdTheming"]})();(function(){"use strict";t.module("material.components.chips").directive("mdChipRemove",e);function e(e){return{restrict:"A",require:"^mdChips",scope:false,link:t};function t(t,n,r,i){n.on("click",function(e){t.$apply(function(){i.removeChip(t.$$replacedScope.$index)})});e(function(){n.attr({tabindex:-1,ariaHidden:true});n.find("button").attr("tabindex","-1")})}}e.$inject=["$timeout"]})();(function(){"use strict";t.module("material.components.chips").directive("mdChipTransclude",e);function e(e,t){return{restrict:"EA",terminal:true,link:n,scope:false};function n(t,n,r){var i=t.$parent.$mdChipsCtrl,o=i.parent.$new(false,i.parent);o.$$replacedScope=t;o.$chip=t.$chip;o.$mdChipsCtrl=i;n.html(i.$scope.$eval(r.mdChipTransclude));e(n.contents())(o)}}e.$inject=["$compile","$mdUtil"]})();(function(){"use strict";t.module("material.components.chips").controller("MdChipsCtrl",e);function e(e,t,n,r,i){this.$timeout=i;this.$mdConstant=t;this.$scope=e;this.parent=e.$parent;this.$log=n;this.$element=r;this.ngModelCtrl=null;this.userInputNgModelCtrl=null;this.userInputElement=null;this.items=[];this.selectedChip=-1;this.deleteHint="Press delete to remove this chip.";this.deleteButtonLabel="Remove";this.chipBuffer="";this.useMdOnAppend=false}e.$inject=["$scope","$mdConstant","$log","$element","$timeout"];e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();switch(e.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!t)break;e.preventDefault();this.appendChip(t);this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(t)break;e.stopPropagation();if(this.items.length)this.selectAndFocusChipSafe(this.items.length-1);break}};e.prototype.chipKeydown=function(e){if(this.getChipBuffer())return;switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault();this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault();if(this.selectedChip<0)this.selectedChip=this.items.length;if(this.items.length)this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault();this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault();this.onFocus();break}};e.prototype.getPlaceholder=function(){var e=this.items.length&&(this.secondaryPlaceholder==""||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder};e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e);this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))};e.prototype.resetSelectedChip=function(){this.selectedChip=-1};e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return t==0?-1:e==t?e-1:e};e.prototype.appendChip=function(e){if(this.items.indexOf(e)+1)return;if(this.useMdOnAppend&&this.mdOnAppend){e=this.mdOnAppend({$chip:e})}this.items.push(e)};e.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=true};e.prototype.getChipBuffer=function(){return!this.userInputElement?this.chipBuffer:this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value};e.prototype.resetChipBuffer=function(){if(this.userInputElement){if(this.userInputNgModelCtrl){this.userInputNgModelCtrl.$setViewValue("");this.userInputNgModelCtrl.$render()}else{this.userInputElement[0].value=""}}else{this.chipBuffer=""}};e.prototype.removeChip=function(e){this.items.splice(e,1)};e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e);this.onFocus()};e.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length){this.selectChip(-1);this.onFocus();return}if(e===this.items.length)return this.onFocus();e=Math.max(e,0);e=Math.min(e,this.items.length-1);this.selectChip(e);this.focusChip(e)};e.prototype.selectChip=function(e){if(e>=-1&&e<=this.items.length){this.selectedChip=e}else{this.$log.warn("Selected Chip index out of bounds; ignoring.")}};e.prototype.selectAndFocusChip=function(e){this.selectChip(e);if(e!=-1){this.focusChip(e)}};e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus();
};e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}};e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus();this.resetSelectedChip()};e.prototype.onInputFocus=function(){this.inputHasFocus=true;this.resetSelectedChip()};e.prototype.onInputBlur=function(){this.inputHasFocus=false};e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");if(n!=this.ngModelCtrl){this.userInputNgModelCtrl=n}var r=this.$scope;var i=this;e.attr({tabindex:0}).on("keydown",function(e){r.$apply(t.bind(i,function(){i.inputKeydown(e)}))}).on("focus",t.bind(i,i.onInputFocus)).on("blur",t.bind(i,i.onInputBlur))};e.prototype.configureAutocomplete=function(e){e.registerSelectedItemWatcher(t.bind(this,function(e){if(e){this.appendChip(e);this.resetChipBuffer()}}));this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur))};e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}})();(function(){"use strict";t.module("material.components.chips").directive("mdChips",o);var e='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>';var n='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">';var r="      <span>{{$chip}}</span>";var i='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';function o(t,o,a,l,s){return{template:function(t,n){var r=n["$mdUserTemplate"]=t.clone();return e},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:true,compile:u,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}};function u(e,u){var c=u["$mdUserTemplate"];u["$mdUserTemplate"]=null;var d=h("md-chips>*[md-chip-remove]")||i,f=h("md-chips>md-chip-template")||r,m=h("md-chips>md-autocomplete")||h("md-chips>input")||n,p=c.find("md-chip");if(c[0].querySelector("md-chip-template>*[md-chip-remove]")){l.warn("invalid placement of md-chip-remove within md-chip-template.")}function h(e){if(!u.ngModel)return;var t=c[0].querySelector(e);return t&&t.outerHTML}return function g(e,r,i,l){o.initOptionalProperties(e,u);t(r);var c=l[0];c.chipContentsTemplate=f;c.chipRemoveTemplate=d;c.chipInputTemplate=m;r.attr({ariaHidden:true,tabindex:-1}).on("focus",function(){c.onFocus()});if(u.ngModel){c.configureNgModel(r.controller("ngModel"));if(i.mdOnAppend)c.useMdOnAppendExpression();if(m!=n){s(function(){if(m.indexOf("<md-autocomplete")===0)c.configureAutocomplete(r.find("md-autocomplete").controller("mdAutocomplete"));c.configureUserInput(r.find("input"))})}}if(p.length>0){var h=a(p)(e.$parent);s(function(){r.find("md-chips-wrap").prepend(h)})}}}}o.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]})();(function(){"use strict";t.module("material.components.chips").controller("MdContactChipsCtrl",e);function e(){this.selectedItem=null;this.searchText=""}e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n};e.prototype.filterSelectedContacts=function(e){return this.contacts.indexOf(e)==-1}})();(function(){"use strict";t.module("material.components.chips").directive("mdContactChips",n);var e='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';function n(t,n){return{template:function(t,n){return e},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:true,compile:r,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}};function r(e,r){return function i(e,o,a,l){n.initOptionalProperties(e,r);t(o);o.attr("tabindex","-1")}}}n.$inject=["$mdTheming","$mdUtil"]})();(function(){"use strict";t.module("material.components.tabs").directive("mdTab",e);function e(){return{require:"^?mdTabs",terminal:true,template:function(e,t){var n=i(),r=o();return""+"<md-tab-label>"+n+"</md-tab-label>"+"<md-tab-body>"+r+"</md-tab-body>";function i(){return n()||r()||i();function n(){return t.label}function r(){var t=e.find("md-tab-label");if(t.length)return t.remove().html()}function i(){var t=e.html();e.empty();return t}}function o(){var n=e.find("md-tab-body"),r=n.length?n.html():t.label?e.html():"";if(n.length)n.remove();else if(t.label)e.empty();return r}},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"},link:e};function e(e,n,r,i){if(!i)return;var o=n.parent()[0].getElementsByTagName("md-tab"),a=Array.prototype.indexOf.call(o,n[0]),l=i.insertTab({scope:e,parent:e.$parent,index:a,element:n,template:n.find("md-tab-body").html(),label:n.find("md-tab-label").html()},a);e.select=e.select||t.noop;e.deselect=e.deselect||t.noop;e.$watch("active",function(e){if(e)i.select(l.getIndex())});e.$watch("disabled",function(){i.refreshIndex()});e.$watch(function(){return Array.prototype.indexOf.call(o,n[0])},function(e){l.index=e;i.updateTabOrder()});e.$on("$destroy",function(){i.removeTab(l)})}}})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabItem",e);function e(){return{require:"^?mdTabs",link:function e(t,n,r,i){if(!i)return;i.attachRipple(t,n)}}}})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabLabel",e);function e(){return{terminal:true}}})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabScroll",e);function e(e){return{restrict:"A",compile:function(t,n){var r=e(n.mdTabScroll,null,true);return function i(e,t){t.on("mousewheel",function(t){e.$apply(function(){r(e,{$event:t})})})}}}}e.$inject=["$parse"]})();(function(){"use strict";t.module("material.components.tabs").controller("MdTabsController",e);function e(e,n,r,i,o,a,l,s){var u=this,c=false,d=x(),f=[];u.scope=e;u.parent=e.$parent;u.tabs=[];u.lastSelectedIndex=null;u.focusIndex=e.selectedIndex||0;u.offsetLeft=0;u.hasContent=false;u.hasFocus=false;u.lastClick=true;u.redirectFocus=O;u.attachRipple=G;u.shouldStretchTabs=N;u.shouldPaginate=H;u.shouldCenterTabs=D;u.insertTab=k;u.removeTab=M;u.select=w;u.scroll=$;u.nextPage=E;u.previousPage=A;u.keydown=_;u.canPageForward=S;u.canPageBack=T;u.refreshIndex=j;u.incrementSelectedIndex=P;u.updateInkBarStyles=l.debounce(z,100);u.updateTabOrder=l.debounce(I,100);m();function m(){e.$watch("selectedIndex",b);e.$watch("$mdTabsCtrl.focusIndex",v);e.$watch("$mdTabsCtrl.offsetLeft",g);e.$watch("$mdTabsCtrl.hasContent",h);t.element(r).on("resize",C);t.element(d.paging).on("DOMSubtreeModified",u.updateInkBarStyles);i(B,0,false);i(U);e.$on("$destroy",p)}function p(){t.element(r).off("resize",C);t.element(d.paging).off("DOMSubtreeModified",u.updateInkBarStyles)}function h(e){n[e?"removeClass":"addClass"]("md-no-tab-content")}function g(n){var r=D()?"":"-"+n+"px";t.element(d.paging).css("transform","translate3d("+r+", 0, 0)");e.$broadcast("$mdTabsPaginationChanged")}function v(e,t){if(e===t)return;if(!d.tabs[e])return;U();O()}function b(t,n){if(t===n)return;e.selectedIndex=R(t);u.lastSelectedIndex=n;u.updateInkBarStyles();B();e.$broadcast("$mdTabsChanged");u.tabs[n]&&u.tabs[n].scope.deselect();u.tabs[t]&&u.tabs[t].scope.select()}function y(){if(y.watcher)return;y.watcher=e.$watch(function(){i(function(){if(!y.watcher)return;if(n.prop("offsetParent")){y.watcher();y.watcher=null;C()}},0,false)})}function _(t){switch(t.keyCode){case o.KEY_CODE.LEFT_ARROW:t.preventDefault();P(-1,true);break;case o.KEY_CODE.RIGHT_ARROW:t.preventDefault();P(1,true);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:t.preventDefault();if(!c)e.selectedIndex=u.focusIndex;break}u.lastClick=false}function w(t){if(!c)u.focusIndex=e.selectedIndex=t;u.lastClick=true;u.tabs[t].element.triggerHandler("click")}function $(e){if(!H())return;e.preventDefault();u.offsetLeft=W(u.offsetLeft-e.wheelDelta)}function E(){var e=d.canvas.clientWidth,t=e+u.offsetLeft,n,r;for(n=0;n<d.tabs.length;n++){r=d.tabs[n];if(r.offsetLeft+r.offsetWidth>t)break}u.offsetLeft=W(r.offsetLeft)}function A(){var e,t;for(e=0;e<d.tabs.length;e++){t=d.tabs[e];if(t.offsetLeft+t.offsetWidth>=u.offsetLeft)break}u.offsetLeft=W(t.offsetLeft+t.offsetWidth-d.canvas.clientWidth)}function C(){e.$apply(function(){u.lastSelectedIndex=e.selectedIndex;u.offsetLeft=W(u.offsetLeft);i(u.updateInkBarStyles,0,false)})}function M(t){var n=e.selectedIndex,r=u.tabs.splice(t.getIndex(),1)[0];j();if(e.selectedIndex===n){r.scope.deselect();u.tabs[e.selectedIndex]&&u.tabs[e.selectedIndex].scope.select()}i(function(){u.offsetLeft=W(u.offsetLeft)})}function k(n,r){var i={getIndex:function(){return u.tabs.indexOf(o)},isActive:function(){return this.getIndex()===e.selectedIndex},isLeft:function(){return this.getIndex()<e.selectedIndex},isRight:function(){return this.getIndex()>e.selectedIndex},hasFocus:function(){return!u.lastClick&&u.hasFocus&&this.getIndex()===u.focusIndex},id:l.nextUid()},o=t.extend(i,n);if(t.isDefined(r)){u.tabs.splice(r,0,o)}else{u.tabs.push(o)}L();F();return o}function x(){var e={};e.wrapper=n[0].getElementsByTagName("md-tabs-wrapper")[0];e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0];e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0];e.tabs=e.paging.getElementsByTagName("md-tab-item");e.dummies=e.canvas.getElementsByTagName("md-dummy-tab");e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0];e.contentsWrapper=n[0].getElementsByTagName("md-tabs-content-wrapper")[0];e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content");return e}function T(){return u.offsetLeft>0}function S(){var e=d.tabs[d.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>d.canvas.clientWidth+u.offsetLeft}function N(){switch(e.stretchTabs){case"always":return true;case"never":return false;default:return!H()&&r.matchMedia("(max-width: 600px)").matches}}function D(){return e.centerTabs&&!H()}function H(){if(e.noPagination)return false;var r=n.prop("clientWidth");t.forEach(d.tabs,function(e){r-=e.offsetWidth});return r<0}function R(e){var t=Math.max(u.tabs.length-e,e),n,r;for(n=0;n<=t;n++){r=u.tabs[e+n];if(r&&r.scope.disabled!==true)return r.getIndex();r=u.tabs[e-n];if(r&&r.scope.disabled!==true)return r.getIndex()}return e}function I(){var t=u.tabs[e.selectedIndex],n=u.tabs[u.focusIndex];u.tabs=u.tabs.sort(function(e,t){return e.index-t.index});e.selectedIndex=u.tabs.indexOf(t);u.focusIndex=u.tabs.indexOf(n)}function P(t,n){var r,i=n?u.focusIndex:e.selectedIndex;for(r=i+t;u.tabs[r]&&u.tabs[r].scope.disabled;r+=t){}if(u.tabs[r]){if(n)u.focusIndex=r;else e.selectedIndex=r}}function O(){d.dummies[u.focusIndex].focus()}function U(){if(D())return;var e=d.tabs[u.focusIndex],t=e.offsetLeft,n=e.offsetWidth+t;u.offsetLeft=Math.max(u.offsetLeft,W(n-d.canvas.clientWidth));u.offsetLeft=Math.min(u.offsetLeft,W(t))}function L(){f.forEach(function(e){i(e)});f=[]}function F(){var e=false;t.forEach(u.tabs,function(t){if(t.template)e=true});u.hasContent=e}function j(){e.selectedIndex=R(e.selectedIndex);u.focusIndex=R(u.focusIndex)}function B(){if(!e.dynamicHeight)return n.css("height","");if(!u.tabs.length)return f.push(B);var t=d.contents[e.selectedIndex],r=t?t.offsetHeight:0,i=d.wrapper.offsetHeight,o=r+i,a=n.prop("clientHeight");if(a===o)return;c=true;s.animate(n,{height:a+"px"},{height:o+"px"}).then(function(){n.css("height","");c=false})}function z(){if(!d.tabs[e.selectedIndex])return;if(!u.tabs.length)return f.push(u.updateInkBarStyles);if(!n.prop("offsetParent"))return y();var r=e.selectedIndex,i=d.paging.offsetWidth,o=d.tabs[r],a=o.offsetLeft,l=i-a-o.offsetWidth;q();t.element(d.inkBar).css({left:a+"px",right:l+"px"})}function q(){var n=e.selectedIndex,r=u.lastSelectedIndex,i=t.element(d.inkBar);i.removeClass("md-left md-right");if(!t.isNumber(r))return;if(n<r){i.addClass("md-left")}else if(n>r){i.addClass("md-right")}}function W(e){if(!d.tabs.length||!H())return 0;var t=d.tabs[d.tabs.length-1],n=t.offsetLeft+t.offsetWidth;e=Math.max(0,e);e=Math.min(n-d.canvas.clientWidth,e);return e}function G(e,n){var r={colorElement:t.element(d.inkBar)};a.attach(e,n,r)}}e.$inject=["$scope","$element","$window","$timeout","$mdConstant","$mdTabInkRipple","$mdUtil","$animate"]})();(function(){"use strict";t.module("material.components.tabs").directive("mdTabs",e);function e(e,n,r){return{scope:{noPagination:"=?mdNoPagination",dynamicHeight:"=?mdDynamicHeight",centerTabs:"=?mdCenterTabs",selectedIndex:"=?mdSelected",stretchTabs:"@?mdStretchTabs"},template:function(e,t){t["$mdTabsTemplate"]=e.html();return'        <md-tabs-wrapper ng-class="{ \'md-stretch-tabs\': $mdTabsCtrl.shouldStretchTabs() }">          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate()"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate(),                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs()              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs() }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ tabWidth ? tabWidth + \'px\' : \'none\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="tab.label"                  md-scope="tab.parent"></md-tab-item>              <md-ink-bar ng-hide="noInkBar"></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  tabindex="-1"                  id="tab-item-{{tab.id}}"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="tab.label"                  md-scope="tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent">          <md-tab-content              id="tab-content-{{tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{tab.id}}"              md-swipe-left="$mdTabsCtrl.incrementSelectedIndex(1)"              md-swipe-right="$mdTabsCtrl.incrementSelectedIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"               md-template="tab.template"              md-scope="tab.parent"              md-connected-if="tab.isActive()"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     dynamicHeight              }"></md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",link:function(i,o,a){l(a.$mdTabsTemplate);delete a.$mdTabsTemplate;n.initOptionalProperties(i,a);a.$observe("mdNoBar",function(e){i.noInkBar=t.isDefined(e)});i.selectedIndex=t.isNumber(i.selectedIndex)?i.selectedIndex:0;e(o);function l(e){var t=o.find("md-tab-data");t.html(e);r(t.contents())(i.$parent)}}}}e.$inject=["$mdTheming","$mdUtil","$compile"]})();(function(){"use strict";t.module("material.components.tabs").directive("mdTemplate",e);function e(e,t,n){return{restrict:"A",link:r,scope:{template:"=mdTemplate",compileScope:"=mdScope",connected:"=?mdConnectedIf"},require:"^?mdTabs"};function r(r,i,o,a){if(!a)return;var l=r.compileScope.$new();i.html(r.template);e(i.contents())(l);return n(s);function s(){r.$watch("connected",function(e){e===false?u():c()});r.$on("$destroy",c)}function u(){t.disconnectScope(l)}function c(){t.reconnectScope(l)}}}e.$inject=["$compile","$mdUtil","$timeout"]})();(function(){t.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-icon-button, .md-button.md-THEME_NAME-theme.md-icon-button {    border-radius: 50%; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-3}}' 0%, '{{foreground-3}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-3}}' 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label.md-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-label {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-label {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-label {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-label.md-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme .md-select-label {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-label.md-placeholder {    color: '{{foreground-2}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");
})()})(window,window.angular);(function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}if(!window.FileAPI){window.FileAPI={}}if(!window.XMLHttpRequest){throw"AJAX is not supported. XMLHttpRequest is not defined."}FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad;if(FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){if(!e.upload)e.upload={};e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r;if(t)t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this);this.__url=r;try{e.apply(this,[t,r,i])}catch(o){if(o.message.indexOf("Access is denied")>-1){this.__origError=o;e.apply(this,[t,"_fix_for_ie_crossdomain__",i])}}}});e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):e==null?null:e.apply(this,[t])}});e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():e==null?null:e.apply(this)}});e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():e==null?null:e.apply(this)}});e("setRequestHeader",function(e){return function(t,r){if(t==="__setXHR_"){n(this);var i=r(this);if(i instanceof Function){i(this)}}else{this.__requestHeaders=this.__requestHeaders||{};this.__requestHeaders[t]=r;e.apply(this,arguments)}}});e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0];var i={url:n.__url,jsonp:false,cache:true,complete:function(e,r){if(e&&angular.isString(e)&&e.indexOf("#2174")!==-1){e=null}n.__completed=true;if(!e&&n.__listeners.load)n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:true});if(!e&&n.__listeners.loadend)n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:true});if(e==="abort"&&n.__listeners.abort)n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:true});if(r.status!==undefined)t(n,"status",function(){return r.status===0&&e&&e!=="abort"?500:r.status});if(r.statusText!==undefined)t(n,"statusText",function(){return r.statusText});t(n,"readyState",function(){return 4});if(r.response!==undefined)t(n,"response",function(){return r.response});var i=r.responseText||(e&&r.status===0&&e!=="abort"?e:undefined);t(n,"responseText",function(){return i});t(n,"response",function(){return i});if(e)t(n,"err",function(){return e});n.__fileApiXHR=r;if(n.onreadystatechange)n.onreadystatechange();if(n.onload)n.onload()},progress:function(e){e.target=n;if(n.__listeners.progress)n.__listeners.progress(e);n.__total=e.total;n.__loaded=e.loaded;if(e.total===e.loaded){var t=this;setTimeout(function(){if(!n.__completed){n.getAllResponseHeaders=function(){};t.complete(null,{status:204,statusText:"No Content"})}},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={};i.files={};for(var o=0;o<r.data.length;o++){var a=r.data[o];if(a.val!=null&&a.val.name!=null&&a.val.size!=null&&a.val.type!=null){i.files[a.key]=a.val}else{i.data[a.key]=a.val}}setTimeout(function(){if(!FileAPI.hasFlash){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError){throw this.__origError}e.apply(n,arguments)}}});window.XMLHttpRequest.__isFileAPIShim=true;window.FormData=FormData=function(){return{append:function(e,t,n){if(t.__isFileAPIBlobShim){t=t.data[0]}this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:true}};window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:true}}}})();(function(){function e(e){return e[0].tagName.toLowerCase()==="input"&&e.attr("type")&&e.attr("type").toLowerCase()==="file"}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return true}catch(t){if(navigator.mimeTypes["application/x-shockwave-flash"]!==undefined)return true}return false}function n(e){var t=0,n=0;if(window.jQuery){return jQuery(e).offset()}if(e.offsetParent){do{t+=e.offsetLeft-e.scrollLeft;n+=e.offsetTop-e.scrollTop;e=e.offsetParent}while(e)}return{left:t,top:n}}if(FileAPI.shouldLoad){FileAPI.hasFlash=t();if(FileAPI.forceLoad){FileAPI.html5=false}if(!FileAPI.upload){var r,i,o=document.createElement("script"),a=document.getElementsByTagName("script"),l,s,u;if(window.FileAPI.jsUrl){r=window.FileAPI.jsUrl}else if(window.FileAPI.jsPath){i=window.FileAPI.jsPath}else{for(l=0;l<a.length;l++){u=a[l].src;s=u.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/);if(s>-1){i=u.substring(0,s+1);break}}}if(FileAPI.staticPath==null)FileAPI.staticPath=i;o.setAttribute("src",r||i+"FileAPI.min.js");document.getElementsByTagName("head")[0].appendChild(o)}FileAPI.ngfFixIE=function(r,i,o){if(!t()){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}var a=function(){var t=i.parent();if(r.attr("disabled")){if(t)t.removeClass("js-fileapi-wrapper")}else{if(!i.attr("__ngf_flash_")){i.unbind("change");i.unbind("click");i.bind("change",function(e){l.apply(this,[e]);o.apply(this,[e])});i.attr("__ngf_flash_","true")}t.addClass("js-fileapi-wrapper");if(!e(r)){t.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible");i.css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")}}};r.bind("mouseenter",a);var l=function(e){var t=FileAPI.getFiles(e);for(var n=0;n<t.length;n++){if(t[n].size===undefined)t[n].size=0;if(t[n].name===undefined)t[n].name="file";if(t[n].type===undefined)t[n].type="undefined"}if(!e.target){e.target={}}e.target.files=t;if(e.target.files!==t){e.__files_=t}(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}};FileAPI.disableFileInput=function(e,t){if(t){e.removeClass("js-fileapi-wrapper")}else{e.addClass("js-fileapi-wrapper")}}}})();if(!window.FileReader){window.FileReader=function(){var e=this,t=false;this.listeners={};this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[];e.listeners[t].push(n)};this.removeEventListener=function(t,n){if(e.listeners[t])e.listeners[t].splice(e.listeners[t].indexOf(n),1)};this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n){for(var r=0;r<n.length;r++){n[r].call(e,t)}}};this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};if(n.result!=null)r.target.result=n.result;return r};var r=function(r){if(!t){t=true;if(e.onloadstart)e.onloadstart(n("loadstart",r))}var i;if(r.type==="load"){if(e.onloadend)e.onloadend(n("loadend",r));i=n("load",r);if(e.onload)e.onload(i);e.dispatchEvent(i)}else if(r.type==="progress"){i=n("progress",r);if(e.onprogress)e.onprogress(i);e.dispatchEvent(i)}else{i=n("error",r);if(e.onerror)e.onerror(i);e.dispatchEvent(i)}};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)};this.readAsText=function(e){FileAPI.readAsText(e,r)}}}if(window.XMLHttpRequest&&!(window.FileAPI&&FileAPI.shouldLoad)){window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if(t==="__setXHR_"){var r=n(this);if(r instanceof Function){r(this)}}else{e.apply(this,arguments)}}}(window.XMLHttpRequest.prototype.setRequestHeader)}var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="11.0.2";ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){var r=this;this.isResumeSupported=function(){return window.Blob&&window.Blob instanceof Function&&(new window.Blob).slice};var i=this.isResumeSupported();function o(o){o.method=o.method||"POST";o.headers=o.headers||{};var a=o._deferred=o._deferred||t.defer();var l=a.promise;function s(e){if(a.notify){a.notify(e)}if(l.progressFunc){n(function(){l.progressFunc(e)})}}function u(e){if(o._start!=null&&i){return{loaded:e.loaded+o._start,total:o._file.size,type:e.type,config:o,lengthComputable:true,target:e.target}}else{return e}}if(!o.disableProgress){o.headers.__setXHR_=function(){return function(e){if(!e||!(e instanceof XMLHttpRequest))return;o.__XHR=e;if(o.xhrFn)o.xhrFn(e);e.upload.addEventListener("progress",function(e){e.config=o;s(u(e))},false);e.upload.addEventListener("load",function(e){if(e.lengthComputable){e.config=o;s(u(e))}},false)}}}function c(){e(o).then(function(e){if(i&&o._chunkSize&&!o._finished){s({loaded:o._end,total:o._file.size,config:o,type:"progress"});r.upload(o,true)}else{if(o._finished)delete o._finished;a.resolve(e)}},function(e){a.reject(e)},function(e){a.notify(e)})}if(!i){c()}else if(o._chunkSize&&o._end&&!o._finished){o._start=o._end;o._end+=o._chunkSize;c()}else if(o.resumeSizeUrl){e.get(o.resumeSizeUrl).then(function(e){if(o.resumeSizeResponseReader){o._start=o.resumeSizeResponseReader(e.data)}else{o._start=parseInt((e.data.size==null?e.data:e.data.size).toString())}if(o._chunkSize){o._end=o._start+o._chunkSize}c()},function(e){throw e})}else if(o.resumeSize){o.resumeSize().then(function(e){o._start=e;c()},function(e){throw e})}else{c()}l.success=function(e){l.then(function(t){e(t.data,t.status,t.headers,o)});return l};l.error=function(e){l.then(null,function(t){e(t.data,t.status,t.headers,o)});return l};l.progress=function(e){l.progressFunc=e;l.then(null,null,function(t){e(t)});return l};l.abort=l.pause=function(){if(o.__XHR){n(function(){o.__XHR.abort()})}return l};l.xhr=function(e){o.xhrFn=function(t){return function(){if(t)t.apply(l,arguments);e.apply(l,arguments)}}(o.xhrFn);return l};return l}this.rename=function(e,t){e.ngfName=t;return e};this.jsonBlob=function(e){if(e!=null&&!angular.isString(e)){e=JSON.stringify(e)}var t=new window.Blob([e],{type:"application/json"});t._ngfBlob=true;return t};this.json=function(e){return angular.toJson(e)};function a(e){var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return t}this.upload=function(e,t){function n(e){return e!=null&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)}function l(t,n){if(t._ngfBlob)return t;e._file=e._file||t;if(e._start!=null&&i){if(e._end&&e._end>=t.size){e._finished=true;e._end=t.size}var r=t.slice(e._start,e._end||t.size);r.name=t.name;r.ngfName=t.ngfName;if(e._chunkSize){n.append("_chunkSize",e._chunkSize);n.append("_currentChunkSize",e._end-e._start);n.append("_chunkNumber",Math.floor(e._start/e._chunkSize));n.append("_totalSize",e._file.size)}return r}return t}function s(t,r,i){if(r!==undefined){if(angular.isDate(r)){r=r.toISOString()}if(angular.isString(r)){t.append(i,r)}else if(n(r)){var o=l(r,t);var a=i.split(",");if(a[1]){o.ngfName=a[1].replace(/^\s+|\s+$/g,"");i=a[0]}e._fileKey=e._fileKey||i;t.append(i,o,o.ngfName||o.name)}else{if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+i;r.$$ngfCircularDetection=true;try{for(var u in r){if(r.hasOwnProperty(u)&&u!=="$$ngfCircularDetection"){var c=e.objectKey==null?"[i]":e.objectKey;if(r.length&&parseInt(u)>-1){c=e.arrayKey==null?c:e.arrayKey}s(t,r[u],i+c.replace(/[ik]/g,u))}}}finally{delete r.$$ngfCircularDetection}}else{t.append(i,r)}}}}function u(){e._chunkSize=r.translateScalars(e.resumeChunkSize);e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null;e.headers=e.headers||{};e.headers["Content-Type"]=undefined;e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[];e.transformRequest.push(function(t){var n=new window.FormData,r;t=t||e.fields||{};if(e.file){t.file=e.file}for(r in t){if(t.hasOwnProperty(r)){var i=t[r];if(e.formDataAppender){e.formDataAppender(n,r,i)}else{s(n,i,r)}}}return n})}if(!t)e=a(e);if(!e._isDigested){e._isDigested=true;u()}return o(e)};this.http=function(t){t=a(t);t.transformRequest=t.transformRequest||function(t){if(window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob){return t}return e.defaults.transformRequest[0].apply(this,arguments)};t._chunkSize=r.translateScalars(t.resumeChunkSize);t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null;return o(t)};this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2){return parseFloat(e.substring(0,e.length-2)*1e3)}else if(e.search(/mb/i)===e.length-2){return parseFloat(e.substring(0,e.length-2)*1e6)}else if(e.search(/gb/i)===e.length-2){return parseFloat(e.substring(0,e.length-2)*1e9)}else if(e.search(/b/i)===e.length-1){return parseFloat(e.substring(0,e.length-1))}else if(e.search(/s/i)===e.length-1){return parseFloat(e.substring(0,e.length-1))}else if(e.search(/m/i)===e.length-1){return parseFloat(e.substring(0,e.length-1)*60)}else if(e.search(/h/i)===e.length-1){return parseFloat(e.substring(0,e.length-1)*3600)}}return e};this.setDefaults=function(e){this.defaults=e||{}};this.defaults={};this.version=ngFileUpload.version}]);ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){var o=i;o.getAttrWithDefaults=function(e,t){if(e[t]!=null)return e[t];var n=o.defaults[t];return n==null?n:angular.isString(n)?n:JSON.stringify(n)};o.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(r){try{if(i){return e(o)(r,i)}else{return e(o)(r)}}catch(a){if(t.search(/min|max|pattern/i)){return o}else{throw a}}}else{return o}};o.shouldUpdateOn=function(e,t,n){var r=o.attrGetter("ngModelOptions",t,n);if(r&&r.updateOn){return r.updateOn.split(" ").indexOf(e)>-1}return true};o.emptyPromise=function(){var e=r.defer();var n=arguments;t(function(){e.resolve.apply(e,n)});return e.promise};o.happyPromise=function(e,n){var i=r.defer();e.then(function(e){i.resolve(e)},function(e){t(function(){throw e});i.resolve(n)});return i.promise};function a(e,t,n){var i=[o.emptyPromise()];angular.forEach(e,function(r,a){if(r.type.indexOf("image/jpeg")===0&&o.attrGetter("ngfFixOrientation",t,n,{$file:r})){i.push(o.happyPromise(o.applyExifRotation(r),r).then(function(t){e.splice(a,1,t)}))}});return r.all(i)}function l(e,t,n){var i=o.attrGetter("ngfResize",t,n);if(!i||!angular.isObject(i)||!o.isResizeSupported()||!e.length)return o.emptyPromise();var a=[o.emptyPromise()];angular.forEach(e,function(r,l){if(r.type.indexOf("image")===0){if(i.pattern&&!o.validatePattern(r,i.pattern))return;var s=o.resize(r,i.width,i.height,i.quality,i.type,i.ratio,i.centerCrop,function(e,i){return o.attrGetter("ngfResizeIf",t,n,{$width:e,$height:i,$file:r})});a.push(s);s.then(function(t){e.splice(l,1,t)},function(e){r.$error="resize";r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name)})}});return r.all(a)}function s(e,t,n,r){var i=[];var a=o.attrGetter("ngfKeep",n,r);if(a){var l=false;if(a==="distinct"||o.attrGetter("ngfKeepDistinct",n,r)===true){var s=t.length;if(e){for(var u=0;u<e.length;u++){for(var c=0;c<s;c++){if(e[u].name===t[c].name){i.push(e[u]);break}}if(c===s){t.push(e[u]);l=true}}}e=t}else{e=t.concat(e||[])}}return{files:e,dupFiles:i,keep:a}}o.updateModel=function(n,r,i,u,c,d,f){function m(a,l,s,c,f){var m=a&&a.length?a[0]:null;if(n){o.applyModelValidation(n,a);n.$setViewValue(f?m:a)}if(u){e(u)(i,{$files:a,$file:m,$newFiles:s,$duplicateFiles:c,$invalidFiles:l,$event:d})}var p=o.attrGetter("ngfModelInvalid",r);if(p){t(function(){e(p).assign(i,l)})}t(function(){})}var p=c;var h=n&&n.$modelValue&&(angular.isArray(n.$modelValue)?n.$modelValue:[n.$modelValue]);h=(h||r.$$ngfPrevFiles||[]).slice(0);var g=s(c,h,r,i);c=g.files;var v=g.dupFiles;var b=!o.attrGetter("ngfMultiple",r,i)&&!o.attrGetter("multiple",r)&&!g.keep;r.$$ngfPrevFiles=c;if(g.keep&&(!p||!p.length))return;o.attrGetter("ngfBeforeModelChange",r,i,{$files:c,$file:c&&c.length?c[0]:null,$duplicateFiles:v,$event:d});o.validate(p,n,r,i).then(function(){if(f){m(c,[],p,v,b)}else{var e=o.attrGetter("ngModelOptions",r,i);if(!e||!e.allowInvalid){var n=[],s=[];angular.forEach(c,function(e){if(e.$error){s.push(e)}else{n.push(e)}});c=n}var u=o.emptyPromise(c);if(o.attrGetter("ngfFixOrientation",r,i)&&o.isExifSupported()){u=a(c,r,i)}u.then(function(){l(c,r,i).then(function(){t(function(){m(c,s,p,v,b)},e&&e.debounce?e.debounce.change||e.debounce:0)},function(e){throw"Could not resize files "+e})})}});var y=h.length;while(y--){var _=h[y];if(window.URL&&_.blobUrl){URL.revokeObjectURL(_.blobUrl);delete _.blobUrl}}};return o}]);ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){var i=[];function o(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return e.indexOf("Chrome")===-1&&/.*Windows.*Safari.*/.test(e)}function a(e,t,n,r,a,l,s,u){var c=function(e,t){return u.attrGetter(e,n,t)};function d(){return t[0].tagName.toLowerCase()==="input"&&n.type&&n.type.toLowerCase()==="file"}function f(){return c("ngfChange")||c("ngfSelect")}function m(t){if(u.shouldUpdateOn("change",n,e)){var i=t.__files_||t.target&&t.target.files,o=[];for(var a=0;a<i.length;a++){o.push(i[a])}u.updateModel(r,n,e,f(),o.length?o:null,t)}}u.registerModelChangeValidator(r,n,e);var p=[];p.push(e.$watch(c("ngfMultiple"),function(){_.attr("multiple",c("ngfMultiple",e))}));p.push(e.$watch(c("ngfCapture"),function(){_.attr("capture",c("ngfCapture",e))}));p.push(e.$watch(c("ngfAccept"),function(){_.attr("accept",c("ngfAccept",e))}));n.$observe("accept",function(){_.attr("accept",c("accept"))});p.push(function(){if(n.$$observers)delete n.$$observers.accept});function h(e){if(t!==e){for(var n=0;n<t[0].attributes.length;n++){var r=t[0].attributes[n];if(r.name!=="type"&&r.name!=="class"&&r.name!=="style"){if(r.value==null||r.value===""){if(r.name==="required")r.value="required";if(r.name==="multiple")r.value="multiple"}e.attr(r.name,r.name==="id"?"ngf-"+r.value:r.value)}}}}function g(){if(d()){return t}var e=angular.element('<input type="file">');h(e);var n=angular.element("<label>upload</label>");n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1");i.push({el:t,ref:n});document.body.appendChild(n.append(e)[0]);return e}var v=0;function b(n){if(t.attr("disabled")||c("ngfSelectDisabled",e))return false;var r=y(n);if(r!=null)return r;w(n);try{if(!d()&&!document.body.contains(_[0])){i.push({el:t,ref:_.parent()});document.body.appendChild(_[0].parent());_.bind("change",m)}}catch(a){}if(o(navigator.userAgent)){setTimeout(function(){_[0].click()},0)}else{_[0].click()}return false}function y(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(e.type==="touchstart"){v=t?t[0].clientY:0;return true}else{e.stopPropagation();e.preventDefault();if(e.type==="touchend"){var n=t?t[0].clientY:0;if(Math.abs(n-v)>20)return false}}}var _=t;function w(t){if(u.shouldUpdateOn("click",n,e)&&_.val()){_.val(null);u.updateModel(r,n,e,f(),null,t,true)}}if(!d()){_=g()}_.bind("change",m);if(!d()){t.bind("click touchstart touchend",b)}else{t.bind("click",w)}function $(e){if(_&&!_.attr("__ngf_ie10_Fix_")){if(!_[0].parentNode){_=null;return}e.preventDefault();e.stopPropagation();_.unbind("click");var t=_.clone();_.replaceWith(t);_=t;_.attr("__ngf_ie10_Fix_","true");_.bind("change",m);_.bind("click",$);_[0].click();return false}else{_.removeAttr("__ngf_ie10_Fix_")}}if(navigator.appVersion.indexOf("MSIE 10")!==-1){_.bind("click",$)}if(r)r.$formatters.push(function(e){if(e==null||e.length===0){if(_.val()){_.val(null)}}return e});e.$on("$destroy",function(){if(!d())_.parent().remove();angular.forEach(p,function(e){e()})});l(function(){for(var e=0;e<i.length;e++){var t=i[e];if(!document.body.contains(t.el[0])){i.splice(e,1);t.ref.remove()}}});if(window.FileAPI&&window.FileAPI.ngfFixIE){window.FileAPI.ngfFixIE(t,_,m)}}return{restrict:"AEC",require:"?ngModel",link:function(i,o,l,s){a(i,o,l,s,e,t,n,r)}}}]);(function(){ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;angular.forEach(e,function(n){r.dataUrl(n,true)["finally"](function(){i++;if(i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)});t.resolve(n,e)}})});return t.promise}else{return r.dataUrl(e,true)}};r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&e.$ngfDataUrl!=null||!i&&e.$ngfBlobUrl!=null){return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e)}var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();t(function(){if(window.FileReader&&e&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||e.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var r;try{r=n.createObjectURL(e)}catch(o){t(function(){e.$ngfBlobUrl="";a.reject()});return}t(function(){e.$ngfBlobUrl=r;if(r)a.resolve(r,e)})}else{var l=new FileReader;l.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result;a.resolve(n.target.result,e)})};l.onerror=function(){t(function(){e.$ngfDataUrl="";a.reject()})};l.readAsDataURL(e)}}else{t(function(){e[i?"dataUrl":"blobUrl"]="";a.reject()})}});if(i){o=e.$$ngfDataUrlPromise=a.promise}else{o=e.$$ngfBlobUrlPromise=a.promise}o["finally"](function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]});return o};return r}]);function e(e){if(e.tagName.toLowerCase()==="img")return"image";if(e.tagName.toLowerCase()==="audio")return"audio";if(e.tagName.toLowerCase()==="video")return"video";return/./}function t(t,n,r,i,o,a,l,s){function u(e){var a=t.attrGetter("ngfNoObjectUrl",o,r);t.dataUrl(e,a)["finally"](function(){n(function(){var t=(a?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;if(s){i.css("background-image","url('"+(t||"")+"')")}else{i.attr("src",t)}if(t){i.removeClass("ng-hide")}else{i.addClass("ng-hide")}})})}n(function(){var n=r.$watch(o[a],function(n){var r=l;if(a==="ngfThumbnail"){if(!r){r={width:i[0].clientWidth,height:i[0].clientHeight}}if(r.width===0&&window.getComputedStyle){var o=getComputedStyle(i[0]);r={width:parseInt(o.width.slice(0,-2)),height:parseInt(o.height.slice(0,-2))}}}if(angular.isString(n)){i.removeClass("ng-hide");if(s){return i.css("background-image","url('"+n+"')")}else{return i.attr("src",n)}}if(n&&n.type&&n.type.search(e(i[0]))===0&&(!s||n.type.indexOf("image")===0)){if(r&&t.isResizeSupported()){t.resize(n,r.width,r.height,r.quality).then(function(e){u(e)},function(e){throw e})}else{u(n)}}else{i.addClass("ng-hide")}});r.$on("$destroy",function(){n()})})}ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfSrc",e.attrGetter("ngfResize",o,r),false)}}}]);ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfBackground",e.attrGetter("ngfResize",o,r),true)}}}]);ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){var a=e.attrGetter("ngfSize",o,r);t(e,n,r,i,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,r))}}}]);ngFileUpload.config(["$compileProvider",function(e){if(e.imgSrcSanitizationWhitelist)e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/);if(e.aHrefSanitizationWhitelist)e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]);ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n)){return t.trustAsResourceUrl(n)}var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);if(n&&!o){if(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)){n.$ngfDataUrlFilterInProgress=true;e.dataUrl(n,r)}return""}if(n)delete n.$ngfDataUrlFilterInProgress;return(n&&o?i?t.trustAsResourceUrl(o):o:n)||""}}])})();ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){var r=e;function i(e){var t="",n=[];if(e.length>2&&e[0]==="/"&&e[e.length-1]==="/"){t=e.substring(1,e.length-1)}else{var r=e.split(",");if(r.length>1){for(var o=0;o<r.length;o++){var a=i(r[o]);if(a.regexp){t+="("+a.regexp+")";if(o<r.length-1){t+="|"}}else{n=n.concat(a.excludes)}}}else{if(e.indexOf("!")===0){n.push("^((?!"+i(e.substring(1)).regexp+").)*$")}else{if(e.indexOf(".")===0){e="*"+e}t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$";t=t.replace(/\\\*/g,".*").replace(/\\\?/g,".")}}}return{regexp:t,excludes:n}}r.validatePattern=function(e,t){if(!t){return true}var n=i(t),r=true;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");r=e.type!=null&&o.test(e.type)||e.name!=null&&o.test(e.name)}var a=n.excludes.length;while(a--){var l=new RegExp(n.excludes[a],"i");r=r&&(e.type==null||l.test(e.type))&&(e.name==null||l.test(e.name))}return r};r.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);if(n>-1){t=parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1))}else{t=parseFloat(t)}return t};r.registerModelChangeValidator=function(e,t,n){if(e){e.$formatters.push(function(i){if(e.$dirty){r.validate(i,e,t,n).then(function(){r.applyModelValidation(e,i)})}})}};function o(e,t){if(t!=null&&!e.$dirty){if(e.$setDirty){e.$setDirty()}else{e.$dirty=true}}}r.applyModelValidation=function(e,t){o(e,t);angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})};r.validate=function(e,n,i,o){n=n||{};n.$ngfValidations=n.$ngfValidations||[];angular.forEach(n.$ngfValidations,function(e){e.valid=true});var a=function(e,t){return r.attrGetter(e,i,o,t)};if(e==null||e.length===0){return r.emptyPromise(n)}e=e.length===undefined?[e]:e.slice(0);function l(t,r,i){if(e){var o="ngf"+t[0].toUpperCase()+t.substr(1);var l=e.length,s=null;while(l--){var u=e[l];if(u){var c=a(o,{$file:u});if(c==null){c=r(a("ngfValidate")||{});s=s==null?true:s}if(c!=null){if(!i(u,c)){u.$error=t;u.$errorParam=c;e.splice(l,1);s=false}}}}if(s!==null){n.$ngfValidations.push({name:t,valid:s})}}}l("pattern",function(e){return e.pattern},r.validatePattern);l("minSize",function(e){return e.size&&e.size.min},function(e,t){return e.size>=r.translateScalars(t)});l("maxSize",function(e){return e.size&&e.size.max},function(e,t){return e.size<=r.translateScalars(t)});var s=0;l("maxTotalSize",function(e){return e.maxTotalSize&&e.maxTotalSize},function(t,n){s+=t.size;if(s>r.translateScalars(n)){e.splice(0,e.length);return false}return true});l("validateFn",function(){return null},function(e,t){return t===true||t===null||t===""});if(!e.length){return r.emptyPromise(n,n.$ngfValidations)}function u(i,o,l,s,u,c,d){function f(e,t,n){if(n!=null){s(t,n).then(function(r){if(!u(r,n)){t.$error=i;t.$errorParam=n;e.reject()}else{e.resolve()}},function(){if(a("ngfValidateForce",{$file:t})){t.$error=i;t.$errorParam=n;e.reject()}else{e.resolve()}})}else{e.resolve()}}var m=[r.emptyPromise()];if(e){var p="ngf"+i[0].toUpperCase()+i.substr(1);e=e.length===undefined?[e]:e;angular.forEach(e,function(e){var n=t.defer();m.push(n.promise);if(l&&(e.type==null||e.type.search(l)!==0)){n.resolve();return}if(c&&a(p)!=null){r.imageDimensions(e).then(function(t){f(n,e,a(p,{$file:e,$width:t.width,$height:t.height}))},function(){n.reject()})}else if(d&&a(p)!=null){r.mediaDuration(e).then(function(t){f(n,e,a(p,{$file:e,$duration:t}))},function(){n.reject()})}else{var i=a(p,{$file:e});if(i==null&&o!=null){i=o(a("ngfValidate",{$file:e})||{})}f(n,e,i)}});return t.all(m).then(function(){n.$ngfValidations.push({name:i,valid:true})},function(){n.$ngfValidations.push({name:i,valid:false})})}}var c=t.defer();var d=[];d.push(r.happyPromise(u("maxHeight",function(e){return e.height&&e.height.max},/image/,this.imageDimensions,function(e,t){return e.height<=t})));d.push(r.happyPromise(u("minHeight",function(e){return e.height&&e.height.min},/image/,this.imageDimensions,function(e,t){return e.height>=t})));d.push(r.happyPromise(u("maxWidth",function(e){return e.width&&e.width.max},/image/,this.imageDimensions,function(e,t){return e.width<=t})));d.push(r.happyPromise(u("minWidth",function(e){return e.width&&e.width.min},/image/,this.imageDimensions,function(e,t){return e.width>=t})));d.push(r.happyPromise(u("dimensions",null,/image/,function(e,t){return r.emptyPromise(t)},function(e){return e},true)));d.push(r.happyPromise(u("ratio",function(e){return e.ratio},/image/,this.imageDimensions,function(e,t){var n=t.toString().split(","),i=false;for(var o=0;o<n.length;o++){if(Math.abs(e.width/e.height-r.ratioToFloat(n[o]))<1e-4){i=true}}return i})));d.push(r.happyPromise(u("maxRatio",function(e){return e.ratio},/image/,this.imageDimensions,function(e,t){return e.width/e.height-r.ratioToFloat(t)<1e-4})));d.push(r.happyPromise(u("minRatio",function(e){return e.ratio},/image/,this.imageDimensions,function(e,t){return e.width/e.height-r.ratioToFloat(t)>-1e-4})));d.push(r.happyPromise(u("maxDuration",function(e){return e.duration&&e.duration.max},/audio|video/,this.mediaDuration,function(e,t){return e<=r.translateScalars(t)})));d.push(r.happyPromise(u("minDuration",function(e){return e.duration&&e.duration.min},/audio|video/,this.mediaDuration,function(e,t){return e>=r.translateScalars(t)})));d.push(r.happyPromise(u("duration",null,/audio|video/,function(e,t){return r.emptyPromise(t)},function(e){return e},false,true)));d.push(r.happyPromise(u("validateAsyncFn",function(){return null},null,function(e,t){return t},function(e){return e===true||e===null||e===""})));return t.all(d).then(function(){c.resolve(n,n.$ngfValidations)})};r.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var i=t.defer();n(function(){i.resolve({width:e.$ngfWidth,height:e.$ngfHeight})});return i.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var o=t.defer();n(function(){if(e.type.indexOf("image")!==0){o.reject("not image");return}r.dataUrl(e).then(function(t){var r=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed");function i(){var t=r[0].clientWidth;var n=r[0].clientHeight;r.remove();e.$ngfWidth=t;e.$ngfHeight=n;o.resolve({width:t,height:n})}function a(){r.remove();o.reject("load error")}r.on("load",i);r.on("error",a);var l=0;function s(){n(function(){if(r[0].parentNode){if(r[0].clientWidth){i()}else if(l>10){a()}else{s()}}},1e3)}s();angular.element(document.getElementsByTagName("body")[0]).append(r)},function(){o.reject("load error")})});e.$ngfDimensionPromise=o.promise;e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise});return e.$ngfDimensionPromise};r.mediaDuration=function(e){if(e.$ngfDuration){var i=t.defer();n(function(){i.resolve(e.$ngfDuration)});return i.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var o=t.defer();n(function(){if(e.type.indexOf("audio")!==0&&e.type.indexOf("video")!==0){o.reject("not media");return}r.dataUrl(e).then(function(t){var r=angular.element(e.type.indexOf("audio")===0?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");function i(){var t=r[0].duration;e.$ngfDuration=t;r.remove();o.resolve(t)}function a(){r.remove();o.reject("load error")}r.on("loadedmetadata",i);r.on("error",a);var l=0;function s(){n(function(){if(r[0].parentNode){if(r[0].duration){i()}else if(l>10){a()}else{s()}}},1e3)}s();angular.element(document.body).append(r)},function(){o.reject("load error")})});e.$ngfDurationPromise=o.promise;e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise});return e.$ngfDurationPromise};return r}]);ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){
var n=e;var r=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}};var i=function(e,i,o,a,l,s,u,c){var d=t.defer();var f=document.createElement("canvas");var m=document.createElement("img");m.onload=function(){if(c!=null&&c(m.width,m.height)===false){d.reject("resizeIf");return}try{if(s){var e=n.ratioToFloat(s);var t=m.width/m.height;if(t<e){i=m.width;o=i/e}else{o=m.height;i=o*e}}if(!i){i=m.width}if(!o){o=m.height}var p=r(m.width,m.height,i,o,u);f.width=Math.min(p.width,i);f.height=Math.min(p.height,o);var h=f.getContext("2d");h.drawImage(m,Math.min(0,-p.marginX/2),Math.min(0,-p.marginY/2),p.width,p.height);d.resolve(f.toDataURL(l||"image/WebP",a||.934))}catch(g){d.reject(g)}};m.onerror=function(){d.reject()};m.src=e;return d.promise};n.dataUrltoBlob=function(e,t){var n=e.split(","),r=n[0].match(/:(.*?);/)[1],i=atob(n[1]),o=i.length,a=new Uint8Array(o);while(o--){a[o]=i.charCodeAt(o)}var l=new window.Blob([a],{type:r});l.name=t;return l};n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")};if(n.isResizeSupported()){Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:true})}n.resize=function(e,r,o,a,l,s,u,c){if(e.type.indexOf("image")!==0)return n.emptyPromise(e);var d=t.defer();n.dataUrl(e,true).then(function(t){i(t,r,o,a,l||e.type,s,u,c).then(function(t){d.resolve(n.dataUrltoBlob(t,e.name))},function(t){if(t==="resizeIf"){d.resolve(e)}d.reject()})},function(){d.reject()});return d.promise};return n}]);(function(){ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(t,n,r,i,o,a){return{restrict:"AEC",require:"?ngModel",link:function(l,s,u,c){e(l,s,u,c,t,n,r,i,o,a)}}}]);ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){if(t())n.css("display","none")}});ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,a){if(t()){var l=e(r.attrGetter("ngfDropAvailable",a));n(function(){l(i);if(l.assign){l.assign(i,true)}})}}}]);function e(e,n,r,i,o,a,l,s,u,c){var d=t();var f=function(e,t,n){return s.attrGetter(e,r,t,n)};if(f("dropAvailable")){a(function(){if(e[f("dropAvailable")]){e[f("dropAvailable")].value=d}else{e[f("dropAvailable")]=d}})}if(!d){if(f("ngfHideOnDropNotAvailable",e)===true){n.css("display","none")}return}function m(){return n.attr("disabled")||f("ngfDropDisabled",e)}if(f("ngfSelect")==null){s.registerModelChangeValidator(i,r,e)}var p=null;var h=o(f("ngfStopPropagation"));var g=1;var v;n[0].addEventListener("dragover",function(t){if(m())return;t.preventDefault();if(h(e))t.stopPropagation();if(navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(p);if(!v){v="C";y(e,r,t,function(r){v=r;n.addClass(v);f("ngfDrag",e,{$isDragging:true,$class:v,$event:t})})}},false);n[0].addEventListener("dragenter",function(t){if(m())return;t.preventDefault();if(h(e))t.stopPropagation()},false);n[0].addEventListener("dragleave",function(t){if(m())return;t.preventDefault();if(h(e))t.stopPropagation();p=a(function(){if(v)n.removeClass(v);v=null;f("ngfDrag",e,{$isDragging:false,$event:t})},g||100)},false);n[0].addEventListener("drop",function(t){if(m()||!s.shouldUpdateOn("drop",r,e))return;t.preventDefault();if(h(e))t.stopPropagation();if(v)n.removeClass(v);v=null;var o;try{o=t.dataTransfer&&t.dataTransfer.getData&&t.dataTransfer.getData("text/html")}catch(a){}if(s.shouldUpdateOn("dropUrl",r,e)&&o){b(o,t)}else{_(t,function(n){s.updateModel(i,r,e,f("ngfChange")||f("ngfDrop"),n,t)},f("ngfAllowDir",e)!==false,f("multiple")||f("ngfMultiple",e))}},false);n[0].addEventListener("paste",function(t){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&f("ngfEnableFirefoxPaste",e)){t.preventDefault()}if(m()||!s.shouldUpdateOn("paste",r,e))return;var n=[];var o=t.clipboardData||t.originalEvent.clipboardData;if(o&&o.items){for(var a=0;a<o.items.length;a++){if(o.items[a].type.indexOf("image")!==-1){n.push(o.items[a].getAsFile())}}}if(n.length){s.updateModel(i,r,e,f("ngfChange")||f("ngfDrop"),n,t)}else{var l;try{l=o&&o.getData&&o.getData("text/html")}catch(u){}if(s.shouldUpdateOn("pasteUrl",r,e)&&l){b(l,t)}}},false);if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&f("ngfEnableFirefoxPaste",e)){n.attr("contenteditable",true);n.on("keypress",function(e){if(!e.metaKey&&!e.ctrlKey){e.preventDefault()}})}function b(t,n){var o=[];t.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){o.push(n)});var a=[],l=[];if(o.length){angular.forEach(o,function(e){a.push(u({url:e,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data);var n=e.headers("content-type")||"image/WebP";var r=new window.Blob([t],{type:n});l.push(r)}))});c.all(a).then(function(){s.updateModel(i,r,e,f("ngfChange")||f("ngfDrop"),l,n)})}}function y(e,t,n,r){var i=f("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i)){o=i}else if(i){if(i.delay)g=i.delay;if(i.accept||i.reject){var a=n.dataTransfer.items;if(a==null||!a.length){o=i.accept}else{var l=i.pattern||f("ngfPattern",e,{$event:n});var u=a.length;while(u--){if(!s.validatePattern(a[u],l)){o=i.reject;break}else{o=i.accept}}}}}r(o)}function _(e,t,n,r){var i=[],o=0;function s(e,t,n){if(t!=null){if(t.isDirectory){var r=(n||"")+t.name;e.push({name:t.name,type:"directory",path:r});var i=t.createReader();var a=[];o++;var l=function(){i.readEntries(function(r){try{if(!r.length){for(var i=0;i<a.length;i++){s(e,a[i],(n?n:"")+t.name+"/")}o--}else{a=a.concat(Array.prototype.slice.call(r||[],0));l()}}catch(u){o--;console.error(u)}},function(){o--})};l()}else{o++;t.file(function(t){try{o--;t.path=(n?n:"")+t.name;e.push(t)}catch(r){o--;console.error(r)}},function(){o--})}}}var u=e.dataTransfer.items;if(u&&u.length>0&&l.protocol()!=="file"){for(var c=0;c<u.length;c++){if(u[c].webkitGetAsEntry&&u[c].webkitGetAsEntry()&&u[c].webkitGetAsEntry().isDirectory){var d=u[c].webkitGetAsEntry();if(d.isDirectory&&!n){continue}if(d!=null){s(i,d)}}else{var f=u[c].getAsFile();if(f!=null)i.push(f)}if(!r&&i.length>0)break}}else{var m=e.dataTransfer.files;if(m!=null){for(var p=0;p<m.length;p++){var h=m.item(p);if(h.type||h.size>0){i.push(h)}if(!r&&i.length>0){break}}}}var g=0;(function v(e){a(function(){if(!o){if(!r&&i.length>1){c=0;while(i[c].type==="directory")c++;i=[i[c]]}t(i)}else{if(g++*10<20*1e3){v(10)}}},e||0)})()}}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}})();ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){var n=e;function r(e){var t=new DataView(e);if(t.getUint8(0)!==255||t.getUint8(1)!==216){return"Not a valid JPEG"}var n=2,r=e.byteLength,i;while(n<r){if(t.getUint8(n)!==255){return"Not a valid marker at offset "+n+", found: "+t.getUint8(n)}i=t.getUint8(n+1);if(i===225){return l(t,n+4,t.getUint16(n+2)-2)}else{n+=2+t.getUint16(n+2)}}}function i(e,t,n,r){var i=e.getUint16(n,!r),a,l;for(l=0;l<i;l++){a=n+l*12+2;var s=e.getUint16(a,!r);if(274===s){return o(e,a,t,r)}}return null}function o(e,t,n,r){var i=e.getUint32(t+4,!r),o=e.getUint32(t+8,!r)+n,a,l,s;if(i===1){return e.getUint16(t+8,!r)}else{a=i>2?o:t+8;l=[];for(s=0;s<i;s++){l[s]=e.getUint16(a+2*s,!r)}return l}}function a(e,t,n){var r="";for(var i=t;i<t+n;i++){r+=String.fromCharCode(e.getUint8(i))}return r}function l(e,t){if(a(e,t,4)!=="Exif"){return"Not valid EXIF data! "+a(e,t,4)}var n,r=t+6;if(e.getUint16(r)===18761){n=false}else if(e.getUint16(r)===19789){n=true}else{return"Not valid TIFF data! (no 0x4949 or 0x4D4D)"}if(e.getUint16(r+2,!n)!==42){return"Not valid TIFF data! (no 0x002A)"}var o=e.getUint32(r+4,!n);if(o<8){return"Not valid TIFF data! (First offset less than 8)",e.getUint32(r+4,!n)}return i(e,r,r+o,n)}n.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&n.isResizeSupported()};n.orientation=function(e){if(e.$ngfOrientation!=null){return n.emptyPromise(e.$ngfOrientation)}var i=t.defer();var o=new FileReader;o.onload=function(t){var n;try{n=r(t.target.result)}catch(t){i.reject(t);return}if(angular.isString(n)){i.resolve(1)}else{e.$ngfOrientation=n;i.resolve(n)}};o.onerror=function(e){i.reject(e)};o.readAsArrayBuffer(e);return i.promise};function s(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}n.applyExifRotation=function(e){if(e.type.indexOf("image/jpeg")!==0){return n.emptyPromise(e)}var r=t.defer();n.orientation(e).then(function(t){if(!t||t<2||t>8){r.resolve(e)}n.dataUrl(e,true).then(function(i){var o=document.createElement("canvas");var a=document.createElement("img");a.onload=function(){try{o.width=t>4?a.height:a.width;o.height=t>4?a.width:a.height;var l=o.getContext("2d");s(l,t,a.width,a.height);l.drawImage(a,0,0);var c=o.toDataURL(e.type||"image/WebP",.934);c=u(i,c);var d=n.dataUrltoBlob(c,e.name);r.resolve(d)}catch(f){r.reject(f)}};a.onerror=function(){r.reject()};a.src=i},function(e){r.reject(e)})},function(e){r.reject(e)});return r.promise};function u(e,t){var n={};n.KEY_STR="ABCDEFGHIJKLMNOP"+"QRSTUVWXYZabcdef"+"ghijklmnopqrstuv"+"wxyz0123456789+/"+"=";n.encode64=function(e){var t="",n,r,i="",o,a,l,s="",u=0;do{n=e[u++];r=e[u++];i=e[u++];o=n>>2;a=(n&3)<<4|r>>4;l=(r&15)<<2|i>>6;s=i&63;if(isNaN(r)){l=s=64}else if(isNaN(i)){s=64}t=t+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(s);n=r=i="";o=a=l=s=""}while(u<e.length);return t};n.restore=function(e,t){if(!e.match("data:image/jpeg;base64,")){return t}var n=this.decode64(e.replace("data:image/jpeg;base64,",""));var r=this.slice2Segments(n);var i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)};n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)};n.getExifArray=function(e){var t;for(var n=0;n<e.length;n++){t=e[n];if(t[0]===255&t[1]===225){return t}}return[]};n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),l=o;l=l.concat(t);l=l.concat(a);return l};n.slice2Segments=function(e){var t=0,n=[];while(1){if(e[t]===255&e[t+1]===218){break}if(e[t]===255&e[t+1]===216){t+=2}else{var r=e[t+2]*256+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o);t=i}if(t>e.length){break}}return n};n.decode64=function(e){var t,n,r="",i,o,a,l="",s=0,u=[];var c=/[^A-Za-z0-9\+\/\=]/g;if(c.exec(e)){console.log("There were invalid base64 characters in the input text.\n"+"Valid base64 characters are A-Z, a-z, 0-9, "+", "/',and "="\n'+"Expect errors in decoding.")}e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{i=this.KEY_STR.indexOf(e.charAt(s++));o=this.KEY_STR.indexOf(e.charAt(s++));a=this.KEY_STR.indexOf(e.charAt(s++));l=this.KEY_STR.indexOf(e.charAt(s++));t=i<<2|o>>4;n=(o&15)<<4|a>>2;r=(a&3)<<6|l;u.push(t);if(a!==64){u.push(n)}if(l!==64){u.push(r)}t=n=r="";i=o=a=l=""}while(s<e.length);return u};return n.restore(e,t)}return n}]);angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,r){return function(i,o,a){o.attr("draggable","true");if(a.dndDisableIf){i.$watch(a.dndDisableIf,function(e){o.attr("draggable",!e)})}o.on("dragstart",function(l){l=l.originalEvent||l;l.dataTransfer.setData("Text",angular.toJson(i.$eval(a.dndDraggable)));l.dataTransfer.effectAllowed=a.dndEffectAllowed||"move";o.addClass("dndDragging");t(function(){o.addClass("dndDraggingSource")},0);n.dropEffect="none";r.isDragging=true;r.dragType=a.dndType?i.$eval(a.dndType):undefined;e(a.dndDragstart)(i,{event:l});l.stopPropagation()});o.on("dragend",function(t){t=t.originalEvent||t;var l=n.dropEffect;i.$apply(function(){switch(l){case"move":e(a.dndMoved)(i,{event:t});break;case"copy":e(a.dndCopied)(i,{event:t});break}});o.removeClass("dndDragging");o.removeClass("dndDraggingSource");r.isDragging=false;t.stopPropagation()});o.on("click",function(t){t=t.originalEvent||t;i.$apply(function(){e(a.dndSelected)(i,{event:t})});t.stopPropagation()});o.on("selectstart",function(){if(this.dragDrop)this.dragDrop();return false})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,r){return function(i,o,a){var l=angular.element("<li class='dndPlaceholder'></li>");var s=l[0];var u=o[0];var c=a.dndHorizontalList&&i.$eval(a.dndHorizontalList);var d=a.dndExternalSources&&i.$eval(a.dndExternalSources);o.on("dragover",function(e){e=e.originalEvent||e;if(!p(e))return true;if(s.parentNode!=u){o.append(l)}if(e.target!==u){var t=e.target;while(t.parentNode!==u&&t.parentNode){t=t.parentNode}if(t.parentNode===u&&t!==s){if(f(e,t)){u.insertBefore(s,t)}else{u.insertBefore(s,t.nextSibling)}}}else{if(f(e,s,true)){while(s.previousElementSibling&&(f(e,s.previousElementSibling,true)||s.previousElementSibling.offsetHeight===0)){u.insertBefore(s,s.previousElementSibling)}}else{while(s.nextElementSibling&&!f(e,s.nextElementSibling,true)){u.insertBefore(s,s.nextElementSibling.nextElementSibling)}}}if(a.dndDragover&&!g(a.dndDragover,e)){return h()}o.addClass("dndDragover");e.preventDefault();e.stopPropagation();return false});o.on("drop",function(e){e=e.originalEvent||e;if(!p(e))return true;e.preventDefault();var t=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");var r;try{r=JSON.parse(t)}catch(o){return h()}if(a.dndDrop){r=g(a.dndDrop,e,r);if(!r){return h()}}var l=i.$eval(a.dndList);i.$apply(function(){l.splice(m(),0,r)});if(e.dataTransfer.dropEffect==="none"){if(e.dataTransfer.effectAllowed==="copy"||e.dataTransfer.effectAllowed==="move"){n.dropEffect=e.dataTransfer.effectAllowed}else{n.dropEffect=e.ctrlKey?"copy":"move"}}else{n.dropEffect=e.dataTransfer.dropEffect}h();e.stopPropagation();return false});o.on("dragleave",function(e){e=e.originalEvent||e;o.removeClass("dndDragover");t(function(){if(!o.hasClass("dndDragover")){l.remove()}},100)});function f(e,t,n){var r=c?e.offsetX||e.layerX:e.offsetY||e.layerY;var i=c?t.offsetWidth:t.offsetHeight;var o=c?t.offsetLeft:t.offsetTop;o=n?o:0;return r<o+i/2}function m(){return Array.prototype.indexOf.call(u.children,s)}function p(e){if(!r.isDragging&&!d)return false;if(!v(e.dataTransfer.types))return false;if(a.dndAllowedTypes&&r.isDragging){var t=i.$eval(a.dndAllowedTypes);if(angular.isArray(t)&&t.indexOf(r.dragType)===-1){return false}}if(a.dndDisableIf&&i.$eval(a.dndDisableIf))return false;return true}function h(){l.remove();o.removeClass("dndDragover");return true}function g(t,n,o){return e(t)(i,{event:n,index:m(),item:o||undefined,external:!r.isDragging,type:r.isDragging?r.dragType:undefined})}function v(e){if(!e)return true;for(var t=0;t<e.length;t++){if(e[t]==="Text"||e[t]==="text/plain")return true}return false}}}]).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}});(function(){"use strict";var e=8;var t=0;var n={};var r={};var i={};var o=null;var a=["primary","accent","warn","background"];var l="primary";var s=d("rgba(0,0,0,0.87)");var u=d("rgba(255,255,255,0.87");var c=d("rgb(255,255,255)");function d(e){if(angular.isArray(e)&&e.length==3)return e;if(/^rgb/.test(e)){return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return t==3?parseFloat(e,10):parseInt(e,10)})}if(e.charAt(0)=="#")e=e.substring(1);if(!/^([a-fA-F0-9]{3}){1,2}$/g.test(e))return;var t=e.length/3;var n=e.substr(0,t);var r=e.substr(t,t);var i=e.substr(t*2);if(t===1){n+=n;r+=r;i+=i}return[parseInt(n,16),parseInt(r,16),parseInt(i,16)]}angular.module("ngMaterialDropmenu",["material.core","material.components.backdrop"]).directive("mdDropmenu",p).directive("mdDropMenu",h).directive("mdDropOption",g).directive("mdDropOptgroup",v).provider("$mdDropmenu",b).config(f).run(m).constant("$MD_DROPMENU_THEME_CSS","md-drop-menu.md-THEME_NAME-theme md-drop-optgroup { color: '{{foreground-2}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-optgroup md-drop-option { color: '{{foreground-1}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected] { color: '{{primary-500}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected]:focus { color: '{{primary-600}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected].md-accent { color: '{{accent-500}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option[selected].md-accent:focus { color: '{{accent-600}}'; } md-drop-menu.md-THEME_NAME-theme md-drop-option:focus:not([selected]) { background: '{{background-200}}'; }");function f(e){n=e._PALETTES;r=e._THEMES;o=e._parseRules}f.$inject=["$mdThemingProvider"];function m(e){var t=document.getElementsByTagName("head")[0];if(!t)return;var f=t.firstElementChild;if(!f)return;var m=e.has("$MD_DROPMENU_THEME_CSS")?e.get("$MD_DROPMENU_THEME_CSS"):"";angular.forEach(n,v);var p={};var h=m.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"});var g=new RegExp("md-("+a.join("|")+")","g");a.forEach(function(e){p[e]=""});h.forEach(function(e){var t=e.match(g);for(var n=0,r;r=a[n];n++){if(e.indexOf(".md-"+r)>-1){return p[r]+=e}}for(n=0;r=a[n];n++){if(e.indexOf(r)>-1){return p[r]+=e}}return p[l]+=e});angular.forEach(r,function(e){if(!i[e.name]){a.forEach(function(n){var r=o(e,n,p[n]);while(r.length){var i=document.createElement("style");i.setAttribute("type","text/css");i.appendChild(document.createTextNode(r.shift()));t.insertBefore(i,f)}});if(e.colors.primary.name==e.colors.accent.name){console.warn("$mdThemingProvider: Using the same palette for primary and"+" accent. This violates the material design spec.")}i[e.name]=true}});function v(e){var t=e.contrastDefaultColor;var n=e.contrastLightColors||[];var r=e.contrastStrongLightColors||[];var i=e.contrastDarkColors||[];if(typeof n==="string")n=n.split(" ");if(typeof r==="string")r=r.split(" ");if(typeof i==="string")i=i.split(" ");delete e.contrastDefaultColor;delete e.contrastLightColors;delete e.contrastStrongLightColors;delete e.contrastDarkColors;angular.forEach(e,function(o,a){if(angular.isObject(o))return;var l=d(o);if(!l){throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",o).replace("%2",e.name).replace("%3",a))}e[a]={value:l,contrast:f()};function f(){if(t==="light"){if(i.indexOf(a)>-1){return s}else{return r.indexOf(a)>-1?c:u}}else{if(n.indexOf(a)>-1){return r.indexOf(a)>-1?c:u}else{return s}}}})}}m.$inject=["$injector"];function p(e,t,n,r,i,o,a){return{restrict:"E",require:["mdDropmenu"],compile:l,controller:function(){}};function l(r,i){var a=r.find("md-drop-label").remove();if(!a.length){a=angular.element("<md-drop-label><span></span></md-drop-label>")}else{if(!a[0].firstElementChild){var l=angular.element("<span>");l.append(a.contents());a.append(l)}}a.addClass("md-drop-label");a.attr("id","drop_label_"+t.nextUid());if(!r.find("md-content").length){r.append(angular.element("<md-content>").append(r.contents()))}var s='<div class="md-drop-menu-container">'+"<md-drop-menu "+(angular.isDefined(i.multiple)?"multiple":"")+">"+r.html()+"</md-drop-menu></div>";r.empty().append(a);i.tabindex=i.tabindex||"-1";return function u(r,i,a,l){var u;var c;var d=l[0];var f,m;p();n(i);a.$observe("disabled",function(e){if(typeof e=="string"){e=true}if(c!==undefined&&c===e){return}c=e;if(e){i.attr({tabindex:-1,"aria-disabled":"true"});i.off("click",g);i.off("keydown",h)}else{i.attr({tabindex:a.tabindex,"aria-disabled":"false"});i.on("click",g);i.on("keydown",h)}});if(!a.disabled&&!a.ngDisabled){i.attr({tabindex:a.tabindex,"aria-disabled":"false"});i.on("click",g);i.on("keydown",h)}i.attr({role:"combobox",id:"dropmenu_"+t.nextUid(),"aria-expanded":"false"});r.$on("$destroy",function(){if(u){e.cancel().then(function(){f.remove()})}else{f.remove()}});function p(){f=angular.element(s);m=r.$new();f=o(f)(m)}function h(e){var t=[32,13,38,40];if(t.indexOf(e.keyCode)!=-1){e.preventDefault();g(e)}}function g(t){r.$evalAsync(function(){var t,n;u=true;t=a.mdOnOpen?r.$eval(a.mdOnOpen)||true:false;n=angular.isDefined(a.disabledAutoFocus)?false:true;e.show({scope:m,preserveScope:true,skipCompile:true,element:f,target:i[0],hasBackdrop:true,loadingAsync:t,autoFocus:n}).then(function(e){u=false})});t.preventDefault()}}}}p.$inject=["$mdDropmenu","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"];function h(e,t,n){return{restrict:"E",link:{pre:r}};function r(e,r,i,o){n(r);a();function a(){r.attr({id:"drop_menu_"+t.nextUid(),role:"listbox"})}}function i(e,t,n){}}h.$inject=["$parse","$mdUtil","$mdTheming"];function g(e,t){i.$inject=["$element"];return{restrict:"E",require:["mdDropOption"],controller:i,compile:n,link:r};function n(e,t){e.append(angular.element('<div class="md-text">').append(e.contents()));e.attr("tabindex",t.tabindex||"0");return r}function r(n,r,i,o){e.attach(n,r);a();function a(){r.attr({role:"option","aria-selected":"false",id:"drop_option_"+t.nextUid()})}}function i(e){this.selected=false;this.setSelected=function(t){if(t&&!this.selected){e.attr({selected:"selected","aria-selected":"true"})}else if(!t&&this.selected){e.removeAttr("selected");e.attr("aria-selected","false")}this.selected=t}}}g.$inject=["$mdButtonInkRipple","$mdUtil"];function v(){return{restrict:"E",compile:e};function e(e,t){var n=e.find("label");if(!n.length){n=angular.element("<label>");e.prepend(n)}if(t.label)n.text(t.label)}}function b(t){n.$inject=["$mdDropmenu","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"];return t("$mdDropmenu").setDefaults({methods:["target"],options:n});function n(t,n,o,a,l,s,u){return{parent:"body",onShow:c,onRemove:d,hasBackdrop:true,disableParentScroll:true,themable:true};function c(e,r,i){if(!i.target){throw new Error("$mdDropmenu.show() expected a target element in "+'options.target but got "'+i.target+'"!')}angular.extend(i,{isRemoved:false,target:angular.element(i.target),parent:angular.element(i.parent),selectEl:r.find("md-drop-menu"),contentEl:r.find("md-content"),backdrop:i.hasBackdrop&&angular.element('<md-backdrop class="md-dropmenu-backdrop md-click-catcher">')});i.resizeFn=function(){o(function(){o(function(){f(e,r,i)})})};angular.element(u).on("resize",i.resizeFn);angular.element(u).on("orientationchange",i.resizeFn);p();r.removeClass("md-leave");var c=i.selectEl[0].getElementsByTagName("md-drop-option");if(!i.autoFocus&&c.length>0&&!c[0].getAttribute("fake")){var d=document.createElement("md-drop-option");var m=c[0].parentElement;d.style.height="1px";d.style.width="0";d.style.maxHeight="1px";d.style.maxWidth="0";d.style.opacity="0";d.setAttribute("tabindex","0");d.setAttribute("fake",true);m.insertBefore(d,c[0]);c=i.selectEl[0].getElementsByTagName("md-drop-option")}if(i.loadingAsync&&i.loadingAsync.then){i.loadingAsync.then(function(){e.$$loadingAsyncDone=true;o(function(){o(function(){if(i.isRemoved)return;f(e,r,i)})})})}else if(i.loadingAsync){e.$$loadingAsyncDone=true}if(i.disableParentScroll&&!a.getClosest(i.target,"MD-DIALOG")){i.restoreScroll=a.disableScrollAround(i.target)}else{i.disableParentScroll=false}s(h,75,false);if(i.backdrop){l.inherit(i.backdrop,i.parent);i.parent.append(i.backdrop)}i.parent.append(r);o(function(){o(function(){if(i.isRemoved)return;f(e,r,i)})});return a.transitionEndPromise(i.selectEl,{timeout:350});function p(){i.target.attr("aria-expanded","true")}function h(){if(i.isRemoved)return;r.addClass("md-clickable");i.backdrop&&i.backdrop.on("click",function(n){n.preventDefault();n.stopPropagation();i.restoreFocus=false;e.$apply(t.cancel)});i.selectEl.on("keydown",function(r){switch(r.keyCode){case n.KEY_CODE.SPACE:case n.KEY_CODE.ENTER:break;case n.KEY_CODE.TAB:case n.KEY_CODE.ESCAPE:r.preventDefault();i.restoreFocus=true;e.$apply(t.cancel)}});i.selectEl.on("keydown",function(e){switch(e.keyCode){case n.KEY_CODE.UP_ARROW:return l();case n.KEY_CODE.DOWN_ARROW:return a()}});function o(e){var t=y(c);var n=t.indexOf(i.focusedNode);if(n===-1){n=0}else if(e==="next"&&n<t.length-1){n++}else if(e==="prev"&&n>0){n--}var r=i.focusedNode=t[n];r&&r.focus()}function a(){o("next")}function l(){o("prev")}i.selectEl.on("click",s);i.selectEl.on("keydown",function(e){if(e.keyCode==32||e.keyCode==13){s()}});function s(){i.restoreFocus=true;e.$evalAsync(function(){t.hide()})}}}function d(e,t,n){n.isRemoved=true;t.addClass("md-leave").removeClass("md-clickable");n.target.attr("aria-expanded","false");angular.element(u).off("resize",n.resizeFn);angular.element(u).off("orientationchange",n.resizefn);n.resizeFn=undefined;return a.transitionEndPromise(t,{timeout:350}).then(function(){t.removeClass("md-active");n.backdrop&&n.backdrop.remove();if(t[0].parentNode===n.parent[0]){n.parent[0].removeChild(t[0])}if(n.disableParentScroll){n.restoreScroll()}if(n.restoreFocus)n.target.focus()})}function f(t,l,s){var c=l[0],d=s.target[0].firstElementChild.firstElementChild,f=s.parent[0],m=s.selectEl[0],p=s.contentEl[0],h=f.getBoundingClientRect(),g=d.getBoundingClientRect(),v=false,b=a.floatingScrollbars()?16:0,y={left:h.left+e,top:e,bottom:h.height-e,right:h.width-e-b},_={top:g.top-y.top,left:g.left-y.left,right:y.right-(g.left+g.width),bottom:y.bottom-(g.top+g.height)},w=h.width-e*2,$=p.scrollHeight>p.offsetHeight,E=m.querySelector("md-drop-option[selected]"),A=m.getElementsByTagName("md-drop-option"),C=m.getElementsByTagName("md-drop-optgroup");var M;if(E){M=E}else if(C.length){M=C[0]}else if(A.length){M=A[0]}else{M=p.firstElementChild||p}if(p.offsetWidth>w){p.style["max-width"]=w+"px"}if(v){p.style["min-width"]=g.width+"px"}if($){m.classList.add("md-overflow")}var k=m.getBoundingClientRect();var x=i(M);if(M){var T=u.getComputedStyle(M);x.paddingLeft=parseInt(T.paddingLeft,10)||0;x.paddingRight=parseInt(T.paddingRight,10)||0}var S=M;if((S.tagName||"").toUpperCase()==="MD-DROP-OPTGROUP"){S=A[0]||p.firstElementChild||p}if($){var N=p.offsetHeight/2;p.scrollTop=x.top+x.height/2-N;if(_.top<N){p.scrollTop=Math.min(x.top,p.scrollTop+N-_.top)}else if(_.bottom<N){p.scrollTop=Math.max(x.top+x.height-k.height,p.scrollTop-N+_.bottom)}}var D,H,R;if(v){D=g.left;H=g.top+g.height;R="50% 0";if(H+k.height>y.bottom){H=g.top-k.height;R="50% 100%"}}else{D=g.left+x.left-x.paddingLeft;H=Math.floor(g.top+g.height/2-x.height/2-x.top+p.scrollTop);R=x.left+g.width/2+"px "+(x.top+x.height/2-p.scrollTop)+"px 0px";c.style.minWidth=g.width+x.paddingLeft+x.paddingRight+"px"}var I=c.getBoundingClientRect();c.style.left=r(y.left,D,y.right-I.width)+"px";c.style.top=r(y.top,H,y.bottom-I.height)+"px";m.style[n.CSS.TRANSFORM_ORIGIN]=R;m.style[n.CSS.TRANSFORM]="scale("+Math.min(g.width/k.width,1)+","+Math.min(g.height/k.height,1)+")";o(function(){l.addClass("md-active");m.style[n.CSS.TRANSFORM]="";if(S){s.focusedNode=S;S.focus()}})}}function r(e,t,n){return Math.max(e,Math.min(t,n))}function i(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}}b.$inject=["$$interimElementProvider"];function y(e){var t=[];for(var n=0;n<e.length;++n){t.push(e.item(n))}return t}})();(function(){var e,t,n,r,i,o,a,l,s,u,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};e=function(e,r,d){var f,m,p,h,g,v,b,y,_,w,$,E,A,C,M,k,x,T,S,N,D,H,R,I,P,O,U,L,F,j,B,z,q,W,G,V,Y,K,X,Z,J,Q,ee,te,ne,re,ie,oe,ae,le,se,ue,ce,de;Q="BaguaImgEditor";de="0.3.4";K=Date.now();L=false;Y={"image/png":["png"],"image/jpeg":["jpg","jpe","jpeg"],"image/gif":["gif"],"image/bmp":["bm","bmp"]};w={corner_size:12,crop_min_size:32,cors:true};$=null;f=1;E=null;v=null;g=null;h=null;m=null;p=null;_=null;b=null;y=null;A=false;k="bagua-editor-id";M="crop-corner";C="cropper";x={qian:{pos:[0,0]},kan:{pos:[.5,0]},gen:{pos:[1,0]},zhen:{pos:[1,.5]},xun:{pos:[1,1]},li:{pos:[.5,1]},kun:{pos:[0,1]},dui:{pos:[0,.5]}};W=null;R=function(){var e,t,n,r,i,o,a,s,c;s=null;c=null;t=0;n=0;r=0;e=0;o=function(o){if(g){return}c=o.clientY;s=o.clientX;t=parseInt(b.style.left)||0;n=parseInt(b.style.top)||0;r=parseInt(b.style.width);e=parseInt(b.style.height);H(document,"mousemove",i);H(document,"mouseup",a);o.preventDefault();return o.stopPropagation()};i=function(i){var o,a,d,f;f=l(n+i.clientY-c,0);a=l(t+i.clientX-s,0);d=l(h.clientWidth-a-r,0);o=l(h.clientHeight-f-e,0);if(f+e>h.clientHeight){f=h.clientHeight-e}if(a+r>h.clientWidth){a=h.clientWidth-r}b.style.top=u(f);b.style.left=u(a);b.style.right=u(d);b.style.bottom=u(o);Z();i.preventDefault();return i.stopPropagation()};a=function(e){A=true;document.removeEventListener("mousemove",i);document.removeEventListener("mouseup",a);e.preventDefault();return e.stopPropagation()};H(b,"mousedown",o)};I=function(){var e,n,r,i,o,a,l,s,c,d,f,m,p,v,y,_,$,E,C;E=null;C=null;n=0;i=0;e=0;r=0;p=0;y=0;v=0;m=0;$=0;_=0;s=function(t){var o;if(!t.target.hasAttribute(M)){return}g=t.target;E=t.clientX;C=t.clientY;n=parseInt(b.style.left)||0;i=parseInt(b.style.top)||0;e=parseInt(b.style.bottom)||0;r=parseInt(b.style.right)||0;$=h.clientWidth;_=h.clientHeight;o=w.crop_min_size;p=$-r-o;v=$-n-o;y=_-e-o;m=_-i-o;H(document,"mousemove",l);H(document,"mouseup",c);t.preventDefault();return t.stopPropagation()};l=function(o){var a,l,s,c,d,f,h;if(!b){return}s=o.clientX-E;c=o.clientY-C;d=g.getAttribute(M);h=null;l=null;f=null;a=null;if(d==="qian"){l=t(n+s,0,p);h=t(i+c,0,y)}else if(d==="kan"){h=t(i+c,0,y)}else if(d==="gen"){h=t(i+c,0,y);f=t(r-s,0,v)}else if(d==="zhen"){f=t(r-s,0,v)}else if(d==="xun"){f=t(r-s,0,v);a=t(e-c,0,m)}else if(d==="li"){a=t(e-c,0,m)}else if(d==="kun"){l=t(n+s,0,p);a=t(e-c,0,m)}else if(d==="dui"){l=t(n+s,0,p)}if(l!==null){b.style.left=u(l)}if(h!==null){b.style.top=u(h)}if(a!==null){b.style.bottom=u(a)}if(f!==null){b.style.right=u(f)}Z();o.preventDefault();return o.stopPropagation()};c=function(e){g=null;A=true;document.removeEventListener("mousemove",l);document.removeEventListener("mouseup",c);e.preventDefault();return e.stopPropagation()};a=b.querySelectorAll("["+M+"]");for(d=0,f=a.length;d<f;d++){o=a[d];H(o,"mousedown",s)}};ie=function(e){J();X();return Z(true)};T=[];H=function(e,t,n,r){T.push({node:e,event:t,hanlder:n,capture:r});e.addEventListener(t,n,Boolean(r))};re=function(e,t){var n,r,i,o,a;a=[];for(n=r=0,i=T.length;r<i;n=++r){o=T[n];if(t===o.event&&e===o.node){e.removeEventListener(t,o.handler);a.push(n)}}T.splice(a,1)};ne=function(){var e,t,n,r;for(e=t=0,n=T.length;t<n;e=++t){r=T[e];r.node.removeEventListener(r.event,r.handler)}T.length=0};se=function(e){var t;t=e.cloneNode();t.style.maxWidth="100%";t.style.maxHeight="100%";t.style.position="relative";t.style.pointerEvents="none";_.appendChild(t);v=t;J();return t};le=function(e){var t,n,r,i,o,a,l,s,c,d,g;if(!h||!v){throw Q+": Can not set copper before set area and img.";return}if(e&&typeof e==="object"){if(e.cropper_area){i=u(e.cropper_area[0]);r=u(e.cropper_area[1]);t=u(e.cropper_area[2]);n=u(e.cropper_area[3])}if(e.aspect_ratio&&e.aspect_ratio<=1&&typeof e.aspect_ratio==="number"){f=e.aspect_ratio}}s=document.createElement("DIV");s.style.position="absolute";s.style.top=i||0;s.style.right=r||0;s.style.bottom=t||0;s.style.left=n||0;s.style.zIndex=99;s.setAttribute(C,K);s.classList.add(C);h.appendChild(s);a=document.createElement("DIV");a.style.position="relative";a.style.width="100%";a.style.height="100%";a.style.overflow="hidden";a.style.pointerEvents="none";if(L){a.style.background="orange"}h.appendChild(a);l=v.cloneNode();l.style.maxWidth=null;l.style.maxHeight=null;l.style.position="absolute";l.style.top=0;l.style.left=0;a.appendChild(l);d=0;for(g in x){c=x[g];o=document.createElement("DIV");o.style.position="absolute";o.style.width=u(w.corner_size);o.style.height=u(w.corner_size);o.style.cursor="pointer";o.style.zIndex=99-d;
if(L){o.style.backgroundColor="blue"}o.setAttribute(M,g);o.classList.add(M);s.appendChild(o);d++}b=s;p=l;m=a;Z();I();R();return s};ae=function(){var e;if(!v){throw Q+": Can not set area before set current image.";return}e=document.createElement("DIV");e.style.position="absolute";e.style.backgroundColor="rgba(0,0,0,0.5)";_.appendChild(e);h=e;X();return e};X=function(){if(!v||!h){return}h.style.top=v.style.top;h.style.left=v.style.left;h.style.right=v.style.left;h.style.bottom=v.style.top;h.style.width=u(v.clientWidth);h.style.height=u(v.clientHeight)};J=function(){var e,t,n,r,i,a;if(!v||!E){return}t=_.clientWidth;e=_.clientHeight;if(!v.width||!v.height){r=E.width;n=E.height;if(r>t){a=t/r;r=t;n=o(n*a)}if(n>e){i=e/n;r=o(r*i);n=e}v.width=r;v.height=n}v.style.top=u((e-v.height)/2);v.style.left=u((t-v.width)/2)};z=0;B=0;Z=function(e){var n,r,i,a,l,s,c,d,f,g,y,_,$,E,A,C,k,T;if(!h){return}l=o(w.corner_size/2);s=b.querySelectorAll("["+M+"]");r=h.clientWidth;n=h.clientHeight;_=w.crop_min_size;g=parseInt(b.style.left)||0;C=parseInt(b.style.right)||0;k=parseInt(b.style.top)||0;i=parseInt(b.style.bottom)||0;if(e&&z&&B){A=r/z;E=n/B;g=t(o(g*A),0,r-_);C=t(o(C*A),0,r-_);k=t(o(k*E),0,n-_);i=t(o(i*E),0,n-_)}T=r-g-C;d=n-k-i;z=r;B=n;b.style.top=u(k);b.style.left=u(g);b.style.right=u(C);b.style.bottom=u(i);b.style.width=u(T);b.style.height=u(d);m.style.width=u(T);m.style.height=u(d);m.style.top=u(k);m.style.left=u(g);p.style.top=u(-k);p.style.left=u(-g);p.width=v.width;p.height=v.height;for(f=0,y=s.length;f<y;f++){a=s[f];$=a.getAttribute(M);c=x[$];a.style.left=u(o(T*c.pos[0])-l);a.style.top=u(o(d*c.pos[1])-l)}};N=function(e,t){if(t===0){return e}else{return N(t,e%t)}};D=function(e,t){e=o(e);t=o(t);if(e<100&&t<100){return[e,t]}else{e=e/10;t=t/10;return D(e,t)}};S=function(e){var t,n,r;t=i(e);if(t){for(n in Y){r=Y[n];if(c.call(r,t)>=0){return n}}}return null};ee=function(){var e,t,n,r,i,a,l,u,c,d,p;if(!E||!v){return}u=N(E.width,E.height);d=o(E.width/u);c=o(E.height/u);p=o(E.width*f);a=o(E.height*f);l=p/v.clientWidth;t=o((parseInt(m.style.width)||0)*l);e=o((parseInt(m.style.height)||0)*l);n=o((parseInt(m.style.left)||0)*l);r=o((parseInt(m.style.top)||0)*l);t=s(t,p);e=s(e,a);i=[parseInt(b.style.top)||0,parseInt(b.style.right)||0,parseInt(b.style.bottom)||0,parseInt(b.style.left)||0];return{width:p,height:a,source:{w:E.width,h:E.height},crop:{w:t,h:e,x:n,y:r},cropper_area:i,aspect_ratio:f,aw:d,ah:c,rw:D(d,c)[0],rh:D(d,c)[1],modified:A}};oe=function(e){if(!E){return}e=Number(e);if(f!==e){A=true}if(e&&e<=1){f=e}return ee()};V=function(){if(!E){return}return S(E.src)};O=function(e,t){var n,r,i,o,a,l;if(!v){return}if(!e){e=S(E.src)}o=ee();a=document.createElement("canvas");a.width=o.width;a.height=o.height;l=a.getContext("2d");l.drawImage(E,0,0,o.width,o.height);i=o.crop;n=document.createElement("canvas");n.width=i.w;n.height=i.h;r=n.getContext("2d");r.drawImage(a,i.x,i.y,i.w,i.h,0,0,i.w,i.h);y=n.toDataURL(e,t);return y};P=function(e,t){var r;if(!y){return}if(!e||typeof e!=="object"){e={name:Date.now().toString(),lastModified:""}}if(!t){t=y}r=n(t);r.name=e.name;r.lastModified=e.lastModified||document.lastModified;r.lastModifiedDate=new Date;return r};U=function(e,t){var n;if(!v){return}if(!e||typeof e!=="object"){e={}}n=O(e.type,t);return P(e,n)};F=function(){if(!_){throw Q+": Image Editor not inited!"}console.log("---- Bagua Image Editor destroyed ----");ce();W=null;return _=null};ce=function(){if(_&&v){ne();_.innerHTML="";$=null;E=null;v=null;g=null;h=null;m=null;p=null;b=null;y=null;return A=false}};te=function(e){if(!e){e=E.src}ce();return q(e)};q=function(e,t){if(!_){throw Q+": Image Editor can not load before inited!"}if(typeof e!=="string"||!S(e)){throw Q+": Invalid image!"}ce();E=new Image;if(w.cors){E.setAttribute("crossOrigin","anonymous")}E.src=e;return E.onload=function(e){if(!_){return}se(E);ae();le(t);if(typeof W==="function"){return W()}}};ue=function(e){if(typeof e==="function"){return W=e}};j=function(e,t,n){var r,i;if(typeof e==="string"){_=document.querySelector("[name="+e+"]")}else if(a(e)){_=e}if(!_){throw Q+": Init image editor failed!!";return}if(typeof t==="object"&&t){for(r in t){i=t[r];w[r]=i}}L=n;_.setAttribute(k,K);_.style.position="relative";if(L){_.style.background="yellow"}H(window,"resize",ie);console.log("---- Bagua Image Editor inited ----");return console.log("version:",de)};if(e){j(e,r,d)}G={init:j,load:q,reload:te,unload:ce,recipe:ee,mimetype:V,scale:oe,capture:O,capture_blob:U,blob:P,destroy:F,hooks:{loaded:ue}};return G};a=function(e){var t,n,r;if(!e){return false}t=e&&typeof e==="object"&&e!==null;n=e.nodeType===1&&typeof e.nodeName==="string";r=t&&n;return r};o=function(e,t){var n;if(t==="ceil"||t===1){return Math.ceil(e)}else if(t==="floor"||t===-1){return Math.floor(e)}try{return Math.round(e)}catch(n){return parseInt(e)||0}};u=function(e){if(typeof e==="number"){return o(e)+"px"}else{return e}};l=function(e,t){if(e>t){return e}else{return t}};s=function(e,t){if(e<t){return e}else{return t}};t=function(e,t,n){return s(l(e,t),n)};r=function(e,t){if(window.getComputedStyle){return window.getComputedStyle(e,t)}if(e.currentStyle){return e.currentStyle}};i=function(e){var t,n,r;try{e=e.split("?")[0].split("#")[0];if(e.substr(-1)==="/"){e=e.substr(0,e.length-1)}r=e.split(".");if(r.length>1){n=r.pop();return n.toLowerCase()}return""}catch(t){return""}};n=function(e){var t,n,r,i,o,a,l;t=";base64,";if(e.indexOf(t)===-1){i=e.split(",");n=i[0].split(":")[1];o=i[1];return new Blob([o],{type:n})}i=e.split(t);n=i[0].split(":")[1];o=window.atob(i[1]);a=o.length;l=new Uint8Array(a);r=0;while(r<a){l[r]=o.charCodeAt(r);++r}return new Blob([l],{type:n})};if(!window){console.error(project_name+": For browsers only!!")}if(window&&!angular){window.baguaImageEditor=e}angular.module("baguaImageEditor",[]).directive("baguaImageEditor",["$rootScope",function(t){return{restrict:"EA",scope:{imgSrcUrl:"=",imgRecipe:"=",options:"="},link:function(n,r,i){var o,a,l;o=i.debug||false;a=new e(r[0],n.options,o);l=false;if(n.imgSrcUrl){n.$watch("imgSrcUrl",function(e){if(e){return a.load(e,n.imgRecipe)}})}a.hooks.loaded(function(){var e;if(l){e=true}else{e=false;l=true}return t.$emit("bagua.loaded",a,e)});return n.$on("$destroy",function(){if(a){return a.destroy()}})}}}])}).call(this);(function(){angular.module("supResource",["ngResource"]).factory("supResource",["$resource",function(e){return function(t,n,r){var i,o;i={update:{method:"PUT",isArray:false},trigger:{method:"POST"},create:{method:"POST"},post:{method:"POST"}};r=angular.extend({},i,r);o=e(t,n,r);o.prototype.$save=function(e,t,n){if(!this.id){return this.$create(e,t,n)}else{return this.$update(e,t,n)}};return o}}]).factory("supChain",["$q",function(e){return function(t){var n;if(!t){n=e.defer();n.resolve();return n.promise}else if(typeof t.then==="function"){return t}else if(t.$promise){return t.$promise}else{throw"Error: Invalid parameter in 'supChain'. - Object must have"+" Promise or $promise. [SupResource]"}}}]).factory("supParallel",["$q",function(e){return function(t){var n,r,i,o,a,l,s,u,c,d;r=e.defer();if(angular.isArray(t)){u=[];n=1;a=t.length;c=function(e,t){return e.then(function(e){u[t]=e;if(n<a){return n++}else{return d(u)}})["catch"](function(e){return i(e)})};for(o in t){l=t[o];if(typeof l.then==="function"){s=l}else if(l.$promise){s=l.$promise}c(s,o)}d=function(e){return r.resolve(e)};i=function(e){return r.reject(e)};return r.promise}else{throw"Error: Invalid parameter in 'supParallel'. - "+"Objst must be Array, each item must be a promise "+"[SupResource]"}}}])}).call(this);(function(){angular.module("boltApp",["ngCookies","ngSanitize","ngRoute","ngAnimate","ngMaterial","ngMessages","ngMaterialDropmenu","dndLists","supResource","supLocales","supAngularWysiwyg","supAngularMarkdown","ngFileUpload","baguaImageEditor"]);angular.module("boltApp").constant("Project",{name:"Bolt",version:"1.34.1",maker:["Redyyu"]})}).call(this);(function(){angular.module("boltApp").config(["$mdThemingProvider",function(e){e.setDefaultTheme("bolt");e.definePalette("boltPrimaryPalette",{50:"ffebee",100:"ffcdd2",200:"ef9a9a",300:"e57373",400:"ef5350",500:"7eae64",600:"506e00",700:"fff",800:"fff",900:"fff",A100:"fff",A200:"fff",A400:"fff",A700:"fff",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:void 0});e.definePalette("boltAccentPalette",{50:"000",100:"000",200:"000",300:"f4bd5f",400:"f4bd5f",500:"f4bd5f",600:"000",700:"000",800:"f4bd5f",900:"000",A100:"000",A200:"f4bd5f",A400:"777",A700:"333",contrastDefaultColor:"light"});e.definePalette("boltWarnPalette",{50:"666",100:"000",200:"000",300:"000",400:"f4bd5f",500:"e56d51",600:"f00",700:"666",800:"999",900:"000",A100:"000",A200:"000",A400:"999",A700:"000",contrastDefaultColor:"light"});return e.theme("bolt").primaryPalette("boltPrimaryPalette").warnPalette("boltWarnPalette").accentPalette("boltAccentPalette")}]).config(["$mdIconProvider",function(e){return e.iconSet("nav","svg-sprite-navigation.svg",24).iconSet("action","svg-sprite-action.svg",24).iconSet("alert","svg-sprite-alert.svg",24).iconSet("av","svg-sprite-av.svg",24).iconSet("comm","svg-sprite-communication.svg",24).iconSet("content","svg-sprite-content.svg",24).iconSet("device","svg-sprite-device.svg",24).iconSet("editor","svg-sprite-editor.svg",24).iconSet("file","svg-sprite-file.svg",24).iconSet("hardware","svg-sprite-hardware.svg",24).iconSet("image","svg-sprite-image.svg",24).iconSet("maps","svg-sprite-maps.svg",24).iconSet("notify","svg-sprite-notification.svg",24).iconSet("social","svg-sprite-social.svg",24).iconSet("toggle","svg-sprite-toggle.svg",24).iconSet("custom","svg-sprite-custom.svg",24)}])}).call(this);(function(){angular.module("boltApp").constant("Config",{baseURL:{self:sup.server.self,api:sup.server.api,docs:sup.server.docs,libs:sup.server.libs,"static":sup.server["static"],uploads:sup.server.uploads,apps:sup.server.apps,agent:sup.server.agent},debug:sup.debug,browser:sup.browser,protocols:[{key:"http",name:"Http"}],locales:[{code:"en_US",text:"English"},{code:"zh_CN",text:"简体中文"}],default_locale:"en_US",max_image_size:{width:1650,height:1650},max_file_size:{image:960*1024,video:36*1024*1024,audio:8*1024*1024,zip:18*1024*1024,docs:8*1024*1024},media_encoder_options:.8,media_mimetypes:{image:["image/png","image/jpeg","image/svg+xml","image/gif","image/bmp"],video:["video/mp4","video/quicktime"],audio:["audio/mpeg","audio/mp3"],application:["application/zip","application/pdf"]},invite:{codes_limit:6,invited_limit:6},markdown:false,path:{oauth:["/oauth"],editor:["/editor"],outer:["/login","/register","/recovery"],open:["/404","/403"]},theme_types:{CUSTOM_THEME:"custom",DEFAULT_THEME:"default"},app_types:[{name:"Website",slug:"ws",ico:"av:ic_web_24px",archivable:true,movable:true},{name:"WeChat Buzz",slug:"wx",ico:"comm:ic_chat_24px"},{name:"Digital Book",slug:"wb",ico:"action:ic_book_24px"},{name:"Web App",slug:"wa",ico:"hardware:ic_smartphone_24px"}],default_date_format:"longDate",date_formats:[{"%y":"yy"},{"%Y":"yyyy"},{"%B":"MMMM"},{"%b":"MMM"},{"%m":"MM"},{"%d":"dd"}],copyright:"&copy; Soopro Co.,ltd."})}).call(this);(function(){angular.module("boltApp").constant("error",{ERROR:"Error"})}).call(this);(function(){angular.module("boltApp").factory("restApp",["supResource","Config",function(e,t){var n;n=t.baseURL.api+"/app";return{doCreateApp:function(t){return e(""+n).create(null,t).$promise},app:function(){return e(n+"/:app_slug",{app_slug:"@slug"})}(),domain:function(){return e(n+"/:app_slug/domain",{app_slug:"@slug"})}(),status:function(){return e(n+"/:app_slug/status",{app_slug:"@slug"})}(),menu:function(){return e(n+"/:app_slug/menu/:menu_id",{app_slug:"@app_slug",menu_id:"@id"})}(),taxonomy:function(){return e(n+"/:app_slug/taxonomy/:tax_id",{app_slug:"@app_slug",tax_id:"@id"},{sync:{method:"POST"}})}(),meta:function(){return e(n+"/:app_slug/meta",{app_slug:"@app_slug"})}(),theme:function(){return e(n+"/:app_slug/theme/:payload_id",{app_slug:"@app_slug",payload_id:"@payload_id"},{activate:{method:"PUT"}})}(),current_theme:function(){return e(n+"/:app_slug/current_theme",{app_slug:"@app_slug"},{prepare:{method:"POST"}})}(),theme_upload_url:function(e){return n+"/"+e+"/custom_theme"},custom_theme:function(){return e(n+"/:app_slug/custom_theme",{app_slug:"@app_slug"},{activate:{method:"PUT"}})}(),activated_exts:function(){return e(n+"/:app_slug/activated_exts",{app_slug:"@app_slug"})}(),ext_slots:function(){return e(n+"/:app_slug/ext_slots/:ext_id",{app_slug:"@app_slug",ext_id:"@id"})}(),ext:function(){return e(n+"/:app_slug/ext/:ext_id",{app_slug:"@app_slug",ext_id:"@id"},{activate:{method:"PUT"},deactivate:{method:"DELETE"}})}(),ext_upload_url:function(e){return n+"/"+e+"/custom_ext"},custom_ext:function(){return e(n+"/:app_slug/custom_ext",{app_slug:"@app_slug"},{activate:{method:"PUT"},deactivate:{method:"DELETE"}})}(),doGetAnalytics:function(t){return e(n+"/:app_id/visit").get({app_id:t}).$promise},content:function(){return e(n+"/:app_slug/content/:file_id",{app_slug:"@app_slug",file_id:"@id"},{move:{method:"POST"},archive:{method:"PUT"}})}()}}])}).call(this);(function(){angular.module("boltApp").factory("restUser",["supResource","Config",function(e,t){var n;n=t.baseURL.api+"/user";return{doReport:function(){return e(n+"/report").get(null).$promise},doRegisterCaptcha:function(t){return e(n+"/register/captcha").trigger(null,t).$promise},doRegister:function(t){return e(n+"/register").create(null,t).$promise},doRecoveryCaptcha:function(t){return e(n+"/recovery/captcha").trigger(null,t).$promise},doRecovery:function(t){return e(n+"/recovery").trigger(null,t).$promise},doLogin:function(t){return e(n+"/login").trigger(null,t).$promise},doOAuth:function(n){return e(t.baseURL.api+"/oauth").trigger(null,n).$promise},doLogout:function(){return e(n+"/logout").trigger().$promise},doChangePwd:function(t){return e(n+"/security/pwd").update(null,t).$promise},secret:function(){return e(n+"/secret_key")}(),profile:function(){return e(n+"/profile")}(),invite:function(){return e(n+"/invite")}(),doGetInviteLimit:function(){return e(n+"/invite/limit").get().$promise},doCheckInvite:function(){return e(n+"/invite/available").trigger().$promise}}}])}).call(this);(function(){angular.module("boltApp").factory("restStore",["supResource","Config",function(e,t){var n;n=t.baseURL.api+"/store";return{doGetCustomer:function(){return e(n+"/customer").get().$promise},doGetCustomerPlan:function(){return e(n+"/customer/plan").get().$promise},doUpdateCustomerPlan:function(t){return e(n+"/customer/plan").update(null,t).$promise},doGetCustomerCredit:function(){return e(n+"/customer/credit").get().$promise},doChargeCustomerCredit:function(t){return e(n+"/customer/credit").update(null,t).$promise},doGetCustomerPurchased:function(){return e(n+"/customer/purchased").query().$promise},goods:function(){return e(n+"/goods/:id",{id:"@id"},{buy:{method:"POST"}})}()}}])}).call(this);(function(){angular.module("boltApp").factory("restMedia",["supResource","Config",function(e,t){var n;n=t.baseURL.api+"/media";return{media:function(){return e(n+"/:app_slug/:filename",{app_slug:"@app_slug",filename:"@filename"})}(),doMediaAuth:function(t,r){return e(n+"/:app_slug/auth/upload").post({app_slug:t},r).$promise},media_upload_url:function(e){return n+"/"+e}}}])}).call(this);(function(){angular.module("boltApp").factory("restSync",["supResource","Config",function(e,t){var n;n=""+t.baseURL.api;return{app:function(){return e(n+"/app/:app_slug",{app_slug:"@slug"})}(),contentType:function(){return e(n+"/:app_type/:app_slug/content_type/:type_id",{app_slug:"@app_slug",type_id:"@id"})}(),content:function(){return e(n+"/:app_type/:app_slug/content_file/"+":type_slug/:file_id",{app_slug:"@app_slug",type_slug:"@type_slug",file_id:"@id"})}()}}])}).call(this);(function(){angular.module("boltApp").service("FileService",["Upload",function(e){var t,n,r;r={image:600*1024,video:18*1024*1024,audio:8*1024*1024,zip:18*1024*1024,docs:2*1024*1024};t=function(e,t){if(typeof e==="number"){t=e}return t};n=function(e,t,n){var r,i;if(n){if(typeof n==="string"){n=[n]}else if(!angular.isArray(n)){n=null}}if(e.name){r=angular.get_file_ext(e.name);i=n?n.indexOf(r)>-1:true}else{i=false}return e.type.indexOf(t)>-1&&i};this.config=function(e){if(typeof e.max_file_size!=="object"){throw new Error("File Service config error.");return}r.image=t(e.max_file_size.image,r.image);r.video=t(e.max_file_size.video,r.video);r.audio=t(e.max_file_size.audio,r.audio);r.zip=t(e.max_file_size.zip,r.zip);return r.docs=t(e.max_file_size.docs,r.docs)};this.upload=function(t,n,r){var i;if(!r){r={}}i={url:t,method:r.method||"POST",file:n,data:r.data,headers:r.headers};return e.upload(i).progress(function(e){return console.log("Uploading: "+parseInt(100*e.loaded/e.total)+" %")})};this.http=function(t,n,r){var i;if(!r){r={}}r.headers["Authorization"]=r.data.token||r.token;r.headers["Content-Type"]=n.mimetype;i={url:t,method:r.method||"POST",data:n,headers:r.headers};return e.http(i).progress(function(e){return console.log("Uploading: "+parseInt(100*e.loaded/e.total)+" %")})};this.checkfile=function(e){var t;if(!e||!e.size){return false}t="";if(n(e,"image",["png","jpg","jpeg","svg"])){t="image"}else if(n(e,"image",["gif"])){t="video"}else if(n(e,"video",["mp4","mov"])){t="video"}else if(n(e,"audio",["mp3"])){t="audio"}else if(n(e,"zip",["zip"])){t="zip"}else if(n(e,"pdf",["pdf"])){t="docs"}else{return false}if(r[t]>e.size){return true}else{return false}};return this}])}).call(this);(function(){angular.module("boltApp").service("MediaService",["$q","$timeout","FileService",function(e,t,n){var r,i,o,a;a=this;o={width:1650,height:1650};r=.8;i=function(e,t){if(typeof e==="number"){t=e}return t};this.config=function(e){if(typeof e.max_image_size!=="object"){throw new Error("Media Service config error.");return}o.width=i(e.max_image_size.width,o.width);o.height=i(e.max_image_size.height,o.height);if(e.max_file_size){n.config(e)}if(e.encoder_options){return r=e.encoder_options}};this.upload=n.upload;this.http=n.http;this.checkfile=n.checkfile;this.resize=function(n){var i,l,s,u,c;console.log("Auto Resize: ",n.name);l=e.defer();if(n.type.indexOf("image")<0||n.type.indexOf("svg")>-1){c=t(function(){l.reject(n);return t.cancel(c)},0);return l.promise}s=new Image;u=new FileReader;i=document.createElement("canvas");s.onerror=function(e){return l.reject(n)};u.onerror=function(e){return l.reject(n)};u.onload=function(e){var t;try{return s.src=e.target.result}catch(t){e=t;return l.reject(n)}};s.onload=function(e){var t,u,c,d,f,m,p;p=s.width;f=s.height;if(p>f){if(p>o.width){f*=o.width/p;p=o.width}}else{if(f>o.height){p*=o.height/f;f=o.height}}i.width=p;i.height=f;try{t=i.getContext("2d");t.drawImage(s,0,0,p,f);u=i.toDataURL(n.type,r);m=angular.dataURLToBlob(u);m.name=n.name;m.lastModified=n.lastModified;m.lastModifiedDate=new Date}catch(d){c=d;console.error(c);l.reject(n);throw c}if(a.checkfile(m)){return l.resolve(m)}else{return l.reject(n)}};u.readAsDataURL(n);return l.promise};return this}])}).call(this);(function(){angular.module("boltApp").service("Auth",["$cookies",function(e){var t;t={path:"/"};this.config=function(e){var n,r,i;r=[];for(n in e){i=e[n];r.push(t[n]=i)}return r};this.is_logged=function(){return!!e.get("auth")};this.token=function(){return e.get("auth")};this.login=function(n){return e.put("auth",n,t)};this.logout=function(){return e.remove("auth",t)}}])}).call(this);(function(){angular.module("boltApp").service("g",["restUser","restStore","restApp","supChain",function(e,t,n,r){var i,o,a,l;a=function(){function t(){this.profile=null}t.prototype.setProfile=function(e){return this.profile=e};t.prototype.init=function(){var t;t=this;return e.profile.get(function(e){t.setProfile(e);return console.log("User data loaded")}).$promise};return t}();i=function(){function e(){this.list=null;this.current=null}e.prototype.setList=function(e){return this.list=e};e.prototype.setCurrent=function(e){var t,n,r,i,o;if(e){if(this.current&&this.current.slug===e){return}this.current={slug:e};i=this.list;o=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.slug===e){o.push(this.current=t)}else{o.push(void 0)}}return o}else{return this.current=null}};e.prototype.init=function(){var e;e=this;return n.app.query(function(t){e.setList(t);return console.log("App data loaded")}).$promise};return e}();o=function(){function e(){this.property=null}e.prototype.setCustomer=function(e){return this.property=e};e.prototype.init=function(){var e;e=this;return t.doGetCustomer().then(function(t){e.setCustomer(t);return console.log("Customer data loadedd")})};return e}();l=this;this.setCurrentApp=function(e){if(l.inited){return l.app.setCurrent(e)}else{return false}};this.init=function(){l.clear();console.info("------------ Sup: Loading Global Datas ------------");return r().then(function(){return l.user.init()}).then(function(){return l.customer.init()}).then(function(){return l.app.init()}).then(function(){l.inited=true;return console.info("------------------- Sup: Loaded -------------------")})["catch"](function(e){return console.error(e)})};this.clear=function(){l.inited=false;l.user=new a;l.app=new i;return l.customer=new o};this.clear();return this}])}).call(this);(function(){angular.module("boltApp").factory("requestInterceptor",["$q","$cookies","$location","flashMsgStack","Auth","Config",function(e,t,n,r,i,o){return{request:function(e){e.headers=e.headers||{};if(t.get("auth")&&!e.headers.Authorization){e.headers.Authorization="Bearer "+t.get("auth")}return e},response:function(t){return t||e.when(t)},responseError:function(t){var i,a;i=angular.startswith(t.config.url,o.baseURL.api);if(!i){console.log("Request is rejected by remote.")}else{if(t.status===0&&t.data===null){n.path("/404");a="Error! No connection to server.";r.set({text:a,warn:true})}if(t.status===401){n.path("/logout")}if(t.data&&t.data.errmsg&&t.status!==200){r.set({text:t.data.errmsg,warn:true});console.apiError(t.data)}}return e.reject(t)}}}]).config(["$httpProvider",function(e){e.interceptors.push("requestInterceptor");return e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}])}).call(this);(function(){angular.module("boltApp").provider("gResolve",function(){return{resolve:["navDefault","g",function(e,t){var n;n=function(){var n;if(!t.customer||!t.customer.property){return}n=t.customer.property.plan.app_slots;t.setCurrentApp();return e.load(t.app.list,n)};if(!t.inited){return t.init().then(function(){return n()})}else{return n()}}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").service("flash",["$mdToast","flashMsgGen",function(e,t){return function(n,r,i){var o,a;if(!i){i={}}if(!i.pos){i.pos="top right"}if(!i.delay){i.delay=4e3}if(typeof n==="string"){n=t(n)}a={template:['<md-toast md-theme="{{ opts.theme }}" ','class="text-nowrap"',"ng-class=\"{'md-capsule': opts.capsule, 'md-warn': ",'opts.warn}">',"<span flex>",'<md-icon ng-if="opts.warn" ','md-svg-icon="alert:ic_warning_24px"></md-icon> ',"{{ content }}","</span>",'<md-button class="md-action" ng-if="opts.action" ','ng-click="resolve()" ',"ng-class=\"{'md-highlight': opts.highlight}\">","{{ opts.action }}","</md-button>","</md-toast>"].join(""),locals:{content:n,opts:{warn:r,action:i.action,highlight:i.highlight,capsule:i.capsule}},controller:"flashToastCtrl",position:i.pos,hideDelay:i.delay};o=e.build(a);return e.show(o)}}]).service("flashWatcher",["$interval","flashMsgStack","flash",function(e,t,n){this.init=function(){var r,i;i=t.get();return r=e(function(){var e,r,o,a,l,s;if(i.length>0){s=[];for(o=0,a=i.length;o<a;o++){l=i[o];if(typeof l==="object"){try{n(l.text,l.warn)}catch(r){e=r;throw e.toString()}i=t.unset(l)}break}return s}},500)};return this}]).service("flashMsgStack",function(){var e;e=[];this.set=function(t){e.push(t);return e};this.unset=function(t){var n;n=e.indexOf(t);if(n>-1){e.splice(n,1)}return e};this.reset=function(){e=[];return e};this.get=function(){return e};return this}).service("flashMsgGen",["error",function(e){return function(t){var n;if((n=typeof t)==="string"||n==="number"){t=e[t.toString()]||t}if(typeof angular.translate==="function"){t=angular.translate(t)}return t}}]).controller("flashToastCtrl",["$scope","$mdToast","content","opts",function(e,t,n,r){e.content=n;e.opts=r;return e.resolve=function(){return t.hide()}}])}).call(this);(function(){angular.module("boltApp").service("image",function(){this.trans="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this.trans_cover="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUJGMzI3MDNDMUEwMTFFNUE5N0M5QUVENzZFNDQyMUYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUJGMzI3MDRDMUEwMTFFNUE5N0M5QUVENzZFNDQyMUYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QkYzMjcwMUMxQTAxMUU1QTk3QzlBRUQ3NkU0NDIxRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QkYzMjcwMkMxQTAxMUU1QTk3QzlBRUQ3NkU0NDIxRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pi7ffPsAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADklEQVR42mJgIAEABBgAAC0AAVVi6A4AAAAASUVORK5CYII=";this.trans_banner="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAABCAMAAADD/I+4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkQ0OTBCMjZDMUEwMTFFNUJGM0RCRkQ3MjQ5RjgwOTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkQ0OTBCMjdDMUEwMTFFNUJGM0RCRkQ3MjQ5RjgwOTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFRkZDMEM3RkMxOUMxMUU1QkYzREJGRDcyNDlGODA5OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFRkZDMEM4MEMxOUMxMUU1QkYzREJGRDcyNDlGODA5OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvA7mEwAAAAGUExURf///wAAAFXC034AAAABdFJOUwBA5thmAAAADUlEQVR42mJgYAAIMAAAAwAB02NRtgAAAABJRU5ErkJggg==";return this})}).call(this);(function(){angular.module("boltApp").service("dialog",["$q","$mdDialog",function(e,t){var n,r;r=this;n=function(e){if(e.clickOutsideToClose===void 0){e.clickOutsideToClose=true}if(e.hasBackdrop===void 0){e.hasBackdrop=true}e.focusOnOpen=Boolean(e.focusOnOpen);return e};this.promise=null;this.alert=function(){return t.alert()};this.confirm=function(){return t.confirm()};this.show=function(e,i){if(r.promise&&!i){r.cancel()}else{r.promise=t.show(n(e));r.promise["finally"](function(){return r.promise=null})}return r.promise};this.hide=function(e){return t.hide(e)};this.cancel=function(e){return t.cancel(e)};return this}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").service("fsv",function(){return function(e){var t,n,r,i,o,a,l;if(!e){console.error(e,"Form is not exist");return false}if(!e.$valid){n=[];for(r=0,o=arguments.length;r<o;r++){t=arguments[r];n.push(t)}l=n.slice(1);for(i=0,a=l.length;i<a;i++){t=l[i];if(e[t]){e[t].$touched=true;e[t].$dirty=true}else{console.warn("Form Submit Validation Service Error: "+"'"+t+"' is undefined")}}return false}else{return true}}}).service("prompt",function(){return function(e,t){if(typeof angular.translate==="function"){e=angular.translate(e)}return window.prompt(e,t)}}).service("confirm",function(){return function(e){if(typeof angular.translate==="function"){e=angular.translate(e)}return window.confirm(e)}}).service("MIMETypes",["Config",function(t){return function(n){var r,i,o,a,l,s,u;if(typeof n==="string"){n=[n]}if(!angular.isArray(n)||n.length===0){return[]}a=[];l=t.media_mimetypes;for(i in l){u=l[i];for(r=0,o=n.length;r<o;r++){s=n[r];if(i===s){a=a.concat(u)}else if(e.call(u,s)>=0){a.push(s)}}}return a}}])}).call(this);(function(){angular.module("boltApp").service("funcGenerator",["$filter",function(e){return{more:function(t,n,r,i,o){var a;if(!r){r="paged"}if(!i){i="paginator"}a=e(i);t.showMore=function(){t[r]++;if(typeof o==="function"){return o()}};return t.hasMore=function(e){var i;i=a(n,t[r],e);return i.length<n.length}},select:function(e,t,n){e.toggleSelect=function(e){if(!e){return}angular.toggleList(t,e);if(typeof n==="function"){return n()}};e.isSelected=function(e){if(!e){return}return angular.inList(t,e)};return e.isEmptySelected=function(){return t.length<=0}},trash:function(e,t,n,r){return e.trash=function(){var e;e=t.length;angular.forEach(t,function(t){if(!t.deleted&&!t.locked){return t.$remove().then(function(t){if(typeof n==="function"){n(t)}if(typeof r==="function"&&e<=1){return r()}})["finally"](function(){return e--})}});return t.length=0}}}}])}).call(this);(function(){angular.module("boltApp").service("tokenPusher",["Config",function(e){var t,n;t=e.baseURL.apps+"/token/?auth_token=";n=function(n){var r;if(n===null||n===void 0){n=""}r=document.createElement("iframe");r.style.display="none";r.src=t+n;document.body.appendChild(r);r.onload=function(){if(e.debug){console.log("token pushed:",r.src)}return r.remove()};return r.onerror=function(e){console.error("token push failed:",r.src);return r.remove()}};return n}])}).call(this);(function(){angular.module("boltApp").directive("passwordVerify",function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(e,t,n,r){return e.$watch(function(){var t;t=void 0;if(e.passwordVerify||r.$viewValue){t=e.passwordVerify+"_"+r.$viewValue}return t},function(t){if(t){return r.$parsers.unshift(function(t){var n;n=e.passwordVerify;if(n!==t){r.$setValidity("passwordVerify",false);return void 0}else{r.$setValidity("passwordVerify",true);return t}})}})}}}).directive("input",function(){return{restrict:"E",require:"?ngModel",link:function(e,t,n,r){var i;if(!n.type||((i=n.type)==="checkbox"||i==="radio")||!r){return}t.on("blur",function(){return e.$apply(function(){return r.$setViewValue(t.val())})});return e.$on("autofill:update",function(){return e.$apply(function(){if(t.val()){return r.$setViewValue(t.val())}})})}}}).directive("invisibleIframe",["$rootScope",function(e){return{restrict:"A",link:function(e,t,n){var r;r=function(e){if(typeof e.data==="number"){t[0].style.height=e.data+20+"px"}else{t[0].style.height="auto"}};window.addEventListener("message",r);return e.$on("$destroy",function(){return window.removeEventListener("message",r)})}}}])}).call(this);(function(){angular.module("boltApp").filter("paginator",function(){return function(e,t,n){var r;if(!e||!e.length||e.length<=0){return[]}if(!t){t=1}if(angular.isArray(e)){if(!n){n="short"}switch(n){case"short":n=12;break;case"full":n=48;
break;case"medium":n=24}r=t*n;if(r>e.length){r=e.length}return e.slice(0,r)}else{return[]}}}).filter("dateformat",["$filter",function(e){return function(t,n){var r;if(!n){n="mediumDate"}if(typeof angular.translate==="function"){n=angular.translate(n)}r=0;if(typeof t==="number"){r=t.toString().length}if(r===10){t=t*1e3}return e("date")(t,n)}}]).filter("abbrnum",function(){return function(e,t,n){var r,i,o,a,l,s;if(typeof t==="boolean"){s=Boolean(t)}else{s=Boolean(n)}if(typeof t==="number"){o=t}else{o=0}o=Math.pow(10,o);r=["k","m","b","t","q"];a=r.length-1;while(a>=0){l=Math.pow(10,(a+1)*3);if(l<=e){e=Math.round(e*o/l)/o;if(e===1e3&&a<r.length-1){e=1;a++}i=r[a];if(s){i.toUpperCase()}e+=i;break}a--}return e}})}).call(this);(function(){angular.module("boltApp").run(["$rootScope","$location","$animate","Project","Auth","Config","flashWatcher","MediaService",function(e,t,n,r,i,o,a,l){var s;console.log("-----------------------------");console.log(r.name+":",r.version);console.log("Developers:",r.maker.join(", "));console.log("-----------------------------");if(o.browser){console.log("Detect browser:",o.browser)}l.config({max_file_size:o.max_file_size,max_image_size:o.max_image_size,encoder_options:o.media_encoder_options});a.init();s=function(e){var n,r,i,a,l,s,u,c,d;for(r=0,a=arguments.length;r<a;r++){n=arguments[r];s=o.path[n]||[];for(i=0,l=s.length;i<l;i++){u=s[i];d=t.url();c=new RegExp(u);if(c.test(d)){return true}}}return false};e.$on("$locationChangeStart",function(){if(i.is_logged()){if(s("outer")){return t.path("/")}}else{if(!s("outer")){return t.path("/login")}}});return e.root={is_logged:i.is_logged,hasSideNav:function(){if(!s("outer","open","editor","oauth")){return true}else{return false}},hasTopNav:function(){if(!s("editor","oauth")){return true}else{return false}},inEditor:function(){return s("editor")}}}])}).call(this);(function(){angular.module("boltApp").controller("helpModalCtrl",["$scope","dialog","help",function(e,t,n){var r;if(typeof angular.translate==="function"){e._=angular.translate}if(!n){e.content=""}else{e.content=e._(n)}r=/<\/[a-z][\s\S]*>/i;if(!r.test(e.content)){e.content="<p>"+e.content+"</p>"}return e.ok=function(){return t.hide()}}]).service("helpModal",["dialog",function(e){return function(t){return e.show({controller:"helpModalCtrl",templateUrl:"modals/help/help.tmpl.html",locals:{help:t}},true)}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("mediaModalCtrl",["$scope","$filter","$mdBottomSheet","restMedia","MediaService","Config","dialog","flash","app","mode","mimetypes","external",function(t,n,r,i,o,a,l,s,u,c,d,f){var m,p,h,g,v,b,y,_,w,$,E;if(typeof angular.translate==="function"){t._=angular.translate}t.media_sheet_open=false;t.selected_media=null;t.now=Date.now();t.mediafiles=null;t.liteMode=c==="lite"?true:false;t.allowExternal=Boolean(f);t.mimetypes_str=d.join(", ");i.media.query({app_slug:u.slug},function(n){var r;return t.mediafiles=function(){var t,i,o,a;a=[];for(t=0,i=n.length;t<i;t++){r=n[t];if(o=r.mimetype,e.call(d,o)>=0){a.push(r)}}return a}()});t.resetSelect=function(){return t.selected_media=null};t.toggleSelect=function(e){if(t.isSelected(e)){return t.resetSelect()}else{return t.selected_media=v(e)}};v=function(e){var t;if(!e.src){e.src=e.uri}if(!e.title){e.title=e.filename.substr(0,50)}if((t=e.type)==="video"||t==="audio"){if(e.controls!==false){e.controls=true}}return e};t.isSelected=function(e){var n;n=t.selected_media;return n&&n.filename===e.filename};t.edit=function(e,t){_(e);t.stopPropagation();return false};t.insert=function(){var e;if(t.selected_media){e={type:t.selected_media.type,mimetype:t.selected_media.mimetype,src:t.selected_media.src,title:t.selected_media.title,link:t.selected_media.link,target:t.selected_media.target,controls:t.selected_media.controls,loop:t.selected_media.loop,autoplay:t.selected_media.autoplay,poster:t.selected_media.poster,"class":t.selected_media["class"]};return l.hide(e)}};t.trash=function(){return l.hide({})};t.close=function(){return l.cancel()};t.internetMediafiles=[];t.setInternetMedia=function(e){return t.internetMediafiles.push({type:"image",filename:"internet_media_"+Date.now(),src:e,title:"",target:"_blank",link:e})};t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;E=[];y=[];h=function(e){var n;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){n=angular.translate("%s is invalid that it will not be uploaded.",e)}else{n=e+" is invalid will be skipped."}t.percent=0;t.upload_status=2;return s(n,true)};b=function(e){return o.resize(e).then(function(e){return E.push(e)})["catch"](function(e){return h(e.name)})["finally"](function(){angular.removeFromList(y,e,"name");return w()})};w=function(){if(y.length>0){return b(y[0])}else if(E.length>0){return $(E[0])}};t.onFileSelect=function(e){var n,r,i;if(!e||e.length<=0){return}t.upload_status=1;E=[];for(n=0,r=e.length;n<r;n++){i=e[n];if(!o.checkfile(i)){if(i.type.indexOf("image")>-1){y.push(i)}else{h(i.name)}continue}E.push(i)}return w()};m=0;$=function(e){if(!e){return}return i.doMediaAuth(u.slug,{filename:e.name,mimetype:e.type,is_new:true}).then(function(t){var n;n={method:t.method,headers:t.headers,data:{token:t.token,key:t.cdn_key,Authorization:t.token,FileName:t.cdn_key}};e._name=t.name;return g(t.api_url,e,n)})["catch"](function(){t.upload_status=0;return t.percent=0})};g=function(e,n,r){var a;console.log(m,n.name,n.size);t.upload_status=1;t.percent=0;a=n._name;return o.upload(e,n,r).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){e.name=a;e.mimetype=n.type;e.app_slug=u.slug;n=new i.media(e);return n.$save().then(function(e){t.mediafiles.unshift(n);return t.uploadedMediafiles.unshift(n)})["finally"](function(){t.percent=0;E.shift();if(E.length<=0){return t.upload_status=0}else{m++;return $(E[0])}})}).error(function(e){t.percent=0;return t.upload_status=2})};p=function(){var e;e=document.querySelector("#media-modal-sheet");if(e){e=angular.element(e)}else{e=angular.element(document.body)}return e};_=function(e){var n,i,o,a;if(!t.mediafiles){return}t.media_sheet_open=true;o=function(){var e,n,r,o;r=t.mediafiles;o=[];for(e=0,n=r.length;e<n;e++){i=r[e];if(i.type==="image"){o.push(i)}}return o}();if(e.type==="video"){a="modals/media/media_sheet_video.tmpl.html";n="mediaModalVideoSheetCtrl"}else if(e.type==="audio"){a="modals/media/media_sheet_audio.tmpl.html";n="mediaModalAudioSheetCtrl"}else{a="modals/media/media_sheet_image.tmpl.html";n="mediaModalImageSheetCtrl"}return r.show({templateUrl:a,controller:n,parent:p(),locals:{media:angular.copy(e),posters:o}}).then(function(t){e.type=t.type;e.mimetype=t.mimetype;e.src=t.src;e.title=t.title;e.link=t.link;e.target=t.target;e.autoplay=t.autoplay;e.loop=t.loop;e.poster=t.poster;e.controls=t.controls;return e["class"]=t["class"]})["finally"](function(){return t.media_sheet_open=false})};t.paged=1;t.resetMore=function(){return t.paged=1};t.showMore=function(){return t.paged++};return t.hasMore=function(){var e,r;r=t.mediafiles;if(!r){return false}e=n("paginator")(r,t.paged);return e.length<r.length}}]).controller("internetMediaCtrl",["$scope","fsv",function(e,t){e.internet_media=null;return e.getInternetMedia=function(){if(!t(e.internet_form,"media")){return}return e.$parent.setInternetMedia(e.internet_media)}}]).service("mediaModal",["dialog","MIMETypes",function(e,t){return function(n,r,i,o){var a;if(i===void 0){i=true}if(r===void 0||r===true){r="max"}else if(r===false||r===null){r="lite"}if(!o){o=["image"]}else if(o==="*"){o=["image","video","audio"]}else{o=angular.str2list(o)}a=t(o);return e.show({controller:"mediaModalCtrl",templateUrl:"modals/media/media.tmpl.html",locals:{app:n,mode:r,mimetypes:a,external:i}})}}])}).call(this);(function(){angular.module("boltApp").controller("mediaModalImageSheetCtrl",["$scope","$mdBottomSheet","fsv","media",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.media=r;if(!r.link){e.linkto=""}else if(r.link===r.src){e.linkto="media"}else{e.linkto="url"}if(r.target==="_blank"){e.blank=true}e.$watch("linkto",function(t){switch(t){case"":return e.media.link="";case"media":return e.media.link=e.media.src}});e.save=function(){if(!n(e.media_property_form,"title","class")){return}if(e.blank){e.media.target="_blank"}else{e.media.target=""}return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("mediaModalVideoSheetCtrl",["$scope","$mdBottomSheet","media","posters",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.now=Date.now();e.media=n;if(angular.isArray(r)){e.posters=r}if(e.media.autoplay||e.media.loop){e.auto=true}e.save=function(){e.media.autoplay=e.auto;e.media.loop=e.auto;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("mediaModalAudioSheetCtrl",["$scope","$mdBottomSheet","media",function(e,t,n){if(typeof angular.translate==="function"){e._=angular.translate}e.media=n;if(e.media.autoplay||e.media.loop){e.auto=true}e.save=function(){e.media.autoplay=e.auto;e.media.loop=e.auto;return t.hide(e.media)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("bgModalCtrl",["$scope","$filter","$mdBottomSheet","restMedia","MediaService","Config","dialog","flash","fsv","bg","mimetypes","app",function(t,n,r,i,o,a,l,s,u,c,d,f){var m,p,h,g,v,b,y,_,w,$;if(typeof angular.translate==="function"){t._=angular.translate}p=angular.copy(c);if(!p){p={}}t.current_bg={type:"image",src:p.src||"",thumbnail:p.thumbnail||"","class":p["class"]||"",color:p.color||"",repeat:p.repeat||"",style:p.style||"",controls:false,loop:true,autoplay:true,poster:""};t.selected_media=null;t.now=Date.now();t.forms={};t.mimetypes_str=d.join(", ");i.media.query({app_slug:f.slug},function(n){var r;return t.mediafiles=function(){var t,i,o,a;a=[];for(t=0,i=n.length;t<i;t++){r=n[t];if(o=r.mimetype,e.call(d,o)>=0){a.push(r)}}return a}()});t.goRepository=function(){return t.selectedTab=1};t.setCurrentBg=function(e){t.current_bg.type=e.type;t.current_bg.mimetype=e.mimetype;t.current_bg.src=e.src;t.current_bg.thumbnail=e.thumbnail;t.current_bg.autoplay=true;t.current_bg.loop=true;t.current_bg.controls=false;return t.selectedTab=0};g=function(e){var t;t="";if(e.src){t=t+"background-image:url("+e.src+");"}if(e.color){t=t+"background-color:"+e.color+";"}if(e.repeat){if(e.repeat!=="no-repeat"){t=t+"background-size:auto;"}t=t+"background-repeat:"+e.repeat+";"}return t};t.insert=function(){if(!u(t.forms.bg_propety_form,"class")){t.selectedTab=0;return}t.current_bg.style=g(t.current_bg);return l.hide(t.current_bg)};t.trash=function(){return l.hide({})};t.hasMedia=function(){var e;if(!t.current_bg){return false}for(e in t.current_bg){if(e){return true}}return false};t.close=function(){return l.cancel()};t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;$=[];y=[];h=function(e){var n;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){n=angular.translate("%s is invalid that it will not be uploaded.",e)}else{n=e+" is invalid will be skipped."}t.percent=0;t.upload_status=2;return s(n,true)};b=function(e){return o.resize(e).then(function(e){return $.push(e)})["catch"](function(e){return h(e.name)})["finally"](function(){angular.removeFromList(y,e,"name");return _()})};_=function(){if(y.length>0){return b(y[0])}else if($.length>0){return w($[0])}};t.onFileSelect=function(e){var n,r,i;if(!e||e.length<=0){return}t.upload_status=1;$=[];for(n=0,r=e.length;n<r;n++){i=e[n];if(!o.checkfile(i)){if(i.type.indexOf("image")>-1){y.push(i)}else{h(i.name)}continue}$.push(i)}return _()};m=0;w=function(e){if(!e){return}return i.doMediaAuth(f.slug,{filename:e.name,mimetype:e.type,is_new:true}).then(function(t){var n;n={method:t.method,headers:t.headers,data:{token:t.token,key:t.cdn_key,Authorization:t.token,FileName:t.cdn_key}};e._name=t.name;return v(t.api_url,e,n)})["catch"](function(){t.upload_status=0;return t.percent=0})};v=function(e,n,r){var a;console.log(m,n.name,n.size);t.upload_status=1;t.percent=0;a=n._name;return o.upload(e,n,r).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){e.name=a;e.mimetype=n.type;e.app_slug=f.slug;n=new i.media(e);return n.$save().then(function(e){t.mediafiles.unshift(n);return t.uploadedMediafiles.unshift(n)})["finally"](function(){t.percent=0;$.shift();if($.length<=0){return t.upload_status=0}else{m++;return w($[0])}})}).error(function(e){t.percent=0;return t.upload_status=2})};t.paged=1;t.resetMore=function(){return t.paged=1};t.showMore=function(){return t.paged++};return t.hasMore=function(){var e,r;r=t.mediafiles;if(!r){return false}e=n("paginator")(r,t.paged);return e.length<r.length}}]).service("bgModal",["dialog","MIMETypes",function(e,t){return function(n,r,i){var o;if(!i){i=["image"]}else if(i==="*"){i=["image","video","audio"]}else{i=angular.str2list(i)}o=t(i);return e.show({controller:"bgModalCtrl",templateUrl:"modals/bg/bg.tmpl.html",locals:{bg:n,mimetypes:o,app:r}})}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("galleryModalCtrl",["$scope","$filter","$mdBottomSheet","restMedia","MediaService","Config","dialog","flash","gallery","mimetypes","app",function(t,n,r,i,o,a,l,s,u,c,d){var f,m,p,h,g,v,b,y,_,w,$;if(typeof angular.translate==="function"){t._=angular.translate}t.gallery_sheet_open=false;t.selected_media=null;t.now=Date.now();t.galleryMediafiles=angular.copy(u)||[];t.mimetypes_str=c.join(", ");i.media.query({app_slug:d.slug},function(n){var r;return t.mediafiles=function(){var t,i,o,a;a=[];for(t=0,i=n.length;t<i;t++){r=n[t];if(o=r.mimetype,e.call(c,o)>=0){a.push(r)}}return a}()});t.resetSelect=function(){return t.selected_media=null};t.toggleSelect=function(e){if(t.isSelected(e)){return t.resetSelect()}else{return t.selected_media=g(e)}};g=function(e){var t;if(!e.src){e.src=e.uri}if(!e.title){e.title=e.filename.substr(0,50)}if((t=e.type)==="video"||t==="audio"){if(e.controls!==false){e.controls=true}}return e};t.goRepository=function(){return t.selectedTab=1};t.removeFromGallery=function(e){return t.galleryMediafiles.splice(e,1)};t.addToGallery=function(e){var n;g(e);n={src:e.src,title:e.title,caption:e.caption,link:e.link,target:e.target,"class":e["class"],controls:e.controls,loop:e.loop,autoplay:e.autoplay,poster:e.poster};t.galleryMediafiles.push(n);return t.selectedTab=0};t.isSelected=function(e){var n,r,i;r=t.selected_media;if(!r||!e){return false}i=t.galleryMediafiles.indexOf(r);n=t.galleryMediafiles.indexOf(e);return r&&i===n};t.edit=function(e,t){y(e);t.stopPropagation();return false};t.insert=function(){if(t.galleryMediafiles.length>0){return l.hide(t.galleryMediafiles)}};t.trash=function(){return l.hide([])};t.hasMedia=function(){return t.galleryMediafiles.length>0};t.close=function(){return l.cancel()};t.uploadedMediafiles=[];t.upload_status=0;t.percent=0;$=[];b=[];p=function(e){var n;if(e.length>20){e=e.substring(0,16)+"..."}if(typeof angular.translate==="function"){n=angular.translate("%s is invalid that it will not be uploaded.",e)}else{n=e+" is invalid will be skipped."}t.percent=0;t.upload_status=2;return s(n,true)};v=function(e){return o.resize(e).then(function(e){return $.push(e)})["catch"](function(e){return p(e.name)})["finally"](function(){angular.removeFromList(b,e,"name");return _()})};_=function(){if(b.length>0){return v(b[0])}else if($.length>0){return w($[0])}};t.onFileSelect=function(e){var n,r,i;if(!e||e.length<=0){return}t.upload_status=1;$=[];for(n=0,r=e.length;n<r;n++){i=e[n];if(!o.checkfile(i)){if(i.type.indexOf("image")>-1){b.push(i)}else{p(i.name)}continue}$.push(i)}return _()};f=0;w=function(e){if(!e){return}return i.doMediaAuth(d.slug,{filename:e.name,mimetype:e.type,is_new:true}).then(function(t){var n;n={method:t.method,headers:t.headers,data:{token:t.token,key:t.cdn_key,Authorization:t.token,FileName:t.cdn_key}};e._name=t.name;return h(t.api_url,e,n)})["catch"](function(){t.upload_status=0;return t.percent=0})};h=function(e,n,r){var a;console.log(f,n.name,n.size);t.upload_status=1;t.percent=0;a=n._name;return o.upload(e,n,r).progress(function(e){return t.percent=parseInt(100*e.loaded/e.total)}).success(function(e){e.name=a;e.mimetype=n.type;e.app_slug=d.slug;n=new i.media(e);return n.$save().then(function(e){t.mediafiles.unshift(n);return t.uploadedMediafiles.unshift(n)})["finally"](function(){t.percent=0;$.shift();if($.length<=0){return t.upload_status=0}else{f++;return w($[0])}})}).error(function(e){t.percent=0;return t.upload_status=2})};m=function(){var e;e=document.querySelector("#gallery-modal-sheet");if(e){e=angular.element(e)}else{e=angular.element(document.body)}return e};y=function(e){var n,i,o,a;if(!t.mediafiles){return}t.gallery_sheet_open=true;o=function(){var e,n,r,o;r=t.mediafiles;o=[];for(e=0,n=r.length;e<n;e++){i=r[e];if(i.type==="image"){o.push(i)}}return o}();if(e.type==="video"){a="modals/gallery/gallery_sheet_video.tmpl.html";n="galleryModalVideoSheetCtrl"}else if(e.type==="audio"){a="modals/gallery/gallery_sheet_audio.tmpl.html";n="galleryModalAudioSheetCtrl"}else{a="modals/gallery/gallery_sheet_image.tmpl.html";n="galleryModalImageSheetCtrl"}return r.show({templateUrl:a,controller:n,parent:m(),locals:{media:angular.copy(e),posters:o}}).then(function(n){var r,i,o,a,l;if(n.deleted){e.deleted=true;l=t.galleryMediafiles;for(r=0,o=l.length;r<o;r++){a=l[r];if(a.deleted){i=t.galleryMediafiles.indexOf(a)}}t.galleryMediafiles.splice(i,1);return}e.type=n.type;e.mimetype=n.mimetype;e.src=n.src;e.title=n.title;e.link=n.link;e.target=n.target;e.autoplay=n.autoplay;e.loop=n.loop;e.poster=n.poster;e.controls=n.controls;e.caption=n.caption;return e["class"]=n["class"]})["finally"](function(){return t.gallery_sheet_open=false})};t.paged=1;t.resetMore=function(){return t.paged=1};t.showMore=function(){return t.paged++};return t.hasMore=function(){var e,r;r=t.mediafiles;if(!r){return false}e=n("paginator")(r,t.paged);return e.length<r.length}}]).service("galleryModal",["dialog","MIMETypes",function(e,t){return function(n,r,i){var o;if(!i){i=["image"]}else if(i==="*"){i=["image","video","audio"]}else{i=angular.str2list(i)}o=t(i);return e.show({controller:"galleryModalCtrl",templateUrl:"modals/gallery/gallery.tmpl.html",locals:{gallery:n,mimetypes:o,app:r}})}}])}).call(this);(function(){angular.module("boltApp").controller("galleryModalImageSheetCtrl",["$scope","$mdBottomSheet","fsv","media",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.media=r;if(!r.link){e.linkto=""}else if(r.link===r.src){e.linkto="media"}else{e.linkto="url"}if(r.target==="_blank"){e.blank=true}e.$watch("linkto",function(t){switch(t){case"":return e.media.link="";case"media":return e.media.link=e.media.src}});e.save=function(){if(!n(e.gallery_propety_form,"title","caption","class")){return}if(e.blank){e.media.target="_blank"}else{e.media.target=""}return t.hide(e.media)};e.remove=function(){e.media.deleted=true;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("galleryModalVideoSheetCtrl",["$scope","$mdBottomSheet","media","posters",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.now=Date.now();e.media=n;if(angular.isArray(r)){e.posters=r}if(e.media.autoplay||e.media.loop){e.auto=true}e.save=function(){e.media.autoplay=e.auto;e.media.loop=e.auto;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("galleryModalAudioSheetCtrl",["$scope","$mdBottomSheet","media",function(e,t,n){if(typeof angular.translate==="function"){e._=angular.translate}e.media=n;if(e.media.autoplay||e.media.loop){e.auto=true}e.save=function(){e.media.autoplay=e.auto;e.media.loop=e.auto;return t.hide(e.media)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("linkModalCtrl",["$scope","dialog","fsv","link",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.link=r;e.blank=r.target==="_blank"?true:false;e.insert=function(){if(!n(e.link_form,"link","class")){return}e.link.target=e.blank?"_blank":"";return t.hide(e.link)};e.trash=function(){return t.hide({})};return e.close=function(){return t.cancel()}}]).service("linkModal",["dialog",function(e){return function(t){if(!t){t={href:"",target:""}}return e.show({controller:"linkModalCtrl",templateUrl:"modals/link/link.tmpl.html",locals:{link:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("syncModalCtrl",["$scope","$filter","restSync","dialog","fsv","apps",function(e,t,n,r,i,o){var a,l,s;if(typeof angular.translate==="function"){e._=angular.translate}e.apps=angular.copy(o);l="error_404";a=false;e.isCurrentType=function(e,t){if(!e||!t||!e.current_content_type){return false}return t.slug===e.current_content_type.slug};e.isExcludeContent=function(e){if(e.status!==1){return true}if(l.indexOf(e.slug)>-1){return true}else{return false}};e.setContentType=function(e,t){e.current_content_type=t;return s(e)};s=function(t){var r;if(t.current_content_type){r=t.current_content_type.slug}else{return[]}e.resetMore();return t.files=n.content.query({app_type:t.type,app_slug:t.slug,type_slug:r})};e.switchApp=function(t){var n;if(a){return}if(t.content_types&&t.content_types.length>0){n=t.content_types[0];return e.setContentType(t,n)}};e.sync=function(e){a=false;return n.content.get({app_type:e.app_type,app_slug:e.app_slug,type_slug:e.content_type,file_id:e.id},function(e){return r.hide(e)})};e.close=function(){a=true;return r.cancel()};e.paged=1;e.resetMore=function(){return e.paged=1};e.showMore=function(){return e.paged++};e.hasMore=function(n){var r;if(!n){return false}r=t("paginator")(n,e.paged);return r.length<n.length};return e.switchApp(e.apps[0])}]).service("syncModal",["dialog",function(e){return function(t){return e.show({controller:"syncModalCtrl",templateUrl:"modals/sync/sync.tmpl.html",locals:{apps:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("scriptModalCtrl",["$scope","dialog","fsv","script","switcher",function(e,t,n,r,i){if(typeof angular.translate==="function"){e._=angular.translate}e.script={code:r.code,meta:r.meta,status:r.status};if(!i){e.script.status=true}e.switcher=i;e.insert=function(){if(!n(e.script_form,"code")){return}return t.hide(e.script)};e.trash=function(){return t.hide({})};return e.close=function(){return t.cancel()}}]).service("scriptModal",["dialog",function(e){return function(t,n){if(n===void 0){n=true}else{n=Boolean(n)}if(!angular.isObject(t)){t={}}t={code:angular.isString(t.code)?t.code:"",meta:angular.isObject(t.meta)?t.meta:{},status:t.status?1:0};return e.show({controller:"scriptModalCtrl",templateUrl:"modals/script/script.tmpl.html",locals:{script:t,switcher:n}})}}])}).call(this);(function(){angular.module("boltApp").controller("buttonModalCtrl",["$scope","dialog","fsv","button",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.button=angular.copy(r)||{};e.blank=r.target==="_blank"?true:false;e.insert=function(){if(!n(e.button_form,"link","class")){return}e.button.target=e.blank?"_blank":"";return t.hide(e.button)};e.trash=function(){return t.hide({})};return e.close=function(){return t.cancel()}}]).service("buttonModal",["dialog",function(e){return function(t){if(!t){t={link:"",target:"",title:"","class":""}}return e.show({controller:"buttonModalCtrl",templateUrl:"modals/button/button.tmpl.html",locals:{button:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("sourceModalCtrl",["$scope","dialog","fsv","code",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.code=r;e.insert=function(){if(!n(e.source_form,"code")){return}return t.hide(e.code)};e.trash=function(){return t.hide("")};return e.close=function(){return t.cancel()}}]).service("sourceModal",["dialog",function(e){return function(t){return e.show({controller:"sourceModalCtrl",templateUrl:"modals/source/source.tmpl.html",locals:{code:t}})}}])}).call(this);(function(){angular.module("boltApp").controller("collectModalCtrl",["$scope","$timeout","dialog","collect","limit",function(e,t,n,r,i){var o,a;if(typeof angular.translate==="function"){e._=angular.translate}if(!angular.isArray(r)){r=[]}e.collection=angular.copy(r)||[];e.new_item={};o=function(){if(i>0&&e.collection.length>=i){e.addable=false;return e.collection.length=i}else{return e.addable=true}};o();a=function(){var t,n,r,i,a;a=e.collection;for(n=t=0,i=a.length;t<i;n=++t){r=a[n];if(!r.name){r.name=n.toString()}if(!r.value){r.value=n.toString()}}return o()};e.add=function(){var n;a();e.collection.push({name:e.new_item.name,value:e.new_item.value});a();return n=t(function(){var r;r=document.querySelector('[rel="collect-add-item-first"]');if(r){r.focus()}e.new_item={};return t.cancel(n)},0)};e.remove=function(t){e.collection.splice(t,1);return o()};e.moveup=function(t,n){var r,i,o;r=e.collection;if(t>0){i=t-1;o=[r[i],r[t]],r[t]=o[0],r[i]=o[1]}return n.stopPropagation()};e.movedown=function(t,n){var r,i,o;r=e.collection;if(t<r.length){i=t+1;o=[r[i],r[t]],r[t]=o[0],r[i]=o[1]}return n.stopPropagation()};e.insert=function(){a();return n.hide(e.collection)};e.trash=function(){return n.hide(null)};return e.close=function(){return n.cancel()}}]).service("collectModal",["dialog",function(e){return function(t,n){var r;if(!t){t=[]}try{n=parseInt(n);if(n<0){n=0}}catch(r){n=0}return e.show({controller:"collectModalCtrl",templateUrl:"modals/collect/collect.tmpl.html",locals:{collect:t,limit:n}})}}])}).call(this);(function(){angular.module("boltApp").controller("notesModalCtrl",["$scope","dialog","notes","limit",function(e,t,n,r){var i;if(typeof angular.translate==="function"){e._=angular.translate}if(!angular.isArray(n)){n=[]}e.notes=angular.copy(n)||[];e.new_item={};i=function(){if(r>0&&e.notes.length>=r){e.addable=false;return scope.notes.length=r}else{return e.addable=true}};i();e.add=function(){e.notes.push(e.new_item);e.new_item={};e.new_item_form.$setPristine();e.new_item_form.$setUntouched();return i()};e.remove=function(t){e.notes.splice(t,1);return i()};e.moveup=function(t,r){var i,o;n=e.notes;if(t>0){i=t-1;o=[n[i],n[t]],n[t]=o[0],n[i]=o[1]}return r.stopPropagation()};e.movedown=function(t,r){var i,o;n=e.notes;if(t<n.length){i=t+1;o=[n[i],n[t]],n[t]=o[0],n[i]=o[1]}return r.stopPropagation()};e.insert=function(){return t.hide(e.notes)};e.trash=function(){return t.hide(null)};return e.close=function(){return t.cancel()}}]).service("notesModal",["dialog",function(e){return function(t,n){var r;if(!t){t=[]}try{n=parseInt(n);if(n<0){n=0}}catch(r){n=0}return e.show({controller:"notesModalCtrl",templateUrl:"modals/notes/notes.tmpl.html",locals:{notes:t,limit:n}})}}])}).call(this);(function(){angular.module("boltApp").controller("presetModalCtrl",["$scope","$interpolate","dialog","flash","presets","context",function(e,t,n,r,i,o){var a,l;if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}e.now=Date.now();a=[{name:angular.translate("Empty"),code:"<br>"}];e.presets=a.concat(i);l=function(e){return t(e.code)(o)};e.resetSelect=function(){return e.selected_preset=null};e.toggleSelect=function(t){if(e.isSelected(t)){return e.resetSelect()}else{return e.selected_preset=t}};e.isSelected=function(t){var n;n=e.selected_preset;return n&&angular.equals(n,t)};e.insert=function(){var t,r;if(e.selected_preset){r=e.selected_preset;t={key:r.key,code:l(r)};return n.hide(t)}};e.trash=function(){return n.hide({})};return e.close=function(){return n.cancel()}}]).service("presetModal",["dialog",function(e){return function(t,n){return e.show({controller:"presetModalCtrl",templateUrl:"modals/preset/preset.tmpl.html",locals:{presets:t,context:n}})}}])}).call(this);(function(){angular.module("boltApp").service("navService",function(){var e;e=this;this.data=[];this.activatedMenus=[];this.currTitleLocked=null;this.currIcon=null;this.currTitle="";this.currSubTitle="";this.currSection="";this.currApp=null;this.load=function(t,n,r,i){if(!angular.equals(e.data,t)){e.data=t}e.currTitleLocked=n?n:null;e.currIcon=r?r:null;return e.currApp=i};this.getElement=function(t){var n,r,i,o;o=e.data;for(r=0,i=o.length;r<i;r++){n=o[r];if(n.key===t){return n}}};this.section=function(t){var n,r,i,o,a,l,s,u,c,d,f,m,p;i=t.indexOf("/");if(i>-1){s=t.slice(0,i);m=t.slice(i+1)}else{s=t}e.currSection=s||"";e.activatedMenus=[];c=e.data;f=[];for(r=0,a=c.length;r<a;r++){u=c[r];if(u.key===s){if(e.currTitleLocked){e.title(e.currTitleLocked);e.subtitle(u.name);break}else{e.title(u.name)}if(u.nodes&&m){n=false;d=u.nodes;for(o=0,l=d.length;o<l;o++){p=d[o];if(p.key===m){e.subtitle(p.name);n=true;break}}}else{e.subtitle(false)}if(n){break}else{f.push(void 0)}}else{f.push(void 0)}}return f};this.title=function(t){return e.currTitle=t||""};this.subtitle=function(t){return e.currSubTitle=t||""};this.clear=function(){e.data=[];e.activatedMenus=[];e.currTitleLocked=null;e.currIcon=null;e.currTitle="";e.currSubTitle="";e.currSection="";return e.currApp=null};return this})}).call(this);(function(){angular.module("boltApp").factory("navDefault",["navService",function(e){var t;t=[{key:"portal",name:"Portal",path:"/",ico:"maps:ic_directions_walk_24px"},{key:"apps",name:"Apps",ico:"nav:ic_apps_24px",nodes:[{key:"create",name:"Create New",path:"/create_app","class":"md-primary"}]},{key:"crm",name:"Membership",ico:"social:ic_people_24px",nodes:[{key:"members",name:"Members",path:"/crm/members"},{key:"roles",name:"Member Roles",path:"/crm/roles"},{key:"events",name:"Events",path:"/crm/events"},{key:"promos",name:"Promo Codes",path:"/crm/promos"},{key:"agent",name:"CRM Agent",path:"/crm/agent"}]},{key:"addons",name:"Marketplace",ico:"action:ic_extension_24px",nodes:[{key:"store",name:"Themes & Exts",path:"/store"},{key:"purchased",name:"Purchased Items",path:"/store/purchased"}]},{key:"account",name:"Account",ico:"action:ic_settings_24px",nodes:[{key:"profile",name:"Profile",path:"/user/profile"},{key:"security",name:"Security",path:"/user/security"},{key:"invite",name:"Invite Codes",path:"/user/invite","class":"md-primary"}]}];this.load=function(n,r){var i,o,a,l,s,u,c;c=angular.copy(t);n=angular.isArray(n)?angular.copy(n).reverse():[];for(o=0,l=c.length;o<l;o++){u=c[o];if(u.key==="apps"){if(n.length>=r){u.nodes=[]}for(a=0,s=n.length;a<s;a++){i=n[a];u.nodes.unshift({key:i.slug,name:i.title,path:i.type+"/"+i.slug,app_id:i.id})}break}}return e.load(c)};return this}])}).call(this);(function(){angular.module("boltApp").controller("mainNavCtrl",["$scope","$location","$mdSidenav","$mdMedia","navService","g",function(e,t,n,r,i,o){var a,l;e.navs=a=i;l=false;e.isLockedOpen=function(e){return r("gt-md")};e.isOpen=function(){var t,r;r=n("main_nav").isOpen();t=e.isLockedOpen();if(r&&t){n("main_nav").close()}return r};e.toggle=function(e){if(l){if(a.activatedMenus!==e){return a.activatedMenus=e}else{return a.activatedMenus=""}}else{return angular.toggleList(a.activatedMenus,e)}};e.isShow=function(t){if(l){return a.activatedMenus===t||e.isCurrent(t)}else{return a.activatedMenus.indexOf(t)>-1||e.isCurrent(t)}};e.isCurrent=function(e){return a.currSection===e};e.toggleNav=function(e){return n(e).toggle()};return e.go=function(e){if(e){t.path(e);return n("main_nav").close()}}}])}).call(this);(function(){angular.module("boltApp").controller("topNavCtrl",["$scope","$route","$location","$mdSidenav","$mdMedia","Config","Auth","supLocales","navService","g",function(e,t,n,r,i,o,a,l,s,u){var c;e.navs=s;if(!u.inited){e.g=u;c=e.$watch("g.inited",function(e){if(e){return c()}})}e.locales=o.locales;e.showMenu=function(){return i("gt-md")};e.toggleNav=function(e){return r(e).toggle();
};e.currentLang=function(e){var t;t=l.get();return l.match(e.code,t)};e.changeLang=function(e){l.set(e.code);return t.reload()};e.logout=function(){return n.path("/logout")};return e.go=function(e){if(e){return n.path(e)}}}])}).call(this);(function(){angular.module("boltApp").controller("appMediaCtrl",["$scope","restMedia","MediaService","Config","navService","funcGenerator","dialog","flash","prompt","MIMETypes","g",function(e,t,n,r,i,o,a,l,s,u,c){var d,f,m,p,h,g,v,b,y,_,w;i.section("media");e.app=c.app.current;e.now=Date.now();e.mediafiles=t.media.query({app_slug:e.app.slug});e.uploadedMediafiles=[];e.upload_status=0;e.percent=0;w=[];g=[];e.mimetypes_str=u().join(", ");p=function(){return e.now=Date.now()};f=function(t){var n;if(t.length>20){t=t.substring(0,16)+"..."}if(typeof angular.translate==="function"){n=angular.translate("%s is invalid that it will not be uploaded.",t)}else{n=t+" is invalid will be skipped."}e.percent=0;e.upload_status=2;return l(n,true)};h=function(e){var t,r;if(e.id){r=e.id}if(e.filename){t=e.filename}return n.resize(e).then(function(e){if(r){e.id=r}if(t){e.filename=t}return w.push(e)})["catch"](function(e){return f(e.name)})["finally"](function(){angular.removeFromList(g,e,"name");return y()})};y=function(){if(g.length>0){return h(g[0])}else if(w.length>0){return _(w[0])}else{return e.upload_status=0}};e.edit=function(t){return b(t).then(function(t){if(t.deleted){return angular.removeFromList(e.mediafiles,t,"filename")}})};e.onFileSelect=function(t,r){var i,o,a;if(!t||t.length<=0){return}e.upload_status=1;w=[];for(i=0,o=t.length;i<o;i++){a=t[i];if(r){a.id=r.id;a.filename=r.filename}if(!n.checkfile(a)){if(a.type.indexOf("image")>-1){g.push(a)}else{f(a.name)}continue}w.push(a)}return y()};d=0;_=function(n){if(!n){return}return t.doMediaAuth(e.app.slug,{filename:n.filename||n.name,mimetype:n.type,is_new:!n.filename}).then(function(e){var t;t={method:e.method,headers:e.headers,data:{token:e.token,key:e.cdn_key,Authorization:e.token,FileName:e.cdn_key}};n._name=e.name;return m(e.api_url,n,t)})["catch"](function(){e.upload_status=0;return e.percent=0})};m=function(r,i,o){var a,s,u;console.log(d,i.name,i.filename,i.size);e.upload_status=1;e.percent=0;s=i.id;u=i._name;a=i.filename;return n.upload(r,i,o).progress(function(t){return e.percent=parseInt(100*t.loaded/t.total)}).success(function(n){n.mimetype=i.type;n.app_slug=e.app.slug;n.id=s;n.filename=a;n.name=u;n.upload=true;i=new t.media(n);return i.$save().then(function(){angular.removeFromList(e.mediafiles,i,"filename");e.mediafiles.unshift(i);e.uploadedMediafiles.unshift(n);return i._reuploaded=Boolean(s)})["finally"](function(){e.percent=0;w.shift();if(w.length<=0){e.upload_status=0;return l("Media files have been uploaded.")}else{d++;return _(w[0])}})}).error(function(t){e.percent=0;return e.upload_status=2})["finally"](function(){return p()})};e.copyURL=function(e){var t;t="Please use the native replication function "+"to copy the content in the textbox.";return s(t,e)};e.paged=1;v=[];o.select(e,v);o.more(e,e.mediafiles);o.trash(e,v,function(t){return angular.removeFromList(e.mediafiles,t)},function(){return l("Media files have been deleted.")});return b=function(t){return a.show({controller:"mediaEditCtrl",templateUrl:"blueprints/app/views/media_edit.tmpl.html",locals:{media:t,app:e.app}})}}])}).call(this);(function(){angular.module("boltApp").controller("mediaEditCtrl",["$scope","$rootScope","restMedia","MediaService","dialog","flash","media","app",function(e,t,n,r,i,o,a,l){var s,u,c,d,f;if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}if(!a||a.deleted){return}e.now=Date.now();e.media=a;e.reuploaded=a._reuploaded;if(a.recipe&&a.recipe.aspect_ratio){e.aspect_ratio=a.recipe.aspect_ratio*100}else{e.aspect_ratio=100}u=null;e.is_editable=function(){var t,n;t=e.media.type;n=e.media.mimetype;return t==="image"&&n.indexOf("svg")<0}();d=function(e){var t,n;if(e.id){n=e.id}if(e.filename){t=e.filename}return r.resize(e).then(function(e){if(n){e.id=n}if(t){e.filename=t}return f(e)})["catch"](function(e){return o("Media file is invaild")})};e.onFileSelect=function(t){if(!t||t.length<=0){return}a=t[0];a.id=e.media.id;a.filename=e.media.filename;if(r.checkfile(a)){return f(a)}else{if(a.type.indexOf("image")>-1){return d(a)}else{return o("Media file is invaild")}}};e.upload_status=0;e.percent=0;f=function(t){e.upload_status=1;if(!t){return}return n.doMediaAuth(l.slug,{filename:t.filename||t.name,mimetype:t.type,is_new:!t.filename}).then(function(e){var n;n={method:e.method,headers:e.headers,data:{token:e.token,key:e.cdn_key,Authorization:e.token,FileName:e.cdn_key}};return c(e.api_url,t,n)})["catch"](function(){return e.upload_status=2})};c=function(t,n,i){console.log(n.name,n.filename,n.size);e.upload_status=1;e.percent=0;return r.upload(t,n,i).progress(function(t){return e.percent=parseInt(100*t.loaded/t.total)}).success(function(t){e.media.recipe=null;e.media.upload=true;return e.media.$save().then(function(){e.reuploaded=true;e.media._reuploaded=true;e.upload_status=0;return o("Media file has been updated.")})}).error(function(t){e.upload_status=2;return o("Media file upload failed.")})["finally"](function(){e.percent=0;return e.now=Date.now()})};e.$watch("aspect_ratio",function(e){if(u&&e){return u.scale(Math.round(e/10)/10)}});e.save=function(){if(e.reuploaded){e.media.recipe=null;e.media._reuploaded=e.reuploaded;i.hide(e.media);return}if(u){e.media.recipe=u.recipe()}return e.media.$save().then(function(){o("Media file has been updated.");return i.hide(e.media)})};e.refresh=function(){return e.media.$save().then(function(){return o("Media file has been refreshed.")})};e.trash=function(){return e.media.$remove().then(function(){o("Media file has been deleted.");return i.hide(e.media)})};e.close=function(){return i.cancel()};s=t.$on("bagua.loaded",function(t,n,r){if(e.is_editable){u=n;u.scale(e.aspect_ratio);return e.$apply()}});return e.$on("$destroy",function(){if(s){return s()}})}])}).call(this);(function(){angular.module("boltApp").controller("appExtsCtrl",["$scope","$rootScope","$sce","image","navService","restApp","Config","supChain","supLocales","dialog","flash","g",function(e,t,n,r,i,o,a,l,s,u,c,d){var f,m;i.section("exts");e.app=d.app.current;e.now=Date.now();e.ext_iframe_height=0;e.image={cover:r.trans_cover,trans:r.trans};l().then(function(){e.exts=o.activated_exts.query({app_slug:e.app.slug});return e.exts.$promise}).then(function(){e.custom_ext=o.custom_ext.get({app_slug:e.app.slug});return e.custom_ext.$promise}).then(function(){if(!e.custom_ext.empty){return e.exts.push(e.custom_ext)}});e.install=function(e){return m(e)};e.enter=function(t){var r;e.current_ext=t;r=angular.addURLParams(t.entrance,{open_id:e.app.id,oauth_page_uri:a.baseURL.self+"/#/oauth",locale:s.get()});return e.ext_iframe_url=n.trustAsResourceUrl(r)};f=function(t){var n,r,i;i=t.data.height;if(i){e.ext_iframe_height=i}n=t.data.close;if(n){e.ext_iframe_url=null}r=t.data.flash;if(r&&r.msg){return c(r.msg,r.is_error)}};window.addEventListener("message",f,false);e.$on("$destroy",function(){return window.removeEventListener("message",f,false)});return m=function(t){return u.show({controller:"extInstallCtrl",templateUrl:"blueprints/app/views/ext_install.tmpl.html",locals:{ext:t,app:e.app}})}}])}).call(this);(function(){angular.module("boltApp").controller("extInstallCtrl",["$scope","restApp","dialog","flash","ext","app",function(e,t,n,r,i,o){var a,l;if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}e.now=Date.now();e.ext_slots=t.ext_slots.get({app_slug:o.slug,ext_id:i.id});a=function(){var t;return function(){var n,r,i,o;i=e.ext_slots.slots;o=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.installed){o.push(t.slug)}}return o}()};l=function(){var t,n,r,i,o;r=e.ext_slots.slots;i=[];for(t=0,n=r.length;t<n;t++){o=r[t];i.push(o.installed=false)}return i};e.select=function(e){return e.installed=!e.installed};e.insert=function(){if(a().length<=0){return e.trash()}else{return e.ext_slots.$save().then(function(){r("This extension has been installed.");return n.hide(e.ext)})}};e.trash=function(){l();return e.ext_slots.$save().then(function(){r("This extension has been uninstalled.");return n.hide(e.ext)})};return e.close=function(){return n.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("appDestroyCtrl",["$scope","$location","flash","fsv","navService","g",function(e,t,n,r,i,o){i.section("settings/destroy");e.app=o.app.current;e.submitted=false;return e.destroy=function(){if(!r(e.destroy_form,"code")){return}if(e.submitted){return}e.submitted=true;return e.app.$remove().then(function(){return o.app.init()}).then(function(){n("App has been destroyed.");return t.path("/")})["finally"](function(){return e.submitted=false})}}])}).call(this);(function(){angular.module("boltApp").controller("appExtDetailCtrl",["$scope","dialog","Config","flash","ext",function(e,t,n,r,i){if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}if(!i){return}e.ext=i;e.is_custom=Boolean(i.slug==="custom");e.activate=function(){return e.ext.$activate().then(function(){r("Extension has been activated.");return t.hide(e.ext)})};e.deactivate=function(){return e.ext.$deactivate().then(function(){r("Extension has been deactivated.");return t.hide(e.ext)})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("appManageExtsCtrl",["$scope","FileService","navService","restApp","supChain","dialog","flash","g",function(e,t,n,r,i,o,a,l){var s;n.section("settings/exts");e.app=l.app.current;e.property=l.customer.property;e.now=Date.now();e.empty=false;i().then(function(){e.exts=r.ext.query({app_slug:e.app.slug});return e.exts.$promise}).then(function(){if(e.exts.length<=0){e.empty=true}e.custom_ext=r.custom_ext.get({app_slug:e.app.slug});return e.custom_ext.$promise}).then(function(){return e.custom_ext_loaded=true});e.upload_status=0;e.onFileSelect=function(n){var i,o;if(!n||n.length<=0){return}if(e.upload_status===1||e.remove_status===1){return}o=n[0];if(!o){return}e.upload_status=1;i=r.ext_upload_url(e.app.slug);return t.upload(i,o).progress(function(t){return e.percent=parseInt(100*t.loaded/t.total)}).success(function(t,n,i,o){e.upload_status=0;e.custom_ext=new r.custom_ext(t);return a("Custom extension has been uploaded.")}).error(function(){return e.upload_status=2}).abort(function(){return e.upload_status=0})};e.remove_status=0;e.removeCustom=function(){if(e.upload_status===1){return}e.remove_status=1;return e.custom_ext.$remove().then(function(){return a("Custom extension has been removed.")})["finally"](function(){return e.remove_status=0})};e.open=function(e){return s(e)};return s=function(e){return o.show({controller:"appExtDetailCtrl",templateUrl:"blueprints/app/views/settings/ext_detail.tmpl.html",locals:{ext:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("appMetasHardcodeCtrl",["$scope","dialog","fsv","meta",function(e,t,n,r){var i,o;if(typeof angular.translate==="function"){e._=angular.translate}i=r;e.meta_hardcode=JSON.stringify(r,null,2);e.$watch("meta_hardcode",function(t){var n,r;if(!t){t="{}"}try{i=JSON.parse(t);return e.hardcode_form.hardcode.$setValidity("format",true)}catch(r){n=r;return e.hardcode_form.hardcode.$setValidity("format",false)}});e.submit=function(){return o()};o=function(){if(!n(e.hardcode_form,"hardcode")){return}return t.hide(i)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("appThemeDetailCtrl",["$scope","dialog","Config","flash","theme",function(e,t,n,r,i){if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}if(!i){return}e.theme=i;e.submitted=false;e.activate=function(){e.submitted=true;e.theme.reload=i.activated&&!i.upgradeable;return e.theme.$activate().then(function(){return t.hide(e.theme)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("appThemesCtrl",["$scope","$rootScope","$filter","$route","FileService","Config","restApp","navService","dialog","flash","fsv","image","supChain","g",function(e,t,n,r,i,o,a,l,s,u,c,d,f,m){var p,h,g,v,b,y;l.section("settings/themes");y=o.theme_types;e.app=m.app.current;e.themes=[];e.current_theme="";e.config_mode=false;e.now=Date.now();e.paged=1;e.image={trans:d.trans,cover:d.trans_cover};g=function(){return f().then(function(){e.themes=a.theme.query({app_slug:e.app.slug});return e.themes.$promise}).then(function(){e.current_theme=a.current_theme.get({app_slug:e.app.slug});return e.current_theme.$promise}).then(function(){e.custom_theme=a.custom_theme.get({app_slug:e.app.slug});return e.custom_theme.$promise}).then(function(){v();return e.custom_theme_loaded=true})};g();v=function(){var t,n;e.show_current_theme=true;t=e.current_theme.options||{};e.theme_meta_options=angular.obj2jsonstr(t)||"";if(e.current_theme.payload_id===y.CUSTOM_THEME){e.custom_theme.activated=true}else{e.custom_theme.activated=false}e.current_theme.activated=true;n=e.current_theme.poster+"?"+e.now;e.current_theme.poster_src=n;if(angular.isArray(e.themes)){return angular.forEach(e.themes,function(t,n){if(t.slug===e.current_theme.slug){e.themes.splice(n,1);e.themes.unshift(t);t.activated=true;if(t.payload_id!==e.current_theme.payload_id){return t.upgradeable=true}}else{return t.activated=false}})}};e.open_current=function(t){var n,r,i,o,a;if(t.slug===e.custom_theme.slug){return b(e.custom_theme)}else{i=e.themes;o=[];for(n=0,r=i.length;n<r;n++){a=i[n];if(a.slug===t.slug){b(a);break}else{o.push(void 0)}}return o}};e.open=function(e){return b(e)};e.toggleConfig=function(){return e.config_mode=!e.config_mode};e.toggleStyle=function(){return e.style_mode=!e.style_mode};e.saveStyle=function(){var t;t=e.current_theme.styles;e.current_theme.styles=angular.cleanTags(t);return e.current_theme.$save(function(t){e.style_mode=false;v();return u("Custom styles has been updated.")})};h={};e.saveConfig=function(){if(!c(e.config_form,"theme_options")){return}if(angular.equals(h,e.current_theme.options)){e.config_mode=false;return}e.current_theme.options=h;return e.current_theme.$save(function(t){e.config_mode=false;v();return u("Theme config has been updated.")})};e.$watch("theme_meta_options",function(t){var n,r;if(!e.config_form){return}if(!t){t="{}"}try{h=JSON.parse(t);return e.config_form.theme_options.$setValidity("format",true)}catch(r){n=r;return e.config_form.theme_options.$setValidity("format",false)}});e.prepage=3;e.showMore=function(){return e.paged++};e.hasMore=function(){var t;t=n("paginator")(e.themes,e.paged,e.prepage);return t.length<e.themes.length};e.upload_status=0;e.onFileSelect=function(t){var n,r;if(!t||t.length<=0){return}if(e.upload_status===1||e.remove_status===1){return}r=t[0];if(!r){return}e.upload_status=1;n=a.theme_upload_url(e.app.slug);return i.upload(n,r).progress(function(t){return e.percent=parseInt(100*t.loaded/t.total)}).success(function(t,n,r,i){e.custom_theme=new a.custom_theme(t);if(e.current_theme.payload_id!==e.custom_theme.payload_id){e.upload_status=0}else{e.custom_theme.$activate().then(function(e){return p(e)})["finally"](function(){return e.upload_status=0})}u("Custom theme has been uploaded.")}).error(function(){return e.upload_status=2}).abort(function(){return e.upload_status=0})};e.remove_status=0;e.removeCustom=function(){if(e.upload_status===1){return}e.remove_status=1;return e.custom_theme.$remove().then(function(){g();return u("Custom theme has been removed.")})["finally"](function(){return e.remove_status=0})};p=function(t){return f().then(function(){e.current_theme=a.current_theme.get({app_slug:e.app.slug});return e.current_theme.$promise}).then(function(){return e.current_theme.$prepare()}).then(function(t){if(e.current_theme.danger){u("Theme is not secured.",true)}else{u("Theme has been activated.")}if(t.prepared){m.inited=false;console.log("Route Reloading...");return r.reload()}else{return v()}})};return b=function(e){return s.show({controller:"appThemeDetailCtrl",templateUrl:"blueprints/app/views/settings/theme_detail.tmpl.html",locals:{theme:e}}).then(function(e){return p(e)})}}])}).call(this);(function(){angular.module("boltApp").controller("appMetasCtrl",["$scope","flash","navService","restApp","dialog","mediaModal","bgModal","g",function(e,t,n,r,i,o,a,l){var s,u,c;n.section("settings/metas");e.app=l.app.current;e.meta_hardcode="";s={logo:"",favicon:"",copyright:"",license:"",keywords:"",contacts:"",analytics:"",seo:"",translates:{},socials:{}};u=function(e){var t,n,r;n=[];for(t in s){r=s[t];if(e[t]===(null||void 0)){n.push(e[t]=r)}else{n.push(void 0)}}return n};e.meta=r.meta.get({app_slug:e.app.slug},function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return u(e.meta.site_meta)});e.selectLogo=function(t){if(t){e.meta.site_meta.logo=""}else{o(e.app,false).then(function(t){return e.meta.site_meta.logo=t.src})}};e.selectIcon=function(t){if(t){e.meta.site_meta.favicon=""}else{o(e.app,false).then(function(t){return e.meta.site_meta.favicon=t.src})}};e.selectBg=function(t){if(t){e.meta.site_meta.bg={}}else{a(e.meta.site_meta.bg,e.app,"*").then(function(t){return e.meta.site_meta.bg=t})}};e.selectBanner=function(t){if(t){e.meta.site_meta.banner={}}else{a(e.meta.site_meta.banner,e.app,"*").then(function(t){return e.meta.site_meta.banner=t})}};e.openHardcode=function(){return c(e.meta.site_meta)};e.save=function(){return e.meta.$update().then(function(){e.meta_hardcode=JSON.stringify(e.meta.site_meta,null,2);return t("Your App metas have been modified.")})};return c=function(t){return i.show({controller:"appMetasHardcodeCtrl",templateUrl:"blueprints/app/views/settings/metas_hardcode.tmpl.html",locals:{meta:t}}).then(function(t){if(t){e.meta.site_meta=t;return e.save()}})}}])}).call(this);(function(){angular.module("boltApp").controller("appContentsCtrl",["$scope","Config","restApp","navService","funcGenerator","flash","g",function(e,t,n,r,i,o,a){var l,s,u,c,d,f;r.section("settings/contents");e.app=a.app.current;e.now=Date.now();e.archivable=false;e.movable=false;d=t.app_types;for(s=0,u=d.length;s<u;s++){l=d[s];if(e.app.type===l.slug){e.archivable=l.archivable;e.movable=l.movable}}e.archive=function(e){if(e.locked){return}e.archive=!e.archive;e.$archive().then(function(){if(e.archive){return o("Content has been archived.")}else{return o("Content has been unarchived.")}})};e.contents=n.content.query({app_slug:e.app.slug});e.hasSelected=function(){if(f.length<=0&&e.moveto){e.moveto=null}return f.length>0};c=function(e){var t;if(!angular.isArray(e)||e.length<=0){return}t=e.pop();if(t&&!t.locked){return t.$move().then(function(){return c(e)})}else{return o("Content has been moved.")}};e.moveto=null;e.moveFileToType=function(){var t;if(!e.moveto){return}t=[];angular.forEach(f,function(n){if(!n.deleted&&!n.locked){n.new_content_type=e.moveto;return t.push(n)}});c(t);return f.length=0};e.paged=1;f=[];i.select(e,f);i.more(e,e.contents);return i.trash(e,f,function(t){return angular.removeFromList(e.contents,t)},function(){return o("Contents has been deleted.")})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigCrm",{duration_types:[{title:"One Hour",value:3600},{title:"Six Hours",value:21600},{title:"Half Day",value:43200},{title:"One Day",value:86400},{title:"Two Days",value:172800},{title:"Three Days",value:259200},{title:"One Week",value:604800},{title:"Two Weeks",value:1209600},{title:"One Month",value:2592e3}],promo_types:[{key:0,name:"Generic"},{key:1,name:"Coupon"},{key:2,name:"Ticket"},{key:3,name:"Redeem"},{key:4,name:"Gift Card",upper:true},{key:5,name:"Loyalty Card",upper:true}],promo_sticker_mimetypes:["image/jpeg","image/png"]})}).call(this);(function(){angular.module("boltApp").factory("restCrm",["supResource","Config",function(e,t){var n;n=t.baseURL.api+"/crm";return{member:function(){return e(n+"/member/:member_id",{member_id:"@id"})}(),member_applyment:function(){return e(n+"/member/:member_id/applyment/:apply_id",{member_id:"@member_id",apply_id:"@id"})}(),doMemberResetPwd:function(t,r){return e(n+"/member/:member_id/reset_pwd").trigger({member_id:t},{passwd:r}).$promise},promo:function(){return e(n+"/promo/:promo_id",{promo_id:"@id"})}(),role:function(){return e(n+"/role/:role_id",{role_id:"@id"})}(),event:function(){return e(n+"/activity/:event_id",{event_id:"@id"})}(),applyment:function(){return e(n+"/applyment/:event_id/:apply_id",{event_id:"@activity_id",apply_id:"@id"})}(),agent:function(){return e(n+"/agent")}()}}])}).call(this);(function(){angular.module("boltApp").controller("rolesCtrl",["$scope","restCrm","flash","dialog","navService","g",function(e,t,n,r,i,o){var a,l;i.section("crm/roles");e.roles=t.role.query();e.edit=function(e){var t;t=angular.copy(e);return l(t)};e.add=function(){var e;e=new t.role;e._new=true;return l(e)};a=20;e.check_addable=function(){return e.roles.length<a};return l=function(t){return r.show({controller:"roleEditCtrl",templateUrl:"blueprints/crm/views/role_edit.tmpl.html",locals:{role:t}}).then(function(t){var n,r,i,o,a;if(!t){return}if(t._new){delete t._new;e.roles.unshift(t);return}o=e.roles;for(r=n=0,i=o.length;n<i;r=++n){a=o[r];if(a.id===t.id){if(t.deleted){e.roles.splice(r,1)}else{e.roles[r]=t}return}}})}}])}).call(this);(function(){angular.module("boltApp").controller("roleEditCtrl",["$scope","dialog","flash","fsv","role",function(e,t,n,r,i){var o,a;if(typeof angular.translate==="function"){e._=angular.translate}e.role=i;e["new"]=Boolean(i._new);e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return o()}else{return a()}};o=function(){if(!r(e.role_form,"title","slug")){return}e.submitted=true;return e.role.$save().then(function(e){n("Member Role has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};a=function(){if(!r(e.role_form,"title")){return}e.submitted=true;return e.role.$save().then(function(e){n("Member Role has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.role.deleted||e.submitted){return}e.submitted=true;return e.role.$remove().then(function(e){n("Member Role has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("promosCtrl",["$scope","restCrm","flash","dialog","funcGenerator","navService","ConfigCrm","g",function(e,t,n,r,i,o,a,l){var s;o.section("crm/promos");e.promos=t.promo.query(null,function(t){var n,r,i,o,a;o=[];for(n=0,r=t.length;n<r;n++){i=t[n];o.push(function(){var t,n,r,o;r=e.promo_types;o=[];for(t=0,n=r.length;t<n;t++){a=r[t];if(a.key===i.type){o.push(i.typename=a.name)}else{o.push(void 0)}}return o}())}return o});e.promo_types=a.promo_types;s=100;return e.check_addable=function(){return e.promos.length<s}}])}).call(this);(function(){angular.module("boltApp").controller("promoEditCtrl",["$scope","$routeParams","$location","$filter","Config","ConfigCrm","restCrm","navService","mediaModal","flash","fsv","g",function(e,t,n,r,i,o,a,l,s,u,c,d){var f,m,p,h;l.section("crm/promos");h=t.promo_id;e.user_profile=d.user.profile;e.apps=d.app.list;e.use_duration=false;e.use_amount=false;e.use_upper=false;e.submitted=false;e.promo_types=o.promo_types;e.duration_types=o.duration_types;p=function(t){var n,r;n=i.baseURL.agent+"/#/"+e.user_profile.slug;r=n+"/"+e.promo.agent_id;return r};if(h==="new"){e["new"]=true;e.promo=new a.promo({type:0,common:true})}else{e["new"]=false;e.promo=a.promo.get({promo_id:h},function(t){e.use_duration=Boolean(t.duration)||t.duration===0;e.use_amount=Boolean(t.amount)||t.amount===0;e.use_upper=Boolean(t.upper);e.agent_url=p(e.promo);return e.endtime=m(e.promo)})}m=function(e){var t;if(e.remain){return t=r("dateformat")(Date.now()+e.remain*1e3,"yyyy-MM-dd H:mm")}else{return t=null}};f=function(){if(!e.use_duration){e.promo.duration=null}if(!e.use_amount){e.promo.amount=null}if(!e.use_upper){return e.promo.upper=null}};e.show_upper=function(t){var n,r,i,o;i=e.promo_types;for(n=0,r=i.length;n<r;n++){o=i[n];if(o.key===t.type){return o.upper}}return false};e.selectSticker=function(e,t){return s(e,false,false,o.promo_sticker_mimetypes).then(function(e){return t.meta.sticker=e.src})};e.cleanSticker=function(e){return e.meta.sticker=""};e.save=function(){if(!c(e.promo_form,"slug","title")){return}e.submitted=true;f();return e.promo.$save().then(function(t){u("Promo code has been saved.");if(e["new"]){return n.path("/crm/promo/"+t.id)}})["finally"](function(){e.endtime=m(e.promo);e.agent_url=p(e.promo);return e.submitted=false})};return e.trash=function(){if(e.promo.deleted||e.submitted){return}e.submitted=true;return e.promo.$remove().then(function(e){u("Promo code has been deleted.");return n.path("/crm/promos")})["finally"](function(){return e.submitted=false})}}])}).call(this);(function(){angular.module("boltApp").controller("membersCtrl",["$scope","restCrm","navService","funcGenerator","flash","g",function(e,t,n,r,i,o){var a,l;n.section("crm/member");e.select_role="";e.current_members=null;e.now=Date.now();e.members=t.member.query();e.roles=t.role.query();a=function(){var t,n,r,i,o,a;e.current_members=[];i=e.members;o=[];for(t=0,n=i.length;t<n;t++){r=i[t];a=r.role||"";if(!e.select_role||e.select_role===a){o.push(e.current_members.unshift(r))}else{o.push(void 0)}}return o};e.members.$promise.then(function(){return a()});e.$watch("select_role",function(e){return a()});e.paged=1;l=[];r.select(e,l);return r.more(e,e.members)}])}).call(this);(function(){angular.module("boltApp").controller("memberDetailCtrl",["$scope","$routeParams","$location","dialog","restCrm","navService","flash","fsv","g",function(e,t,n,r,i,o,a,l,s){var u,c,d;o.section("crm/member");u=t.member_id;e.member=i.member.get({member_id:u});e.applyments=i.member_applyment.query({member_id:u});e.roles=i.role.query();e.modify=function(t){if(e.submitted){return}if(!l(e.member_form,"name","mobile","email")){return}e.submitted=true;return e.member.$save().then(function(){return a("Member infomation has been updated.")})["finally"](function(){return e.submitted=false})};e.reset_pwd=function(){return d().then(function(t){return i.doMemberResetPwd(e.member.id,t)}).then(function(t){e.new_passwd=t.passwd;return a("Member password has been reset.")})["finally"](function(){return e.submitted=false})};e.remove=function(){if(e.submitted){return}return e.member.$remove().then(function(){a("Membership has been canceled.");n.path("/crm/members")})["finally"](function(){return e.submitted=false})};e.open_applyment=function(t){return c(t).then(function(t){if(t.deleted){return angular.removeFromList(e.applyments,t)}})};d=function(){return r.show({controller:"memberResetPwdCtrl",templateUrl:"blueprints/crm/views/member_reset_pwd.tmpl.html"})};return c=function(e){return r.show({controller:"applyEditCtrl",templateUrl:"blueprints/crm/views/apply_edit.tmpl.html",locals:{apply:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("memberResetPwdCtrl",["$scope","dialog",function(e,t){if(typeof angular.translate==="function"){e._=angular.translate}e.passwd="";e.submit=function(){return t.hide(e.passwd)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("eventsCtrl",["$scope","$location","dialog","restCrm","navService","funcGenerator","flash","g",function(e,t,n,r,i,o,a,l){var s;i.section("crm/event");e.events=r.event.query();e.check=function(e){return t.path("/crm/applyment/"+e.id)};e.edit=function(e){var t;t=angular.copy(e);return s(t)};e.add=function(){var e;e=new r.event;e._new=true;return s(e)};return s=function(t){return n.show({controller:"eventEditCtrl",templateUrl:"blueprints/crm/views/event_edit.tmpl.html",locals:{event:t}}).then(function(t){var n,r,i,o,a;if(t){if(t._check){e.check(t);return}if(t._new){delete t._new;e.events.unshift(t);return}a=e.events;for(r=0,o=a.length;r<o;r++){n=a[r];if(n.id===t.id){i=e.events.indexOf(n);if(t.deleted){e.events.splice(i,1)}else{e.events[i]=t}return}}}})}}])}).call(this);(function(){angular.module("boltApp").controller("eventEditCtrl",["$scope","dialog","flash","fsv","event",function(e,t,n,r,i){var o,a;if(typeof angular.translate==="function"){e._=angular.translate}e.event=i;e.submitted=false;e["new"]=Boolean(i._new);e.submit=function(){if(e.submitted){return}if(e["new"]){return o()}else{return a()}};o=function(){if(!r(e.event_form,"title","slug")){return}e.submitted=true;return e.event.$save().then(function(e){n("Event has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};a=function(){if(!r(e.event_form,"title")){return}return e.event.$save().then(function(e){n("Event has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.check=function(){e.event._check=true;return t.hide(e.event)};e.trash=function(){if(i.deleted||e.submitted){return}e.submitted=true;return e.event.$remove().then(function(e){n("Event has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("applymentsCtrl",["$scope","$location","$routeParams","restCrm","navService","funcGenerator","dialog","flash","g",function(e,t,n,r,i,o,a,l,s){var u,c,d;i.section("crm/event");u=n.event_id;e.event=r.event.get({event_id:u});e.applyments=r.applyment.query({event_id:u});e.open=function(t){return d(t).then(function(t){if(t.deleted){return angular.removeFromList(e.applyments,t)}})};e.paged=1;c=[];o.select(e,c);o.more(e,e.applyments);o.trash(e,c,function(t){return angular.removeFromList(e.applyments,t)},function(){return l("Reservations have been deleted.")});return d=function(e){c.length=0;return a.show({controller:"applyEditCtrl",templateUrl:"blueprints/crm/views/apply_edit.tmpl.html",locals:{apply:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("applyEditCtrl",["$scope","dialog","flash","apply",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.apply=r;e.submitted=false;e.trash=function(){if(e.apply.deleted||e.submitted){return}e.submitted=true;return e.apply.$remove().then(function(e){n("Reservation has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("agentCtrl",["$scope","restCrm","flash","fsv","Config","navService","g",function(e,t,n,r,i,o,a){o.section("crm/agent");e.submitted=false;e.agent=new t.agent.get;e.agent_url=i.baseURL.agent;return e.modify=function(){if(!r(e.agent_form,"pin")){return}if(e.submitted){return}e.submitted=true;return e.agent.$save().then(function(){n("Agent settings has be updated.")})["finally"](function(){return e.submitted=false})}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="crm";r={global:t.resolve};return e.when("/"+n+"/members",{templateUrl:"blueprints/"+n+"/views/members.html",controller:"membersCtrl",resolve:r}).when("/"+n+"/member/:member_id",{templateUrl:"blueprints/"+n+"/views/member_detail.html",controller:"memberDetailCtrl",resolve:r}).when("/"+n+"/roles",{templateUrl:"blueprints/"+n+"/views/roles.html",controller:"rolesCtrl",resolve:r}).when("/"+n+"/promos",{templateUrl:"blueprints/"+n+"/views/promos.html",controller:"promosCtrl",resolve:r}).when("/"+n+"/promo/:promo_id",{templateUrl:"blueprints/"+n+"/views/promo_edit.html",controller:"promoEditCtrl",resolve:r}).when("/"+n+"/events",{templateUrl:"blueprints/"+n+"/views/events.html",controller:"eventsCtrl",resolve:r}).when("/"+n+"/applyment/:event_id",{templateUrl:"blueprints/"+n+"/views/applyments.html",
controller:"applymentsCtrl",resolve:r}).when("/"+n+"/agent",{templateUrl:"blueprints/"+n+"/views/agent.html",controller:"agentCtrl",resolve:r})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigEditor",{allow_query:["ws"],default_form_fields:[{key:"title",name:{en:"Title",zh:"标题"},type:"input",max:120},{key:"subtitle",name:{en:"Subtitle",zh:"副标题"},type:"input",max:200},{key:"description",name:{en:"Description",zh:"描述"},type:"textarea",max:360},{key:"content",name:{en:"Content",zh:"正文内容"},type:"content"},{key:"background",name:{en:"Background",zh:"背景"},type:"bg"},{key:"attachments",name:{en:"Attachments",zh:"附件"},type:"gallery",allow_types:"image,video,audio,application"}]})}).call(this);(function(){angular.module("boltApp").factory("restEditor",["supResource","Config",function(e,t){var n;n=""+t.baseURL.api;return{content:function(){return e(n+"/:app_type/:app_slug/"+"content_file/:type_slug/:file_id",{app_type:"@app_type",app_slug:"@app_slug",type_slug:"@content_type",file_id:"@id"})}(),taxonomy:function(){return e(n+"/ws/:app_slug/taxonomy/:tax_id",{app_slug:"@app_slug",tax_id:"@id"})}(),doGetEditorTpl:function(t,r){return e(n+"/app/:app_slug/editor/tpl/:tpl_slug").get({app_slug:t,tpl_slug:r}).$promise},doGetEditorContext:function(t){return e(n+"/app/:app_slug/editor/context").get({app_slug:t}).$promise},doGetEditorAnalytics:function(t,r){return e(n+"/app/:app_id/visit/:file_id").get({app_id:t,file_id:r}).$promise},doGetPresets:function(t){return e(n+"/app/:app_slug/editor/presets").query({app_slug:t}).$promise},doContentQueryEditor:function(t,r){return e(n+"/app/:app_slug/editor/query").post({app_slug:t},r).$promise}}}])}).call(this);(function(){angular.module("boltApp").provider("editorResolve",function(){return{resolve:["g","$route","$location","supChain","restEditor",function(e,t,n,r,i){var o,a,l,s,u;u=t.current.params;o=u.app_slug;a=u.type;l=u.id;s=function(){return n.path("/404")};if(!o){s();return}return r().then(function(){if(!e.inited){return e.init().then(function(){return e.setCurrentApp(o)})}else{return e.setCurrentApp(o)}}).then(function(){var t;t=e.app.current;if(!t){s();return}if(t.type&&t.slug&&a&&l){return i.content.get({app_type:t.type,app_slug:t.slug,type_slug:a,file_id:l}).$promise.then(function(t){return e.current_file=t})["catch"](function(){return e.current_file=null})}})}],$get:function(){}}})}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("editorStationCtrl",["$scope","$routeParams","$route","$rootScope","$location","$filter","$mdMedia","$mdSidenav","$mdBottomSheet","Config","ConfigEditor","restEditor","supChain","mediaModal","bgModal","scriptModal","galleryModal","sourceModal","linkModal","buttonModal","collectModal","notesModal","presetModal","confirm","flash","fsv","g",function(t,n,r,i,o,a,l,s,u,c,d,f,m,p,h,g,v,b,y,_,w,$,E,A,C,M,k){var x,T,S,N,D,H,R,I,P,O,U,L,F,j,B,z,q,W,G,V;t.g=k;t.app=k.app.current;t.is_mobile=Boolean(c.browser.mobile);t.content_types=t.app.content_types;H=n.type;t.forms={};t.showCanvas=true;t.showForm=false;t.allow_markdown=Boolean(window.toMarkdown);t.editor_filed_elements=[];z=["template","tags","date","date_formatted","author","parent","redirect"];D=false;R=null;t.allowContentQuery=(j=t.app.type,e.call(d.allow_query,j)>=0);if(!i.backlist){i.backlist=[]}t.restEditor=f;t.file=k.current_file;if(!t.file.meta.template){t.file.meta.template=H}t.config={};f.doGetEditorAnalytics(t.app.id,t.file.id).then(function(e){return t.config.sa=e});f.doGetPresets(t.app.slug).then(function(e){return t.presets=e});f.doGetEditorContext(t.app.slug).then(function(n){var r,i,o,a,l,s,u,c,f,m,p,h;D=true;t.config.site_meta=n.site_meta||{};t.config.theme_meta=n.theme_meta||{};if(!t.config.theme_meta.options){t.config.theme_meta.options={}}t.config.base_url=n.base_url;t.config.theme_url=n.theme_url;t.config.libs_url=n.libs_url;t.config.lang=n.lang;t.config.locale=n.locale;t.config.translates=n.translates;t.config.socials=n.socials;t.config.menu=n.menu||{};t.config.slot=n.slot||{};t.hide_properties=t.config.theme_meta.hide_properties||[];s=t.config.theme_meta.options;t.config.taxonomy=n.taxonomy;t.taxonomies={};u=n.taxonomy;for(l in u){h=u[l];if(e.call(h.content_types,H)>=0){t.taxonomies[l]=h}}t.templates=[];c=t.config.theme_meta.templates;for(p in c){m=c[p];f={name:m,slug:p};t.templates.push(f)}if(window.toMarkdown){t.useMarkdown=t.config.useMarkdown=Boolean(s.markdown);if(t.useMarkdown&&!t.file.markdown){t.file.markdown=toMarkdown(t.file.content)}}R=s.date_format||null;P(t.file.meta.date,R);o=t.config.theme_meta.editor_fields||{};a=Boolean(t.config.theme_meta.form_mode);if(s.__form_mode!==void 0){a=Boolean(s.__form_mode)}if(a){t.showForm=true;t.showCanvas=false}if(t.showForm){i=d.default_form_fields||[];r=function(n){var r,a,l,s,u,c,d;if(!t.showForm){return}t.editor_filed_elements=[];r=o[n]||i;l=false;d=[];for(s=0,u=r.length;s<u;s++){a=r[s];if(c=a.key,e.call(z,c)>=0){continue}d.push(t.editor_filed_elements.push(a))}return d};return t.$watch("file.meta.template",function(e){return r(e)})}});L=function(){if(!t.file.meta.author){t.getAuthor()}if(!t.file.meta.date){t.getToday()}t.file.meta.url=t.file.url;t.file.meta.priority=t.file.priority;t.file.meta.parent=t.file.parent;t.file.meta.type=t.file.content_type;t.file.meta.status=t.file.status;t.file.meta.updated=t.file.updated;t.file.meta.created=t.file.created;if(!angular.isObject(t.file.meta.taxonomy)){t.file.meta.taxonomy={}}P(t.file.meta.date,R);return t.now=Date.now()};t.tags=angular.list2str(t.file.meta.tags);t.$watch("tags",function(e){return t.file.meta.tags=angular.str2list(t.tags,true)});if(t.file.meta.date){t.date=angular.str2date(t.file.meta.date)}t.$watch("date",function(e){var n;n=angular.date2str(e);if(n){t.file.meta.date=n;return P(t.file.meta.date,R)}});P=function(e,n){var r,i,o,l,s,u;if(t.file.deleted){return}if(n&&e){s=c.date_formats;for(i=0,l=s.length;i<l;i++){r=s[i];for(o in r){u=r[o];n=n.replace(o,u)}}return t.file.meta.date_formatted=a("date")(e,n)}else{return t.file.meta.date_formatted=t.file.meta.date||""}};U=function(){var e;if(i.backlist.length>0){e=i.backlist.pop()}else{delete i.backlist;o.search("device",null);e="/"+t.app.type+"/"+t.app.slug+("/content/"+H)}return o.path(e)};t.getToday=function(){return t.date=new Date};t.getAuthor=function(){var e;if(k.user.profile.meta){e=k.user.profile.meta.display_name}else{e=k.user.profile.slug}return t.file.meta.author=e};t.toolbar_open=false;t.property_adv=false;t.isPropertyLockedOpen=function(){return l("gt-md")&&t.showForm};t.isPropertyOpen=function(){var e,n;n=s("editor_property").isOpen();e=t.isPropertyLockedOpen();if(n&&e){s("editor_property").close()}return n};t.toggleProperty=function(){s("editor_property").toggle()};t.closeProperty=function(){s("editor_property").close()};t.toggleAdvProperty=function(){return t.property_adv=!t.property_adv};t.selectFeaturedImg=function(e){if(e){t.file.meta.featured_img={}}else{p(t.app,true,true).then(function(e){return t.file.meta.featured_img=e})}};t.selectMedia=function(e,n,r){if(r){t.file.meta[e]={}}else{p(t.app,true,true,n).then(function(n){return t.file.meta[e]=n})}};t.selectBg=function(e,n,r){if(r){t.file.meta[e]={}}else{h(t.file.meta[e],t.app,n).then(function(n){return t.file.meta[e]=n})}};t.selectGallery=function(e,n,r){if(r){t.file.meta[e]=[]}else{v(t.file.meta[e],t.app,n).then(function(n){return t.file.meta[e]=n})}};t.selectScript=function(e,n){if(n){t.file.meta[e]={}}else{g(t.file.meta[e]).then(function(n){return t.file.meta[e]=n})}};t.selectButton=function(e,n){if(n){t.file.meta[e]=[]}else{_(t.file.meta[e]).then(function(n){return t.file.meta[e]=n})}};t.selectCollect=function(e,n,r){if(r){t.file.meta[e]=[]}else{w(t.file.meta[e],n).then(function(n){return t.file.meta[e]=n})}};t.selectNotes=function(e,n,r){if(r){t.file.meta[e]=[]}else{$(t.file.meta[e],n).then(function(n){return t.file.meta[e]=n})}};t.back=function(){return U()};t.save=function(){var e,n,r,i,o;if(t.showForm){o=t.editor_filed_elements;for(r=0,i=o.length;r<i;r++){n=o[r];if(n.field&&!M(t.forms.editor_form,n.field)){C("Content fields is invalid.",true);return}}}if(!M(t.property_form,"title","description","date","author","priority","parent","redirect")){C("Property fields is invalid.",true);return}t.closeProperty();e=angular.cleanSpace(t.file.content);t.file.content=angular.cleanNgAttr(e);if(!t.file.meta.template){t.file.meta.template=H}if(!t.useMarkdown){t.file.markdown=null}t.file.$save().then(function(e){L();return C("Content has been saved.")})};t.themeSupport=function(n){var r,i;if(!D){return false}if(t.showCanvas){return e.call(t.hide_properties,n)<0}else{i=function(){var e,n,i,o;i=t.editor_filed_elements;o=[];for(e=0,n=i.length;e<n;e++){r=i[e];o.push(r.key)}return o}();return e.call(t.hide_properties,n)<0&&e.call(i,n)<0}};t.toggleStatus=function(){return t.file.status=t.file.status===0?1:0};t.toggleMarkdown=function(){if(!window.toMarkdown){return}t.useMarkdown=t.config.useMarkdown=!t.useMarkdown;if(t.useMarkdown){return t.file.markdown=toMarkdown(t.file.content)}};t.trash=function(){if(t.file.locked){U();return}if(A("Do you really want to delete this content?")){return t.file.$remove().then(function(){C("Content has been deleted.");return U()})}};t.open=function(e){var n;i.backlist.push(o.url());n="/editor/"+t.app.type+"/"+t.app.slug+"/"+(e.type+"/"+e.id);if(A("Make sure your content has been saved. "+"Unsaved content will lost after this redirect. "+"Confirm it to continue the redirection.")){o.path(n);return t.$apply()}};t.device=void 0;t.hasDeviceSwitcher=function(){if(!t.showCanvas||t.is_mobile||t.useMarkdown){return false}else{return true}};t.selectDevice=function(e){if(e&&t.is_mobile){e="desktop"}return t.device=e};t.currentDevice=function(e){if(!e&&!t.showCanvas){return true}else{return t.device===e&&t.showCanvas}};if((B=n.device)==="phone"||B==="tablet"){F=n.device}else{F="desktop"}t.selectDevice(F);V=function(e){};document.addEventListener("wheel",V);i.station=t;T=null;t.setCanvas=function(e){return T=e};t.render=function(){return t.$apply()};t.blurCanvas=function(){return G(false)};t.focusCanvas=function(){return i.$emit("canvas.focus")};O=function(e){if(typeof e!=="string"){return e}if(angular.isUrl(e)){return e}else{return t.app.base_url+"/"+e.replace(/^\//,"")}};I=function(e){var t;t=document.querySelector(e);if(t){t=angular.element(t)}else{t=angular.element(document.body)}return t};t.media_property_open=false;W=function(e){var n,r,i;if(t.media_property_open){u.cancel();return}t.media_property_open=true;r="blueprints/editor/views/";if(e.type==="video"){i=r+"media_property_sheet_video.tmpl.html";n="mediaPropertyVideoSheetCtrl"}else if(e.type==="audio"){i=r+"media_property_sheet_audio.tmpl.html";n="mediaPropertyAudioSheetCtrl"}else{i=r+"media_property_sheet_image.tmpl.html";n="mediaPropertyImageSheetCtrl"}return u.show({templateUrl:i,controller:n,parent:I("#media-property-sheet"),locals:{media:angular.copy(e),app:t.app}}).then(function(t){e.deleted=t.deleted;e.type=t.type;e.src=t.src;e.title=t.title;e.link=t.link;e.target=t.target;e.autoplay=t.autoplay;e.loop=t.loop;e.poster=t.poster;e.controls=t.controls;return e["class"]=t["class"]})["finally"](function(){return t.media_property_open=false})};t.link_property_open=false;q=function(e){if(t.link_property_open){u.cancel();return}t.link_property_open=true;return u.show({templateUrl:"blueprints/editor/views/link_property_sheet.tmpl.html",controller:"linkPropertySheetCtrl",parent:I("#link-property-sheet"),locals:{link:angular.copy(e)}}).then(function(t){e.deleted=t.deleted;e.href=t.href;e.target=t.target;return e["class"]=t["class"]})["finally"](function(){return t.link_property_open=false})};N=[];x=function(e,t){var n;n=i.$on(e,t);return N.push(n)};S=function(){var e,t,n,r;r=[];for(t=0,n=N.length;t<n;t++){e=N[t];r.push(e())}return r};x("widget.update_script",function(e,t){g(t.data).then(function(e){return t.update(e)});return G(false)});x("widget.update_gallery",function(e,n){v(n.data,t.app,n.allow_types).then(function(e){return n.update(e)});return G(false)});x("widget.update_media",function(e,n){p(t.app,true,true,n.allow_types).then(function(e){return n.update(e)});return G(false)});x("widget.update_bg",function(e,n){h(n.data,t.app,n.allow_types).then(function(e){return n.update(e)});return G(false)});x("widget.update_meta",function(e,t){return G(false)});x("widget.update_button",function(e,t){_(t.data).then(function(e){return t.update(e)});return G(false)});x("widget.update_collect",function(e,t){w(t.data,t.limit).then(function(e){return t.update(e)});return G(false)});x("widget.update_notes",function(e,t){$(t.data,t.limit).then(function(e){return t.update(e)});return G(false)});x("editor.focus",function(){return G(true)});x("editor.blur",function(){return G(false)});x("editor.insert_link",function(e,t){y().then(function(e){e.href=O(e.href);return t.insertLink(e)});return G(false)});x("editor.edit_link",function(e,t,n){G(false);return q(n).then(function(){if(n.deleted){t.removeLink();return C("Link has been removed.")}else{n.href=O(n.href);t.replaceLink(n);return C("Link has been updated.")}})});x("editor.edit_media",function(e,t,n){G(false);return W(n).then(function(){if(n.deleted){t.removeMedia(n);return C("Media has been removed.")}else{n.href=O(n.link);t.replaceMedia(n);return C("Media has been updated. "+"It might take a while to refresh automatically.")}})});x("editor.insert_media",function(e,n){p(t.app,true,true,"*").then(function(e){e.href=O(e.link);return n.insertMedia(e)});return G(false)});x("editor.insert_preset",function(e,n,r){if(!t.presets){console.error("Presets or Config not loaded!");return}E(t.presets,r).then(function(e){return n.insertPreset(e)});return G(false)});x("editor.insert_script",function(e,t){g({},false).then(function(e){return t.insertScript(e.code)});return G(false)});x("editor.html.open",function(){b(t.file.content).then(function(e){return t.file.content=e});return G(false)});G=function(e){if(e){return t.toolbar_open=true}else{return t.toolbar_open=false}};t.$on("$destroy",function(){var e,t;document.removeEventListener("wheel",V);delete i.station;if(T){try{T.destory()}catch(t){e=t;console.error("Error: Canvas not exist.",e)}}return S()});return L()}])}).call(this);(function(){angular.module("boltApp").controller("mediaPropertyImageSheetCtrl",["$scope","$mdBottomSheet","mediaModal","fsv","media","app",function(e,t,n,r,i,o){if(typeof angular.translate==="function"){e._=angular.translate}e.media=i;e.now=Date.now();if(i.target==="_blank"){e.blank=true}e.selectImg=function(){return n(o,false,false).then(function(t){e.media.src=t.src;return e.media.thumbnail=t.thumbnail})};e.save=function(){if(!r(e.media_property_form,"title","class")){return}if(e.blank){e.media.target="_blank"}else{e.media.target=""}return t.hide(e.media)};e.trash=function(){e.media.deleted=true;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("mediaPropertyVideoSheetCtrl",["$scope","$mdBottomSheet","restMedia","mediaModal","media","app",function(e,t,n,r,i,o){if(typeof angular.translate==="function"){e._=angular.translate}e.media=i;e.now=Date.now();n.media.query({app_slug:o.slug},function(t){return e.posters=function(){var e,n,r;r=[];for(e=0,n=t.length;e<n;e++){i=t[e];if(i.type==="image"){r.push(i)}}return r}()});if(e.media.autoplay||e.media.loop){e.auto=true}e.selectVideo=function(){return r(o,false,false,"video").then(function(t){return e.media.src=t.src})};e.save=function(){e.media.autoplay=e.auto;e.media.loop=e.auto;return t.hide(e.media)};e.trash=function(){e.media.deleted=true;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("mediaPropertyAudioSheetCtrl",["$scope","$mdBottomSheet","mediaModal","media","app",function(e,t,n,r,i){if(typeof angular.translate==="function"){e._=angular.translate}e.media=r;if(e.media.autoplay||e.media.loop){e.auto=true}e.selectAudio=function(){return n(i,false,false,"audio").then(function(t){return e.media.src=t.src})};e.save=function(){e.media.autoplay=e.auto;e.media.loop=e.auto;return t.hide(e.media)};e.trash=function(){e.media.deleted=true;return t.hide(e.media)};return e.close=function(){return t.cancel()}}]).controller("linkPropertySheetCtrl",["$scope","$mdBottomSheet","fsv","link",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e.link=r;e.blank=r.target==="_blank"?true:false;e.save=function(){if(!n(e.link_property_form,"link","class")){return}if(e.blank){e.link.target="_blank"}else{e.link.target=""}return t.hide(e.link)};e.trash=function(){e.link.deleted=true;return t.hide(e.link)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","editorResolveProvider",function(e,t){var n,r;n="editor";r={editor:t.resolve};return e.when("/"+n+"/:app_type/:app_slug/:type/:id",{templateUrl:"blueprints/"+n+"/views/station.html",controller:"editorStationCtrl",resolve:r})}])}).call(this);(function(){angular.module("boltApp").controller("portalCtrl",["$scope","$location","Config","restApp","navService","g",function(e,t,n,r,i,o){i.section("portal");e.property=o.customer.property;e.apps=angular.copy(o.app.list)||[];e.now=Date.now();if(e.property){e.app_slots=e.property.plan.app_slots}else{e.app_slots=3}e.addAble=function(){return e.apps.length<e.app_slots};e.create=function(){return t.path("create_app")};e.enter=function(e){return t.path(e.type+"/"+e.slug+"/")};return e.getAppIcon=function(e){var t,r,i,o;o=n.app_types;for(r=0,i=o.length;r<i;r++){t=o[r];if(t.slug===e){return t.ico}}return""}}])}).call(this);(function(){angular.module("boltApp").controller("createAppCtrl",["$scope","$location","restApp","Config","supLocales","navService","fsv","flash","g",function(e,t,n,r,i,o,a,l,s){var u,c;o.section("apps/create");e.app_types=r.app_types;e.reached_max=false;e.submitted=false;e.property=s.customer.property;if(e.property){c=e.property.plan.app_slots}else{c=3}u=s.app.list;if(u.length>=c){e.reached_max=true;l("The number of your apps has reached the limit.",true)}e.app={slug:"",type:"",title:"",locale:i.get()||r.default_locale,description:""};e.create=function(){if(e.submitted){return}if(e.reached_max){return}if(!a(e.app_form,"type","slug","title")){return}e.submitted=true;e.app.slug=e.app.slug.toLowerCase();return n.doCreateApp(e.app).then(function(e){return s.app.init()}).then(function(){return t.path(e.app.type+"/"+e.app.slug)})["finally"](function(){return e.submitted=false})};return e.cancel=function(){return t.path("/")}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="portal";r={global:t.resolve};return e.when("/",{templateUrl:"blueprints/"+n+"/views/portal.html",controller:"portalCtrl",resolve:r}).when("/create_app",{templateUrl:"blueprints/"+n+"/views/create_app.html",controller:"createAppCtrl",resolve:r})}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("storeCtrl",["$scope","$location","$routeParams","dialog","restStore","navService","funcGenerator","g",function(t,n,r,i,o,a,l,s){var u,c,d,f,m,p,h;a.section("addons/store");t.customer=s.customer;t.selected_capability="";t.selected_type="";t.search_key="";t.exts_count=0;t.themes_count=0;c=false;m=[];t.goods=[];t.paged=1;t.now=Date.now();d=function(e){if(!e){e=""}return o.goods.query({key:e},function(e){m=e;c=true;t.paged=1;u();return f()})};h=function(n){var r,i,o;i=t.selected_type;r=t.selected_capability;o=true;if(i&&n.type!==i){o=false}if(r&&e.call(n.capabilities,r)<0){o=false}return o};u=function(){var e,n,r,i,o,a;t.exts_count=0;t.themes_count=0;for(n=0,o=m.length;n<o;n++){e=m[n];if(e.type==="extension"){t.exts_count++}else if(e.type==="theme"){t.themes_count++}}if(!c){return}t.goods=[];for(i=0,a=m.length;i<a;i++){r=m[i];if(!h(r)){continue}t.goods.push(r)}};d();t.search=function(){return d(t.search_key)};t.$watch("selected_type",function(e){return u()});t.$watch("selected_capability",function(e){return u()});t.checkEmpty=function(){if(!c){return}if(t.goods.length>0){return false}return true};t.open=function(e){return p(e)};t.paged=1;l.more(t,t.goods);f=function(){var e,n,i,o;if(!r.item){return false}o=t.goods;for(e=0,i=o.length;e<i;e++){n=o[e];if(n.id===r.item){p(n);return true}}return false};return p=function(e){return i.show({controller:"storeDetailCtrl",templateUrl:"blueprints/store/views/detail.tmpl.html",locals:{item:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("purchasedCtrl",["$scope","$location","$routeParams","restStore","dialog","navService","funcGenerator","g",function(e,t,n,r,i,o,a,l){var s,u,c,d;o.section("addons/purchased");e.customer=l.customer;e.exts_count=0;e.themes_count=0;e.empty=false;e.goods=[];e.now=Date.now();u=function(t){if(!t){t=""}return r.doGetCustomerPurchased().then(function(t){e.goods=t;s();return c()})};s=function(){var t,n,r,i,o;if(e.goods.lenght===0){e.empty=true}i=e.goods;o=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.type==="extension"){o.push(e.exts_count++)}else if(t.type==="theme"){o.push(e.themes_count++)}else{o.push(void 0)}}return o};u();e.open=function(e){return d(e)};e.paged=1;a.more(e,e.goods);c=function(){var t,r,i,o;if(!n.item){return false}o=e.goods;for(t=0,i=o.length;t<i;t++){r=o[t];if(r.slug===n.item){d(r)}}return true};return d=function(e){return i.show({controller:"storeDetailCtrl",templateUrl:"blueprints/store/views/detail.tmpl.html",locals:{item:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("storeDetailCtrl",["$scope","dialog","Config","flash","prompt","g","item",function(e,t,n,r,i,o,a){var l,s,u,c,d,f,m,p;if(typeof angular.translate==="function"){e._=angular.translate;e._t=angular.self_translate}e.item=a;e.customer=o.customer;e.capabilities=[];m=n.app_types;for(u=0,d=m.length;u<d;u++){l=m[u];p=e.item.capabilities;for(c=0,f=p.length;c<f;c++){s=p[c];if(l.slug===s){e.capabilities.push(l.name)}}}e.buy=function(){return e.item.$buy().then(function(){o.customer.init();r("This item has been purchased.");return t.hide(e.item)})};e.copy=function(){var t,r;t="Please use the native replication function "+"to copy the content in the textbox.";r=n.baseURL.self+"#/store?item="+e.item.id;return i(t,r)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="store";r={global:t.resolve};return e.when("/"+n,{templateUrl:"blueprints/"+n+"/views/store.html",controller:"storeCtrl",resolve:r}).when("/"+n+"/purchased",{templateUrl:"blueprints/"+n+"/views/purchased.html",controller:"purchasedCtrl",resolve:r})}])}).call(this);(function(){angular.module("boltApp").controller("userOAuthCtrl",["$routeParams","$scope","restUser",function(e,t,n){var r,i,o,a;i={state:e.state,response_type:e.response_type,redirect_uri:e.redirect_uri,app_key:e.app_key,open_id:e.open_id};o=i.redirect_uri;if(o&&o.indexOf("?")>-1){r="&"}else{r="?"}a=function(e){var t,n;for(t in e){n=e[t];if(!n){console.error("request data invaild:",t,n);return false}}return true};t.getOAuth=function(){t.oauth_error=false;if(!a(i)){t.oauth_error=true;return}return n.doOAuth(i).then(function(e){var t;t=e.redirect_uri+r;t+="code="+e.code;t+="&state="+e.state;return window.location.href=t})["catch"](function(e){return t.oauth_error=true})};return t.getOAuth()}])}).call(this);(function(){angular.module("boltApp").controller("userRegisterCtrl",["$routeParams","$scope","$location","Config","supLocales","restUser","restApp","tokenPusher","Auth","fsv",function(e,t,n,r,i,o,a,l,s,u){var c,d;t.newbie={email_policy:{locale:i.get()||r.default_locale}};t.newbie.login=e.email||"";t.newbie.code=e.code||"";t.step=0;t.submitted=false;t.getTermsURL=function(){var e;e=i.get()||r.default_locale;e=e.toLowerCase();return r.baseURL.docs+"/terms_"+e};t.checkAccept=function(){return t.acceptbox=t.accept?true:""};t.captcha=function(){if(!u(t.captcha_form,"login","accept")||t.submitted){return}return o.doRegisterCaptcha(t.newbie).then(function(e){if(r.debug){console.log(e)}return t.step=1})};t.register=function(){if(t.submitted){return}if(!u(t.register_form,"captcha","slug","passwd","passwd2")){return}t.submitted=true;return o.doRegister(t.newbie).then(function(e){s.login(e.token);return l(e.token)}).then(function(){return a.doCreateApp(c())}).then(function(){return a.doCreateApp(d())}).then(function(){return t.step=2})["finally"](function(){return t.submitted=false})};c=function(){var e,t,n;n="My Website";t="This is a sample Website. You can "+"experience how to manage contents, upload media, change themes, "+"and many many more features.";n=angular.translate(n);t=angular.translate(t);e={slug:"website",type:"ws",title:n,locale:i.get()||r.default_locale,description:t};return e};return d=function(){var e,t,n;n="My WeChat Buzz";t="This is a sample WeChat Buzz. You can "+"experience how to manage articles, auto response, broadcasting, "+"bind with website, and many many more features.";n=angular.translate(n);t=angular.translate(t);e={slug:"wechat",type:"wx",title:n,locale:i.get()||r.default_locale,description:t};return e}}])}).call(this);(function(){angular.module("boltApp").controller("userRecoveryCtrl",["$rootScope","$scope","$location","restUser","supLocales","Config","fsv",function(e,t,n,r,i,o,a){t.step=0;t.submitted=false;t.user={email_policy:{locale:i.get()||o.default_locale}};t.captcha=function(){if(!a(t.captcha_form,"login")||t.submitted){return}return r.doRecoveryCaptcha(t.user).then(function(e){if(o.debug){console.log(e)}return t.step=1})["finally"](function(){return t.submitted=false})};return t.recovery=function(){if(t.submitted){return}if(!a(t.recovery_form,"captcha","passwd","passwd2")){return}t.submitted=true;return r.doRecovery(t.user).then(function(){return t.step=2})["finally"](function(){return t.submitted=false})}}])}).call(this);(function(){angular.module("boltApp").controller("userLoginCtrl",["$scope","$location","$routeParams","restUser","tokenPusher","Auth","Config","fsv",function(e,t,n,r,i,o,a,l){var s,u;s=Boolean(n.app_key);e.copyright=a.copyright;u=s?"/oauth":"/";return e.submit=function(){if(!l(e.login_form,"login","passwd")){return}return r.doLogin(e.login).then(function(e){o.login(e.token);i(e.token);return t.path(u)})}}])}).call(this);(function(){angular.module("boltApp").controller("userLogoutCtrl",["$scope","$location","navService","tokenPusher","restUser","Auth","g",function(e,t,n,r,i,o,a){return i.doLogout()["finally"](function(){n.clear();a.clear();o.logout();r(null);return t.path("/login")})}])}).call(this);(function(){angular.module("boltApp").controller("userProfileCtrl",["$scope","navService","Config","flash","fsv","g",function(e,t,n,r,i,o){t.section("account/profile");e.user=o.user;e.property=o.customer.property;e.profile=o.user.profile;if(!e.profile.meta){e.profile.meta={}}return e.saveProfile=function(){if(!i(e.profile_form,"display_name","email")){return}return e.profile.$save(function(e){return r("Your profile has been updated.")})}}])}).call(this);(function(){angular.module("boltApp").controller("userSecurityCtrl",["$scope","restUser","navService","tokenPusher","Auth","flash","fsv",function(e,t,n,r,i,o,a){n.section("account/security");e.pwd={};e.sercet=t.secret.get();e.savePwd=function(){if(!a(e.pwd_form,"old_passwd","passwd","passwd2")){return}return t.doChangePwd(e.pwd).then(function(e){i.login(e.token);r(e.token);return o("Your Password has been updated.")})};return e.resetSecretKey=function(){return e.sercet.$save().then(function(e){return o("Your Secret Key has been reset.")})}}])}).call(this);(function(){angular.module("boltApp").controller("userInviteCtrl",["$scope","$rootScope","restUser","flash","navService","supChain","Config","prompt",function(e,t,n,r,i,o,a,l){var s,u;i.section("account/invite");o().then(function(){return n.doGetInviteLimit().then(function(t){return e.codes_limit=t.limit})}).then(function(){return e.invites=n.invite.query(function(){e.invites_loaded=true;return u()})});u=function(){return e.codes_remained=e.codes_limit-e.invites.length};e.generate=function(){if(e.invites.length<e.codes_limit){return n.invite.create(function(t){e.invites.unshift(t);return u()})}};s="Please use the native replication function "+"to copy the content in the textbox.";e.copyURL=function(e){var t;t=a.baseURL.self+"/#/register?code="+e;return l(s,t)};return e.copyCode=function(e){return l(s,e)}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","gResolveProvider",function(e,t){var n,r;n="user";r={global:t.resolve};return e.when("/oauth",{templateUrl:"blueprints/"+n+"/views/oauth.html",controller:"userOAuthCtrl"}).when("/register",{templateUrl:"blueprints/"+n+"/views/register.html",controller:"userRegisterCtrl"}).when("/recovery",{templateUrl:"blueprints/"+n+"/views/recovery.html",controller:"userRecoveryCtrl"}).when("/login",{templateUrl:"blueprints/"+n+"/views/login.html",controller:"userLoginCtrl"}).when("/"+n+"/profile",{templateUrl:"blueprints/"+n+"/views/profile.html",controller:"userProfileCtrl",resolve:r}).when("/"+n+"/security",{templateUrl:"blueprints/"+n+"/views/security.html",controller:"userSecurityCtrl",resolve:r}).when("/"+n+"/invite",{templateUrl:"blueprints/"+n+"/views/invite.html",controller:"userInviteCtrl",resolve:r}).when("/logout",{template:"",controller:"userLogoutCtrl"})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigWa",{app_type:"wa",static_type:{slug:"scene",title:"Scenes"},max_menus:[24,36]})}).call(this);(function(){angular.module("boltApp").factory("restWa",["supResource","Config","ConfigWa",function(e,t,n){var r;r=t.baseURL.api+"/"+n.app_type;return{content:function(){return e(r+"/:app_slug/content_file/:type_slug/:file_id",{app_slug:"@app_slug",type_slug:"@content_type",file_id:"@id"})}()}}])}).call(this);(function(){angular.module("boltApp").provider("waResolve",function(){return{resolve:["$route","navWa","restWa","supChain","g",function(e,t,n,r,i){var o;o=e.current.params.app_slug;if(!i.inited){return i.init().then(function(){i.setCurrentApp(o);return t.load(i.app.current)})}else{i.setCurrentApp(o);return t.load(i.app.current)}}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").factory("navWa",["navService","ConfigWa",function(e,t){var n,r,i;i=[{name:"Web App"},{key:"portal",name:"Return",path:"/",ico:"nav:ic_arrow_back_24px","class":"md-accent"},{key:"dashboard",name:"Dashboard",path:"$/",ico:"action:ic_dashboard_24px"},{key:"scenes",name:"Scenes",path:"$/content/scene",ico:"action:ic_description_24px"},{key:"media",name:"Media library",path:"$/media",ico:"image:ic_photo_library_24px"},{key:"exts",name:"Extensions",path:"$/extensions",ico:"action:ic_extension_24px"},{key:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{key:"options",name:"Options",path:"$/settings"},{key:"metas",name:"Metas",path:"$/settings/metas"},{key:"themes",name:"Themes",path:"$/settings/themes"},{key:"exts",name:"Extensions",path:"$/settings/exts"},{key:"destroy",name:"Destroy",path:"$/settings/destroy","class":"md-warn"}]}];n="hardware:ic_smartphone_24px";r=function(e,n){e=e.replace("$",t.app_type+"/"+n);return e};this.load=function(t){var o,a,l,s,u,c,d,f;if(!t){return}if(n){t.icon=n}c=angular.copy(i);for(o=0,l=c.length;o<l;o++){u=c[o];if(u.path&&u.path.indexOf("$")===0){u.path=r(u.path,t.slug)}if(u.nodes){f=u.nodes;for(a=0,s=f.length;a<s;a++){d=f[a];if(d.path&&d.path.indexOf("$")===0){d.path=r(d.path,t.slug)}}}}return e.load(c,t.title,t.icon,t)};return this}])}).call(this);(function(){angular.module("boltApp").controller("waDashboardCtrl",["$scope","navService","restApp","g",function(e,t,n,r){t.section("dashboard");e.app=r.app.current;return n.doGetAnalytics(e.app.id).then(function(t){return e.analytic_data=t})}])}).call(this);(function(){
angular.module("boltApp").controller("waScenesCtrl",["$scope","$location","$routeParams","ConfigWa","restWa","restApp","dialog","navService","funcGenerator","flash","g",function(e,t,n,r,i,o,a,l,s,u,c){var d,f,m,p;l.section("scenes");e.app=c.app.current;e.now=Date.now();e.current_type=r.static_type;e.add=function(){var t,n;n={app_slug:e.app.slug,content_type:e.current_type.slug,meta:{title:""},status:0,content:""};t=new i.content(n);t._new=true;return p(t).then(function(e){return window.location.href=e.edit_url})};e.scenes=[];d=function(t){return t.edit_url="/#/editor/"+e.app.type+"/"+e.app.slug+"/"+(e.current_type.slug+"/"+t.id)};f=function(){e.current_theme=new o.current_theme({app_slug:e.app.slug});return e.current_theme.$get().then(function(t){e.files=i.content.query({app_slug:e.app.slug,type_slug:e.current_type.slug});return e.files.$promise}).then(function(t){var n,r,i,o,a;a=e.current_theme.templates||{};o=[];for(r=0,i=t.length;r<i;r++){n=t[r];if(n.meta.template&&!a[n.meta.template]){n._tmpl_missing=true}if(!n.meta.hasOwnProperty("title")){n.meta.title=n.slug}d(n);o.push(e.scenes.push(n))}return o})["catch"](function(e){return t.path("/404")})};f();e.paged=1;m=[];s.select(e,m);s.trash(e,m,function(t){return angular.removeFromList(e.scenes,t)},function(){return u("Scenes has been deleted.")});return p=function(t){m.length=0;return a.show({controller:"waSceneCreateCtrl",templateUrl:"blueprints/wa/views/scene_create.tmpl.html",locals:{file:t}}).then(function(t){if(t&&t._new){delete t._new;d(t);e.files.unshift(t)}return t})}}])}).call(this);(function(){angular.module("boltApp").controller("waSceneCreateCtrl",["$scope","dialog","flash","fsv","file",function(e,t,n,r,i){var o;if(typeof angular.translate==="function"){e._=angular.translate}e.file=i;e.submitted=false;e.submit=function(){if(e.submitted){return}return o()};o=function(){if(!r(e.file_form,"title","slug")){return}e.submitted=true;return e.file.$save().then(function(e){e._new=true;t.hide(e);return n("Scene has been created.")})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("waOptionsCtrl",["$scope","$rootScope","$location","ConfigWa","Config","navService","flash","fsv","helpModal","mediaModal","restApp","g",function(e,t,n,r,i,o,a,l,s,u,c,d){o.section("settings/options");e.app=e.profile=d.app.current;e.protocols=i.protocols;e.locales=i.locales;e.binded=false;e.domain=c.domain.get({app_slug:e.app.slug},function(t){return e.binded=Boolean(t.domain)});e.selectSnapshot=function(t){if(t){e.profile.snapshot=""}else{u(e.app,false).then(function(t){return e.profile.snapshot=t.src})}};e.save=function(){if(!l(e.profile_form,"title","locales","description")){return}return e.profile.$save().then(function(){return a("Your App profile has been modified.")})};e.bind=function(){if(!l(e.domain_form,"domain")){return}return e.domain.$save().then(function(t){e.binded=true;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return a("Your App domain has been binded.")})};e.unbind=function(){e.domain.domain="";e.domain.protocol="";e.domain_form.$setPristine();e.domain_form.$setUntouched();return e.domain.$remove().then(function(t){e.binded=false;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return a("Your App domain has been unbinded.")})};return e.help=function(e){return s(e)}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","waResolveProvider","ConfigWa",function(e,t,n){var r,i;r=n.app_type;i={wa:t.resolve};return e.when("/"+r+"/:app_slug",{templateUrl:"blueprints/"+r+"/views/dashboard.html",controller:"waDashboardCtrl",resolve:i}).when("/"+r+"/:app_slug/content/scene",{templateUrl:"blueprints/"+r+"/views/scenes.html",controller:"waScenesCtrl",resolve:i}).when("/"+r+"/:app_slug/extensions",{templateUrl:"blueprints/app/views/exts.html",controller:"appExtsCtrl",resolve:i}).when("/"+r+"/:app_slug/media",{templateUrl:"blueprints/app/views/media.html",controller:"appMediaCtrl",resolve:i}).when("/"+r+"/:app_slug/settings",{templateUrl:"blueprints/"+r+"/views/settings/options.html",controller:"waOptionsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/metas",{templateUrl:"blueprints/app/views/settings/metas.html",controller:"appMetasCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/exts",{templateUrl:"blueprints/app/views/settings/manage_exts.html",controller:"appManageExtsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/themes",{templateUrl:"blueprints/app/views/settings/themes.html",controller:"appThemesCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/destroy",{templateUrl:"blueprints/app/views/settings/destroy.html",controller:"appDestroyCtrl",resolve:i})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigWs",{app_type:"ws",static_type:{slug:"page",title:"Pages"},max_menus:[24,36]})}).call(this);(function(){angular.module("boltApp").factory("restWs",["supResource","Config","ConfigWs",function(e,t,n){var r;r=t.baseURL.api+"/"+n.app_type;return{contentType:function(){return e(r+"/:app_slug/content_type/:type_id",{app_slug:"@app_slug",type_id:"@id"})}(),content:function(){return e(r+"/:app_slug/content_file/:type_slug/:file_id",{app_slug:"@app_slug",type_slug:"@content_type",file_id:"@id"},{archive:{method:"POST"}})}()}}])}).call(this);(function(){angular.module("boltApp").provider("wsResolve",function(){return{resolve:["$route","navWs","restApp","supChain","g",function(e,t,n,r,i){var o;o=e.current.params.app_slug;return r().then(function(){if(!i.inited){return i.init()}}).then(function(){return i.setCurrentApp(o)}).then(function(){if(i.app.current&&!i.app.current.taxonomies){return n.taxonomy.query({app_slug:o},function(e){return i.app.current.taxonomies=e}).$promise}}).then(function(){if(i.app.current&&!i.app.current.menus){return n.menu.query({app_slug:o},function(e){return i.app.current.menus=e}).$promise}}).then(function(){return t.load(i.app.current)})}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").factory("navWs",["navService","ConfigWs",function(e,t){var n,r,i;i=[{name:"Website"},{key:"portal",name:"Return",path:"/",ico:"nav:ic_arrow_back_24px","class":"md-accent"},{key:"dashboard",name:"Dashboard",path:"$/",ico:"action:ic_dashboard_24px"},{key:"contents",name:"Contents",ico:"action:ic_description_24px",nodes:[{key:"manage",name:"Manage",path:"$/content_types","class":"md-primary"}]},{key:"taxonomies",name:"Taxonomies",ico:"maps:ic_local_offer_24px",nodes:[{key:"manage",name:"Manage",path:"$/taxonomies","class":"md-primary"}]},{key:"menus",name:"Menus",ico:"nav:ic_menu_24px",nodes:[{key:"manage",name:"Manage",path:"$/menus","class":"md-primary"}]},{key:"media",name:"Media library",path:"$/media",ico:"image:ic_photo_library_24px"},{key:"exts",name:"Extensions",path:"$/extensions",ico:"action:ic_extension_24px"},{key:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{key:"options",name:"Options",path:"$/settings"},{key:"metas",name:"Metas",path:"$/settings/metas"},{key:"themes",name:"Themes",path:"$/settings/themes"},{key:"exts",name:"Extensions",path:"$/settings/exts"},{key:"contents",name:"Organize Contents",path:"$/settings/contents"},{key:"destroy",name:"Destroy",path:"$/settings/destroy","class":"md-warn"}]}];n="av:ic_web_24px";r=function(e,n){e=e.replace("$",t.app_type+"/"+n);return e};this.load=function(t){var o,a,l,s,u,c,d,f,m,p,h,g,v,b,y,_,w,$,E,A,C;if(!t){return}if(n){t.icon=n}v=angular.copy(i);for(o=0,u=v.length;o<u;o++){g=v[o];if(g.key==="contents"){A=null;if(g.nodes&&g.nodes[0]){A=g.nodes[0]}g.nodes=[];y=t.content_types;for(a=0,c=y.length;a<c;a++){C=y[a];g.nodes.push({key:C.slug,name:C.title,path:"$/content/"+C.slug})}if(A){g.nodes.push(A)}}if(g.key==="taxonomies"){A=null;if(g.nodes&&g.nodes[0]){A=g.nodes[0]}g.nodes=[];_=t.taxonomies;for(l=0,d=_.length;l<d;l++){E=_[l];g.nodes.push({key:E.slug,name:E.title,path:"$/taxonomy/"+E.slug})}if(A){g.nodes.push(A)}if(g.nodes.length<=0){g._empty=true}}if(g.key==="menus"){A=null;if(g.nodes&&g.nodes[0]){A=g.nodes[0]}g.nodes=[];w=t.menus;for(s=0,f=w.length;s<f;s++){h=w[s];g.nodes.push({key:h.slug,name:h.title,path:"$/menu/"+h.slug})}if(A){g.nodes.push(A)}}if(g.path&&g.path.indexOf("$")===0){g.path=r(g.path,t.slug)}if(g.nodes){$=g.nodes;for(p=0,m=$.length;p<m;p++){b=$[p];if(b.path&&b.path.indexOf("$")===0){b.path=r(b.path,t.slug)}}}}return e.load(v,t.title,t.icon,t)};return this}])}).call(this);(function(){angular.module("boltApp").controller("wsDashboardCtrl",["$scope","navService","restApp","g",function(e,t,n,r){t.section("dashboard");e.app=r.app.current;return n.doGetAnalytics(e.app.id).then(function(t){return e.analytic_data=t})}])}).call(this);(function(){angular.module("boltApp").controller("wsContentTypesCtrl",["$scope","restWs","dialog","navService","navWs","flash","g",function(e,t,n,r,i,o,a){var l,s;r.section("contents/manage");e.app=a.app.current;e.content_types=t.contentType.query({app_slug:e.app.slug});l=50;e.check_addable=function(){var t,n,r,i,o;n=0;o=e.content_types;for(r=0,i=o.length;r<i;r++){t=o[r];if(!t.deleted){n++}}if(n>=l){return false}else{return true}};e.add=function(){var n,r;r={app_slug:e.app.slug};n=new t.contentType(r);n._new=true;return s(n)};e.edit=function(e){var t;t=angular.copy(e);return s(t)};return s=function(t){return n.show({controller:"wsContentTypeEditCtrl",templateUrl:"blueprints/ws/views/content_type_edit.tmpl.html",locals:{content_type:t}}).then(function(t){var n,r,o,a,l;if(t){if(t._new){delete t._new;e.content_types.push(t)}else{l=e.content_types;for(r=0,a=l.length;r<a;r++){n=l[r];if(n.id===t.id){o=e.content_types.indexOf(n);if(t.deleted){e.content_types.splice(o,1)}else{e.content_types[o]=t}break}}}e.app.content_types=e.content_types;return i.load(e.app)}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsContentTypeEditCtrl",["$scope","dialog","flash","fsv","content_type",function(e,t,n,r,i){var o,a;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.content_type=i;e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return o()}else{return a()}};o=function(){if(!r(e.content_type_form,"title","slug")){return}e.submitted=true;return e.content_type.$save().then(function(e){n("Content type has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};a=function(){if(!r(e.content_type_form,"title")){return}e.submitted=true;return e.content_type.$save().then(function(e){n("Content type has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.content_type.deleted||e.submitted){return}if(e.content_type.locked){return}e.submitted=true;return e.content_type.$remove().then(function(e){n("Content type has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsContentsCtrl",["$scope","$location","$routeParams","ConfigWs","restWs","restApp","dialog","navService","funcGenerator","flash","g",function(e,t,n,r,i,o,a,l,s,u,c){var d,f,m,p,h,g,v,b,y,_,w,$;l.section("contents");d=n.content_type;e.app=c.app.current;e.now=Date.now();e.current_type={};y=e.app.content_types;for(p=0,h=y.length;p<h;p++){$=y[p];if($.slug===d){e.current_type=$}}e.taxonomies=[];e.selected_tax="";e.selected_term="";e.current_tax=null;o.taxonomy.query({app_slug:e.app.slug},function(t){return angular.forEach(t,function(t){if(t.content_types.indexOf(e.current_type.slug)>-1){return e.taxonomies.push(t)}})});e.$watch("selected_tax",function(t){var n,r,i,o;if(t){i=e.taxonomies;for(n=0,r=i.length;n<r;n++){o=i[n];if(o.slug===t){e.current_tax=o;break}}}else{e.current_tax=null}e.selected_term="";return g()});e.$watch("selected_term",function(e){return g()});e.editTaxonomy=function(n){var i;i=r.app_type+"/"+e.app.slug+"/taxonomy";return t.path(i+"/"+n.slug)};e.add=function(){var t,n;n={app_slug:e.app.slug,content_type:e.current_type.slug,meta:{title:""},status:0,content:""};t=new i.content(n);t._new=true;return w(t).then(function(e){return window.location.href=e.edit_url})};e.archive=function(e,t){e.archive=!e.archive;e.$archive().then(function(){if(e.archive){return u("Content has been archived.")}else{return u("Content has been unarchived.")}});if(t){return t.stopPropagation()}};e.contents=[];f=function(t){return t.edit_url="/#/editor/"+e.app.type+"/"+e.app.slug+"/"+(e.current_type.slug+"/"+t.id)};m=function(){e.current_theme=new o.current_theme({app_slug:e.app.slug});return e.current_theme.$get().then(function(t){e.files=i.content.query({app_slug:e.app.slug,type_slug:e.current_type.slug});return e.files.$promise}).then(function(t){var n,r,i,o,a;a=e.current_theme.templates||{};o=[];for(r=0,i=t.length;r<i;r++){n=t[r];if(n.meta.template&&!a[n.meta.template]){n._tmpl_missing=true}if(!n.meta.hasOwnProperty("title")){n.meta.title=n.slug}f(n);o.push(g())}return o})["catch"](function(e){return t.path("/404")})};m();b=function(t){if(!e.selected_term||t.indexOf(e.selected_term)>-1){return true}else{return false}};v=function(t){if(!e.selected_tax||t[e.selected_tax]){return true}else{return false}};g=function(){var t,n,r,i,o,a,l,s;if(!e.files){return}e.contents.length=0;a=e.selected_tax;i=e.files;o=[];for(n=0,r=i.length;n<r;n++){t=i[n];l=t.meta.taxonomy||{};s=l[a];if(v(l)&&b(s)){o.push(e.contents.push(t))}else{o.push(void 0)}}return o};e.switchContentType=function(n){var r;if(n.slug===e.current_type.slug){return}r=e.app.type+"/"+e.app.slug+"/content/"+n.slug;return t.path(r)};e.paged=1;_=[];s.select(e,_);s.more(e,e.contents);s.trash(e,_,function(t){return angular.removeFromList(e.contents,t)},function(){return u("Contents has been deleted.")});return w=function(t){_.length=0;return a.show({controller:"wsContentCreateCtrl",templateUrl:"blueprints/ws/views/content_create.tmpl.html",locals:{file:t}}).then(function(t){if(t&&t._new){delete t._new;f(t);e.files.unshift(t)}return t})}}])}).call(this);(function(){angular.module("boltApp").controller("wsContentCreateCtrl",["$scope","dialog","flash","fsv","file",function(e,t,n,r,i){var o;if(typeof angular.translate==="function"){e._=angular.translate}e.file=i;e.submitted=false;e.submit=function(){if(e.submitted){return}return o()};o=function(){if(!r(e.file_form,"title","slug")){return}e.submitted=true;return e.file.$save().then(function(e){e._new=true;t.hide(e);return n("Content has been created.")})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsTaxonomiesCtrl",["$scope","navService","navWs","dialog","restApp","flash","g",function(e,t,n,r,i,o,a){var l,s;t.section("taxonomies/manage");e.app=a.app.current;e.modify=false;e.taxonomies=e.app.taxonomies;e.contentTypes=function(t){var n,r,i,o,a,l,s,u,c;n=[];l=t.content_types;for(r=0,o=l.length;r<o;r++){u=l[r];s=e.app.content_types;for(i=0,a=s.length;i<a;i++){c=s[i];if(c.slug===u){n.push(c.title)}}}return n};s=50;e.check_addable=function(){var t,n,r,i,o;o=0;r=e.taxonomies;for(t=0,n=r.length;t<n;t++){i=r[t];if(!i.deleted){o++}}if(o>=s){return false}else{return true}};e.add=function(){var t,n;n={title:"",app_slug:e.app.slug,content_types:[]};t=new i.taxonomy(n);t._new=true;return l(t)};e.edit=function(e){var t;t=angular.copy(e);return l(t)};return l=function(t){return r.show({controller:"wsTaxonomyEditCtrl",templateUrl:"blueprints/ws/views/taxonomy_edit.tmpl.html",locals:{taxonomy:t,app:e.app}}).then(function(t){var r,i,o,a,l;if(t){if(t._new){delete t._new;e.taxonomies.unshift(t)}else{a=e.taxonomies;for(r=0,o=a.length;r<o;r++){l=a[r];if(l.id===t.id){i=e.taxonomies.indexOf(l);if(t.deleted){e.taxonomies.splice(i,1)}else{e.taxonomies[i]=t}break}}}return n.load(e.app)}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsTaxonomyEditCtrl",["$scope","dialog","flash","fsv","taxonomy","app",function(e,t,n,r,i,o){var a,l,s,u,c,d,f;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.taxonomy=i;d=e.taxonomy.content_types;e.relateable_types=[];e.supported="";u=o.content_types;for(l=0,s=u.length;l<s;l++){f=u[l];e.relateable_types.push({slug:f.slug,title:f.title,checked:d.indexOf(f.slug)>-1})}e.submitted=false;e.$watch("relateable_types",function(t){var n,r,i;d.length=0;e.supported="";i=[];for(n=0,r=t.length;n<r;n++){f=t[n];if(f.checked){d.push(f.slug);i.push(e.supported=true)}else{i.push(void 0)}}return i},true);e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return c()}};a=function(){if(!r(e.taxonomy_form,"title","slug","supported")){return}e.submitted=true;return e.taxonomy.$save().then(function(e){n("Taxonomy has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};c=function(){if(!r(e.taxonomy_form,"title","supported")){return}e.submitted=true;return e.taxonomy.$save().then(function(e){n("Taxonomy has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.taxonomy.locked){return}if(e.taxonomy.deleted||e.submitted){return}e.submitted=true;return e.taxonomy.$remove().then(function(e){n("Taxonomy has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsTermsCtrl",["$scope","$routeParams","$location","ConfigWs","restApp","dialog","navService","funcGenerator","flash","g",function(e,t,n,r,i,o,a,l,s,u){var c,d,f,m,p,h,g,v;a.section("taxonomies");e.app=u.app.current;g=t.tax;f=e.app.taxonomies;for(c=0,d=f.length;c<d;c++){h=f[c];if(h.slug===g){e.taxonomy=h}}if(!e.taxonomy){n.path("/404")}v=100;e.check_addable=function(){var t,n,r,i,o;o=0;r=e.taxonomy.terms;for(t=0,n=r.length;t<n;t++){i=r[t];if(!i.deleted){o++}}if(o>=v){return false}else{return true}};e.add=function(e){var t;t={title:"","class":"",nodes:[],meta:{description:"",pic:""}};t._new=true;return p(t,e)};e.edit=function(e,t){return p(e,t)};m=[];l.select(e,m);return p=function(t,n){m.length=0;return o.show({controller:"wsTermEditCtrl",templateUrl:"blueprints/ws/views/term_edit.tmpl.html",locals:{term:angular.copy(t),parent:n}}).then(function(e){var r,i,o,a;if(!e||e._deleted){return angular.removeFromList(n,t)}else{if(e._new){delete e._new;return n.unshift(e)}else{a=[];for(r=i=0,o=n.length;i<o;r=++i){t=n[r];if(t.id===e.id){a.push(n[r]=e)}else{a.push(void 0)}}return a}}}).then(function(){return e.taxonomy.$sync()})}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wsTermEditCtrl",["$scope","dialog","flash","fsv","term","parent",function(t,n,r,i,o,a){var l,s,u;if(typeof angular.translate==="function"){t._=angular.translate}if(!o){return}if(!o.meta){o.meta={}}t.term=o;t["new"]=Boolean(o._new);s=function(t,n,r){var i,o,a;if(!n){return false}if(r===void 0){r=[]}for(i=0,o=n.length;i<o;i++){a=n[i];r.push(a.key);if(e.call(r,t)>=0||s(t,a.nodes,r)){return true}}return false};t.submit=function(e){if(t["new"]){return l(e)}else{return u(e)}};l=function(e){if(!i(t.term_form,"key","title","class","description","pic")){return}if(s(e.key,a)){return r("Term key is duplicated.",true)}else{r("Term has been created.");e._new=true;return n.hide(e)}};u=function(e){if(!i(t.term_form,"title","class","description","pic")){return}r("Term has been saved.");return n.hide(e)};t.trash=function(){r("Term has been deleted.");return n.hide(null)};return t.close=function(){return n.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsMenusCtrl",["$scope","restApp","navService","navWs","dialog","flash","funcGenerator","g",function(e,t,n,r,i,o,a,l){var s,u;n.section("menus");e.app=l.app.current;e.menus=e.app.menus;s=10;e.check_addable=function(){var t,n,r,i,o;i=0;o=e.menus;for(t=0,n=o.length;t<n;t++){r=o[t];if(!r.deleted){i++}}if(i>=s){return false}else{return true}};e.add=function(){var n,r;r={title:"",app_slug:e.app.slug};n=new t.menu(r);n._new=true;return u(n)};e.edit=function(e){var t;t=angular.copy(e);return u(t)};return u=function(t){return i.show({controller:"wsMenuEditCtrl",templateUrl:"blueprints/ws/views/menu_edit.tmpl.html",locals:{menu:t}}).then(function(t){var n,i,o,a,l;if(t){if(t._new){delete t._new;e.menus.push(t)}else{l=e.menus;for(i=n=0,o=l.length;n<o;i=++n){a=l[i];if(a.id===t.id){if(t.deleted){e.menus.splice(i,1)}else{e.menus[i]=t}break}}}return r.load(e.app)}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsMenuEditCtrl",["$scope","dialog","flash","fsv","menu",function(e,t,n,r,i){var o,a;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.menu=i;e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return o()}else{return a()}};o=function(){if(!r(e.menu_form,"title","slug")){return}e.submitted=true;return e.menu.$save().then(function(e){n("Menu has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};a=function(){if(!r(e.menu_form,"title")){return}e.submitted=true;return e.menu.$save().then(function(e){n("Menu has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.menu.locked){return}if(e.menu.deleted||e.submitted){return}e.submitted=true;return e.menu.$remove().then(function(e){n("Menu has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wsMenuSingleCtrl",["$scope","$routeParams","$location","restApp","ConfigWs","navService","dialog","flash","g",function(t,n,r,i,o,a,l,s,u){var c,d,f,m,p,h,g,v,b,y,_,w;a.section("menus");t.app=u.app.current;t.menu_nodes=[];v=n.menu_slug;g=null;y=t.app.menus;for(m=0,p=y.length;m<p;m++){h=y[m];if(h.slug===v){g=h.id;break}}if(!g){r.path("/404");return}t.menu=i.menu.get({app_slug:t.app.slug,menu_id:g},function(e){return t.menu_nodes=e.nodes});t.selected_node=null;t.top_limit=o.max_menus[0];t.child_limit=o.max_menus[1];t.check_addable=function(e){if(!e||t.menu_nodes===e){return t.menu_nodes.length>=t.top_limit}else{return e.length>=t.child_limit}};f=function(t,n){var r,i,o,a,l;if(!t){return false}if(n===void 0){n=[]}r=false;for(i=0,o=t.length;i<o;i++){a=t[i];delete a._duplicated;if((l=a.key,e.call(n,l)>=0)||f(a.nodes,n)){a._duplicated=true;r=true}n.push(a.key)}return r};d=null;b=false;t.dragStart=function(e,n){if(!n){n=t.menu_nodes}b=n;return d=e};c=false;t.dropCallback=function(e,t){if(c===t){return e}else{s("The number of your menu items has reached the limit.",true);return false}};t.dragoverCallback=function(e){c=false;if(angular.inList(e,d)){c=e;return true}if(e===t.menu_nodes&&e.length>=t.top_limit){return false}if(e.length>=t.child_limit){return false}c=e;return true};t.add=function(e,n){if(!e){e=t.menu_nodes}w({_new:true,slug:"",title:"",link:"",target:"",meta:{}},e);if(n){n.stopPropagation()}return false};t.edit=function(e,t,n){w(e,t);n.stopPropagation();return false};t.save=function(){if(f(t.menu_nodes)){s("Menu item key is duplicated.",true);return}t.menu.nodes=t.menu_nodes;return t.menu.$save().then(function(){return s("Menu has been saved.")})};t.openHardcode=function(){var e;e=angular.copy(t.menu_nodes);return _(e)};t.toggleSelect=function(e){if(t.selected_node===e){return t.selected_node=null}else{return t.selected_node=e}};t.isSelected=function(e){return t.selected_node===e};_=function(e){var n;n="blueprints/ws/views/";return l.show({controller:"wsMenuSingleHardcodeCtrl",templateUrl:n+"single_menu_hardcode.tmpl.html",locals:{nodes:e}}).then(function(e){if(e){t.menu_nodes=e;return t.save()}})};return w=function(e,n){var r,i;i=e;r="blueprints/ws/views/";return l.show({controller:"wsMenuSingleEditCtrl",templateUrl:r+"single_menu_edit.tmpl.html",locals:{node:angular.copy(e),app:t.app}}).then(function(e){if(e){if(e.deleted){angular.removeFromList(n,i);return}i.title=e.title;i.key=e.key;i.link=e.link;i.meta=e.meta;i.target=e.target;i["class"]=e["class"];i.related_type=e.related_type;if(i._new){delete i._new;n.push(i)}if(f(t.menu_nodes)){s("Menu item key is duplicated.",true)}}})}}])}).call(this);(function(){angular.module("boltApp").controller("wsMenuSingleEditCtrl",["$scope","dialog","fsv","node","app",function(e,t,n,r,i){var o,a,l;if(typeof angular.translate==="function"){e._=angular.translate}if(!r){return}else if(!r.meta){r.meta={}}e.content_types=i.content_types;e.node=r;e.allow_target=(a=r.target)==="_blank"||a===""?true:false;e.blank=r.target==="_blank"?true:false;e["new"]=Boolean(r._new);e.submit=function(){return l()};o=function(){if(e.allow_target){e.node.target=e.blank?"_blank":""}return e.node.key=e.node.key.toLowerCase()};l=function(){if(!n(e.node_form,"title","link","key","class")){return}o();return t.hide(e.node)};e.trash=function(){e.node.deleted=true;return t.hide(e.node)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wsMenuSingleHardcodeCtrl",["$scope","dialog","fsv","flash","nodes",function(t,n,r,i,o){var a,l,s,u;if(typeof angular.translate==="function"){t._=angular.translate}l=function(e){var t,n,r;for(t=0,n=e.length;t<n;t++){r=e[t];delete r.$$hashKey;if(r.nodes){l(r.nodes)}}return e};s=l(o);t.nodes_hardcode=JSON.stringify(s,null,2);a=function(t,n){var r,i,o,l;if(!t){return false}if(n===void 0){n=[]}for(r=0,i=t.length;r<i;r++){o=t[r];if((l=o.key,e.call(n,l)>=0)||a(o.nodes,n)){return true}n.push(o.key)}return false};t.$watch("nodes_hardcode",function(e){var n,r,o;if(!e){e="[]"}try{n=JSON.parse(e);if(a(n)){i("Menu item key is duplicated.",true);throw{name:"duplicated",message:"Menu key can not be duplicated."}}s=n;t.hardcode_form.hardcode.$setValidity("duplicated",true);return t.hardcode_form.hardcode.$setValidity("format",true)}catch(o){r=o;if(r.name==="duplicated"){return t.hardcode_form.hardcode.$setValidity("duplicated",false)}else{return t.hardcode_form.hardcode.$setValidity("format",false)}}});t.submit=function(){return u()};u=function(){if(!r(t.hardcode_form,"hardcode")){return}return n.hide(s)};return t.close=function(){return n.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wsOptionsCtrl",["$scope","$rootScope","$location","ConfigWs","Config","navService","flash","fsv","helpModal","mediaModal","restApp","g",function(e,t,n,r,i,o,a,l,s,u,c,d){o.section("settings/options");e.app=e.profile=d.app.current;e.protocols=i.protocols;e.locales=i.locales;e.binded=false;e.domain=c.domain.get({app_slug:e.app.slug},function(t){return e.binded=Boolean(t.domain)});e.selectSnapshot=function(t){if(t){e.profile.snapshot=""}else{u(e.app,false).then(function(t){return e.profile.snapshot=t.src})}};e.save=function(){if(!l(e.profile_form,"title","locales","description")){return}return e.profile.$save().then(function(){return a("Your App profile has been modified.")})};e.bind=function(){if(!l(e.domain_form,"domain")){return}return e.domain.$save().then(function(t){e.binded=true;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return a("Your App domain has been binded.")})};e.unbind=function(){e.domain.domain="";e.domain.protocol="";e.domain_form.$setPristine();e.domain_form.$setUntouched();return e.domain.$remove().then(function(t){e.binded=false;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return a("Your App domain has been unbinded.")})};return e.help=function(e){return s(e)}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","wsResolveProvider","ConfigWs",function(e,t,n){var r,i;r=n.app_type;i={ws:t.resolve};return e.when("/"+r+"/:app_slug",{templateUrl:"blueprints/"+r+"/views/dashboard.html",controller:"wsDashboardCtrl",resolve:i}).when("/"+r+"/:app_slug/content_types",{templateUrl:"blueprints/"+r+"/views/content_types.html",controller:"wsContentTypesCtrl",resolve:i}).when("/"+r+"/:app_slug/content/:content_type",{templateUrl:"blueprints/"+r+"/views/contents.html",controller:"wsContentsCtrl",resolve:i}).when("/"+r+"/:app_slug/taxonomies",{templateUrl:"blueprints/"+r+"/views/taxonomies.html",controller:"wsTaxonomiesCtrl",resolve:i}).when("/"+r+"/:app_slug/taxonomy/:tax",{templateUrl:"blueprints/"+r+"/views/terms.html",controller:"wsTermsCtrl",resolve:i}).when("/"+r+"/:app_slug/menus",{templateUrl:"blueprints/"+r+"/views/menus.html",controller:"wsMenusCtrl",resolve:i}).when("/"+r+"/:app_slug/menu/:menu_slug",{templateUrl:"blueprints/"+r+"/views/single_menu.html",controller:"wsMenuSingleCtrl",resolve:i}).when("/"+r+"/:app_slug/extensions",{templateUrl:"blueprints/app/views/exts.html",controller:"appExtsCtrl",resolve:i}).when("/"+r+"/:app_slug/media",{templateUrl:"blueprints/app/views/media.html",controller:"appMediaCtrl",resolve:i}).when("/"+r+"/:app_slug/settings",{templateUrl:"blueprints/"+r+"/views/settings/options.html",controller:"wsOptionsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/metas",{templateUrl:"blueprints/app/views/settings/metas.html",controller:"appMetasCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/exts",{templateUrl:"blueprints/app/views/settings/manage_exts.html",controller:"appManageExtsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/themes",{templateUrl:"blueprints/app/views/settings/themes.html",controller:"appThemesCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/contents",{templateUrl:"blueprints/app/views/settings/contents.html",controller:"appContentsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/destroy",{templateUrl:"blueprints/app/views/settings/destroy.html",controller:"appDestroyCtrl",resolve:i})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigWx",{app_type:"wx",static_type:{slug:"article",title:"Articles"},max_menus:[3,5],new_msg_limit:6,record_limit:200,wxtypes:[{name:"Subscription",key:"subscription"},{name:"Service",key:"service"}],btntypes:[{name:"View",key:"view"},{name:"Click",key:"click"},{name:"Scan Code",key:"scancode_push"}],default_msgtype_icon:"custom:ic_bubble_24px",resptypes:[{name:"Pure text",key:"text",ico:"notify:ic_sms_24px"},{name:"Graphic news",key:"news",ico:"notify:ic_mms_24px"},{name:"Newest Article",key:"newest",ico:"av:ic_new_releases_24px"},{name:"Search Article",key:"search",ico:"action:ic_pageview_24px"},{name:"Random Article",key:"random",ico:"comm:ic_forum_24px"}],cast_mimetypes:["image/jpeg","image/png"],casttypes:[{name:"Pure text",key:"text",ico:"notify:ic_sms_24px"},{name:"Graphic news",key:"news",ico:"comm:ic_message_24px"},{name:"Image",key:"image",ico:"notify:ic_mms_24px"}],triggers:[{name:"Subscribe",key:0},{name:"Keywords",key:1},{name:"Auto",key:2},{name:"Default",key:3},{name:"Wifi Connected",key:4,adv_mode:true,wifi_mode:true}],bar_types:[{name:"Welcome + account name.",key:0},{name:"Welcome + shop name.",key:1},{name:"Connected + account name + Wi-Fi.",key:2},{name:"Connected + shop name + Wi-Fi.",key:3}],wifi_device_limit:10,broadcast_styles:{h2:"font-size: 2em;",h3:"font-size: 1.5em;",h4:"font-size: 1.2em;",h5:"font-weight: bold;",mark:"color: #ff6633; background: transparent;"}})}).call(this);(function(){angular.module("boltApp").factory("restWx",["supResource","Config","ConfigWx",function(e,t,n){var r;r=t.baseURL.api+"/"+n.app_type;return{doCountFollowers:function(t){return e(r+"/:app_slug/count").get({app_slug:t}).$promise},config:function(){return e(r+"/:app_slug/config",{app_slug:"@app_slug"})}(),custom_menu:function(){return e(r+"/:app_slug/adv_menu",{app_slug:"@app_slug"},{sync:{method:"POST"}})}(),wifi:function(){
return e(r+"/:app_slug/adv_wifi/:wifi_id",{app_slug:"@app_slug",wifi_id:"@id"},{sync:{method:"POST"}})}(),wifi_device:function(){return e(r+"/:app_slug/adv_wifi/:wifi_id/device/:device_id",{app_slug:"@app_slug",wifi_id:"@wifi_id",device_id:"@id"})}(),admin:function(){return e(r+"/:app_slug/admin/:admin_id",{app_slug:"@app_slug",admin_id:"@id"})}(),broadcast:function(){return e(r+"/:app_slug/adv_broadcast/:cast_id",{app_slug:"@app_slug",cast_id:"@id"},{send:{method:"POST"}})}(),attachment:function(){return e(r+"/:app_slug/adv_attachment/:attachment_id",{app_slug:"@app_slug",attachment_id:"@id"})}(),response:function(){return e(r+"/:app_slug/response/:resp_id",{app_slug:"@app_slug",resp_id:"@id"})}(),record:function(){return e(r+"/:app_slug/record/:record_id",{app_slug:"@app_slug",record_id:"@id"})}(),doEmptyRecords:function(t){return e(r+"/:app_slug/record").remove({app_slug:t}).$promise},article:function(){return e(r+"/:app_slug/content_file/:type_slug/:file_id",{app_slug:"@app_slug",type_slug:"@content_type",file_id:"@id"})}()}}])}).call(this);(function(){angular.module("boltApp").provider("wxResolve",function(){return{resolve:["$route","supChain","restWx","navWx","g",function(e,t,n,r,i){var o;o=e.current.params.app_slug;return t().then(function(){if(!i.inited){return i.init()}}).then(function(){return i.setCurrentApp(o)}).then(function(){if(i.app.current&&!i.app.current.config){i.app.current.config=n.config.get({app_slug:o});return i.app.current.config.$promise}}).then(function(){return r.load(i.app.current)})}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").factory("navWx",["navService","ConfigWx",function(e,t){var n,r,i;i=[{name:"WeChat Buzz"},{key:"portal",name:"Return",path:"/",ico:"nav:ic_arrow_back_24px","class":"md-accent"},{key:"dashboard",name:"Dashboard",path:"$/",ico:"action:ic_dashboard_24px"},{key:"article",name:"Articles",path:"$/content/"+t.static_type.slug,ico:"action:ic_description_24px"},{key:"responses",name:"Responses",path:"$/responses",ico:"content:ic_reply_all_24px"},{key:"records",name:"Records",path:"$/records",ico:"action:ic_history_24px"},{key:"broadcasts",name:"Broadcasts",ico:"action:ic_settings_input_antenna_24px",nodes:[{key:"messages",name:"Bulk Messages",path:"$/broadcasts"},{key:"materials",name:"Materials",path:"$/materials"}]},{key:"menu",name:"Custom Menu",path:"$/custom_menu",ico:"nav:ic_menu_24px"},{key:"wifi",name:"Wifi Connections",path:"$/wifi",ico:"custom:ic_wifi_24px"},{key:"media",name:"Media library",path:"$/media",ico:"image:ic_photo_library_24px"},{key:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{key:"options",name:"Options",path:"$/settings"},{key:"metas",name:"Metas",path:"$/settings/metas"},{key:"admins",name:"WeChat Admin",path:"$/settings/wx_admins"},{key:"themes",name:"Themes",path:"$/settings/themes"},{key:"destroy",name:"Destroy",path:"$/settings/destroy","class":"md-warn"}]}];n="comm:ic_chat_24px";r=function(e,n){e=e.replace("$",t.app_type+"/"+n);return e};this.load=function(t){var o,a,l,s,u,c,d,f;if(!t){return}if(n){t.icon=n}c=angular.copy(i);for(o=0,l=c.length;o<l;o++){u=c[o];if(u.path&&u.path.indexOf("$")===0){u.path=r(u.path,t.slug)}if(u.nodes){f=u.nodes;for(a=0,s=f.length;a<s;a++){d=f[a];if(d.path&&d.path.indexOf("$")===0){d.path=r(d.path,t.slug)}}}}return e.load(c,t.title,t.icon,t)};return this}])}).call(this);(function(){angular.module("boltApp").controller("wxDashboardCtrl",["$scope","restWx","restApp","navService","g",function(e,t,n,r,i){r.section("dashboard");e.app=i.app.current;e.config=t.config.get({app_slug:e.app.slug},function(n){e.advance_mode=n.advance_mode;if(e.advance_mode){return t.doCountFollowers(e.app.slug).then(function(t){return e.followers_data=t})}});return n.doGetAnalytics(e.app.id).then(function(t){return e.analytic_data=t})}])}).call(this);(function(){angular.module("boltApp").controller("wxArticlesCtrl",["$scope","$location","ConfigWx","restWx","restApp","flash","navService","funcGenerator","syncModal","dialog","g",function(e,t,n,r,i,o,a,l,s,u,c){var d,f,m,p,h;a.section("article");e.g=c;e.app=c.app.current;e.applist=c.app.list;e.current_type=n.static_type;e.now=Date.now();e.add=function(){var t,n;n={app_slug:e.app.slug,content_type:e.current_type.slug,meta:{title:""},status:0,content:""};t=new r.article(n);t.archive=true;t._new=true;return h(t).then(function(e){return window.location.href=e.edit_url})};e.files=[];f=function(t){return t.edit_url="/#/editor/"+e.app.type+"/"+e.app.slug+"/"+(e.current_type.slug+"/"+t.id+"?device=phone")};m=function(){e.current_theme=new i.current_theme({app_slug:e.app.slug});return e.current_theme.$get().then(function(t){var n;n=r.article.query({app_slug:e.app.slug,type_slug:e.current_type.slug});return n.$promise}).then(function(t){var n,r,i,o,a,l,s;e.files.length=0;for(r=0,o=t.length;r<o;r++){n=t[r];e.files.push(n)}s=e.current_theme.templates||{};l=[];for(i=0,a=t.length;i<a;i++){n=t[i];if(n.meta.template&&!s[n.meta.template]){n._tmpl_missing=true}if(!n.meta.hasOwnProperty("title")){n.meta.title=n.slug}l.push(f(n))}return l})["catch"](function(e){return t.path("/404")})};m();e.paged=1;p=[];l.select(e,p);l.more(e,e.files);l.trash(e,p,function(t){return angular.removeFromList(e.files,t)},function(){return o("Articles have been deleted.")});e.selectable_apps=function(){var t,n,r,i;r=e.applist;i=[];for(t=0,n=r.length;t<n;t++){d=r[t];if(d.slug!==e.app.slug){i.push(d)}}return i}();e.callSync=function(){var t;t=angular.copy(e.selectable_apps);return s(t).then(function(t){var n;n=new r.article({slug:t.app_slug+"-"+t.slug+"-"+Date.now(),app_slug:e.app.slug,content_type:e.current_type.slug,content:t.content,meta:t.meta,archive:true,status:t.status});return n.$save()}).then(function(t){f(t);e.files.unshift(t);return o("Content has been synchronized.")})};return h=function(t){p.length=0;return u.show({controller:"wxArticleCreateCtrl",templateUrl:"blueprints/wx/views/article_create.tmpl.html",locals:{article:t}}).then(function(t){if(t&&t._new){delete t._new;f(t);e.files.unshift(t)}return t})}}])}).call(this);(function(){angular.module("boltApp").controller("wxArticleCreateCtrl",["$scope","dialog","flash","fsv","article",function(e,t,n,r,i){var o;if(typeof angular.translate==="function"){e._=angular.translate}e.article=i;e.submitted=false;e.submit=function(){if(e.submitted){return}return o()};o=function(){if(!r(e.article_form,"title","slug")){return}e.submitted=true;return e.article.$save().then(function(e){e._new=true;t.hide(e);return n("Article has been created.")})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxResponesesCtrl",["$scope","$location","restWx","ConfigWx","navService","flash","funcGenerator","g",function(e,t,n,r,i,o,a,l){var s,u,c,d;i.section("responses");e.app=l.app.current;u="/wx/"+e.app.slug+"/response";e.responses=n.response.query({app_slug:e.app.slug});d=r.triggers;e.getTrigger=function(e){var t,n,r,i;n=d[e.trigger.type];if(typeof angular.translate==="function"){r=angular.translate(n.name)}else{r=n.name}if(n.key===1&&e.trigger.keys){t=e.trigger.keys.join(", ");i=r+" ["+t+"]"}else{i=r}return i};s=r.casttypes;e.prepare=function(e){var t,n,i,o;e.msg_type_ico=r.default_msgtype_icon;o=[];for(t=0,i=s.length;t<i;t++){n=s[t];if(e.msg_type===n.key){e.msg_type_ico=n.ico;o.push(e.msg_type_name=n.name)}else{o.push(void 0)}}return o};e.add=function(){return t.path(u+"/"+"new")};e.edit=function(e){return t.path(u+"/"+e.id)};e.paged=1;c=[];a.select(e,c);a.more(e,e.responses);return a.trash(e,c,function(t){return angular.removeFromList(e.responses,t)},function(){return o("Responses have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wxResponeseEditCtrl",["$scope","$routeParams","$location","ConfigWx","restWx","image","dialog","mediaModal","syncModal","navService","flash","fsv","g",function(e,t,n,r,i,o,a,l,s,u,c,d,f){var m,p,h,g,v,b,y,_,w,$,E;u.section("responses");_=t.resp_id;e.app=f.app.current;e.applist=f.app.list;e.config=f.app.current.config;e.advance_mode=e.config.advance_mode;e.wifi_mode=e.config.wifi_mode;e.content_type=r.static_type;e.image={cover:o.trans_cover,banner:o.trans_banner,trans:o.trans};b="/"+e.app.type+"/"+e.app.slug+"/responses";v="/"+e.app.type+"/"+e.app.slug+"/response";e.is_new=_==="new"?true:false;e.published=false;e.msgtypes=r.resptypes;e.triggers=[];e.new_msg_limit=r.new_msg_limit;e.keywords="";y=r.triggers;for(h=0,g=y.length;h<g;h++){E=y[h];if(E.adv_mode&&!e.advance_mode||E.wifi_mode&&!e.wifi_mode){continue}e.triggers.push(E)}w=function(){if(!e.response.related){return e.response.related={app_id:e.app.id,content_type:e.content_type.slug,limit:1}}};p=function(){var t;if(e.is_new){t={app_slug:e.app.slug,title:"",messages:[{title:"",content:"",pic_url:"",url:""}],text:"",msg_type:e.msgtypes[1].key,trigger:{type:e.triggers[1].key,keys:[]},status:0};e.response=new i.response(t);return w()}else{return e.response=i.response.get({app_slug:e.app.slug,resp_id:_},function(t){if(t.status===1){e.published=true}if(t.trigger.keys){e.keywords=angular.list2str(t.trigger.keys)}return w()})}};p();e.showKeywords=function(){return e.response.trigger&&e.response.trigger.type===1};e.selected_node=null;e.toggleSelect=function(t){if(e.selected_node===t){return e.selected_node=null}else{return e.selected_node=t}};e.isSelected=function(t){return e.selected_node===t};e.newsItemAddAble=function(){return e.response.messages.length<e.new_msg_limit};e.addNewsItem=function(){var t;if(e.newsItemAddAble()){t={title:"",content:"",pic_url:"",url:"",_new:true};return $(t)}};e.editNewsItem=function(e,t,n){$(e,t);return n.stopPropagation()};$=function(t,n){return a.show({controller:"wxResponseNewsMsgEditCtrl",templateUrl:"blueprints/wx/views/response_news_msg_edit.tmpl.html",locals:{msg:t}}).then(function(t){if(!t){}else if(t.deleted&&n){e.response.messages.splice(n,1);return c("Message has been removed.")}else if(t._new){delete t._new;e.response.messages.push(t);return c("Message has been added.")}else if(n){e.response.messages[n]=t;return c("Message has been updated.")}})};e.save=function(){var t;if(!d(e.response_form,"title","type","trigger","keywords")){return}t=angular.str2list(e.keywords);e.response.trigger.keys=t;return e.response.$save().then(function(t){e.keywords.string=angular.list2str(t.trigger.keys);c("Response has been saved.");if(e.is_new){return n.path(v+"/"+e.response.id)}})};e.back=function(){return n.path(b)};e.trash=function(){if(e.is_new){return}return e.response.$remove().then(function(){c("Response has been deleted.");return n.path(b)})};e.selectable_apps=function(){var t,n,r,i;r=e.applist;i=[];for(t=0,n=r.length;t<n;t++){m=r[t];if(m.type!=="wx"){i.push(m)}}return i}();e.selectable_apps.unshift(e.app);e.related_limit=[1,2,3,4,5,6,7,8,9,10];e.curr_app_content_types=[];e.loadContentTypes=function(){var t,n,r,i,o;t=e.response.related.app_id;i=e.selectable_apps;o=[];for(n=0,r=i.length;n<r;n++){m=i[n];if(m.id===t){e.curr_app_content_types=m.content_types;break}else{o.push(void 0)}}return o};e.$watch("response.related.app_id",function(t){if(e.response.related){return e.response.related.content_type=""}});e.moveup=function(t,n){var r,i,o;r=e.response.messages;if(t>0){i=t-1;o=[r[i],r[t]],r[t]=o[0],r[i]=o[1]}return n.stopPropagation()};e.movedown=function(t,n){var r,i,o;r=e.response.messages;if(t<r.length-1){i=t+1;o=[r[i],r[t]],r[t]=o[0],r[i]=o[1]}return n.stopPropagation()};e.callMedia=function(t,n){l(e.app,true,false).then(function(e){t.pic_url=e.src;return c("Media has been updated.")});return n.stopPropagation()};return e.callSync=function(t,n){var r;r=angular.copy(e.selectable_apps);s(r).then(function(n){var r;r=n.meta.featured_img||{};switch(e.response.msg_type){case"news":t.title=n.meta.title||"";t.pic_url=r.src||"";t.content=n.meta.description||"";t.url=n.url||"";break;case"text":t.text=n.meta.description||""}return c("Content has been synchronized.")});return n.stopPropagation()}}])}).call(this);(function(){angular.module("boltApp").controller("wxResponseNewsMsgEditCtrl",["$scope","dialog","flash","fsv","msg",function(e,t,n,r,i){var o,a;if(typeof angular.translate==="function"){e._=angular.translate}e.msg=i;e["new"]=Boolean(i._new);e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return o()}else{return a()}};o=function(){if(!r(e.msg_form,"title","url","content")){return}e.msg._new=true;return t.hide(e.msg)};a=function(){if(!r(e.msg_form,"title","url","content")){return}return t.hide(e.msg)};e.trash=function(){e.msg.deleted=true;return t.hide(e.msg)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxRecordsCtrl",["$scope","restWx","navService","funcGenerator","flash","ConfigWx","g",function(e,t,n,r,i,o,a){var l;n.section("records");e.g=a;e.app=a.app.current;e.records=t.record.query({app_slug:e.app.slug});e.record_limit=o.record_limit;e.getType=function(e){var t,n,r,i,a;a=null;r=o.triggers;for(t=0,n=r.length;t<n;t++){i=r[t];if(e===i.key){a=i.name}}return a};e.empty=function(){return t.doEmptyRecords(e.app.slug).then(function(){e.records.length=0;l.length=0;return i("Records have been cleared.")})};e.paged=1;l=[];r.select(e,l);r.more(e,e.records);return r.trash(e,l,function(t){return angular.removeFromList(e.records,t)},function(){return i("Records have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wxBroadcastsCtrl",["$scope","$location","ConfigWx","restWx","navService","funcGenerator","flash","g",function(e,t,n,r,i,o,a,l){var s,u,c;i.section("broadcasts");e.app=l.app.current;e.config=l.app.current.config;e.advance_mode=e.config.advance_mode;s="/wx/"+e.app.slug+"/broadcast";if(!e.advance_mode){return}e.broadcasts=r.broadcast.query({app_slug:e.app.slug});u=n.casttypes;e.prepare=function(e){var t,r,i,o;e.msg_type_ico=n.default_msgtype_icon;o=[];for(t=0,i=u.length;t<i;t++){r=u[t];if(e.msg_type===r.key){e.msg_type_ico=r.ico;o.push(e.msg_type_name=r.name)}else{o.push(void 0)}}return o};e.add=function(){return t.path(s+"/"+"new")};e.edit=function(e){return t.path(s+"/"+e.id)};e.paged=1;c=[];o.select(e,c);o.more(e,e.broadcasts);return o.trash(e,c,function(t){return angular.removeFromList(e.broadcasts,t)},function(){return a("Broadcasts have been deleted.")})}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wxBroadcastEditCtrl",["$scope","$routeParams","$location","$http","restWx","supChain","image","navService","flash","fsv","mediaModal","syncModal","ConfigWx","Config","g",function(t,n,r,i,o,a,l,s,u,c,d,f,m,p,h){var g,v,b,y,_,w,$,E,A,C,M,k;s.section("broadcasts");v=n.cast_id;C=h.user.profile;t.app=h.app.current;t.config=h.app.current.config;t.advance_mode=t.config.advance_mode;t.now=Date.now();t.attachments=[];t.sending=false;t.image={cover:l.trans_cover,banner:l.trans_banner,trans:l.trans};g="/"+t.app.type+"/"+t.app.slug;_=g+"/settings/wx_admins";b=g+"/broadcasts";y=g+"/broadcast";t.is_new=v==="new"?true:false;t.msgtypes=m.casttypes;if(!t.advance_mode){return}t.wx_admins=o.admin.query({app_slug:t.app.slug});if(t.is_new){k={app_slug:t.app.slug,msg_type:t.msgtypes[1].key,author:C.meta?C.meta.display_name:void 0,mess_send:true,show_cover:1};t.broadcast=new o.broadcast(k)}else{t.broadcast=o.broadcast.get({app_slug:t.app.slug,cast_id:v})}M=function(e,n){var r;r=new o.attachment({app_slug:t.app.slug,src:e});console.log("--------------->");console.log("Synchronizing: ",e);return r.$save().then(function(e){var r;angular.removeFromList(t.attachments,e.src);r=new RegExp(e.src,"ig");if(e.synchronized){console.log("Uploaded:",e.url)}else{console.log("Cached:",e.url)}t.broadcast.content=n.replace(r,e.url);if(t.attachments.length>0){return M(t.attachments[0],t.broadcast.content)}})};w=function(){if(t.attachments.length<=0){return}return M(t.attachments[0],t.broadcast.content)};A=function(e,t,n){var r,i,o,a,l;o=e.querySelectorAll(t);for(a=0,l=o.length;a<l;a++){r=o[a];i=r.getAttribute("style")||"";r.setAttribute("style",i+" "+n)}return e};E=function(e){var n,r,i;if(!e){return e}n=null;if(t.config.theme_config){n=t.config.theme_config.broadcast_styles}if(!n){n=m.broadcast_styles||{}}if(angular.isObject(n)){for(r in n){i=n[r];A(e,r,i)}}return e};$=function(){if(t.broadcast.msg_type!=="news"||!t.broadcast.article_url){return t.broadcast.content=""}else{return i.get(t.broadcast.article_url+"/").then(function(e){var n,r,i,o,a,l,s,u,c,d,f,m,h,g,v,b;if(p.debug){console.log("Sync Content: ------->");console.log(e.data);console.log("--------------------->")}g=e.data;l=document.createDocumentFragment();b=document.createElement("div");b.innerHTML=g;l.appendChild(b);a=l.querySelector("article[sup-wx-broadcast], article#sup-wx-broadcast");E(a);n=[];r="";if(a){d=a.querySelectorAll("img[src]");v=new RegExp("^(?!http[s]?://mmbiz.q)","i");for(s=0,m=d.length;s<m;s++){u=d[s];c=u.getAttribute("src");if(c&&angular.isUrl(c,v)){n.push(c)}}o=a.querySelectorAll("[style]:not(img)");for(f=0,h=o.length;f<h;f++){i=o[f];c=i.style.backgroundImage;c=c.replace(/url\(["']?/,"");c=c.replace(/["']?\)/,"");if(c&&angular.isUrl(c,v)){n.push(c)}}n=angular.set(n);r=a.innerHTML}t.attachments=n||[];t.broadcast.content=r||"";return console.log("Attachments:",t.attachments)})["catch"](function(e){return u("Broadcast artcile can not be load.",true)})}};t.back=function(){return r.path(b)};t.save=function(){if(!c(t.broadcast_form,"title","type")){return}return t.broadcast.$save(function(e){u("Broadcast has been saved.");if(t.is_new){return r.path(y+"/"+t.broadcast.id)}})};t.trash=function(){if(t.is_new){return}return t.broadcast.$remove(function(e){console.log("removed msg_ids:",e.removed_msg_ids);u("Broadcast has been deleted.");return r.path(b)})};t.isComplete=function(){if(!t.broadcast){return false}if(t.broadcast.msg_type==="news"){return Boolean(t.broadcast.media_url)}else if(t.broadcast.msg_type==="text"){return Boolean(t.broadcast.text)}else{return true}};t.previewAble=function(){var e;e=t.wx_admins&&t.wx_admins.length>0;return Boolean(e)};t.setWeChatAdmin=function(){return r.path(_)};t.send=function(e){if(!c(t.broadcast_form,"title","type")){return}if(!e&&!c(t.send_form,"code")){return}t.sending=true;return a().then(function(){return $()}).then(function(){return w()}).then(function(){return t.broadcast.$save()}).then(function(){t.broadcast["preview_by"]=e;return t.broadcast.$send(function(e){return u("Broadcast has been sent.")})})["finally"](function(){return t.sending=false})};t.callMedia=function(e){return d(t.app,false,false,m.cast_mimetypes).then(function(t){return e.media_url=t.src})};t.editContent=function(e){var n;if(!e){return}n="/#/editor/"+t.app.type+"/"+t.app.slug+"/"+("article/"+e+"?device=phone");return window.location.href=n};return t.callSync=function(n){var r;r=[t.app];return f(r).then(function(r){var i,o;n.title=r.meta.title||"";o=n.media_url;if(r.meta.featured_img){i=r.meta.featured_img.mimetype;if(e.call(m.cast_mimetypes,i)>=0){o=r.meta.featured_img.src||""}}n.media_url=o||"";n.digest=angular.cleanTags(r.meta.description)||"";n.url=r.url||"";n.article_url=r.url||"";n.article_id=r.id;if(r.meta.author){return t.broadcast.author=r.meta.author}})}}])}).call(this);(function(){angular.module("boltApp").controller("wxMaterialsCtrl",["$scope","restWx","navService","funcGenerator","flash","prompt","g",function(e,t,n,r,i,o,a){var l;n.section("broadcasts/materials");e.app=a.app.current;e.now=Date.now();e.config=a.app.current.config;e.advance_mode=e.config.advance_mode;if(!e.advance_mode){return}e.mediafiles=t.attachment.query({app_slug:e.app.slug});e.copyURL=function(e){var t;t="Please use the native replication function "+"to copy the content in the textbox.";return o(t,e)};e.paged=1;l=[];r.select(e,l);r.more(e,e.mediafiles);return r.trash(e,l,function(t){return angular.removeFromList(e.mediafiles,t)},function(){return i("Media files have been deleted.")})}])}).call(this);(function(){angular.module("boltApp").controller("wxCustomMenuCtrl",["$scope","restWx","ConfigWx","navService","dialog","flash","g",function(e,t,n,r,i,o,a){var l,s,u,c,d;r.section("menu");e.app=a.app.current;e.menu_nodes=[];e.custom_menu=t.custom_menu.get({app_slug:e.app.slug},function(t){e.menu_nodes=t.menu;return e.advance_mode=t.advance_mode});e.selected_node=null;e.top_limit=n.max_menus[0];e.child_limit=n.max_menus[1];e.check_addable=function(t){if(!t||e.menu_nodes===t){return e.menu_nodes.length>=e.top_limit}else{return t.length>=e.child_limit}};s=null;e.dragStart=function(e){return s=e};l=false;e.dropCallback=function(e,t){if(l===t){return e}else{o("The number of your submenu has reached the limit.",true);return false}};e.dragoverCallback=function(t){l=false;if(angular.inList(t,s)){l=t;return true}if(t===e.menu_nodes&&t.length>=e.top_limit){return false}if(t.length>=e.child_limit){return false}l=t;return true};e.add=function(t,n){var r;if(!t){t=e.menu_nodes}r={_new:true,name:"",type:"",key:"",url:""};d(r,t);if(n){n.stopPropagation()}return false};e.edit=function(e,t,n){d(e,t);if(n){n.stopPropagation()}return false};e.save=function(){if(e.menu_nodes.length<=0){e.destroy();return}e.custom_menu.menu=e.menu_nodes;return e.custom_menu.$save().then(function(n){var r;r=t.custom_menu.sync({app_slug:e.app.slug});return r.$promise}).then(function(e){return o("Custom menu has been saved.")})};e.destroy=function(){return e.custom_menu.$remove().then(function(n){var r;e.menu_nodes=[];r=t.custom_menu.sync({app_slug:e.app.slug});return r.$promise}).then(function(e){return o("Custom menu has been removed.")})};e.openHardcode=function(){var t;t=angular.copy(e.menu_nodes);return c(t)};e.toggleSelect=function(t){if(e.selected_node===t){return e.selected_node=null}else{return e.selected_node=t}};e.isSelected=function(t){return e.selected_node===t};u="blueprints/wx/views/";c=function(t){return i.show({controller:"wxMenuHardcodeCtrl",templateUrl:u+"custom_menu_hardcode.tmpl.html",locals:{nodes:t}}).then(function(t){if(t){e.menu_nodes=t;return e.save()}})};return d=function(t,r){var o;o=t;return i.show({controller:"wxMenuEditCtrl",templateUrl:u+"custom_menu_edit.tmpl.html",locals:{node:angular.copy(t),nodetypes:n.btntypes,is_top:r===e.menu_nodes}}).then(function(e){if(e){if(e.deleted){angular.removeFromList(r,o);return}o.name=e.name;o.type=e.type;o.url=e.url;o.key=e.key;if(o._new){delete o._new;return r.push(o)}}})}}])}).call(this);(function(){angular.module("boltApp").controller("wxMenuEditCtrl",["$scope","dialog","fsv","node","nodetypes","is_top",function(e,t,n,r,i,o){var a;if(typeof angular.translate==="function"){e._=angular.translate}e.nodetypes=i;if(!r.type){r.type=i[0].key}e.node=r;e["new"]=Boolean(r._new);a=o?16:36;e.$watch("node.type",function(t){switch(t){case"view":e.node.key=null;break;case"click":e.node.url=null;break;case"scancode_push":e.node.url=null;e.node.key=null}e.node_form.$setPristine();return e.node_form.$setUntouched()});e.$watch("node.name",function(t){var n;n=angular.str_byte(t);return e.node_form["name"].$setValidity("byte-limit",n<=a)});e.save=function(){var r;switch(e.node.type){case"view":r="url";break;case"click":r="key";break;case"scancode_push":e.node.key=Date.now().toString();r=null;break;default:r=null}if(!r){if(!n(e.node_form,"name","type")){return}}else{if(!n(e.node_form,"name",r,"type")){return}}return t.hide(e.node)};e.trash=function(){e.node.deleted=true;return t.hide(e.node)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxMenuHardcodeCtrl",["$scope","dialog","fsv","nodes",function(e,t,n,r){var i,o,a;if(typeof angular.translate==="function"){e._=angular.translate}i=function(e){var t,n,r;for(t=0,n=e.length;t<n;t++){r=e[t];delete r.$$hashKey;if(r.nodes){i(r.nodes)}}return e};o=i(r);e.nodes_hardcode=JSON.stringify(o,null,2);e.$watch("nodes_hardcode",function(t){var n,r;if(!t){t="[]"}try{o=JSON.parse(t);return e.hardcode_form.hardcode.$setValidity("format",true)}catch(r){n=r;return e.hardcode_form.hardcode.$setValidity("format",false)}});e.submit=function(){return a()};a=function(){if(!n(e.hardcode_form,"hardcode")){return}return t.hide(o)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxWifiCtrl",["$scope","ConfigWx","restWx","dialog","flash","navService","g",function(e,t,n,r,i,o,a){var l;o.section("wifi");e.app=a.app.current;e.config=a.app.current.config;e.advance_mode=e.config.advance_mode;e.wifi_mode=e.config.wifi_mode;if(!e.advance_mode||!e.wifi_mode){return}l=function(){return e.wx_wifis=n.wifi.query({app_slug:e.app.slug},function(){var t,n,r,i,o;r=e.wx_wifis;i=[];for(t=0,n=r.length;t<n;t++){o=r[t];i.push(o.edit_url="/#/wx/"+e.app.slug+"/wifi/"+o.id)}return i})};l();return e.sync=function(){return n.wifi.sync({app_slug:e.app.slug},function(e){i("WeChat Wifi has been synced.");return l()})}}])}).call(this);(function(){angular.module("boltApp").controller("wxWifiDetailCtrl",["$scope","$routeParams","$location","dialog","restWx","supChain","navService","ConfigWx","flash","fsv","g",function(e,t,n,r,i,o,a,l,s,u,c){var d,f,m,p;a.section("wifi");p=t.wifi_id;e.app=c.app.current;e.config=c.app.current.config;e.advance_mode=e.config.advance_mode;e.wifi_mode=e.config.wifi_mode;e.bar_types=l.bar_types;e.wifi_device_limit=l.wifi_device_limit;f="/wx/"+e.app.slug+"/wifi";if(!e.advance_mode||!e.wifi_mode){return}o().then(function(){return e.wifi=i.wifi.get({app_slug:e.app.slug,wifi_id:p})}).then(function(){return e.wifi_devices=i.wifi_device.query({app_slug:e.app.slug,wifi_id:p})});e.submitted=false;e.back=function(){return n.path(f)};e.add=function(){var t;if(e.wifi_devices.length>=e.wifi_device_limit){return}t=new i.wifi_device({ssid:"",pwd:"",app_slug:e.app.slug,wifi_id:e.wifi.id,_new:true});return m(t).then(function(t){return e.wifi_devices.push(t)})};e.edit=function(t,n){return m(t).then(function(t){if(t.deleted){return e.wifi_devices.splice(n,1)}})};e.save=function(){e.submitted=true;return e.wifi.$save().then(function(e){return s("WeChat Wifi has been saved.")})["finally"](function(){return e.submitted=false})};e.trash=function(){e.submitted=true;return e.wifi.$remove().then(function(t){e.wifi_devices.length=0;return s("WeChat Wifi has been cleand.")})["finally"](function(){return e.submitted=false})};d="blueprints/wx/views/";return m=function(e){return r.show({controller:"wxWifiEditDeviceCtrl",templateUrl:d+"wifi_edit_device.tmpl.html",locals:{device:e}})}}])}).call(this);(function(){angular.module("boltApp").controller("wxWifiEditDeviceCtrl",["$scope","dialog","fsv","device",function(e,t,n,r){if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(r._new);e.submitted=false;e.op_device=angular.copy(r);e.device=r;if(!e.op_device.pwd){e.op_device.pwd="WX"}e.save=function(){if(e.submitted){return}if(!n(e.device_form,"ssid","pwd")){return}e.submitted=true;e.device.ssid=e.op_device.ssid;e.device.pwd=e.op_device.pwd;return e.device.$save().then(function(){return t.hide(e.device)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.submitted){return}e.submitted=true;return e.device.$remove().then(function(){return t.hide(e.device)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wxOptionsCtrl",["$scope","$location","supChain","restWx","restApp","Config","ConfigWx","flash","fsv","helpModal","mediaModal","navService","g",function(e,t,n,r,i,o,a,l,s,u,c,d,f){d.section("settings/options");e.app=e.profile=f.app.current;e.config=f.app.current.config;if(o.debug){e.config.skip_access_test=true}e.wxtypes=a.wxtypes;e.locales=o.locales;e.show_adv_form=Boolean(e.config.advance_mode);e.domain=i.domain.get({app_slug:e.app.slug},function(t){return e.binded=Boolean(t.domain)});e.toggleAdv=function(){return e.show_adv_form=!e.show_adv_form};e.selectSnapshot=function(t){if(t){e.profile.snapshot=""}else{c(e.app,false).then(function(t){return e.profile.snapshot=t.src})}};e.bindInterface=function(){if(!s(e.interface_form,"token","type")){return}if(!e.config.wx_secret||!e.config.wx_appid){e.config.advance_mode=false}if(!e.config.advance_mode){e.config.wifi_mode=false}return e.config.$save(function(t){if(o.debug){e.config.skip_access_test=true}return l("Your WeChat config has been updated.")})};e.save=function(){if(!s(e.profile_form,"title","locales","description")){return}return e.profile.$save().then(function(){return l("Your App profile has been modified.")})};e.bind=function(){if(!s(e.domain_form,"domain")){return}return e.domain.$save().then(function(t){e.binded=true;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return l("Your App domain has been binded.")})};e.unbind=function(){e.domain.domain="";e.domain.protocol="";e.domain_form.$setPristine();e.domain_form.$setUntouched();return e.domain.$remove().then(function(t){e.binded=false;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return l("Your App domain has been unbinded.")})};return e.help=function(e){return u(e)}}])}).call(this);(function(){angular.module("boltApp").controller("wxAdminsCtrl",["$scope","ConfigWx","restWx","dialog","navService","g",function(e,t,n,r,i,o){var a,l;i.section("settings/admins");e.app=o.app.current;e.wx_admins=n.admin.query({app_slug:e.app.slug});a=10;e.check_addable=function(){var t,n,r,i,o;n=0;o=e.wx_admins;for(r=0,i=o.length;r<i;r++){t=o[r];if(!t.deleted){n++}}if(n>=a){return false}else{return true}};e.add=function(){var t,r;r={app_slug:e.app.slug,name:"",wechat_id:"",open_id:""};t=new n.admin(r);t._new=true;return l(t)};e.edit=function(e){var t;t=angular.copy(e);return l(t)};return l=function(t){return r.show({controller:"wxAdminEditCtrl",templateUrl:"blueprints/wx/views/settings/wx_admin_edit.tmpl.html",locals:{admin:t,app:e.app}}).then(function(t){var n,r,i,o,a,l;if(!t){return t}if(t._new){delete t._new;return e.wx_admins.unshift(t)}else{a=e.wx_admins;l=[];for(i=r=0,o=a.length;r<o;i=++r){n=a[i];if(n.id===t.id){if(t.deleted){e.wx_admins.splice(i,1)}else{e.wx_admins[i]=t}break}else{l.push(void 0)}}return l}})}}])}).call(this);(function(){angular.module("boltApp").controller("wxAdminEditCtrl",["$scope","dialog","flash","fsv","admin","app",function(e,t,n,r,i,o){var a,l;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.admin=i;e.submitted=false;e.submit=function(){if(e.submitted){return}if(e["new"]){return a()}else{return l()}};a=function(){if(!r(e.admin_form,"name","wechat_id")){return}e.submitted=true;return e.admin.$save().then(function(e){n("WeChat Admin has been created.");e._new=true;return t.hide(e)})["finally"](function(){return e.submitted=false})};l=function(){if(!r(e.admin_form,"name","wechat_id")){return}e.submitted=true;return e.admin.$save().then(function(e){n("WeChat Admin has been saved.");return t.hide(e)})["finally"](function(){return e.submitted=false})};e.trash=function(){if(e.admin.deleted||e.submitted){return}e.submitted=true;return e.admin.$remove().then(function(e){n("WeChat Admin has been deleted.");return t.hide(e)})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","wxResolveProvider","ConfigWx",function(e,t,n){var r,i;r=n.app_type;i={wx:t.resolve};return e.when("/"+r+"/:app_slug",{templateUrl:"blueprints/"+r+"/views/dashboard.html",controller:"wxDashboardCtrl",resolve:i}).when("/"+r+"/:app_slug/content/article",{templateUrl:"blueprints/"+r+"/views/articles.html",controller:"wxArticlesCtrl",resolve:i}).when("/"+r+"/:app_slug/responses",{templateUrl:"blueprints/"+r+"/views/responses.html",controller:"wxResponesesCtrl",resolve:i}).when("/"+r+"/:app_slug/response/:resp_id",{templateUrl:"blueprints/"+r+"/views/response_edit.html",
controller:"wxResponeseEditCtrl",resolve:i}).when("/"+r+"/:app_slug/records",{templateUrl:"blueprints/"+r+"/views/records.html",controller:"wxRecordsCtrl",resolve:i}).when("/"+r+"/:app_slug/broadcasts",{templateUrl:"blueprints/"+r+"/views/broadcasts.html",controller:"wxBroadcastsCtrl",resolve:i}).when("/"+r+"/:app_slug/broadcast/:cast_id",{templateUrl:"blueprints/"+r+"/views/broadcast_edit.html",controller:"wxBroadcastEditCtrl",resolve:i}).when("/"+r+"/:app_slug/materials",{templateUrl:"blueprints/"+r+"/views/broadcast_materials.html",controller:"wxMaterialsCtrl",resolve:i}).when("/"+r+"/:app_slug/custom_menu",{templateUrl:"blueprints/"+r+"/views/custom_menu.html",controller:"wxCustomMenuCtrl",resolve:i}).when("/"+r+"/:app_slug/wifi",{templateUrl:"blueprints/"+r+"/views/wifi.html",controller:"wxWifiCtrl",resolve:i}).when("/"+r+"/:app_slug/wifi/:wifi_id",{templateUrl:"blueprints/"+r+"/views/wifi_detail.html",controller:"wxWifiDetailCtrl",resolve:i}).when("/"+r+"/:app_slug/media",{templateUrl:"blueprints/app/views/media.html",controller:"appMediaCtrl",resolve:i}).when("/"+r+"/:app_slug/settings",{templateUrl:"blueprints/"+r+"/views/settings/options.html",controller:"wxOptionsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/wx_admins",{templateUrl:"blueprints/"+r+"/views/settings/wx_admins.html",controller:"wxAdminsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/metas",{templateUrl:"blueprints/app/views/settings/metas.html",controller:"appMetasCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/themes",{templateUrl:"blueprints/app/views/settings/themes.html",controller:"appThemesCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/destroy",{templateUrl:"blueprints/app/views/settings/destroy.html",controller:"appDestroyCtrl",resolve:i})}])}).call(this);(function(){angular.module("boltApp").constant("ConfigWb",{app_type:"wb",static_type:{slug:"page",title:"Pages"},article_type:{slug:"article",title:"Articles"}})}).call(this);(function(){angular.module("boltApp").factory("restWb",["supResource","Config","ConfigWb",function(e,t,n){var r;r=t.baseURL.api+"/"+n.app_type;return{content:function(){return e(r+"/:app_slug/content_file/:type_slug/:file_id",{app_slug:"@app_slug",type_slug:"@content_type",file_id:"@id"})}(),gutter:function(){return e(r+"/:app_slug/gutter",{app_slug:"@app_slug"})}()}}])}).call(this);(function(){angular.module("boltApp").provider("wbResolve",function(){return{resolve:["$route","navWb","g",function(e,t,n){var r;r=e.current.params.app_slug;if(!n.inited){return n.init().then(function(){n.setCurrentApp(r);return t.load(n.app.current)})}else{n.setCurrentApp(r);return t.load(n.app.current)}}],$get:function(){}}})}).call(this);(function(){angular.module("boltApp").factory("navWb",["navService","ConfigWb",function(e,t){var n,r,i;i=[{name:"Digital Book"},{key:"portal",name:"Return",path:"/",ico:"nav:ic_arrow_back_24px","class":"md-accent"},{key:"dashboard",name:"Dashboard",path:"$/",ico:"action:ic_dashboard_24px"},{key:"articles",name:"Book Articles",path:"$/content/"+t.article_type.slug,ico:"action:ic_description_24px"},{key:"bookframes",name:"Book Frames",path:"$/content/"+t.static_type.slug,ico:"action:ic_description_24px"},{key:"media",name:"Media library",path:"$/media",ico:"image:ic_photo_library_24px"},{key:"settings",name:"Settings",ico:"action:ic_settings_24px",nodes:[{key:"options",name:"Options",path:"$/settings"},{key:"metas",name:"Metas",path:"$/settings/metas"},{key:"themes",name:"Themes",path:"$/settings/themes"},{key:"destroy",name:"Destroy",path:"$/settings/destroy","class":"md-warn"}]}];n="comm:ic_chat_24px";r=function(e,n){e=e.replace("$",t.app_type+"/"+n);return e};this.load=function(t){var o,a,l,s,u,c,d,f;if(!t){return}if(n){t.icon=n}c=angular.copy(i);for(o=0,l=c.length;o<l;o++){u=c[o];if(u.path&&u.path.indexOf("$")===0){u.path=r(u.path,t.slug)}if(u.nodes){f=u.nodes;for(a=0,s=f.length;a<s;a++){d=f[a];if(d.path&&d.path.indexOf("$")===0){d.path=r(d.path,t.slug)}}}}return e.load(c,t.title,t.icon,t)};return this}])}).call(this);(function(){angular.module("boltApp").controller("wbDashboardCtrl",["$scope","restApp","navService","g",function(e,t,n,r){n.section("dashboard");e.app=r.app.current;return t.doGetAnalytics(e.app.id).then(function(t){return e.analytic_data=t})}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.module("boltApp").controller("wbArticleCtrl",["$scope","$location","restWb","restApp","flash","navService","funcGenerator","ConfigWb","dialog","g",function(t,n,r,i,o,a,l,s,u,c){var d,f,m,p,h,g,v,b,y;a.section("articles");t.g=c;t.app=c.app.current;t.current_type=s.article_type;t.now=Date.now();t.unallocated={nodes:[]};t.gutter_loaded=false;t.chapters=[];t.gutter=r.gutter.get({app_slug:t.app.slug});t.gutter.$promise.then(function(){t.gutter_loaded=true;t.chapters=t.gutter.nodes;return m()});t.files=[];y=function(e){var n;n=new RegExp("^"+t.app.base_url,"i");if(e.url){e.link=e.url.replace(n,"")}else{e.link=""}return e};d=function(e,t){var n,r,i;for(r=0,i=t.length;r<i;r++){n=t[r];if(e.id&&e.id===n.id){return y(n)}}return null};m=function(){t.current_theme=new i.current_theme({app_slug:t.app.slug});return t.current_theme.$get().then(function(e){var n;n=r.content.query({app_slug:t.app.slug,type_slug:t.current_type.slug});return n.$promise}).then(function(n){var r,i,o,a,l,s,u,c,m,p,h,g,v,b,y,_,w,$,E,A,C;t.files.length=0;for(u=0,p=n.length;u<p;u++){a=n[u];t.files.push(a)}C=t.current_theme.templates||{};for(c=0,h=n.length;c<h;c++){a=n[c];if(a.meta.template&&!C[a.meta.template]){a._tmpl_missing=true}if(!a.meta.hasOwnProperty("title")){a.meta.title=a.slug}f(a)}o=[];E=t.chapters;for(m=0,g=E.length;m<g;m++){i=E[m];if(!angular.isArray(i.nodes)){continue}r=[];A=i.nodes;for(s=y=0,v=A.length;y<v;s=++y){$=A[s];w=d($,t.files);if($&&w){angular.merge($,w);o.push($.id)}else{r.push(s)}}r.reverse();for(_=0,b=r.length;_<b;_++){l=r[_];i.nodes.splice(l,1)}}return t.unallocated.nodes=function(){var n,r,i,l,s;i=t.files;s=[];for(r=0,n=i.length;r<n;r++){a=i[r];if(l=a.id,e.call(o,l)<0){s.push(a)}}return s}()})["catch"](function(e){return n.path("/404")})};t.add=function(e,n){var i,o;o={app_slug:t.app.slug,content_type:t.current_type.slug,meta:{title:""},status:0,content:""};i=new r.content(o);i.archive=true;i._new=true;return g(i).then(function(r){r=y(r);if(e){e.nodes.push(r)}return v(null).then(function(){if(!n){window.location.href=r.edit_url}if(n){return t.toggleChapter(e,true)}})})};t.addChapter=function(){var e;if(!t.gutter_loaded){return}e={_new:true,nodes:[]};h(e)};t.editChapter=function(e,t){if(!e){return}h(e);if(t){t.stopPropagation()}};t.saveChapter=function(e){v();if(e){e.stopPropagation()}};v=function(e,n){if(!t.gutter_loaded){return}if(n){o("Chapter slug is duplicated.",true);return}if(e===void 0){e="Chapter has been saved."}t.gutter.nodes=t.chapters;return t.gutter.$save().then(function(){var n,r,i,a,l;l=t.gutter.nodes;for(n=r=0,i=l.length;r<i;n=++r){a=l[n];if(!t.chapters[n]||t.chapters[n].key!==a.key){t.chapters[n]=a}}if(t.gutter.nodes.length!==t.chapters.length){t.chapters.length=t.gutter.nodes.length}if(e){o(e)}return p.length=0})};t.showChapter=function(e){return e&&e._show};t.toggleChapter=function(e,t){var n,r,i,o,a;if(!e){return}if(!t&&e._show){e._show=false}else{e._show=true}o=e.nodes;a=[];for(n=0,r=o.length;n<r;n++){i=o[n];a.push(angular.removeFromList(p,i,"id"))}return a};t.switchChapter=function(e,t,n){if(!e||!t||!n){return}if(angular.isArray(t.nodes)&&angular.isArray(e.nodes)){n=angular.popFromList(e.nodes,n,"id");t.nodes.push(n)}};t.moveForward=function(e,t,n){var r,i,o;if(!e){return}i=e.nodes;if(t>0){r=t-1;o=[i[r],i[t]],i[t]=o[0],i[r]=o[1]}if(n){n.stopPropagation()}};t.moveBackward=function(e,t,n){var r,i,o;if(!e){return}i=e.nodes;if(t<i.length-1){r=t+1;o=[i[r],i[t]],i[t]=o[0],i[r]=o[1]}if(n){n.stopPropagation()}};p=[];l.select(t,p);l.trash(t,p,function(e){var n,r,i,o,a;angular.removeFromList(t.files,e);angular.removeFromList(t.unallocated.nodes,e,"id");o=t.chapters;a=[];for(r=0,i=o.length;r<i;r++){n=o[r];a.push(angular.removeFromList(n.nodes,e,"id"))}return a},function(){return o("Articles have been deleted.")});h=function(e){return u.show({controller:"wbChapterEditCtrl",templateUrl:"blueprints/wb/views/chapter_edit.tmpl.html",locals:{chapter:e}}).then(function(e){var n,r,i,o,a,l,s;o=false;r="";if(e){if(e._new){delete e._new;o=b(e);if(!o){t.chapters.push(e);r="Chapter has been created."}}else{s=t.chapters;for(i=a=0,l=s.length;a<l;i=++a){n=s[i];if(n.key===e.key){if(e.deleted){t.chapters.splice(i,1);r="Chapter has been deleted.";m()}else{t.chapters[i]=e;r="Chapter has been saved."}break}}}return v(r,o)}})};b=function(e){var n,r,i,o;o=t.chapters;for(r=0,i=o.length;r<i;r++){n=o[r];if(e.key===n.key){return true}}};g=function(e){p.length=0;return u.show({controller:"wbContentCreateCtrl",templateUrl:"blueprints/wb/views/content_create.tmpl.html",locals:{file:e}}).then(function(e){if(e&&e._new){delete e._new;f(e)}return e})};return f=function(e){return e.edit_url="/#/editor/"+t.app.type+"/"+t.app.slug+"/"+(t.current_type.slug+"/"+e.id)}}])}).call(this);(function(){angular.module("boltApp").controller("wbBookFramesCtrl",["$scope","$location","restWb","flash","navService","funcGenerator","ConfigWb","dialog","g",function(e,t,n,r,i,o,a,l,s){var u,c,d;i.section("bookframes");e.g=s;e.app=s.app.current;e.current_type=a.static_type;e.now=Date.now();e.files=n.content.query({app_slug:e.app.slug,type_slug:e.current_type.slug},function(){var t,n,r,i,o,a;i=e.files;o=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.meta.hasOwnProperty("template")){a=t.meta.template}else{a=t.content_type}if(!t.meta.hasOwnProperty("title")){t.meta.title=t.slug}o.push(u(t))}return o});e.add=function(){var t,r;r={app_slug:e.app.slug,content_type:e.current_type.slug,meta:{title:""},status:0,content:""};t=new n.content(r);t._new=true;return d(t).then(function(e){return window.location.href=e.edit_url})};c=[];o.select(e,c);o.trash(e,c,function(t){return angular.removeFromList(e.files,t)},function(){return r("Contents have been deleted.")});d=function(t){c.length=0;return l.show({controller:"wbContentCreateCtrl",templateUrl:"blueprints/wb/views/content_create.tmpl.html",locals:{file:t}}).then(function(t){if(t&&t._new){delete t._new;u(t);e.files.unshift(t)}return t})};return u=function(t){return t.edit_url="/#/editor/"+e.app.type+"/"+e.app.slug+"/"+(e.current_type.slug+"/"+t.id)}}])}).call(this);(function(){angular.module("boltApp").controller("wbContentCreateCtrl",["$scope","dialog","flash","fsv","file",function(e,t,n,r,i){var o;if(typeof angular.translate==="function"){e._=angular.translate}e.file=i;e.submitted=false;e.submit=function(){if(e.submitted){return}return o()};o=function(){if(!r(e.file_form,"title","slug")){return}e.submitted=true;return e.file.$save().then(function(e){e._new=true;t.hide(e);return n("Content has been created.")})["finally"](function(){return e.submitted=false})};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wbChapterEditCtrl",["$scope","dialog","flash","fsv","chapter",function(e,t,n,r,i){var o,a;if(typeof angular.translate==="function"){e._=angular.translate}e["new"]=Boolean(i._new);e.chapter=i;e.submit=function(){if(e["new"]){return o()}else{return a()}};o=function(){if(!r(e.chapter_form,"title","key")){return}return t.hide(e.chapter)};a=function(){if(!r(e.chapter_form,"title")){return}return t.hide(e.chapter)};e.trash=function(){e.chapter.deleted=true;return t.hide(e.chapter)};return e.close=function(){return t.cancel()}}])}).call(this);(function(){angular.module("boltApp").controller("wbOptionsCtrl",["$scope","$rootScope","$location","ConfigWb","Config","navService","flash","fsv","helpModal","mediaModal","restApp","g",function(e,t,n,r,i,o,a,l,s,u,c,d){o.section("settings/options");e.app=e.profile=d.app.current;e.protocols=i.protocols;e.locales=i.locales;e.binded=false;e.domain=c.domain.get({app_slug:e.app.slug},function(t){return e.binded=Boolean(t.domain)});e.selectSnapshot=function(t){if(t){e.profile.snapshot=""}else{u(e.app,false).then(function(t){return e.profile.snapshot=t.src})}};e.save=function(){if(!l(e.profile_form,"title","locales","description")){return}return e.profile.$save().then(function(){return a("Your App profile has been modified.")})};e.bind=function(){if(!l(e.domain_form,"domain")){return}return e.domain.$save().then(function(t){e.binded=true;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return a("Your App domain has been binded.")})};e.unbind=function(){e.domain.domain="";e.domain.protocol="";e.domain_form.$setPristine();e.domain_form.$setUntouched();return e.domain.$remove().then(function(t){e.binded=false;e.profile.base_url=t.base_url;e.profile.domain=t.domain;e.profile.url=t.uri;return a("Your App domain has been unbinded.")})};return e.help=function(e){return s(e)}}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider","wbResolveProvider","ConfigWb",function(e,t,n){var r,i;r=n.app_type;i={wb:t.resolve};return e.when("/"+r+"/:app_slug",{templateUrl:"blueprints/"+r+"/views/dashboard.html",controller:"wbDashboardCtrl",resolve:i}).when("/"+r+"/:app_slug/content/article",{templateUrl:"blueprints/"+r+"/views/articles.html",controller:"wbArticleCtrl",resolve:i}).when("/"+r+"/:app_slug/content/page",{templateUrl:"blueprints/"+r+"/views/bookframes.html",controller:"wbBookFramesCtrl",resolve:i}).when("/"+r+"/:app_slug/media",{templateUrl:"blueprints/app/views/media.html",controller:"appMediaCtrl",resolve:i}).when("/"+r+"/:app_slug/settings",{templateUrl:"blueprints/"+r+"/views/settings/options.html",controller:"wbOptionsCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/metas",{templateUrl:"blueprints/app/views/settings/metas.html",controller:"appMetasCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/themes",{templateUrl:"blueprints/app/views/settings/themes.html",controller:"appThemesCtrl",resolve:i}).when("/"+r+"/:app_slug/settings/destroy",{templateUrl:"blueprints/app/views/settings/destroy.html",controller:"appDestroyCtrl",resolve:i})}])}).call(this);(function(){angular.module("boltApp").config(["$routeProvider",function(e){return e.when("/403",{templateUrl:"blueprints/403.html"}).otherwise({redirectTo:"/404"}).when("/404",{templateUrl:"blueprints/404.html"}).otherwise({redirectTo:"/404"})}])}).call(this);
