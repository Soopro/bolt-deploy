(function(e,t,n){"use strict";function r(e,t){t=t||Error;return function(){var n=2;var r=arguments,i=r[0],a="["+(e?e+":":"")+i+"] ",o=r[1],s,u;a+=o.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),i=t+n;if(i<r.length){return et(r[i])}return e});a+="\nhttp://errors.angularjs.org/1.4.0/"+(e?e+"/":"")+i;for(u=n,s="?";u<r.length;u++,s="&"){a+=s+"p"+(u-n)+"="+encodeURIComponent(et(r[u]))}return new t(a)}}var i=/^\/(.+)\/([a-z]*)$/;var a="validity";var o=function(e){return B(e)?e.toLowerCase():e};var s=Object.prototype.hasOwnProperty;var u=function(e){return B(e)?e.toUpperCase():e};var l=function(e){return B(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):e};var c=function(e){return B(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&~32)}):e};if("i"!=="I".toLowerCase()){o=l;u=c}var f,d,h,p=[].slice,v=[].splice,$=[].push,m=Object.prototype.toString,g=Object.getPrototypeOf,y=r("ng"),b=e.angular||(e.angular={}),w,x=0;f=t.documentMode;function k(e){if(e==null||G(e)){return false}var t="length"in Object(e)&&e.length;if(e.nodeType===We&&t){return true}return B(e)||U(e)||t===0||typeof t==="number"&&t>0&&t-1 in e}function S(e,t,n){var r,i;if(e){if(z(e)){for(r in e){if(r!="prototype"&&r!="length"&&r!="name"&&(!e.hasOwnProperty||e.hasOwnProperty(r))){t.call(n,e[r],r,e)}}}else if(U(e)||k(e)){var a=typeof e!=="object";for(r=0,i=e.length;r<i;r++){if(a||r in e){t.call(n,e[r],r,e)}}}else if(e.forEach&&e.forEach!==S){e.forEach(t,n,e)}else if(D(e)){for(r in e){t.call(n,e[r],r,e)}}else if(typeof e.hasOwnProperty==="function"){for(r in e){if(e.hasOwnProperty(r)){t.call(n,e[r],r,e)}}}else{for(r in e){if(s.call(e,r)){t.call(n,e[r],r,e)}}}}return e}function E(e,t,n){var r=Object.keys(e).sort();for(var i=0;i<r.length;i++){t.call(n,e[r[i]],r[i])}return r}function C(e){return function(t,n){e(n,t)}}function A(){return++x}function M(e,t){if(t){e.$$hashKey=t}else{delete e.$$hashKey}}function T(e,t,n){var r=e.$$hashKey;for(var i=0,a=t.length;i<a;++i){var o=t[i];if(!P(o)&&!z(o))continue;var s=Object.keys(o);for(var u=0,l=s.length;u<l;u++){var c=s[u];var f=o[c];if(n&&P(f)){if(!P(e[c]))e[c]=U(f)?[]:{};T(e[c],[f],true)}else{e[c]=f}}}M(e,r);return e}function O(e){return T(e,p.call(arguments,1),false)}function N(e){return T(e,p.call(arguments,1),true)}function _(e){return parseInt(e,10)}function L(e,t){return O(Object.create(e),t)}function H(){}H.$inject=[];function I(e){return e}I.$inject=[];function j(e){return function(){return e}}function R(e){return typeof e==="undefined"}function V(e){return typeof e!=="undefined"}function P(e){return e!==null&&typeof e==="object"}function D(e){return e!==null&&typeof e==="object"&&!g(e)}function B(e){return typeof e==="string"}function q(e){return typeof e==="number"}function F(e){return m.call(e)==="[object Date]"}var U=Array.isArray;function z(e){return typeof e==="function"}function W(e){return m.call(e)==="[object RegExp]"}function G(e){return e&&e.window===e}function J(e){return e&&e.$evalAsync&&e.$watch}function Y(e){return m.call(e)==="[object File]"}function Z(e){return m.call(e)==="[object FormData]"}function K(e){return m.call(e)==="[object Blob]"}function X(e){return typeof e==="boolean"}function Q(e){return e&&z(e.then)}var ee=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/;function te(e){return ee.test(m.call(e))}var ne=function(e){return B(e)?e.trim():e};var re=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ie(e){return!!(e&&(e.nodeName||e.prop&&e.attr&&e.find))}function ae(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++){t[n[r]]=true}return t}function oe(e){return o(e.nodeName||e[0]&&e[0].nodeName)}function se(e,t){return Array.prototype.indexOf.call(e,t)!=-1}function ue(e,t){var n=e.indexOf(t);if(n>=0){e.splice(n,1)}return n}function le(e,t,n,r){if(G(e)||J(e)){throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}if(te(t)){throw y("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(!t){t=e;if(e){if(U(e)){t=le(e,[],n,r)}else if(te(e)){t=new e.constructor(e)}else if(F(e)){t=new Date(e.getTime())}else if(W(e)){t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);t.lastIndex=e.lastIndex}else if(P(e)){var i=Object.create(g(e));t=le(e,i,n,r)}}}else{if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");n=n||[];r=r||[];if(P(e)){var a=n.indexOf(e);if(a!==-1)return r[a];n.push(e);r.push(t)}var o,u;if(U(e)){t.length=0;for(var l=0;l<e.length;l++){o=le(e[l],null,n,r);if(P(e[l])){n.push(e[l]);r.push(o)}t.push(o)}}else{var c=t.$$hashKey;if(U(t)){t.length=0}else{S(t,function(e,n){delete t[n]})}if(D(e)){for(u in e){f(u,e[u],t,n,r)}}else if(e&&typeof e.hasOwnProperty==="function"){for(u in e){if(e.hasOwnProperty(u)){f(u,e[u],t,n,r)}}}else{for(u in e){if(s.call(e,u)){f(u,e[u],t,n,r)}}}M(t,c)}}return t;function f(e,t,n,r,i){var a=le(t,null,r,i);if(P(t)){r.push(t);i.push(a)}n[e]=a}}function ce(e,t){if(U(e)){t=t||[];for(var n=0,r=e.length;n<r;n++){t[n]=e[n]}}else if(P(e)){t=t||{};for(var i in e){if(!(i.charAt(0)==="$"&&i.charAt(1)==="$")){t[i]=e[i]}}}return t||e}function fe(e,t){if(e===t)return true;if(e===null||t===null)return false;if(e!==e&&t!==t)return true;var r=typeof e,i=typeof t,a,o,s;if(r==i){if(r=="object"){if(U(e)){if(!U(t))return false;if((a=e.length)==t.length){for(o=0;o<a;o++){if(!fe(e[o],t[o]))return false}return true}}else if(F(e)){if(!F(t))return false;return fe(e.getTime(),t.getTime())}else if(W(e)){return W(t)?e.toString()==t.toString():false}else{if(J(e)||J(t)||G(e)||G(t)||U(t)||F(t)||W(t))return false;s=ze();for(o in e){if(o.charAt(0)==="$"||z(e[o]))continue;if(!fe(e[o],t[o]))return false;s[o]=true}for(o in t){if(!(o in s)&&o.charAt(0)!=="$"&&t[o]!==n&&!z(t[o]))return false}return true}}}return false}var de=function(){if(V(de.isActive_))return de.isActive_;var e=!!(t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]"));if(!e){try{new Function("")}catch(n){e=true}}return de.isActive_=e};var he=function(){if(V(he.name_))return he.name_;var e;var n,r=Te.length,i,a;for(n=0;n<r;++n){i=Te[n];if(e=t.querySelector("["+i.replace(":","\\:")+"jq]")){a=e.getAttribute(i+"jq");break}}return he.name_=a};function pe(e,t,n){return e.concat(p.call(t,n))}function ve(e,t){return p.call(e,t||0)}function $e(e,t){var n=arguments.length>2?ve(arguments,2):[];if(z(t)&&!(t instanceof RegExp)){return n.length?function(){return arguments.length?t.apply(e,pe(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}else{return t}}function me(e,r){var i=r;if(typeof e==="string"&&e.charAt(0)==="$"&&e.charAt(1)==="$"){i=n}else if(G(r)){i="$WINDOW"}else if(r&&t===r){i="$DOCUMENT"}else if(J(r)){i="$SCOPE"}return i}function ge(e,t){if(typeof e==="undefined")return n;if(!q(t)){t=t?2:null}return JSON.stringify(e,me,t)}function ye(e){return B(e)?JSON.parse(e):e}function be(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function we(e,t){e=new Date(e.getTime());e.setMinutes(e.getMinutes()+t);return e}function xe(e,t,n){n=n?-1:1;var r=be(t,e.getTimezoneOffset());return we(e,n*(r-e.getTimezoneOffset()))}function ke(e){e=d(e).clone();try{e.empty()}catch(t){}var n=d("<div>").append(e).html();try{return e[0].nodeType===Je?o(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+o(t)})}catch(t){return o(n)}}function Se(e){try{return decodeURIComponent(e)}catch(t){}}function Ee(e){var t={},n,r;S((e||"").split("&"),function(e){if(e){n=e.replace(/\+/g,"%20").split("=");r=Se(n[0]);if(V(r)){var i=V(n[1])?Se(n[1]):true;if(!s.call(t,r)){t[r]=i}else if(U(t[r])){t[r].push(i)}else{t[r]=[t[r],i]}}}});return t}function Ce(e){var t=[];S(e,function(e,n){if(U(e)){S(e,function(e){t.push(Me(n,true)+(e===true?"":"="+Me(e,true)))})}else{t.push(Me(n,true)+(e===true?"":"="+Me(e,true)))}});return t.length?t.join("&"):""}function Ae(e){return Me(e,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Me(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Te=["ng-","data-ng-","ng:","x-ng-"];function Oe(e,t){var n,r,i=Te.length;for(r=0;r<i;++r){n=Te[r]+t;if(B(n=e.getAttribute(n))){return n}}return null}function Ne(e,t){var n,r,i={};S(Te,function(t){var i=t+"app";if(!n&&e.hasAttribute&&e.hasAttribute(i)){n=e;r=e.getAttribute(i)}});S(Te,function(t){var i=t+"app";var a;if(!n&&(a=e.querySelector("["+i.replace(":","\\:")+"]"))){n=a;r=a.getAttribute(i)}});if(n){i.strictDi=Oe(n,"strict-di")!==null;t(n,r?[r]:[],i)}}function _e(n,r,i){if(!P(i))i={};var a={strictDi:false};i=O(a,i);var o=function(){n=d(n);if(n.injector()){var e=n[0]===t?"document":ke(n);throw y("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[];r.unshift(["$provide",function(e){e.value("$rootElement",n)}]);if(i.debugInfoEnabled){r.push(["$compileProvider",function(e){e.debugInfoEnabled(true)}])}r.unshift("ng");var a=nn(r,i.strictDi);a.invoke(["$rootScope","$rootElement","$compile","$injector",function o(e,t,n,r){e.$apply(function(){t.data("$injector",r);n(t)(e)})}]);return a};var s=/^NG_ENABLE_DEBUG_INFO!/;var u=/^NG_DEFER_BOOTSTRAP!/;if(e&&s.test(e.name)){i.debugInfoEnabled=true;e.name=e.name.replace(s,"")}if(e&&!u.test(e.name)){return o()}e.name=e.name.replace(u,"");b.resumeBootstrap=function(e){S(e,function(e){r.push(e)});return o()};if(z(b.resumeDeferredBootstrap)){b.resumeDeferredBootstrap()}}function Le(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name;e.location.reload()}function He(e){var t=b.element(e).injector();if(!t){throw y("test","no injector found for element argument to getTestability")}return t.get("$$testability")}var Ie=/[A-Z]/g;function je(e,t){t=t||"_";return e.replace(Ie,function(e,n){return(n?t:"")+e.toLowerCase()})}var Re=false;var Ve;function Pe(){var t;if(Re){return}var r=he();h=e.jQuery;if(V(r)){h=r===null?n:e[r]}if(h&&h.fn.on){d=h;O(h.fn,{scope:Vt.scope,isolateScope:Vt.isolateScope,controller:Vt.controller,injector:Vt.injector,inheritedData:Vt.inheritedData});t=h.cleanData;h.cleanData=function(e){var n;if(!Ve){for(var r=0,i;(i=e[r])!=null;r++){n=h._data(i,"events");if(n&&n.$destroy){h(i).triggerHandler("$destroy")}}}else{Ve=false}t(e)}}else{d=xt}b.element=d;Re=true}function De(e,t,n){if(!e){throw y("areq","Argument '{0}' is {1}",t||"?",n||"required")}return e}function Be(e,t,n){if(n&&U(e)){e=e[e.length-1]}De(z(e),t,"not a function, got "+(e&&typeof e==="object"?e.constructor.name||"Object":typeof e));return e}function qe(e,t){if(e==="hasOwnProperty"){throw y("badname","hasOwnProperty is not a valid {0} name",t)}}function Fe(e,t,n){if(!t)return e;var r=t.split(".");var i;var a=e;var o=r.length;for(var s=0;s<o;s++){i=r[s];if(e){e=(a=e)[i]}}if(!n&&z(e)){return $e(a,e)}return e}function Ue(e){var t=e[0];var n=e[e.length-1];var r=[t];do{t=t.nextSibling;if(!t)break;r.push(t)}while(t!==n);return d(r)}function ze(){return Object.create(null)}var We=1;var Ge=2;var Je=3;var Ye=8;var Ze=9;var Ke=11;function Xe(e){var t=r("$injector");var n=r("ng");function i(e,t,n){return e[t]||(e[t]=n())}var a=i(e,"angular",Object);a.$$minErr=a.$$minErr||r;return i(a,"module",function(){var e={};return function r(a,o,s){var u=function(e,t){if(e==="hasOwnProperty"){throw n("badname","hasOwnProperty is not a valid {0} name",t)}};u(a,"module");if(o&&e.hasOwnProperty(a)){e[a]=null}return i(e,a,function(){if(!o){throw t("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",a)}var e=[];var n=[];var r=[];var i=l("$injector","invoke","push",n);var u={_invokeQueue:e,_configBlocks:n,_runBlocks:r,requires:o,name:a,provider:l("$provide","provider"),factory:l("$provide","factory"),service:l("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:l("$provide","decorator"),animation:l("$animateProvider","register"),filter:l("$filterProvider","register"),controller:l("$controllerProvider","register"),directive:l("$compileProvider","directive"),config:i,run:function(e){r.push(e);return this}};if(s){i(s)}return u;function l(t,n,r,i){if(!i)i=e;return function(){i[r||"push"]([t,n,arguments]);return u}}})}})}function Qe(e){var t=[];return JSON.stringify(e,function(e,n){n=me(e,n);if(P(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function et(e){if(typeof e==="function"){return e.toString().replace(/ \{[\s\S]*$/,"")}else if(typeof e==="undefined"){return"undefined"}else if(typeof e!=="string"){return Qe(e)}return e}var tt={full:"1.4.0",major:1,minor:4,dot:0,codeName:"jaracimrman-existence"};function nt(t){O(t,{bootstrap:_e,copy:le,extend:O,merge:N,equals:fe,element:d,forEach:S,injector:nn,noop:H,bind:$e,toJson:ge,fromJson:ye,identity:I,isUndefined:R,isDefined:V,isString:B,isFunction:z,isObject:P,isNumber:q,isElement:ie,isArray:U,version:tt,isDate:F,lowercase:o,uppercase:u,callbacks:{counter:0},getTestability:He,$$minErr:r,$$csp:de,reloadWithDebugInfo:Le});w=Xe(e);try{w("ngLocale")}catch(n){w("ngLocale",[]).provider("$locale",tr)}w("ng",["ngLocale"],["$provide",function i(e){e.provider({$$sanitizeUri:ni});e.provider("$compile",wn).directive({a:Zi,input:Ma,textarea:Ma,form:ra,script:So,select:Ao,style:To,option:Mo,ngBind:Na,ngBindHtml:La,ngBindTemplate:_a,ngClass:ja,ngClassEven:Va,ngClassOdd:Ra,ngCloak:Pa,ngController:Da,ngForm:ia,ngHide:go,ngIf:Fa,ngInclude:Ua,ngInit:Wa,ngNonBindable:uo,ngPluralize:ho,ngRepeat:po,ngShow:mo,ngStyle:yo,ngSwitch:bo,ngSwitchWhen:wo,ngSwitchDefault:xo,ngOptions:fo,ngTransclude:ko,ngModel:ro,ngList:Ga,ngChange:Ha,pattern:No,ngPattern:No,required:Oo,ngRequired:Oo,minlength:Lo,ngMinlength:Lo,maxlength:_o,ngMaxlength:_o,ngValue:Oa,ngModelOptions:ao}).directive({ngInclude:za}).directive(Ki).directive(Ba);e.provider({$anchorScroll:rn,$animate:pn,$$animateQueue:hn,$$AnimateRunner:dn,$browser:mn,$cacheFactory:gn,$controller:Nn,$document:_n,$exceptionHandler:Ln,$filter:bi,$interpolate:Qn,$interval:er,$http:Jn,$httpParamSerializer:Dn,$httpParamSerializerJQLike:Bn,$httpBackend:Zn,$location:yr,$log:br,$parse:Zr,$rootScope:ti,$q:Kr,$$q:Xr,$sce:ui,$sceDelegate:si,$sniffer:li,$templateCache:yn,$templateRequest:ci,$$testability:fi,$timeout:di,$window:mi,$$rAF:ei,$$asyncCallback:vn,$$jqLite:zt,$$HashMap:Jt,$$cookieReader:yi})}])}xt.expando="ng339";var rt=xt.cache={},it=1,at=function(e,t,n){e.addEventListener(t,n,false)},ot=function(e,t,n){e.removeEventListener(t,n,false)};xt._data=function(e){return this.cache[e[this.expando]]||{}};function st(){return++it}var ut=/([\:\-\_]+(.))/g;var lt=/^moz([A-Z])/;var ct={mouseleave:"mouseout",mouseenter:"mouseover"};var ft=r("jqLite");function dt(e){return e.replace(ut,function(e,t,n,r){return r?n.toUpperCase():n}).replace(lt,"Moz$1")}var ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var pt=/<|&#?\w+;/;var vt=/<([\w:]+)/;var $t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;var mt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};mt.optgroup=mt.option;mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead;mt.th=mt.td;function gt(e){return!pt.test(e)}function yt(e){var t=e.nodeType;return t===We||!t||t===Ze}function bt(e,t){var n,r,i,a=t.createDocumentFragment(),o=[],s;if(gt(e)){o.push(t.createTextNode(e))}else{n=n||a.appendChild(t.createElement("div"));r=(vt.exec(e)||["",""])[1].toLowerCase();i=mt[r]||mt._default;n.innerHTML=i[1]+e.replace($t,"<$1></$2>")+i[2];s=i[0];while(s--){n=n.lastChild}o=pe(o,n.childNodes);n=a.firstChild;n.textContent=""}a.textContent="";a.innerHTML="";S(o,function(e){a.appendChild(e)});return a}function wt(e,n){n=n||t;var r;if(r=ht.exec(e)){return[n.createElement(r[1])]}if(r=bt(e,n)){return r.childNodes}return[]}function xt(e){if(e instanceof xt){return e}var t;if(B(e)){e=ne(e);t=true}if(!(this instanceof xt)){if(t&&e.charAt(0)!="<"){throw ft("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new xt(e)}if(t){_t(this,wt(e))}else{_t(this,e)}}function kt(e){return e.cloneNode(true)}function St(e,t){if(!t)Ct(e);if(e.querySelectorAll){var n=e.querySelectorAll("*");for(var r=0,i=n.length;r<i;r++){Ct(n[r])}}}function Et(e,t,n,r){if(V(r))throw ft("offargs","jqLite#off() does not support the `selector` argument");var i=At(e);var a=i&&i.events;var o=i&&i.handle;if(!o)return;if(!t){for(t in a){if(t!=="$destroy"){ot(e,t,o)}delete a[t]}}else{S(t.split(" "),function(t){if(V(n)){var r=a[t];ue(r||[],n);if(r&&r.length>0){return}}ot(e,t,o);delete a[t]})}}function Ct(e,t){var r=e.ng339;var i=r&&rt[r];if(i){if(t){delete i.data[t];return}if(i.handle){if(i.events.$destroy){i.handle({},"$destroy")}Et(e)}delete rt[r];e.ng339=n}}function At(e,t){var r=e.ng339,i=r&&rt[r];if(t&&!i){e.ng339=r=st();i=rt[r]={events:{},data:{},handle:n}}return i}function Mt(e,t,n){if(yt(e)){var r=V(n);var i=!r&&t&&!P(t);var a=!t;var o=At(e,!i);var s=o&&o.data;if(r){s[t]=n}else{if(a){return s}else{if(i){return s&&s[t]}else{O(s,t)}}}}}function Tt(e,t){if(!e.getAttribute)return false;return(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function Ot(e,t){if(t&&e.setAttribute){S(t.split(" "),function(t){e.setAttribute("class",ne((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ne(t)+" "," ")))})}}function Nt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");S(t.split(" "),function(e){e=ne(e);if(n.indexOf(" "+e+" ")===-1){n+=e+" "}});e.setAttribute("class",ne(n))}}function _t(e,t){if(t){if(t.nodeType){e[e.length++]=t}else{var n=t.length;if(typeof n==="number"&&t.window!==t){if(n){for(var r=0;r<n;r++){e[e.length++]=t[r]}}}else{e[e.length++]=t}}}}function Lt(e,t){return Ht(e,"$"+(t||"ngController")+"Controller")}function Ht(e,t,r){if(e.nodeType==Ze){e=e.documentElement}var i=U(t)?t:[t];while(e){for(var a=0,o=i.length;a<o;a++){if((r=d.data(e,i[a]))!==n)return r}e=e.parentNode||e.nodeType===Ke&&e.host}}function It(e){St(e,true);while(e.firstChild){e.removeChild(e.firstChild)}}function jt(e,t){if(!t)St(e);var n=e.parentNode;if(n)n.removeChild(e)}function Rt(t,n){n=n||e;if(n.document.readyState==="complete"){n.setTimeout(t)}else{d(n).on("load",t)}}var Vt=xt.prototype={ready:function(n){var r=false;function i(){if(r)return;r=true;n()}if(t.readyState==="complete"){setTimeout(i)}else{this.on("DOMContentLoaded",i);xt(e).on("load",i)}},toString:function(){var e=[];S(this,function(t){e.push(""+t)});return"["+e.join(", ")+"]"},eq:function(e){return e>=0?d(this[e]):d(this[this.length+e])},length:0,push:$,sort:[].sort,splice:[].splice};var Pt={};S("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Pt[o(e)]=e});var Dt={};S("input,select,option,textarea,button,form,details".split(","),function(e){Dt[e]=true});var Bt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function qt(e,t){var n=Pt[t.toLowerCase()];return n&&Dt[oe(e)]&&n}function Ft(e,t){var n=e.nodeName;return(n==="INPUT"||n==="TEXTAREA")&&Bt[t]}S({data:Mt,removeData:Ct},function(e,t){xt[t]=e});S({data:Mt,inheritedData:Ht,scope:function(e){return d.data(e,"$scope")||Ht(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return d.data(e,"$isolateScope")||d.data(e,"$isolateScopeNoTemplate")},controller:Lt,injector:function(e){return Ht(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Tt,css:function(e,t,n){t=dt(t);if(V(n)){e.style[t]=n}else{return e.style[t]}},attr:function(e,t,r){var i=e.nodeType;if(i===Je||i===Ge||i===Ye){return}var a=o(t);if(Pt[a]){if(V(r)){if(!!r){e[t]=true;e.setAttribute(t,a)}else{e[t]=false;e.removeAttribute(a)}}else{return e[t]||(e.attributes.getNamedItem(t)||H).specified?a:n}}else if(V(r)){e.setAttribute(t,r)}else if(e.getAttribute){var s=e.getAttribute(t,2);return s===null?n:s}},prop:function(e,t,n){if(V(n)){e[t]=n}else{return e[t]}},text:function(){e.$dv="";return e;function e(e,t){if(R(t)){var n=e.nodeType;return n===We||n===Je?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(R(t)){if(e.multiple&&oe(e)==="select"){var n=[];S(e.options,function(e){if(e.selected){n.push(e.value||e.text)}});return n.length===0?null:n}return e.value}e.value=t},html:function(e,t){if(R(t)){return e.innerHTML}St(e,true);e.innerHTML=t},empty:It},function(e,t){xt.prototype[t]=function(t,r){var i,a;var o=this.length;if(e!==It&&(e.length==2&&(e!==Tt&&e!==Lt)?t:r)===n){if(P(t)){for(i=0;i<o;i++){if(e===Mt){e(this[i],t)}else{for(a in t){e(this[i],a,t[a])}}}return this}else{var s=e.$dv;var u=s===n?Math.min(o,1):o;for(var l=0;l<u;l++){var c=e(this[l],t,r);s=s?s+c:c}return s}}else{for(i=0;i<o;i++){e(this[i],t,r)}return this}}});function Ut(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type];var a=i?i.length:0;if(!a)return;if(R(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=true;if(n.stopPropagation){n.stopPropagation()}if(o){o.call(n)}}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===true};if(a>1){i=ce(i)}for(var s=0;s<a;s++){if(!n.isImmediatePropagationStopped()){i[s].call(e,n)}}};n.elem=e;return n}S({removeData:Ct,on:function Ho(e,t,n,r){if(V(r))throw ft("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!yt(e)){return}var i=At(e,true);var a=i.events;var o=i.handle;if(!o){o=i.handle=Ut(e,a)}var s=t.indexOf(" ")>=0?t.split(" "):[t];var u=s.length;while(u--){t=s[u];var l=a[t];if(!l){a[t]=[];if(t==="mouseenter"||t==="mouseleave"){Ho(e,ct[t],function(e){var n=this,r=e.relatedTarget;if(!r||r!==n&&!n.contains(r)){o(e,t)}})}else{if(t!=="$destroy"){at(e,t,o)}}l=a[t]}l.push(n)}},off:Et,one:function(e,t,n){e=d(e);e.on(t,function r(){e.off(t,n);e.off(t,r)});e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;St(e);S(new xt(t),function(t){if(n){r.insertBefore(t,n.nextSibling)}else{r.replaceChild(t,e)}n=t})},children:function(e){var t=[];S(e.childNodes,function(e){if(e.nodeType===We){t.push(e)}});return t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n!==We&&n!==Ke)return;t=new xt(t);for(var r=0,i=t.length;r<i;r++){var a=t[r];e.appendChild(a)}},prepend:function(e,t){if(e.nodeType===We){var n=e.firstChild;S(new xt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=d(t).eq(0).clone()[0];var n=e.parentNode;if(n){n.replaceChild(t,e)}t.appendChild(e)},remove:jt,detach:function(e){jt(e,true)},after:function(e,t){var n=e,r=e.parentNode;t=new xt(t);for(var i=0,a=t.length;i<a;i++){var o=t[i];r.insertBefore(o,n.nextSibling);n=o}},addClass:Nt,removeClass:Ot,toggleClass:function(e,t,n){if(t){S(t.split(" "),function(t){var r=n;if(R(r)){r=!Tt(e,t)}(r?Nt:Ot)(e,t)})}},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Ke?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){if(e.getElementsByTagName){return e.getElementsByTagName(t)}else{return[]}},clone:kt,triggerHandler:function(e,t,n){var r,i,a;var o=t.type||t;var s=At(e);var u=s&&s.events;var l=u&&u[o];if(l){r={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:H,type:o,target:e};if(t.type){r=O(r,t)}i=ce(l);a=n?[r].concat(n):[r];S(i,function(t){if(!r.isImmediatePropagationStopped()){t.apply(e,a)}})}}},function(e,t){xt.prototype[t]=function(t,n,r){var i;for(var a=0,o=this.length;a<o;a++){if(R(i)){i=e(this[a],t,n,r);if(V(i)){i=d(i)}}else{_t(i,e(this[a],t,n,r))}}return V(i)?i:this};xt.prototype.bind=xt.prototype.on;xt.prototype.unbind=xt.prototype.off});function zt(){this.$get=function e(){return O(xt,{hasClass:function(e,t){if(e.attr)e=e[0];return Tt(e,t)},addClass:function(e,t){if(e.attr)e=e[0];return Nt(e,t)},removeClass:function(e,t){if(e.attr)e=e[0];return Ot(e,t)}})}}function Wt(e,t){var n=e&&e.$$hashKey;if(n){if(typeof n==="function"){n=e.$$hashKey()}return n}var r=typeof e;if(r=="function"||r=="object"&&e!==null){n=e.$$hashKey=r+":"+(t||A)()}else{n=r+":"+e}return n}function Gt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}S(e,this.put,this)}Gt.prototype={put:function(e,t){this[Wt(e,this.nextUid)]=t},get:function(e){return this[Wt(e,this.nextUid)]},remove:function(e){var t=this[e=Wt(e,this.nextUid)];delete this[e];return t}};var Jt=[function(){this.$get=[function(){return Gt}]}];var Yt=/^function\s*[^\(]*\(\s*([^\)]*)\)/m;var Zt=/,/;var Kt=/^\s*(_?)(\S+?)\1\s*$/;var Xt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var Qt=r("$injector");function en(e){var t=e.toString().replace(Xt,""),n=t.match(Yt);if(n){return"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function tn(e,t,n){var r,i,a,o;if(typeof e==="function"){if(!(r=e.$inject)){r=[];if(e.length){if(t){if(!B(n)||!n){n=e.name||en(e)}throw Qt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n)}i=e.toString().replace(Xt,"");a=i.match(Yt);S(a[1].split(Zt),function(e){e.replace(Kt,function(e,t,n){r.push(n)})})}e.$inject=r}}else if(U(e)){o=e.length-1;Be(e[o],"fn");r=e.slice(0,o)}else{Be(e,"fn",true)}return r}function nn(e,t){t=t===true;var r={},i="Provider",a=[],o=new Gt([],true),s={$provide:{provider:f(d),factory:f(p),service:f(v),value:f($),constant:f(m),decorator:g}},u=s.$injector=x(s,function(e,t){if(b.isString(t)){a.push(t)}throw Qt("unpr","Unknown provider: {0}",a.join(" <- "))}),l={},c=l.$injector=x(l,function(e,t){var r=u.get(e+i,t);return c.invoke(r.$get,r,n,e)});S(y(e),function(e){c.invoke(e||H)});return c;function f(e){return function(t,n){if(P(t)){S(t,C(e))}else{return e(t,n)}}}function d(e,t){qe(e,"service");if(z(t)||U(t)){t=u.instantiate(t)}if(!t.$get){throw Qt("pget","Provider '{0}' must define $get factory method.",e)}return s[e+i]=t}function h(e,t){return function n(){var n=c.invoke(t,this);if(R(n)){throw Qt("undef","Provider '{0}' must return a value from $get factory method.",e)}return n}}function p(e,t,n){return d(e,{$get:n!==false?h(e,t):t})}function v(e,t){return p(e,["$injector",function(e){return e.instantiate(t)}])}function $(e,t){return p(e,j(t),false)}function m(e,t){qe(e,"constant");s[e]=t;l[e]=t}function g(e,t){var n=u.get(e+i),r=n.$get;n.$get=function(){var e=c.invoke(r,n);return c.invoke(t,null,{$delegate:e})}}function y(e){var t=[],n;S(e,function(e){if(o.get(e))return;o.put(e,true);function r(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=u.get(r[0]);i[r[1]].apply(i,r[2])}}try{if(B(e)){n=w(e);t=t.concat(y(n.requires)).concat(n._runBlocks);r(n._invokeQueue);r(n._configBlocks)}else if(z(e)){t.push(u.invoke(e))}else if(U(e)){t.push(u.invoke(e))}else{Be(e,"module")}}catch(i){if(U(e)){e=e[e.length-1]}if(i.message&&i.stack&&i.stack.indexOf(i.message)==-1){i=i.message+"\n"+i.stack}throw Qt("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}});return t}function x(e,n){function o(t,i){if(e.hasOwnProperty(t)){if(e[t]===r){throw Qt("cdep","Circular dependency found: {0}",t+" <- "+a.join(" <- "))}return e[t]}else{try{a.unshift(t);e[t]=r;return e[t]=n(t,i)}catch(o){if(e[t]===r){delete e[t]}throw o}finally{a.shift()}}}function u(e,n,r,i){if(typeof r==="string"){i=r;r=null}var a=[],s=nn.$$annotate(e,t,i),u,l,c;for(l=0,u=s.length;l<u;l++){c=s[l];if(typeof c!=="string"){throw Qt("itkn","Incorrect injection token! Expected service name as string, got {0}",c)}a.push(r&&r.hasOwnProperty(c)?r[c]:o(c,i))}if(U(e)){e=e[u]}return e.apply(n,a)}function l(e,t,n){var r=Object.create((U(e)?e[e.length-1]:e).prototype||null);var i=u(e,r,t,n);return P(i)||z(i)?i:r}return{invoke:u,instantiate:l,get:o,annotate:nn.$$annotate,has:function(t){return s.hasOwnProperty(t+i)||e.hasOwnProperty(t)}}}}nn.$$annotate=tn;function rn(){var e=true;this.disableAutoScrolling=function(){e=false};this.$get=["$window","$location","$rootScope",function(t,n,r){var i=t.document;function a(e){var t=null;Array.prototype.some.call(e,function(e){if(oe(e)==="a"){t=e;return true}});return t}function o(){var e=u.yOffset;if(z(e)){e=e()}else if(ie(e)){var n=e[0];var r=t.getComputedStyle(n);if(r.position!=="fixed"){e=0}else{e=n.getBoundingClientRect().bottom}}else if(!q(e)){e=0}return e}function s(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else{t.scrollTo(0,0)}}function u(e){e=B(e)?e:n.hash();var t;if(!e)s(null);else if(t=i.getElementById(e))s(t);else if(t=a(i.getElementsByName(e)))s(t);else if(e==="top")s(null)}if(e){r.$watch(function l(){return n.hash()},function c(e,t){if(e===t&&e==="")return;Rt(function(){r.$evalAsync(u)})})}return u}]}var an=r("$animate");var on=1;var sn="ng-animate";function un(e,t){if(!e&&!t)return"";if(!e)return t;if(!t)return e;if(U(e))e=e.join(" ");if(U(t))t=t.join(" ");return e+" "+t}function ln(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===on){return n}}}function cn(e){if(B(e)){e=e.split(" ")}var t=ze();S(e,function(e){if(e.length){t[e]=true}});return t}function fn(e){return P(e)?e:{}}var dn=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}n.all=H;n.chain=H;n.prototype={end:H,cancel:H,resume:H,pause:H,complete:H,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}};return n}]};var hn=function(){var e=new Gt;var t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){return{enabled:H,on:H,off:H,pin:H,push:function(e,t,r,a){a&&a();r=r||{};r.from&&e.css(r.from);r.to&&e.css(r.to);if(r.addClass||r.removeClass){i(e,r.addClass,r.removeClass)}return new n}};function i(n,i,a){var o=e.get(n);var s;if(!o){e.put(n,o={});t.push(n)}if(i){S(i.split(" "),function(e){if(e){o[e]=true}})}if(a){S(a.split(" "),function(e){if(e){o[e]=false}})}if(t.length>1)return;r.$$postDigest(function(){S(t,function(t){var n=e.get(t);if(n){var r=cn(t.attr("class"));var i="";var a="";S(n,function(e,t){var n=!!r[t];if(e!==n){if(e){i+=(i.length?" ":"")+t}else{a+=(a.length?" ":"")+t}}});S(t,function(e){i&&Nt(e,i);a&&Ot(e,a)});e.remove(t)}});t.length=0})}}]};var pn=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null);this.register=function(n,r){if(n&&n.charAt(0)!=="."){throw an("notcsel","Expecting class selector starting with '.' got '{0}'.",n)}var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i;e.factory(i,r)};this.classNameFilter=function(e){if(arguments.length===1){this.$$classNameFilter=e instanceof RegExp?e:null;if(this.$$classNameFilter){var t=new RegExp("(\\s+|\\/)"+sn+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString())){throw an("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',sn)}}}return this.$$classNameFilter};this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ln(n);if(r&&!r.parentNode&&!r.previousElementSibling){n=null}}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,a){r=r&&d(r);i=i&&d(i);r=r||i.parent();t(n,r,i);return e.push(n,"enter",fn(a))},move:function(n,r,i,a){r=r&&d(r);i=i&&d(i);r=r||i.parent();t(n,r,i);return e.push(n,"move",fn(a))},leave:function(t,n){return e.push(t,"leave",fn(n),function(){t.remove()})},addClass:function(t,n,r){r=fn(r);r.addClass=un(r.addclass,n);return e.push(t,"addClass",r)},removeClass:function(t,n,r){r=fn(r);r.removeClass=un(r.removeClass,n);return e.push(t,"removeClass",r);
},setClass:function(t,n,r,i){i=fn(i);i.addClass=un(i.addClass,n);i.removeClass=un(i.removeClass,r);return e.push(t,"setClass",i)},animate:function(t,n,r,i,a){a=fn(a);a.from=a.from?O(a.from,n):n;a.to=a.to?O(a.to,r):r;i=i||"ng-inline-animate";a.tempClasses=un(a.tempClasses,i);return e.push(t,"animate",a)}}}]}];function vn(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,false)}}]}function $n(e,t,n,r){var i=this,a=t[0],o=e.location,s=e.history,u=e.setTimeout,l=e.clearTimeout,c={};i.isMock=false;var f=0;var h=[];i.$$completeOutstandingRequest=p;i.$$incOutstandingRequestCount=function(){f++};function p(e){try{e.apply(null,ve(arguments,1))}finally{f--;if(f===0){while(h.length){try{h.pop()()}catch(t){n.error(t)}}}}}function v(e){var t=e.indexOf("#");return t===-1?"":e.substr(t+1)}i.notifyWhenNoOutstandingRequests=function(e){if(f===0){e()}else{h.push(e)}};var $,m,g=o.href,y=t.find("base"),b=null;A();m=$;i.url=function(t,n,a){if(R(a)){a=null}if(o!==e.location)o=e.location;if(s!==e.history)s=e.history;if(t){var u=m===a;if(g===t&&(!r.history||u)){return i}var l=g&&lr(g)===lr(t);g=t;m=a;if(r.history&&(!l||!u)){s[n?"replaceState":"pushState"](a,"",t);A();m=$}else{if(!l){b=t}if(n){o.replace(t)}else if(!l){o.href=t}else{o.hash=v(t)}}return i}else{return b||o.href.replace(/%27/g,"'")}};i.state=function(){return $};var w=[],x=false;function k(){A();M()}function E(){try{return s.state}catch(e){}}var C=null;function A(){$=E();$=R($)?null:$;if(fe($,C)){$=C}C=$}function M(){if(g===i.url()&&m===$){return}g=i.url();m=$;S(w,function(e){e(i.url(),$)})}i.onUrlChange=function(t){if(!x){if(r.history)d(e).on("popstate",k);d(e).on("hashchange",k);x=true}w.push(t);return t};i.$$applicationDestroyed=function(){d(e).off("hashchange popstate",k)};i.$$checkUrlChange=M;i.baseHref=function(){var e=y.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};i.defer=function(e,t){var n;f++;n=u(function(){delete c[n];p(e)},t||0);c[n]=true;return n};i.defer.cancel=function(e){if(c[e]){delete c[e];l(e);p(H);return true}return false}}function mn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new $n(e,r,t,n)}]}function gn(){this.$get=function(){var e={};function t(t,n){if(t in e){throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t)}var i=0,a=O({},n,{id:t}),o={},s=n&&n.capacity||Number.MAX_VALUE,u={},l=null,c=null;return e[t]={put:function(e,t){if(R(t))return;if(s<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});f(n)}if(!(e in o))i++;o[e]=t;if(i>s){this.remove(c.key)}return t},get:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;f(t)}return o[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=u[e];if(!t)return;if(t==l)l=t.p;if(t==c)c=t.n;d(t.n,t.p);delete u[e]}delete o[e];i--},removeAll:function(){o={};i=0;u={};l=c=null},destroy:function(){o=null;a=null;u=null;delete e[t]},info:function(){return O({},a,{size:i})}};function f(e){if(e!=l){if(!c){c=e}else if(c==e){c=e.n}d(e.n,e.p);d(e,l);l=e;l.n=null}}function d(e,t){if(e!=t){if(e)e.p=t;if(t)t.n=e}}}t.info=function(){var t={};S(e,function(e,n){t[n]=e.info()});return t};t.get=function(t){return e[t]};return t}}function yn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var bn=r("$compile");wn.$inject=["$provide","$$sanitizeUriProvider"];function wn(e,r){var i={},a="Directive",s=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,u=/(([\w\-]+)(?:\:([^;]+))?;?)/,l=ae("ngSrc,ngSrcset,src,srcset"),c=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var f=/^(on[a-z]+|formaction)$/;function p(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/;var i={};S(e,function(e,a){var o=e.match(r);if(!o){throw bn("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",t,a,e,n?"controller bindings definition":"isolate scope definition")}i[a]={mode:o[1][0],collection:o[2]==="*",optional:o[3]==="?",attrName:o[4]||a}});return i}function v(e,t){var n={isolateScope:null,bindToController:null};if(P(e.scope)){if(e.bindToController===true){n.bindToController=p(e.scope,t,true);n.isolateScope={}}else{n.isolateScope=p(e.scope,t,false)}}if(P(e.bindToController)){n.bindToController=p(e.bindToController,t,true)}if(P(n.bindToController)){var r=e.controller;var i=e.controllerAs;if(!r){throw bn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t)}else if(!On(r,i)){throw bn("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}}return n}function $(e){var t=e.charAt(0);if(!t||t!==o(t)){throw bn("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e)}if(e!==e.trim()){throw bn("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}}this.directive=function g(t,n){qe(t,"directive");if(B(t)){$(t);De(n,"directiveFactory");if(!i.hasOwnProperty(t)){i[t]=[];e.factory(t+a,["$injector","$exceptionHandler",function(e,n){var r=[];S(i[t],function(i,a){try{var o=e.invoke(i);if(z(o)){o={compile:j(o)}}else if(!o.compile&&o.link){o.compile=j(o.link)}o.priority=o.priority||0;o.index=a;o.name=o.name||t;o.require=o.require||o.controller&&o.name;o.restrict=o.restrict||"EA";var s=o.$$bindings=v(o,o.name);if(P(s.isolateScope)){o.$$isolateBindings=s.isolateScope}r.push(o)}catch(u){n(u)}});return r}])}i[t].push(n)}else{S(t,C(g))}return this};this.aHrefSanitizationWhitelist=function(e){if(V(e)){r.aHrefSanitizationWhitelist(e);return this}else{return r.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(e){if(V(e)){r.imgSrcSanitizationWhitelist(e);return this}else{return r.imgSrcSanitizationWhitelist()}};var m=true;this.debugInfoEnabled=function(e){if(V(e)){m=e;return this}return m};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,p,v,$,g,y,b,w,x,k){var E=function(e,t){if(t){var n=Object.keys(t);var r,i,a;for(r=0,i=n.length;r<i;r++){a=n[r];this[a]=t[a]}}else{this.$attr={}}this.$$element=e};E.prototype={$normalize:kn,$addClass:function(e){if(e&&e.length>0){x.addClass(this.$$element,e)}},$removeClass:function(e){if(e&&e.length>0){x.removeClass(this.$$element,e)}},$updateClass:function(e,t){var n=Cn(e,t);if(n&&n.length){x.addClass(this.$$element,n)}var r=Cn(t,e);if(r&&r.length){x.removeClass(this.$$element,r)}},$set:function(e,t,r,i){var a=this.$$element[0],o=qt(a,e),s=Ft(a,e),u=e,l;if(o){this.$$element.prop(e,t);i=o}else if(s){this[s]=t;u=s}this[e]=t;if(i){this.$attr[e]=i}else{i=this.$attr[e];if(!i){this.$attr[e]=i=je(e,"-")}}l=oe(this.$$element);if(l==="a"&&e==="href"||l==="img"&&e==="src"){this[e]=t=k(t,e==="src")}else if(l==="img"&&e==="srcset"){var c="";var f=ne(t);var d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var h=/\s/.test(f)?d:/(,)/;var v=f.split(h);var $=Math.floor(v.length/2);for(var m=0;m<$;m++){var g=m*2;c+=k(ne(v[g]),true);c+=" "+ne(v[g+1])}var y=ne(v[m*2]).split(/\s/);c+=k(ne(y[0]),true);if(y.length===2){c+=" "+ne(y[1])}this[e]=t=c}if(r!==false){if(t===null||t===n){this.$$element.removeAttr(i)}else{this.$$element.attr(i,t)}}var b=this.$$observers;b&&S(b[u],function(e){try{e(t)}catch(n){p(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ze()),i=r[e]||(r[e]=[]);i.push(t);y.$evalAsync(function(){if(!i.$$inter&&n.hasOwnProperty(e)){t(n[e])}});return function(){ue(i,t)}}};function C(e,t){try{e.addClass(t)}catch(n){}}var A=r.startSymbol(),M=r.endSymbol(),T=A=="{{"||M=="}}"?I:function he(e){return e.replace(/\{\{/g,A).replace(/}}/g,M)},N=/^ngAttr[A-Z]/;_.$$addBindingInfo=m?function pe(e,t){var n=e.data("$binding")||[];if(U(t)){n=n.concat(t)}else{n.push(t)}e.data("$binding",n)}:H;_.$$addBindingClass=m?function $e(e){C(e,"ng-binding")}:H;_.$$addScopeInfo=m?function me(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:H;_.$$addScopeClass=m?function ge(e,t){C(e,t?"ng-isolate-scope":"ng-scope")}:H;return _;function _(e,t,n,r,i){if(!(e instanceof d)){e=d(e)}S(e,function(t,n){if(t.nodeType==Je&&t.nodeValue.match(/\S+/)){e[n]=d(t).wrap("<span></span>").parent()[0]}});var a=R(e,t,e,n,r,i);_.$$addScopeClass(e);var o=null;return function s(t,n,r){De(t,"scope");r=r||{};var i=r.parentBoundTranscludeFn,s=r.transcludeControllers,u=r.futureParentElement;if(i&&i.$$boundTransclude){i=i.$$boundTransclude}if(!o){o=j(u)}var l;if(o!=="html"){l=d(re(o,d("<div>").append(e).html()))}else if(n){l=Vt.clone.call(e)}else{l=e}if(s){for(var c in s){l.data("$"+c+"Controller",s[c].instance)}}_.$$addScopeInfo(l,t);if(n)n(l,t);if(a)a(t,l,l,i);return l}}function j(e){var t=e&&e[0];if(!t){return"html"}else{return oe(t)!=="foreignobject"&&t.toString().match(/SVG/)?"svg":"html"}}function R(e,t,r,i,a,o){var s=[],u,l,c,f,h,p,v;for(var $=0;$<e.length;$++){u=new E;l=D(e[$],[],u,$===0?i:n,a);c=l.length?W(l,e[$],u,t,r,null,[],[],o):null;if(c&&c.scope){_.$$addScopeClass(u.$$element)}h=c&&c.terminal||!(f=e[$].childNodes)||!f.length?null:R(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t);if(c||h){s.push($,c,h);p=true;v=v||c}o=null}return p?m:null;function m(e,r,i,a){var o,u,l,c,f,h,p,$;var m;if(v){var g=r.length;m=new Array(g);for(f=0;f<s.length;f+=3){p=s[f];m[p]=r[p]}}else{m=r}for(f=0,h=s.length;f<h;){l=m[s[f++]];o=s[f++];u=s[f++];if(o){if(o.scope){c=e.$new();_.$$addScopeInfo(d(l),c);var y=o.$$destroyBindings;if(y){o.$$destroyBindings=null;c.$on("$destroyed",y)}}else{c=e}if(o.transcludeOnThisElement){$=V(e,o.transclude,a,o.elementTranscludeOnThisElement)}else if(!o.templateOnThisElement&&a){$=a}else if(!a&&t){$=V(e,t)}else{$=null}o(u,c,l,i,$,o)}else if(u){u(e,l.childNodes,n,a)}}}}function V(e,t,n,r){var i=function(r,i,a,o,s){if(!r){r=e.$new(false,s);r.$$transcluded=true}return t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})};return i}function D(e,t,n,r,i){var a=e.nodeType,o=n.$attr,l,c;switch(a){case We:Y(t,kn(oe(e)),"E",r,i);for(var f,d,h,p,v,$,m=e.attributes,g=0,y=m&&m.length;g<y;g++){var b=false;var w=false;f=m[g];d=f.name;v=ne(f.value);p=kn(d);if($=N.test(p)){d=d.replace(xn,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})}var x=p.replace(/(Start|End)$/,"");if(Z(x)){if(p===x+"Start"){b=d;w=d.substr(0,d.length-5)+"end";d=d.substr(0,d.length-6)}}h=kn(d.toLowerCase());o[h]=d;if($||!n.hasOwnProperty(h)){n[h]=v;if(qt(e,h)){n[h]=true}}ae(e,t,v,h,$);Y(t,h,"A",r,i,b,w)}c=e.className;if(P(c)){c=c.animVal}if(B(c)&&c!==""){while(l=u.exec(c)){h=kn(l[2]);if(Y(t,h,"C",r,i)){n[h]=ne(l[3])}c=c.substr(l.index+l[0].length)}}break;case Je:te(t,e.nodeValue);break;case Ye:try{l=s.exec(e.nodeValue);if(l){h=kn(l[1]);if(Y(t,h,"M",r,i)){n[h]=ne(l[2])}}}catch(k){}break}t.sort(Q);return t}function q(e,t,n){var r=[];var i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e){throw bn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n)}if(e.nodeType==We){if(e.hasAttribute(t))i++;if(e.hasAttribute(n))i--}r.push(e);e=e.nextSibling}while(i>0)}else{r.push(e)}return d(r)}function F(e,t,n){return function(r,i,a,o,s){i=q(i[0],t,n);return e(r,i,a,o,s)}}function W(e,r,i,a,o,s,u,l,f){f=f||{};var h=-Number.MAX_VALUE,v,$=f.controllerDirectives,m=f.newIsolateScopeDirective,y=f.templateDirective,b=f.nonTlbTranscludeDirective,w=false,x=false,k=f.hasElementTranscludeDirective,S=i.$$element=d(r),C,A,M,O=s,N=a,L,H;for(var I=0,j=e.length;I<j;I++){C=e[I];var R=C.$$start;var V=C.$$end;if(R){S=q(r,R,V)}M=n;if(h>C.priority){break}if(H=C.scope){if(!C.templateUrl){if(P(H)){ee("new/isolated scope",m||v,C,S);m=C}else{ee("new/isolated scope",m,C,S)}}v=v||C}A=C.name;if(!C.templateUrl&&C.controller){H=C.controller;$=$||ze();ee("'"+A+"' controller",$[A],C,S);$[A]=C}if(H=C.transclude){w=true;if(!C.$$tlb){ee("transclusion",b,C,S);b=C}if(H=="element"){k=true;h=C.priority;M=S;S=i.$$element=d(t.createComment(" "+A+": "+i[A]+" "));r=S[0];se(o,ve(M),r);N=_(M,a,h,O&&O.name,{nonTlbTranscludeDirective:b})}else{M=d(kt(r)).contents();S.empty();N=_(M,a)}}if(C.template){x=true;ee("template",y,C,S);y=C;H=z(C.template)?C.template(S,i):C.template;H=T(H);if(C.replace){O=C;if(gt(H)){M=[]}else{M=An(re(C.templateNamespace,ne(H)))}r=M[0];if(M.length!=1||r.nodeType!==We){throw bn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",A,"")}se(o,S,r);var W={$attr:{}};var Y=D(r,[],W);var Z=e.splice(I+1,e.length-(I+1));if(m){G(Y)}e=e.concat(Y).concat(Z);K(i,W);j=e.length}else{S.html(H)}}if(C.templateUrl){x=true;ee("template",y,C,S);y=C;if(C.replace){O=C}oe=X(e.splice(I,e.length-I),S,i,o,w&&N,u,l,{controllerDirectives:$,newIsolateScopeDirective:m,templateDirective:y,nonTlbTranscludeDirective:b});j=e.length}else if(C.compile){try{L=C.compile(S,i,N);if(z(L)){te(null,L,R,V)}else if(L){te(L.pre,L.post,R,V)}}catch(Q){p(Q,ke(S))}}if(C.terminal){oe.terminal=true;h=Math.max(h,C.priority)}}oe.scope=v&&v.scope===true;oe.transcludeOnThisElement=w;oe.elementTranscludeOnThisElement=k;oe.templateOnThisElement=x;oe.transclude=N;f.hasElementTranscludeDirective=k;return oe;function te(e,t,n,r){if(e){if(n)e=F(e,n,r);e.require=C.require;e.directiveName=A;if(m===C||C.$$isolateScope){e=le(e,{isolateScope:true})}u.push(e)}if(t){if(n)t=F(t,n,r);t.require=C.require;t.directiveName=A;if(m===C||C.$$isolateScope){t=le(t,{isolateScope:true})}l.push(t)}}function ie(e,t,n,r){var i;if(B(t)){var a=t.match(c);var o=t.substring(a[0].length);var s=a[1]||a[3];var u=a[2]==="?";if(s==="^^"){n=n.parent()}else{i=r&&r[o];i=i&&i.instance}if(!i){var l="$"+o+"Controller";i=s?n.inheritedData(l):n.data(l)}if(!i&&!u){throw bn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,e)}}else if(U(t)){i=[];for(var f=0,d=t.length;f<d;f++){i[f]=ie(e,t[f],n,r)}}return i||null}function ae(e,t,n,r,i,a){var o=ze();for(var s in r){var u=r[s];var l={$scope:u===m||u.$$isolateScope?i:a,$element:e,$attrs:t,$transclude:n};var c=u.controller;if(c=="@"){c=t[u.name]}var f=g(c,l,true,u.controllerAs);o[u.name]=f;if(!k){e.data("$"+u.name+"Controller",f.instance)}}return o}function oe(e,t,a,o,s,c){var f,h,p,g,b,w,x,S,A;if(r===a){A=i;S=i.$$element}else{S=d(a);A=new E(S,i)}if(m){b=t.$new(true)}if(s){x=H;x.$$boundTransclude=s}if($){w=ae(S,A,x,$,b,t)}if(m){_.$$addScopeInfo(S,b,true,!(y&&(y===m||y===m.$$originalDirective)));_.$$addScopeClass(S,true);b.$$isolateBindings=m.$$isolateBindings;de(t,A,b,b.$$isolateBindings,m,b)}if(w){var M=m||v;var T;var O;if(M&&w[M.name]){T=M.$$bindings.bindToController;g=w[M.name];if(g&&g.identifier&&T){O=g;c.$$destroyBindings=de(t,A,g.instance,T,M)}}for(f in w){g=w[f];var N=g();if(N!==g.instance){g.instance=N;S.data("$"+C.name+"Controller",N);if(g===O){c.$$destroyBindings();c.$$destroyBindings=de(t,A,N,T,M)}}}}for(f=0,h=u.length;f<h;f++){p=u[f];ce(p,p.isolateScope?b:t,S,A,p.require&&ie(p.directiveName,p.require,S,w),x)}var L=t;if(m&&(m.template||m.templateUrl===null)){L=b}e&&e(L,a.childNodes,n,s);for(f=l.length-1;f>=0;f--){p=l[f];ce(p,p.isolateScope?b:t,S,A,p.require&&ie(p.directiveName,p.require,S,w),x)}function H(e,t,r){var i;if(!J(e)){r=t;t=e;e=n}if(k){i=w}if(!r){r=k?S.parent():S}return s(e,t,i,r,L)}}}function G(e){for(var t=0,n=e.length;t<n;t++){e[t]=L(e[t],{$$isolateScope:true})}}function Y(t,r,o,s,u,l,c){if(r===u)return null;var f=null;if(i.hasOwnProperty(r)){for(var d,h=e.get(r+a),v=0,$=h.length;v<$;v++){try{d=h[v];if((s===n||s>d.priority)&&d.restrict.indexOf(o)!=-1){if(l){d=L(d,{$$start:l,$$end:c})}t.push(d);f=d}}catch(m){p(m)}}}return f}function Z(t){if(i.hasOwnProperty(t)){for(var n,r=e.get(t+a),o=0,s=r.length;o<s;o++){n=r[o];if(n.multiElement){return true}}}return false}function K(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;S(e,function(r,i){if(i.charAt(0)!="$"){if(t[i]&&t[i]!==r){r+=(i==="style"?";":" ")+t[i]}e.$set(i,r,true,n[i])}});S(t,function(t,a){if(a=="class"){C(i,t);e["class"]=(e["class"]?e["class"]+" ":"")+t}else if(a=="style"){i.attr("style",i.attr("style")+";"+t);e["style"]=(e["style"]?e["style"]+";":"")+t}else if(a.charAt(0)!="$"&&!e.hasOwnProperty(a)){e[a]=t;r[a]=n[a]}})}function X(e,t,n,r,i,a,o,s){var u=[],l,c,f=t[0],h=e.shift(),p=L(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),$=z(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,m=h.templateNamespace;t.empty();v(w.getTrustedResourceUrl($)).then(function(v){var g,y,b,w;v=T(v);if(h.replace){if(gt(v)){b=[]}else{b=An(re(m,ne(v)))}g=b[0];if(b.length!=1||g.nodeType!==We){throw bn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,$)}y={$attr:{}};se(r,t,g);var x=D(g,[],y);if(P(h.scope)){G(x)}e=x.concat(e);K(n,y)}else{g=f;t.html(v)}e.unshift(p);l=W(e,g,n,i,t,h,a,o,s);S(r,function(e,n){if(e==g){r[n]=t[0]}});c=R(t[0].childNodes,i);while(u.length){var k=u.shift(),E=u.shift(),A=u.shift(),M=u.shift(),O=t[0];if(k.$$destroyed)continue;if(E!==f){var N=E.className;if(!(s.hasElementTranscludeDirective&&h.replace)){O=kt(g)}se(A,d(E),O);C(d(O),N)}if(l.transcludeOnThisElement){w=V(k,l.transclude,M)}else{w=M}l(c,k,O,r,w,l)}u=null});return function g(e,t,n,r,i){var a=i;if(t.$$destroyed)return;if(u){u.push(t,n,r,a)}else{if(l.transcludeOnThisElement){a=V(t,l.transclude,i)}l(c,t,n,r,a,l)}}}function Q(e,t){var n=t.priority-e.priority;if(n!==0)return n;if(e.name!==t.name)return e.name<t.name?-1:1;return e.index-t.index}function ee(e,t,n,r){if(t){throw bn("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,ke(r))}}function te(e,t){var n=r(t,true);if(n){e.push({priority:0,compile:function i(e){var t=e.parent(),r=!!t.length;if(r)_.$$addBindingClass(t);return function i(e,t){var i=t.parent();if(!r)_.$$addBindingClass(i);_.$$addBindingInfo(i,n.expressions);e.$watch(n,function a(e){t[0].nodeValue=e})}}})}}function re(e,n){e=o(e||"html");switch(e){case"svg":case"math":var r=t.createElement("div");r.innerHTML="<"+e+">"+n+"</"+e+">";return r.childNodes[0].childNodes;default:return n}}function ie(e,t){if(t=="srcdoc"){return w.HTML}var n=oe(e);if(t=="xlinkHref"||n=="form"&&t=="action"||n!="img"&&(t=="src"||t=="ngSrc")){return w.RESOURCE_URL}}function ae(e,t,n,i,a){var o=ie(e,i);a=l[i]||a;var s=r(n,true,o,a);if(!s)return;if(i==="multiple"&&oe(e)==="select"){throw bn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ke(e))}t.push({priority:100,compile:function(){return{pre:function e(t,u,l){var c=l.$$observers||(l.$$observers={});if(f.test(i)){throw bn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the "+"ng- versions (such as ng-click instead of onclick) instead.")}var d=l[i];if(d!==n){s=d&&r(d,true,o,a);n=d}if(!s)return;l[i]=s(t);(c[i]||(c[i]=[])).$$inter=true;(l.$$observers&&l.$$observers[i].$$scope||t).$watch(s,function h(e,t){if(i==="class"&&e!=t){l.$updateClass(e,t)}else{l.$set(i,e)}})}}}})}function se(e,n,r){var i=n[0],a=n.length,o=i.parentNode,s,u;if(e){for(s=0,u=e.length;s<u;s++){if(e[s]==i){e[s++]=r;for(var l=s,c=l+a-1,f=e.length;l<f;l++,c++){if(c<f){e[l]=e[c]}else{delete e[l]}}e.length-=a-1;if(e.context===i){e.context=r}break}}}if(o){o.replaceChild(r,i)}var p=t.createDocumentFragment();p.appendChild(i);d(r).data(d(i).data());if(!h){delete d.cache[i[d.expando]]}else{Ve=true;h.cleanData([i])}for(var v=1,$=n.length;v<$;v++){var m=n[v];d(m).remove();p.appendChild(m);delete n[v]}n[0]=r;n.length=1}function le(e,t){return O(function(){return e.apply(null,arguments)},e,t)}function ce(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(o){p(o,ke(n))}}function de(e,t,n,i,a,o){var s;S(i,function(i,o){var u=i.attrName,l=i.optional,c=i.mode,f,d,h,p;switch(c){case"@":t.$observe(u,function(e){n[o]=e});t.$$observers[u].$$scope=e;if(t[u]){n[o]=r(t[u])(e)}break;case"=":if(l&&!t[u]){return}d=$(t[u]);if(d.literal){p=fe}else{p=function(e,t){return e===t||e!==e&&t!==t}}h=d.assign||function(){f=n[o]=d(e);throw bn("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[u],a.name)};f=n[o]=d(e);var v=function g(t){if(!p(t,n[o])){if(!p(t,f)){n[o]=t}else{h(e,t=n[o])}}return f=t};v.$stateful=true;var m;if(i.collection){m=e.$watchCollection(t[u],v)}else{m=e.$watch($(t[u],v),null,d.literal)}s=s||[];s.push(m);break;case"&":if(!t.hasOwnProperty(u)&&l)break;d=$(t[u]);if(d===H&&l)break;n[o]=function(t){return d(e,t)};break}});var u=s?function l(){for(var e=0,t=s.length;e<t;++e){s[e]()}}:H;if(o&&u!==H){o.$on("$destroy",u);return H}return u}}]}var xn=/^((?:x|data)[\:\-_])/i;function kn(e){return dt(e.replace(xn,""))}function Sn(e,t,n,r){}function En(e,t,n,r,i){}function Cn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var a=0;a<r.length;a++){var o=r[a];for(var s=0;s<i.length;s++){if(o==i[s])continue e}n+=(n.length>0?" ":"")+o}return n}function An(e){e=d(e);var t=e.length;if(t<=1){return e}while(t--){var n=e[t];if(n.nodeType===Ye){v.call(e,t,1)}}return e}var Mn=r("$controller");var Tn=/^(\S+)(\s+as\s+(\w+))?$/;function On(e,t){if(t&&B(t))return t;if(B(e)){var n=Tn.exec(e);if(n)return n[3]}}function Nn(){var e={},t=false;this.register=function(t,n){qe(t,"controller");if(P(t)){O(e,t)}else{e[t]=n}};this.allowGlobals=function(){t=true};this.$get=["$injector","$window",function(i,a){return function(r,s,u,l){var c,f,d,h;u=u===true;if(l&&B(l)){h=l}if(B(r)){f=r.match(Tn);if(!f){throw Mn("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",r)}d=f[1],h=h||f[3];r=e.hasOwnProperty(d)?e[d]:Fe(s.$scope,d,true)||(t?Fe(a,d,true):n);Be(r,d,true)}if(u){var p=(U(r)?r[r.length-1]:r).prototype;c=Object.create(p||null);if(h){o(s,h,c,d||r.name)}var v;return v=O(function(){var e=i.invoke(r,c,s,d);if(e!==c&&(P(e)||z(e))){c=e;if(h){o(s,h,c,d||r.name)}}return c},{instance:c,identifier:h})}c=i.instantiate(r,s,d);if(h){o(s,h,c,d||r.name)}return c};function o(e,t,n,i){if(!(e&&P(e.$scope))){throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t)}e.$scope[t]=n}}]}function _n(){this.$get=["$window",function(e){return d(e.document)}]}function Ln(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var Hn="application/json";var In={"Content-Type":Hn+";charset=utf-8"};var jn=/^\[|^\{(?!\{)/;var Rn={"[":/]$/,"{":/}$/};var Vn=/^\)\]\}',?\n/;function Pn(e){if(P(e)){return F(e)?e.toISOString():ge(e)}return e}function Dn(){this.$get=function(){return function e(t){if(!t)return"";var n=[];E(t,function(e,t){if(e===null||R(e))return;if(U(e)){S(e,function(e,r){n.push(Me(t)+"="+Me(Pn(e)))})}else{n.push(Me(t)+"="+Me(Pn(e)))}});return n.join("&")}}}function Bn(){this.$get=function(){return function e(t){if(!t)return"";var n=[];r(t,"",true);return n.join("&");function r(e,t,i){if(e===null||R(e))return;if(U(e)){S(e,function(e){r(e,t+"[]")})}else if(P(e)&&!F(e)){E(e,function(e,n){r(e,t+(i?"":"[")+n+(i?"":"]"))})}else{n.push(Me(t)+"="+Me(Pn(e)))}}}}}function qn(e,t){if(B(e)){var n=e.replace(Vn,"").trim();if(n){var r=t("Content-Type");if(r&&r.indexOf(Hn)===0||Fn(n)){e=ye(n)}}}return e}function Fn(e){var t=e.match(jn);return t&&Rn[t[0]].test(e)}function Un(e){var t=ze(),n;function r(e,n){if(e){t[e]=t[e]?t[e]+", "+n:n}}if(B(e)){S(e.split("\n"),function(e){n=e.indexOf(":");r(o(ne(e.substr(0,n))),ne(e.substr(n+1)))})}else if(P(e)){S(e,function(e,t){r(o(t),ne(e))})}return t}function zn(e){var t;return function(n){if(!t)t=Un(e);if(n){var r=t[o(n)];if(r===void 0){r=null}return r}return t}}function Wn(e,t,n,r){if(z(r)){return r(e,t,n)}S(r,function(r){e=r(e,t,n)});return e}function Gn(e){return 200<=e&&e<300}function Jn(){var e=this.defaults={transformResponse:[qn],transformRequest:[function(e){return P(e)&&!Y(e)&&!K(e)&&!Z(e)?ge(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ce(In),put:ce(In),patch:ce(In)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"};var t=false;this.useApplyAsync=function(e){if(V(e)){t=!!e;return this}return t};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,f,d){var h=l("$http");e.paramSerializer=B(e.paramSerializer)?d.get(e.paramSerializer):e.paramSerializer;var p=[];S(i,function(e){p.unshift(B(e)?d.get(e):d.invoke(e))});function v(t){if(!b.isObject(t)){throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t)}var i=O({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);i.headers=m(t);i.method=u(i.method);i.paramSerializer=B(i.paramSerializer)?d.get(i.paramSerializer):i.paramSerializer;var a=function(t){var r=t.headers;var i=Wn(t.data,zn(r),n,t.transformRequest);if(R(i)){S(r,function(e,t){if(o(t)==="content-type"){delete r[t]}})}if(R(t.withCredentials)&&!R(e.withCredentials)){t.withCredentials=e.withCredentials}return g(t,i).then(v,v)};var s=[a,n];var l=f.when(i);S(p,function(e){if(e.request||e.requestError){s.unshift(e.request,e.requestError)}if(e.response||e.responseError){s.push(e.response,e.responseError)}});while(s.length){var c=s.shift();var h=s.shift();l=l.then(c,h)}l.success=function(e){Be(e,"fn");l.then(function(t){e(t.data,t.status,t.headers,i)});return l};l.error=function(e){Be(e,"fn");l.then(null,function(t){e(t.data,t.status,t.headers,i)});return l};return l;function v(e){var t=O({},e);if(!e.data){t.data=e.data}else{t.data=Wn(e.data,e.headers,e.status,i.transformResponse)}return Gn(e.status)?t:f.reject(t)}function $(e,t){var n,r={};S(e,function(e,i){if(z(e)){n=e(t);if(n!=null){r[i]=n}}else{r[i]=e}});return r}function m(t){var n=e.headers,r=O({},t.headers),i,a,s;n=O({},n.common,n[o(t.method)]);e:for(i in n){a=o(i);for(s in r){if(o(s)===a){continue e}}r[i]=n[i]}return $(r,ce(t))}}v.pendingRequests=[];$("get","delete","head","jsonp");m("post","put","patch");v.defaults=e;return v;function $(e){S(arguments,function(e){v[e]=function(t,n){return v(O({},n||{},{method:e,url:t}))}})}function m(e){S(arguments,function(e){v[e]=function(t,n,r){return v(O({},r||{},{method:e,url:t,data:n}))}})}function g(r,i){var o=f.defer(),u=o.promise,l,d,p=r.headers,$=y(r.url,r.paramSerializer(r.params));v.pendingRequests.push(r);u.then(x,x);if((r.cache||e.cache)&&r.cache!==false&&(r.method==="GET"||r.method==="JSONP")){l=P(r.cache)?r.cache:P(e.cache)?e.cache:h}if(l){d=l.get($);if(V(d)){if(Q(d)){d.then(w,w)}else{if(U(d)){b(d[1],d[0],ce(d[2]),d[3])}else{b(d,200,{},"OK")}}}else{l.put($,u)}}if(R(d)){var m=$i(r.url)?s()[r.xsrfCookieName||e.xsrfCookieName]:n;if(m){p[r.xsrfHeaderName||e.xsrfHeaderName]=m}a(r.method,$,i,g,p,r.timeout,r.withCredentials,r.responseType)}return u;function g(e,n,r,i){if(l){if(Gn(e)){l.put($,[e,n,Un(r),i])}else{l.remove($)}}function a(){b(n,e,r,i)}if(t){c.$applyAsync(a)}else{a();if(!c.$$phase)c.$apply()}}function b(e,t,n,i){t=Math.max(t,0);(Gn(t)?o.resolve:o.reject)({data:e,status:t,headers:zn(n),config:r,statusText:i})}function w(e){b(e.data,e.status,ce(e.headers()),e.statusText)}function x(){var e=v.pendingRequests.indexOf(r);if(e!==-1)v.pendingRequests.splice(e,1)}}function y(e,t){if(t.length>0){e+=(e.indexOf("?")==-1?"?":"&")+t}return e}}]}function Yn(){return new e.XMLHttpRequest}function Zn(){this.$get=["$browser","$window","$document",function(e,t,n){return Kn(e,Yn,e.defer,t.angular.callbacks,n[0])}]}function Kn(e,t,r,i,a){return function(a,u,l,c,f,d,h,p){e.$$incOutstandingRequestCount();u=u||e.url();if(o(a)=="jsonp"){var v="_"+(i.counter++).toString(36);i[v]=function(e){i[v].data=e;i[v].called=true};var $=s(u.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){x(c,e,i[v].data,"",t);i[v]=H})}else{var m=t();m.open(a,u,true);S(f,function(e,t){if(V(e)){m.setRequestHeader(t,e)}});m.onload=function k(){var e=m.statusText||"";var t="response"in m?m.response:m.responseText;var n=m.status===1223?204:m.status;if(n===0){n=t?200:vi(u).protocol=="file"?404:0}x(c,n,t,m.getAllResponseHeaders(),e)};var g=function(){x(c,-1,null,null,"")};m.onerror=g;m.onabort=g;if(h){m.withCredentials=true}if(p){try{m.responseType=p}catch(y){if(p!=="json"){throw y}}}m.send(l)}if(d>0){var b=r(w,d)}else if(Q(d)){d.then(w)}function w(){$&&$();m&&m.abort()}function x(t,i,a,o,s){if(b!==n){r.cancel(b)}$=m=null;t(i,a,o,s);e.$$completeOutstandingRequest(H)}};function s(e,t,n){var r=a.createElement("script"),o=null;r.type="text/javascript";r.src=e;r.async=true;o=function(e){ot(r,"load",o);ot(r,"error",o);a.body.removeChild(r);r=null;var s=-1;var u="unknown";if(e){if(e.type==="load"&&!i[t].called){e={type:"error"}}u=e.type;s=e.type==="error"?404:200}if(n){n(s,u)}};at(r,"load",o);at(r,"error",o);a.body.appendChild(r);return o}}var Xn=b.$interpolateMinErr=r("$interpolate");Xn.throwNoconcat=function(e){throw Xn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",e)};Xn.interr=function(e,t){return Xn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};function Qn(){var e="{{";var t="}}";this.startSymbol=function(t){if(t){e=t;return this}else{return e}};this.endSymbol=function(e){if(e){t=e;return this}else{return t}};this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){var a=e.length,o=t.length,s=new RegExp(e.replace(/./g,l),"g"),u=new RegExp(t.replace(/./g,l),"g");function l(e){return"\\\\\\"+e}function c(n){return n.replace(s,e).replace(u,t)}function f(e){if(e==null){return""}switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=ge(e)}return e}function d(s,u,l,d){d=!!d;var h,p,v=0,$=[],m=[],g=s.length,y,b=[],w=[];while(v<g){if((h=s.indexOf(e,v))!=-1&&(p=s.indexOf(t,h+a))!=-1){if(v!==h){b.push(c(s.substring(v,h)))}y=s.substring(h+a,p);$.push(y);m.push(n(y,S));v=p+o;w.push(b.length);b.push("")}else{if(v!==g){b.push(c(s.substring(v)))}break}}if(l&&b.length>1){Xn.throwNoconcat(s)}if(!u||$.length){var x=function(e){for(var t=0,n=$.length;t<n;t++){if(d&&R(e[t]))return;b[w[t]]=e[t]}return b.join("")};var k=function(e){return l?i.getTrusted(l,e):i.valueOf(e)};return O(function E(e){var t=0;var n=$.length;var i=new Array(n);try{for(;t<n;t++){i[t]=m[t](e)}return x(i)}catch(a){r(Xn.interr(s,a))}},{exp:s,expressions:$,$$watchDelegate:function(e,t){var n;return e.$watchGroup(m,function r(i,a){var o=x(i);if(z(t)){t.call(this,o,i!==a?n:o,e)}n=o})}})}function S(e){try{e=k(e);return d&&!V(e)?e:f(e)}catch(t){r(Xn.interr(s,t))}}}d.startSymbol=function(){return e};d.endSymbol=function(){return t};return d}]}function er(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){var i={};function a(a,o,s,u){var l=arguments.length>4,c=l?ve(arguments,4):[],f=t.setInterval,d=t.clearInterval,h=0,p=V(u)&&!u,v=(p?r:n).defer(),$=v.promise;s=V(s)?s:0;$.then(null,null,!l?a:function(){a.apply(null,c)});$.$$intervalId=f(function m(){v.notify(h++);if(s>0&&h>=s){v.resolve(h);d($.$$intervalId);delete i[$.$$intervalId]}if(!p)e.$apply()},o);i[$.$$intervalId]=v;return $}a.cancel=function(e){if(e&&e.$$intervalId in i){i[e.$$intervalId].reject("canceled");t.clearInterval(e.$$intervalId);delete i[e.$$intervalId];return true}return false};return a}]}function tr(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){if(e===1){return"one"}return"other"}}}}var nr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,rr={
http:80,https:443,ftp:21};var ir=r("$location");function ar(e){var t=e.split("/"),n=t.length;while(n--){t[n]=Ae(t[n])}return t.join("/")}function or(e,t){var n=vi(e);t.$$protocol=n.protocol;t.$$host=n.hostname;t.$$port=_(n.port)||rr[n.protocol]||null}function sr(e,t){var n=e.charAt(0)!=="/";if(n){e="/"+e}var r=vi(e);t.$$path=decodeURIComponent(n&&r.pathname.charAt(0)==="/"?r.pathname.substring(1):r.pathname);t.$$search=Ee(r.search);t.$$hash=decodeURIComponent(r.hash);if(t.$$path&&t.$$path.charAt(0)!="/"){t.$$path="/"+t.$$path}}function ur(e,t){if(t.indexOf(e)===0){return t.substr(e.length)}}function lr(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function cr(e){return e.replace(/(#.+)|#$/,"$1")}function fr(e){return e.substr(0,lr(e).lastIndexOf("/")+1)}function dr(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function hr(e,t){this.$$html5=true;t=t||"";var r=fr(e);or(e,this);this.$$parse=function(e){var t=ur(r,e);if(!B(t)){throw ir("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r)}sr(t,this);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$compose=function(){var e=Ce(this.$$search),t=this.$$hash?"#"+Ae(this.$$hash):"";this.$$url=ar(this.$$path)+(e?"?"+e:"")+t;this.$$absUrl=r+this.$$url.substr(1)};this.$$parseLinkUrl=function(i,a){if(a&&a[0]==="#"){this.hash(a.slice(1));return true}var o,s;var u;if((o=ur(e,i))!==n){s=o;if((o=ur(t,o))!==n){u=r+(ur("/",o)||o)}else{u=e+s}}else if((o=ur(r,i))!==n){u=r+o}else if(r==i+"/"){u=r}if(u){this.$$parse(u)}return!!u}}function pr(e,t){var n=fr(e);or(e,this);this.$$parse=function(r){var i=ur(e,r)||ur(n,r);var a;if(i.charAt(0)==="#"){a=ur(t,i);if(R(a)){a=i}}else{a=this.$$html5?i:""}sr(a,this);this.$$path=o(this.$$path,a,e);this.$$compose();function o(e,t,n){var r=/^\/[A-Z]:(\/.*)/;var i;if(t.indexOf(n)===0){t=t.replace(n,"")}if(r.exec(t)){return e}i=r.exec(e);return i?i[1]:e}};this.$$compose=function(){var n=Ce(this.$$search),r=this.$$hash?"#"+Ae(this.$$hash):"";this.$$url=ar(this.$$path)+(n?"?"+n:"")+r;this.$$absUrl=e+(this.$$url?t+this.$$url:"")};this.$$parseLinkUrl=function(t,n){if(lr(e)==lr(t)){this.$$parse(t);return true}return false}}function vr(e,t){this.$$html5=true;pr.apply(this,arguments);var n=fr(e);this.$$parseLinkUrl=function(r,i){if(i&&i[0]==="#"){this.hash(i.slice(1));return true}var a;var o;if(e==lr(r)){a=r}else if(o=ur(n,r)){a=e+t+o}else if(n===r+"/"){a=n}if(a){this.$$parse(a)}return!!a};this.$$compose=function(){var n=Ce(this.$$search),r=this.$$hash?"#"+Ae(this.$$hash):"";this.$$url=ar(this.$$path)+(n?"?"+n:"")+r;this.$$absUrl=e+t+this.$$url}}var $r={$$html5:false,$$replace:false,absUrl:mr("$$absUrl"),url:function(e){if(R(e)){return this.$$url}var t=nr.exec(e);if(t[1]||e==="")this.path(decodeURIComponent(t[1]));if(t[2]||t[1]||e==="")this.search(t[3]||"");this.hash(t[5]||"");return this},protocol:mr("$$protocol"),host:mr("$$host"),port:mr("$$port"),path:gr("$$path",function(e){e=e!==null?e.toString():"";return e.charAt(0)=="/"?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(B(e)||q(e)){e=e.toString();this.$$search=Ee(e)}else if(P(e)){e=le(e,{});S(e,function(t,n){if(t==null)delete e[n]});this.$$search=e}else{throw ir("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(R(t)||t===null){delete this.$$search[e]}else{this.$$search[e]=t}}this.$$compose();return this},hash:gr("$$hash",function(e){return e!==null?e.toString():""}),replace:function(){this.$$replace=true;return this}};S([vr,pr,hr],function(e){e.prototype=Object.create($r);e.prototype.state=function(t){if(!arguments.length){return this.$$state}if(e!==hr||!this.$$html5){throw ir("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=R(t)?null:t;return this}});function mr(e){return function(){return this[e]}}function gr(e,t){return function(n){if(R(n)){return this[e]}this[e]=t(n);this.$$compose();return this}}function yr(){var e="",t={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(t){if(V(t)){e=t;return this}else{return e}};this.html5Mode=function(e){if(X(e)){t.enabled=e;return this}else if(P(e)){if(X(e.enabled)){t.enabled=e.enabled}if(X(e.requireBase)){t.requireBase=e.requireBase}if(X(e.rewriteLinks)){t.rewriteLinks=e.rewriteLinks}return this}else{return t}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){var s,u,l=r.baseHref(),c=r.url(),f;if(t.enabled){if(!l&&t.requireBase){throw ir("nobase","$location in HTML5 mode requires a <base> tag to be present!")}f=dr(c)+(l||"/");u=i.history?hr:vr}else{f=lr(c);u=pr}s=new u(f,"#"+e);s.$$parseLinkUrl(c,c);s.$$state=r.state();var h=/^\s*(javascript|mailto):/i;function p(e,t,n){var i=s.url();var a=s.$$state;try{r.url(e,t,n);s.$$state=r.state()}catch(o){s.url(i);s.$$state=a;throw o}}a.on("click",function(e){if(!t.rewriteLinks||e.ctrlKey||e.metaKey||e.shiftKey||e.which==2||e.button==2)return;var i=d(e.target);while(oe(i[0])!=="a"){if(i[0]===a[0]||!(i=i.parent())[0])return}var u=i.prop("href");var l=i.attr("href")||i.attr("xlink:href");if(P(u)&&u.toString()==="[object SVGAnimatedString]"){u=vi(u.animVal).href}if(h.test(u))return;if(u&&!i.attr("target")&&!e.isDefaultPrevented()){if(s.$$parseLinkUrl(u,l)){e.preventDefault();if(s.absUrl()!=r.url()){n.$apply();o.angular["ff-684208-preventDefault"]=true}}}});if(cr(s.absUrl())!=cr(c)){r.url(s.absUrl(),true)}var v=true;r.onUrlChange(function(e,t){n.$evalAsync(function(){var r=s.absUrl();var i=s.$$state;var a;s.$$parse(e);s.$$state=t;a=n.$broadcast("$locationChangeStart",e,r,t,i).defaultPrevented;if(s.absUrl()!==e)return;if(a){s.$$parse(r);s.$$state=i;p(r,false,i)}else{v=false;$(r,i)}});if(!n.$$phase)n.$digest()});n.$watch(function m(){var e=cr(r.url());var t=cr(s.absUrl());var a=r.state();var o=s.$$replace;var u=e!==t||s.$$html5&&i.history&&a!==s.$$state;if(v||u){v=false;n.$evalAsync(function(){var t=s.absUrl();var r=n.$broadcast("$locationChangeStart",t,e,s.$$state,a).defaultPrevented;if(s.absUrl()!==t)return;if(r){s.$$parse(e);s.$$state=a}else{if(u){p(t,o,a===s.$$state?null:s.$$state)}$(e,a)}})}s.$$replace=false});return s;function $(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function br(){var e=true,t=this;this.debugEnabled=function(t){if(V(t)){e=t;return this}else{return e}};this.$get=["$window",function(n){return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){if(e){n.apply(t,arguments)}}}()};function r(e){if(e instanceof Error){if(e.stack){e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack}else if(e.sourceURL){e=e.message+"\n"+e.sourceURL+":"+e.line}}return e}function i(e){var t=n.console||{},i=t[e]||t.log||H,a=false;try{a=!!i.apply}catch(o){}if(a){return function(){var e=[];S(arguments,function(t){e.push(r(t))});return i.apply(t,e)}}return function(e,t){i(e,t==null?"":t)}}}]}var wr=r("$parse");function xr(e,t){if(e==="__defineGetter__"||e==="__defineSetter__"||e==="__lookupGetter__"||e==="__lookupSetter__"||e==="__proto__"){throw wr("isecfld","Attempting to access a disallowed field in Angular expressions! "+"Expression: {0}",t)}return e}function kr(e,t){if(e){if(e.constructor===e){throw wr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t)}else if(e.window===e){throw wr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t)}else if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find)){throw wr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t)}else if(e===Object){throw wr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}}return e}var Sr=Function.prototype.call;var Er=Function.prototype.apply;var Cr=Function.prototype.bind;function Ar(e,t){if(e){if(e.constructor===e){throw wr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t)}else if(e===Sr||e===Er||e===Cr){throw wr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}}var Mr=ze();S("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Mr[e]=true});var Tr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'};var Or=function(e){this.options=e};Or.prototype={constructor:Or,lex:function(e){this.text=e;this.index=0;this.tokens=[];while(this.index<this.text.length){var t=this.text.charAt(this.index);if(t==='"'||t==="'"){this.readString(t)}else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdent(t)){this.readIdent()}else if(this.is(t,"(){}[].,;:?")){this.tokens.push({index:this.index,text:t});this.index++}else if(this.isWhitespace(t)){this.index++}else{var n=t+this.peek();var r=n+this.peek(2);var i=Mr[t];var a=Mr[n];var o=Mr[r];if(i||a||o){var s=o?r:a?n:t;this.tokens.push({index:this.index,text:s,operator:true});this.index+=s.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):false},isNumber:function(e){return"0"<=e&&e<="9"&&typeof e==="string"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e==="\n"||e===""||e===""},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||e==="$"},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=V(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw wr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){var e="";var t=this.index;while(this.index<this.text.length){var n=o(this.text.charAt(this.index));if(n=="."||this.isNumber(n)){e+=n}else{var r=this.peek();if(n=="e"&&this.isExpOperator(r)){e+=n}else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&e.charAt(e.length-1)=="e"){e+=n}else if(this.isExpOperator(n)&&(!r||!this.isNumber(r))&&e.charAt(e.length-1)=="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:t,text:e,constant:true,value:Number(e)})},readIdent:function(){var e=this.index;while(this.index<this.text.length){var t=this.text.charAt(this.index);if(!(this.isIdent(t)||this.isNumber(t))){break}this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:true})},readString:function(e){var t=this.index;this.index++;var n="";var r=e;var i=false;while(this.index<this.text.length){var a=this.text.charAt(this.index);r+=a;if(i){if(a==="u"){var o=this.text.substring(this.index+1,this.index+5);if(!o.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+o+"]")}this.index+=4;n+=String.fromCharCode(parseInt(o,16))}else{var s=Tr[a];n=n+(s||a)}i=false}else if(a==="\\"){i=true}else if(a===e){this.index++;this.tokens.push({index:t,text:r,constant:true,value:n});return}else{n+=a}this.index++}this.throwError("Unterminated quote",t)}};var Nr=function(e,t){this.lexer=e;this.options=t};Nr.Program="Program";Nr.ExpressionStatement="ExpressionStatement";Nr.AssignmentExpression="AssignmentExpression";Nr.ConditionalExpression="ConditionalExpression";Nr.LogicalExpression="LogicalExpression";Nr.BinaryExpression="BinaryExpression";Nr.UnaryExpression="UnaryExpression";Nr.CallExpression="CallExpression";Nr.MemberExpression="MemberExpression";Nr.Identifier="Identifier";Nr.Literal="Literal";Nr.ArrayExpression="ArrayExpression";Nr.Property="Property";Nr.ObjectExpression="ObjectExpression";Nr.ThisExpression="ThisExpression";Nr.NGValueParameter="NGValueParameter";Nr.prototype={ast:function(e){this.text=e;this.tokens=this.lexer.lex(e);var t=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return t},program:function(){var e=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))e.push(this.expressionStatement());if(!this.expect(";")){return{type:Nr.Program,body:e}}}},expressionStatement:function(){return{type:Nr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var e=this.expression();var t;while(t=this.expect("|")){e=this.filter(e)}return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){e={type:Nr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e=this.logicalOR();var t;var n;if(this.expect("?")){t=this.expression();if(this.consume(":")){n=this.expression();return{type:Nr.ConditionalExpression,test:e,alternate:t,consequent:n}}}return e},logicalOR:function(){var e=this.logicalAND();while(this.expect("||")){e={type:Nr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()}}return e},logicalAND:function(){var e=this.equality();while(this.expect("&&")){e={type:Nr.LogicalExpression,operator:"&&",left:e,right:this.equality()}}return e},equality:function(){var e=this.relational();var t;while(t=this.expect("==","!=","===","!==")){e={type:Nr.BinaryExpression,operator:t.text,left:e,right:this.relational()}}return e},relational:function(){var e=this.additive();var t;while(t=this.expect("<",">","<=",">=")){e={type:Nr.BinaryExpression,operator:t.text,left:e,right:this.additive()}}return e},additive:function(){var e=this.multiplicative();var t;while(t=this.expect("+","-")){e={type:Nr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()}}return e},multiplicative:function(){var e=this.unary();var t;while(t=this.expect("*","/","%")){e={type:Nr.BinaryExpression,operator:t.text,left:e,right:this.unary()}}return e},unary:function(){var e;if(e=this.expect("+","-","!")){return{type:Nr.UnaryExpression,operator:e.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var e;if(this.expect("(")){e=this.filterChain();this.consume(")")}else if(this.expect("[")){e=this.arrayDeclaration()}else if(this.expect("{")){e=this.object()}else if(this.constants.hasOwnProperty(this.peek().text)){e=le(this.constants[this.consume().text])}else if(this.peek().identifier){e=this.identifier()}else if(this.peek().constant){e=this.constant()}else{this.throwError("not a primary expression",this.peek())}var t;while(t=this.expect("(","[",".")){if(t.text==="("){e={type:Nr.CallExpression,callee:e,arguments:this.parseArguments()};this.consume(")")}else if(t.text==="["){e={type:Nr.MemberExpression,object:e,property:this.expression(),computed:true};this.consume("]")}else if(t.text==="."){e={type:Nr.MemberExpression,object:e,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return e},filter:function(e){var t=[e];var n={type:Nr.CallExpression,callee:this.identifier(),arguments:t,filter:true};while(this.expect(":")){t.push(this.expression())}return n},parseArguments:function(){var e=[];if(this.peekToken().text!==")"){do{e.push(this.expression())}while(this.expect(","))}return e},identifier:function(){var e=this.consume();if(!e.identifier){this.throwError("is not a valid identifier",e)}return{type:Nr.Identifier,name:e.text}},constant:function(){return{type:Nr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}e.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:Nr.ArrayExpression,elements:e}},object:function(){var e=[],t;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}t={type:Nr.Property,kind:"init"};if(this.peek().constant){t.key=this.constant()}else if(this.peek().identifier){t.key=this.identifier()}else{this.throwError("invalid key",this.peek())}this.consume(":");t.value=this.expression();e.push(t)}while(this.expect(","))}this.consume("}");return{type:Nr.ObjectExpression,properties:e}},throwError:function(e,t){throw wr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(this.tokens.length===0){throw wr("ueoe","Unexpected end of expression: {0}",this.text)}var t=this.expect(e);if(!t){this.throwError("is unexpected, expecting ["+e+"]",this.peek())}return t},peekToken:function(){if(this.tokens.length===0){throw wr("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var a=this.tokens[e];var o=a.text;if(o===t||o===n||o===r||o===i||!t&&!n&&!r&&!i){return a}}return false},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);if(i){this.tokens.shift();return i}return false},constants:{"true":{type:Nr.Literal,value:true},"false":{type:Nr.Literal,value:false},"null":{type:Nr.Literal,value:null},undefined:{type:Nr.Literal,value:n},"this":{type:Nr.ThisExpression}}};function _r(e,t){return typeof e!=="undefined"?e:t}function Lr(e,t){if(typeof e==="undefined")return t;if(typeof t==="undefined")return e;return e+t}function Hr(e,t){var n=e(t);return!n.$stateful}function Ir(e,t){var n;var r;switch(e.type){case Nr.Program:n=true;S(e.body,function(e){Ir(e.expression,t);n=n&&e.expression.constant});e.constant=n;break;case Nr.Literal:e.constant=true;e.toWatch=[];break;case Nr.UnaryExpression:Ir(e.argument,t);e.constant=e.argument.constant;e.toWatch=e.argument.toWatch;break;case Nr.BinaryExpression:Ir(e.left,t);Ir(e.right,t);e.constant=e.left.constant&&e.right.constant;e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Nr.LogicalExpression:Ir(e.left,t);Ir(e.right,t);e.constant=e.left.constant&&e.right.constant;e.toWatch=e.constant?[]:[e];break;case Nr.ConditionalExpression:Ir(e.test,t);Ir(e.alternate,t);Ir(e.consequent,t);e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant;e.toWatch=e.constant?[]:[e];break;case Nr.Identifier:e.constant=false;e.toWatch=[e];break;case Nr.MemberExpression:Ir(e.object,t);if(e.computed){Ir(e.property,t)}e.constant=e.object.constant&&(!e.computed||e.property.constant);e.toWatch=[e];break;case Nr.CallExpression:n=e.filter?Hr(t,e.callee.name):false;r=[];S(e.arguments,function(e){Ir(e,t);n=n&&e.constant;if(!e.constant){r.push.apply(r,e.toWatch)}});e.constant=n;e.toWatch=e.filter&&Hr(t,e.callee.name)?r:[e];break;case Nr.AssignmentExpression:Ir(e.left,t);Ir(e.right,t);e.constant=e.left.constant&&e.right.constant;e.toWatch=[e];break;case Nr.ArrayExpression:n=true;r=[];S(e.elements,function(e){Ir(e,t);n=n&&e.constant;if(!e.constant){r.push.apply(r,e.toWatch)}});e.constant=n;e.toWatch=r;break;case Nr.ObjectExpression:n=true;r=[];S(e.properties,function(e){Ir(e.value,t);n=n&&e.value.constant;if(!e.value.constant){r.push.apply(r,e.value.toWatch)}});e.constant=n;e.toWatch=r;break;case Nr.ThisExpression:e.constant=false;e.toWatch=[];break}}function jr(e){if(e.length!=1)return;var t=e[0].expression;var r=t.toWatch;if(r.length!==1)return r;return r[0]!==t?r:n}function Rr(e){return e.type===Nr.Identifier||e.type===Nr.MemberExpression}function Vr(e){if(e.body.length===1&&Rr(e.body[0].expression)){return{type:Nr.AssignmentExpression,left:e.body[0].expression,right:{type:Nr.NGValueParameter},operator:"="}}}function Pr(e){return e.body.length===0||e.body.length===1&&(e.body[0].expression.type===Nr.Literal||e.body[0].expression.type===Nr.ArrayExpression||e.body[0].expression.type===Nr.ObjectExpression)}function Dr(e){return e.constant}function Br(e,t){this.astBuilder=e;this.$filter=t}Br.prototype={compile:function(e,t){var r=this;var i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};Ir(i,r.$filter);var a="";var o;this.stage="assign";if(o=Vr(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s);a="fn.assign="+this.generateFunction("assign","s,v,l")}var u=jr(i.body);r.stage="inputs";S(u,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}};r.state.computing=n;var i=r.nextId();r.recurse(e,i);r.return_(i);r.state.inputs.push(n);e.watchId=t});this.state.computing="fn";this.stage="main";this.recurse(i);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;";var c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",l)(this.$filter,xr,kr,Ar,_r,Lr,e);this.state=this.stage=n;c.literal=Pr(i);c.constant=Dr(i);return c},USE:"use",STRICT:"strict",watchFns:function(){var e=[];var t=this.state.inputs;var n=this;S(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))});if(t.length){e.push("fn.inputs=["+t.join(",")+"];")}return e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[];var t=this;S(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")});if(e.length)return"var "+e.join(",")+";";return""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,o){var s,u,l=this,c,f;i=i||H;if(!o&&V(e.watchId)){t=t||this.nextId();this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,true));return}switch(e.type){case Nr.Program:S(e.body,function(t,r){l.recurse(t.expression,n,n,function(e){u=e});if(r!==e.body.length-1){l.current().body.push(u,";")}else{l.return_(u)}});break;case Nr.Literal:f=this.escape(e.value);this.assign(t,f);i(f);break;case Nr.UnaryExpression:this.recurse(e.argument,n,n,function(e){u=e});f=e.operator+"("+this.ifDefined(u,0)+")";this.assign(t,f);i(f);break;case Nr.BinaryExpression:this.recurse(e.left,n,n,function(e){s=e});this.recurse(e.right,n,n,function(e){u=e});if(e.operator==="+"){f=this.plus(s,u)}else if(e.operator==="-"){f=this.ifDefined(s,0)+e.operator+this.ifDefined(u,0)}else{f="("+s+")"+e.operator+"("+u+")"}this.assign(t,f);i(f);break;case Nr.LogicalExpression:t=t||this.nextId();l.recurse(e.left,t);l.if_(e.operator==="&&"?t:l.not(t),l.lazyRecurse(e.right,t));i(t);break;case Nr.ConditionalExpression:t=t||this.nextId();l.recurse(e.test,t);l.if_(t,l.lazyRecurse(e.alternate,t),l.lazyRecurse(e.consequent,t));i(t);break;case Nr.Identifier:t=t||this.nextId();if(r){r.context=l.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s");r.computed=false;r.name=e.name}xr(e.name);l.if_(l.stage==="inputs"||l.not(l.getHasOwnProperty("l",e.name)),function(){l.if_(l.stage==="inputs"||"s",function(){if(a&&a!==1){l.if_(l.not(l.nonComputedMember("s",e.name)),l.lazyAssign(l.nonComputedMember("s",e.name),"{}"))}l.assign(t,l.nonComputedMember("s",e.name))})},t&&l.lazyAssign(t,l.nonComputedMember("l",e.name)));if(l.state.expensiveChecks||Gr(e.name)){l.addEnsureSafeObject(t)}i(t);break;case Nr.MemberExpression:s=r&&(r.context=this.nextId())||this.nextId();t=t||this.nextId();l.recurse(e.object,s,n,function(){l.if_(l.notNull(s),function(){if(e.computed){u=l.nextId();l.recurse(e.property,u);l.addEnsureSafeMemberName(u);if(a&&a!==1){l.if_(l.not(l.computedMember(s,u)),l.lazyAssign(l.computedMember(s,u),"{}"))}f=l.ensureSafeObject(l.computedMember(s,u));l.assign(t,f);if(r){r.computed=true;r.name=u}}else{xr(e.property.name);if(a&&a!==1){l.if_(l.not(l.nonComputedMember(s,e.property.name)),l.lazyAssign(l.nonComputedMember(s,e.property.name),"{}"))}f=l.nonComputedMember(s,e.property.name);if(l.state.expensiveChecks||Gr(e.property.name)){f=l.ensureSafeObject(f)}l.assign(t,f);if(r){r.computed=false;r.name=e.property.name}}i(t)})},!!a);break;case Nr.CallExpression:t=t||this.nextId();if(e.filter){u=l.filter(e.callee.name);c=[];S(e.arguments,function(e){var t=l.nextId();l.recurse(e,t);c.push(t)});f=u+"("+c.join(",")+")";l.assign(t,f);i(t)}else{u=l.nextId();s={};c=[];l.recurse(e.callee,u,s,function(){l.if_(l.notNull(u),function(){l.addEnsureSafeFunction(u);S(e.arguments,function(e){l.recurse(e,l.nextId(),n,function(e){c.push(l.ensureSafeObject(e))})});if(s.name){if(!l.state.expensiveChecks){l.addEnsureSafeObject(s.context)}f=l.member(s.context,s.name,s.computed)+"("+c.join(",")+")"}else{f=u+"("+c.join(",")+")"}f=l.ensureSafeObject(f);l.assign(t,f);i(t)})})}break;case Nr.AssignmentExpression:u=this.nextId();s={};if(!Rr(e.left)){throw wr("lval","Trying to assing a value to a non l-value")}this.recurse(e.left,n,s,function(){l.if_(l.notNull(s.context),function(){l.recurse(e.right,u);l.addEnsureSafeObject(l.member(s.context,s.name,s.computed));f=l.member(s.context,s.name,s.computed)+e.operator+u;l.assign(t,f);i(t||f)})},1);break;case Nr.ArrayExpression:c=[];S(e.elements,function(e){l.recurse(e,l.nextId(),n,function(e){c.push(e)})});f="["+c.join(",")+"]";this.assign(t,f);i(f);break;case Nr.ObjectExpression:c=[];S(e.properties,function(e){l.recurse(e.value,l.nextId(),n,function(t){c.push(l.escape(e.key.type===Nr.Identifier?e.key.name:""+e.key.value)+":"+t)})});f="{"+c.join(",")+"}";this.assign(t,f);i(f);break;case Nr.ThisExpression:this.assign(t,"s");i("s");break;case Nr.NGValueParameter:this.assign(t,"v");i("v");break}},getHasOwnProperty:function(e,t){var n=e+"."+t;var r=this.current().own;if(!r.hasOwnProperty(n)){r[n]=this.nextId(false,e+"&&("+this.escape(t)+" in "+e+")")}return r[n]},assign:function(e,t){if(!e)return;this.current().body.push(e,"=",t,";");return e},filter:function(e){if(!this.state.filters.hasOwnProperty(e)){this.state.filters[e]=this.nextId(true)}return this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===true){t()}else{var r=this.current().body;r.push("if(",e,"){");t();r.push("}");if(n){r.push("else{");n();r.push("}")}}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){if(n)return this.computedMember(e,t);return this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,r,i,a){var o=this;return function(){o.recurse(e,t,n,r,i,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(B(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(q(e))return e.toString();if(e===true)return"true";if(e===false)return"false";if(e===null)return"null";if(typeof e==="undefined")return"undefined";throw wr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;if(!e){this.current().vars.push(n+(t?"="+t:""))}return n},current:function(){return this.state[this.state.computing]}};function qr(e,t){this.astBuilder=e;this.$filter=t}qr.prototype={compile:function(e,t){var n=this;var r=this.astBuilder.ast(e);this.expression=e;this.expensiveChecks=t;Ir(r,n.$filter);var i;var a;if(i=Vr(r)){a=this.recurse(i)}var o=jr(r.body);var s;if(o){s=[];S(o,function(e,t){var r=n.recurse(e);e.input=r;s.push(r);e.watchId=t})}var u=[];S(r.body,function(e){u.push(n.recurse(e.expression))});var l=r.body.length===0?function(){}:r.body.length===1?u[0]:function(e,t){var n;S(u,function(r){n=r(e,t)});return n};if(a){l.assign=function(e,t,n){return a(e,n,t)}}if(s){l.inputs=s}l.literal=Pr(r);l.constant=Dr(r);return l},recurse:function(e,t,r){var i,a,o=this,s,u;if(e.input){return this.inputs(e.input,e.watchId)}switch(e.type){case Nr.Literal:return this.value(e.value,t);case Nr.UnaryExpression:a=this.recurse(e.argument);return this["unary"+e.operator](a,t);case Nr.BinaryExpression:i=this.recurse(e.left);a=this.recurse(e.right);return this["binary"+e.operator](i,a,t);case Nr.LogicalExpression:i=this.recurse(e.left);a=this.recurse(e.right);return this["binary"+e.operator](i,a,t);case Nr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Nr.Identifier:xr(e.name,o.expression);return o.identifier(e.name,o.expensiveChecks||Gr(e.name),t,r,o.expression);case Nr.MemberExpression:i=this.recurse(e.object,false,!!r);if(!e.computed){xr(e.property.name,o.expression);a=e.property.name}if(e.computed)a=this.recurse(e.property);return e.computed?this.computedMember(i,a,t,r,o.expression):this.nonComputedMember(i,a,o.expensiveChecks,t,r,o.expression);case Nr.CallExpression:s=[];S(e.arguments,function(e){s.push(o.recurse(e))});if(e.filter)a=this.$filter(e.callee.name);if(!e.filter)a=this.recurse(e.callee,true);return e.filter?function(e,r,i,o){var u=[];for(var l=0;l<s.length;++l){u.push(s[l](e,r,i,o))}var c=a.apply(n,u,o);return t?{context:n,name:n,value:c}:c}:function(e,n,r,i){var u=a(e,n,r,i);var l;if(u.value!=null){kr(u.context,o.expression);Ar(u.value,o.expression);var c=[];for(var f=0;f<s.length;++f){c.push(kr(s[f](e,n,r,i),o.expression))}l=kr(u.value.apply(u.context,c),o.expression)}return t?{value:l}:l};case Nr.AssignmentExpression:i=this.recurse(e.left,true,1);a=this.recurse(e.right);return function(e,n,r,s){var u=i(e,n,r,s);var l=a(e,n,r,s);kr(u.value,o.expression);u.context[u.name]=l;return t?{value:l}:l};case Nr.ArrayExpression:s=[];S(e.elements,function(e){s.push(o.recurse(e))});return function(e,n,r,i){var a=[];for(var o=0;o<s.length;++o){a.push(s[o](e,n,r,i))}return t?{value:a}:a};case Nr.ObjectExpression:s=[];S(e.properties,function(e){s.push({key:e.key.type===Nr.Identifier?e.key.name:""+e.key.value,value:o.recurse(e.value)})});return function(e,n,r,i){var a={};for(var o=0;o<s.length;++o){a[s[o].key]=s[o].value(e,n,r,i)}return t?{value:a}:a};case Nr.ThisExpression:return function(e){return t?{value:e}:e};case Nr.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);if(V(o)){o=+o}else{o=0}return t?{value:o}:o}},"unary-":function(e,t){return function(n,r,i,a){var o=e(n,r,i,a);if(V(o)){o=-o}else{o=0}return t?{value:o}:o}},"unary!":function(e,t){return function(n,r,i,a){var o=!e(n,r,i,a);return t?{value:o}:o}},"binary+":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);var u=t(r,i,a,o);var l=Lr(s,u);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);var u=t(r,i,a,o);var l=(V(s)?s:0)-(V(u)?u:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)*t(r,i,a,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)/t(r,i,a,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)%t(r,i,a,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)===t(r,i,a,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!==t(r,i,a,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)==t(r,i,a,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)!=t(r,i,a,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<t(r,i,a,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)>t(r,i,a,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)<=t(r,i,a,o);return n?{value:s}:s}},"binary>=":function(e,t,n){
return function(r,i,a,o){var s=e(r,i,a,o)>=t(r,i,a,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)&&t(r,i,a,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o)||t(r,i,a,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,a,o,s){var u=e(i,a,o,s)?t(i,a,o,s):n(i,a,o,s);return r?{value:u}:u}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,a){return function(o,s,u,l){var c=s&&e in s?s:o;if(i&&i!==1&&c&&!c[e]){c[e]={}}var f=c?c[e]:n;if(t){kr(f,a)}if(r){return{context:c,name:e,value:f}}else{return f}}},computedMember:function(e,t,n,r,i){return function(a,o,s,u){var l=e(a,o,s,u);var c;var f;if(l!=null){c=t(a,o,s,u);xr(c,i);if(r&&r!==1&&l&&!l[c]){l[c]={}}f=l[c];kr(f,i)}if(n){return{context:l,name:c,value:f}}else{return f}}},nonComputedMember:function(e,t,r,i,a,o){return function(s,u,l,c){var f=e(s,u,l,c);if(a&&a!==1&&f&&!f[t]){f[t]={}}var d=f!=null?f[t]:n;if(r||Gr(t)){kr(d,o)}if(i){return{context:f,name:t,value:d}}else{return d}}},inputs:function(e,t){return function(n,r,i,a){if(a)return a[t];return e(n,r,i)}}};var Fr=function(e,t,n){this.lexer=e;this.$filter=t;this.options=n;this.ast=new Nr(this.lexer);this.astCompiler=n.csp?new qr(this.ast,t):new Br(this.ast,t)};Fr.prototype={constructor:Fr,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};function Ur(e,t,n,r){kr(e,r);var i=t.split("."),a;for(var o=0;i.length>1;o++){a=xr(i.shift(),r);var s=kr(e[a],r);if(!s){s={};e[a]=s}e=s}a=xr(i.shift(),r);kr(e[a],r);e[a]=n;return n}var zr=ze();var Wr=ze();function Gr(e){return e=="constructor"}var Jr=Object.prototype.valueOf;function Yr(e){return z(e.valueOf)?e.valueOf():Jr.call(e)}function Zr(){var e=ze();var t=ze();this.$get=["$filter","$sniffer",function(r,i){var a={csp:i.csp,expensiveChecks:false},o={csp:i.csp,expensiveChecks:true};return function h(n,i,s){var h,p,v;switch(typeof n){case"string":n=n.trim();v=n;var $=s?t:e;h=$[v];if(!h){if(n.charAt(0)===":"&&n.charAt(1)===":"){p=true;n=n.substring(2)}var m=s?o:a;var g=new Or(m);var y=new Fr(g,r,m);h=y.parse(n);if(h.constant){h.$$watchDelegate=f}else if(p){h.$$watchDelegate=h.literal?c:l}else if(h.inputs){h.$$watchDelegate=u}$[v]=h}return d(h,i);case"function":return d(n,i);default:return H}};function s(e,t){if(e==null||t==null){return e===t}if(typeof e==="object"){e=Yr(e);if(typeof e==="object"){return false}}return e===t||e!==e&&t!==t}function u(e,t,r,i,a){var o=i.inputs;var u;if(o.length===1){var l=s;o=o[0];return e.$watch(function p(e){var t=o(e);if(!s(t,l)){u=i(e,n,n,[t]);l=t&&Yr(t)}return u},t,r,a)}var c=[];var f=[];for(var d=0,h=o.length;d<h;d++){c[d]=s;f[d]=null}return e.$watch(function v(e){var t=false;for(var r=0,a=o.length;r<a;r++){var l=o[r](e);if(t||(t=!s(l,c[r]))){f[r]=l;c[r]=l&&Yr(l)}}if(t){u=i(e,n,n,f)}return u},t,r,a)}function l(e,t,n,r){var i,a;return i=e.$watch(function o(e){return r(e)},function s(e,n,r){a=e;if(z(t)){t.apply(this,arguments)}if(V(e)){r.$$postDigest(function(){if(V(a)){i()}})}},n)}function c(e,t,n,r){var i,a;return i=e.$watch(function s(e){return r(e)},function u(e,n,r){a=e;if(z(t)){t.call(this,e,n,r)}if(o(e)){r.$$postDigest(function(){if(o(a))i()})}},n);function o(e){var t=true;S(e,function(e){if(!V(e))t=false});return t}}function f(e,t,n,r){var i;return i=e.$watch(function a(e){return r(e)},function o(e,n,r){if(z(t)){t.apply(this,arguments)}i()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate;var r=n!==c&&n!==l;var i=r?function a(n,r,i,o){var s=e(n,r,i,o);return t(s,n,r)}:function o(n,r,i,a){var o=e(n,r,i,a);var s=t(o,n,r);return V(o)?s:o};if(e.$$watchDelegate&&e.$$watchDelegate!==u){i.$$watchDelegate=e.$$watchDelegate}else if(!t.$stateful){i.$$watchDelegate=u;i.inputs=e.inputs?e.inputs:[e]}return i}}]}function Kr(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Qr(function(t){e.$evalAsync(t)},t)}]}function Xr(){this.$get=["$browser","$exceptionHandler",function(e,t){return Qr(function(t){e.defer(t)},t)}]}function Qr(e,t){var i=r("$q",TypeError);function a(e,t,n){var r=false;function i(t){return function(n){if(r)return;r=true;t.call(e,n)}}return[i(t),i(n)]}var o=function(){return new f};function s(){this.$$state={status:0}}s.prototype={then:function(e,t,n){var r=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([r,e,t,n]);if(this.$$state.status>0)c(this.$$state);return r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return p(t,true,e)},function(t){return p(t,false,e)},t)}};function u(e,t){return function(n){t.call(e,n)}}function l(e){var r,i,a;a=e.pending;e.processScheduled=false;e.pending=n;for(var o=0,s=a.length;o<s;++o){i=a[o][0];r=a[o][e.status];try{if(z(r)){i.resolve(r(e.value))}else if(e.status===1){i.resolve(e.value)}else{i.reject(e.value)}}catch(u){i.reject(u);t(u)}}}function c(t){if(t.processScheduled||!t.pending)return;t.processScheduled=true;e(function(){l(t)})}function f(){this.promise=new s;this.resolve=u(this,this.resolve);this.reject=u(this,this.reject);this.notify=u(this,this.notify)}f.prototype={resolve:function(e){if(this.promise.$$state.status)return;if(e===this.promise){this.$$reject(i("qcycle","Expected promise to be resolved with value other than itself '{0}'",e))}else{this.$$resolve(e)}},$$resolve:function(e){var n,r;r=a(this,this.$$resolve,this.$$reject);try{if(P(e)||z(e))n=e&&e.then;if(z(n)){this.promise.$$state.status=-1;n.call(e,r[0],r[1],this.notify)}else{this.promise.$$state.value=e;this.promise.$$state.status=1;c(this.promise.$$state)}}catch(i){r[1](i);t(i)}},reject:function(e){if(this.promise.$$state.status)return;this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e;this.promise.$$state.status=2;c(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;if(this.promise.$$state.status<=0&&r&&r.length){e(function(){var e,i;for(var a=0,o=r.length;a<o;a++){i=r[a][0];e=r[a][3];try{i.notify(z(e)?e(n):n)}catch(s){t(s)}}})}}};var d=function(e){var t=new f;t.reject(e);return t.promise};var h=function g(e,t){var n=new f;if(t){n.resolve(e)}else{n.reject(e)}return n.promise};var p=function y(e,t,n){var r=null;try{if(z(n))r=n()}catch(i){return h(i,false)}if(Q(r)){return r.then(function(){return h(e,t)},function(e){return h(e,false)})}else{return h(e,t)}};var v=function(e,t,n,r){var i=new f;i.resolve(e);return i.promise.then(t,n,r)};function $(e){var t=new f,n=0,r=U(e)?[]:{};S(e,function(e,i){n++;v(e).then(function(e){if(r.hasOwnProperty(i))return;r[i]=e;if(!--n)t.resolve(r)},function(e){if(r.hasOwnProperty(i))return;t.reject(e)})});if(n===0){t.resolve(r)}return t.promise}var m=function b(e){if(!z(e)){throw i("norslvr","Expected resolverFn, got '{0}'",e)}if(!(this instanceof b)){return new b(e)}var t=new f;function n(e){t.resolve(e)}function r(e){t.reject(e)}e(n,r);return t.promise};m.defer=o;m.reject=d;m.when=v;m.all=$;return m}function ei(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame;var r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame;var i=!!n;var a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,false);return function(){t.cancel(n)}};c.supported=i;var o;var s=0;var u=[];return c;function l(){for(var e=0;e<u.length;e++){var t=u[e];if(t){u[e]=null;t()}}s=u.length=0}function c(e){var t=u.length;s++;u.push(e);if(t===0){o=a(l)}return function n(){if(t>=0){u[t]=null;t=null;if(--s===0&&o){o();o=null;u.length=0}}}}}]}function ti(){var e=10;var t=r("$rootScope");var n=null;var i=null;this.digestTtl=function(t){if(arguments.length){e=t}return e};function a(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=A();this.$$ChildScope=null}t.prototype=e;return t}this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,o,u,l){function c(e){e.currentScope.$$destroyed=true}function f(){this.$id=A();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}f.prototype={constructor:f,$new:function(e,t){var n;t=t||this;if(e){n=new f;n.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=a(this)}n=new this.$$ChildScope}n.$parent=t;n.$$prevSibling=t.$$childTail;if(t.$$childHead){t.$$childTail.$$nextSibling=n;t.$$childTail=n}else{t.$$childHead=t.$$childTail=n}if(e||t!=this)n.$on("$destroy",c);return n},$watch:function(e,t,r,i){var a=u(e);if(a.$$watchDelegate){return a.$$watchDelegate(this,t,r,a,e)}var o=this,s=o.$$watchers,l={fn:t,last:b,get:a,exp:i||e,eq:!!r};n=null;if(!z(t)){l.fn=H}if(!s){s=o.$$watchers=[]}s.unshift(l);g(this,1);return function c(){if(ue(s,l)>=0){g(o,-1)}n=null}},$watchGroup:function(e,t){var n=new Array(e.length);var r=new Array(e.length);var i=[];var a=this;var o=false;var s=true;if(!e.length){var u=true;a.$evalAsync(function(){if(u)t(r,r,a)});return function c(){u=false}}if(e.length===1){return this.$watch(e[0],function f(e,i,a){r[0]=e;n[0]=i;t(r,e===i?r:n,a)})}S(e,function(e,t){var s=a.$watch(e,function u(e,i){r[t]=e;n[t]=i;if(!o){o=true;a.$evalAsync(l)}});i.push(s)});function l(){o=false;if(s){s=false;t(r,r,a)}else{t(r,n,a)}}return function d(){while(i.length){i.shift()()}}},$watchCollection:function(e,t){v.$stateful=true;var n=this;var r;var i;var a;var o=t.length>1;var l=0;var c=u(e,v);var f=[];var d={};var h=true;var p=0;function v(e){r=e;var t,n,a,o,s;if(R(r))return;if(!P(r)){if(i!==r){i=r;l++}}else if(k(r)){if(i!==f){i=f;p=i.length=0;l++}t=r.length;if(p!==t){l++;i.length=p=t}for(var u=0;u<t;u++){s=i[u];o=r[u];a=s!==s&&o!==o;if(!a&&s!==o){l++;i[u]=o}}}else{if(i!==d){i=d={};p=0;l++}t=0;for(n in r){if(r.hasOwnProperty(n)){t++;o=r[n];s=i[n];if(n in i){a=s!==s&&o!==o;if(!a&&s!==o){l++;i[n]=o}}else{p++;i[n]=o;l++}}}if(p>t){l++;for(n in i){if(!r.hasOwnProperty(n)){p--;delete i[n]}}}}return l}function $(){if(h){h=false;t(r,r,n)}else{t(r,a,n)}if(o){if(!P(r)){a=r}else if(k(r)){a=new Array(r.length);for(var e=0;e<r.length;e++){a[e]=r[e]}}else{a={};for(var i in r){if(s.call(r,i)){a[i]=r[i]}}}}}return this.$watch(c,$)},$digest:function(){var r,a,s,u,c,f,v=e,g,y,x=this,k=[],S,E,C;$("$digest");l.$$checkUrlChange();if(this===d&&i!==null){l.defer.cancel(i);w()}n=null;do{f=false;y=x;while(h.length){try{C=h.shift();C.scope.$eval(C.expression,C.locals)}catch(A){o(A)}n=null}e:do{if(u=y.$$watchers){c=u.length;while(c--){try{r=u[c];if(r){if((a=r.get(y))!==(s=r.last)&&!(r.eq?fe(a,s):typeof a==="number"&&typeof s==="number"&&isNaN(a)&&isNaN(s))){f=true;n=r;r.last=r.eq?le(a,null):a;r.fn(a,s===b?a:s,y);if(v<5){S=4-v;if(!k[S])k[S]=[];k[S].push({msg:z(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:a,oldVal:s})}}else if(r===n){f=false;break e}}}catch(A){o(A)}}}if(!(g=y.$$watchersCount&&y.$$childHead||y!==x&&y.$$nextSibling)){while(y!==x&&!(g=y.$$nextSibling)){y=y.$parent}}}while(y=g);if((f||h.length)&&!v--){m();throw t("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",e,k)}}while(f||h.length);m();while(p.length){try{p.shift()()}catch(A){o(A)}}},$destroy:function(){if(this.$$destroyed)return;var e=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===d){l.$$applicationDestroyed()}g(this,-this.$$watchersCount);for(var t in this.$$listenerCount){y(this,this.$$listenerCount[t],t)}if(e&&e.$$childHead==this)e.$$childHead=this.$$nextSibling;if(e&&e.$$childTail==this)e.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=H;this.$on=this.$watch=this.$watchGroup=function(){return H};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){if(!d.$$phase&&!h.length){l.defer(function(){if(h.length){d.$digest()}})}h.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){p.push(e)},$apply:function(e){try{$("$apply");return this.$eval(e)}catch(t){o(t)}finally{m();try{d.$digest()}catch(t){o(t);throw t}}},$applyAsync:function(e){var t=this;e&&v.push(n);x();function n(){t.$eval(e)}},$on:function(e,t){var n=this.$$listeners[e];if(!n){this.$$listeners[e]=n=[]}n.push(t);var r=this;do{if(!r.$$listenerCount[e]){r.$$listenerCount[e]=0}r.$$listenerCount[e]++}while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);if(r!==-1){n[r]=null;y(i,1,e)}}},$emit:function(e,t){var n=[],r,i=this,a=false,s={name:e,targetScope:i,stopPropagation:function(){a=true},preventDefault:function(){s.defaultPrevented=true},defaultPrevented:false},u=pe([s],arguments,1),l,c;do{r=i.$$listeners[e]||n;s.currentScope=i;for(l=0,c=r.length;l<c;l++){if(!r[l]){r.splice(l,1);l--;c--;continue}try{r[l].apply(null,u)}catch(f){o(f)}}if(a){s.currentScope=null;return s}i=i.$parent}while(i);s.currentScope=null;return s},$broadcast:function(e,t){var n=this,r=n,i=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=true},defaultPrevented:false};if(!n.$$listenerCount[e])return a;var s=pe([a],arguments,1),u,l,c;while(r=i){a.currentScope=r;u=r.$$listeners[e]||[];for(l=0,c=u.length;l<c;l++){if(!u[l]){u.splice(l,1);l--;c--;continue}try{u[l].apply(null,s)}catch(f){o(f)}}if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling)){while(r!==n&&!(i=r.$$nextSibling)){r=r.$parent}}}a.currentScope=null;return a}};var d=new f;var h=d.$$asyncQueue=[];var p=d.$$postDigestQueue=[];var v=d.$$applyAsyncQueue=[];return d;function $(e){if(d.$$phase){throw t("inprog","{0} already in progress",d.$$phase)}d.$$phase=e}function m(){d.$$phase=null}function g(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function y(e,t,n){do{e.$$listenerCount[n]-=t;if(e.$$listenerCount[n]===0){delete e.$$listenerCount[n]}}while(e=e.$parent)}function b(){}function w(){while(v.length){try{v.shift()()}catch(e){o(e)}}i=null}function x(){if(i===null){i=l.defer(function(){d.$apply(w)})}}}]}function ni(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){if(V(t)){e=t;return this}return e};this.imgSrcSanitizationWhitelist=function(e){if(V(e)){t=e;return this}return t};this.$get=function(){return function n(r,i){var a=i?t:e;var o;o=vi(r).href;if(o!==""&&!o.match(a)){return"unsafe:"+o}return r}}}var ri=r("$sce");var ii={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function ai(e){if(e==="self"){return e}else if(B(e)){if(e.indexOf("***")>-1){throw ri("iwcard","Illegal sequence *** in string matcher.  String: {0}",e)}e=re(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+e+"$")}else if(W(e)){return new RegExp("^"+e.source+"$")}else{throw ri("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function oi(e){var t=[];if(V(e)){S(e,function(e){t.push(ai(e))})}return t}function si(){this.SCE_CONTEXTS=ii;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){if(arguments.length){e=oi(t)}return e};this.resourceUrlBlacklist=function(e){if(arguments.length){t=oi(e)}return t};this.$get=["$injector",function(r){var i=function h(e){throw ri("unsafe","Attempting to use an unsafe value in a safe context.")};if(r.has("$sanitize")){i=r.get("$sanitize")}function a(e,t){if(e==="self"){return $i(t)}else{return!!e.exec(t.href)}}function o(n){var r=vi(n.toString());var i,o,s=false;for(i=0,o=e.length;i<o;i++){if(a(e[i],r)){s=true;break}}if(s){for(i=0,o=t.length;i<o;i++){if(a(t[i],r)){s=false;break}}}return s}function s(e){var t=function n(e){this.$$unwrapTrustedValue=function(){return e}};if(e){t.prototype=new e}t.prototype.valueOf=function r(){return this.$$unwrapTrustedValue()};t.prototype.toString=function i(){return this.$$unwrapTrustedValue().toString()};return t}var u=s(),l={};l[ii.HTML]=s(u);l[ii.CSS]=s(u);l[ii.URL]=s(u);l[ii.JS]=s(u);l[ii.RESOURCE_URL]=s(l[ii.URL]);function c(e,t){var r=l.hasOwnProperty(e)?l[e]:null;if(!r){throw ri("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t)}if(t===null||t===n||t===""){return t}if(typeof t!=="string"){throw ri("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e)}return new r(t)}function f(e){if(e instanceof u){return e.$$unwrapTrustedValue()}else{return e}}function d(e,t){if(t===null||t===n||t===""){return t}var r=l.hasOwnProperty(e)?l[e]:null;if(r&&t instanceof r){return t.$$unwrapTrustedValue()}if(e===ii.RESOURCE_URL){if(o(t)){return t}else{throw ri("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}}else if(e===ii.HTML){return i(t)}throw ri("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:c,getTrusted:d,valueOf:f}}]}function ui(){var e=true;this.enabled=function(t){if(arguments.length){e=!!t}return e};this.$get=["$parse","$sceDelegate",function(t,n){if(e&&f<8){throw ri("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var r=ce(ii);r.isEnabled=function(){return e};r.trustAs=n.trustAs;r.getTrusted=n.getTrusted;r.valueOf=n.valueOf;if(!e){r.trustAs=r.getTrusted=function(e,t){return t};r.valueOf=I}r.parseAs=function u(e,n){var i=t(n);if(i.literal&&i.constant){return i}else{return t(n,function(t){return r.getTrusted(e,t)})}};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;S(ii,function(e,t){var n=o(t);r[dt("parse_as_"+n)]=function(t){return i(e,t)};r[dt("get_trusted_"+n)]=function(t){return a(e,t)};r[dt("trust_as_"+n)]=function(t){return s(e,t)}});return r}]}function li(){this.$get=["$window","$document",function(e,t){var n={},r=_((/android (\d+)/.exec(o((e.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s,u=/^(Moz|webkit|ms)(?=[A-Z])/,l=a.body&&a.body.style,c=false,d=false,h;if(l){for(var p in l){if(h=u.exec(p)){s=h[0];s=s.substr(0,1).toUpperCase()+s.substr(1);break}}if(!s){s="WebkitOpacity"in l&&"webkit"}c=!!("transition"in l||s+"Transition"in l);d=!!("animation"in l||s+"Animation"in l);if(r&&(!c||!d)){c=B(l.webkitTransition);d=B(l.webkitAnimation)}}return{history:!!(e.history&&e.history.pushState&&!(r<4)&&!i),hasEvent:function(e){if(e==="input"&&f<=11)return false;if(R(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:de(),vendorPrefix:s,transitions:c,animations:d,android:r}}]}var bn=r("$compile");function ci(){this.$get=["$templateCache","$http","$q",function(e,t,n){function r(i,a){r.totalPendingRequests++;var o=t.defaults&&t.defaults.transformResponse;if(U(o)){o=o.filter(function(e){return e!==qn})}else if(o===qn){o=null}var s={cache:e,transformResponse:o};return t.get(i,s)["finally"](function(){r.totalPendingRequests--}).then(function(t){e.put(i,t.data);return t.data},u);function u(e){if(!a){throw bn("tpload","Failed to load template: {0} (HTTP status: {1} {2})",i,e.status,e.statusText)}return n.reject(e)}}r.totalPendingRequests=0;return r}]}function fi(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding");var i=[];S(r,function(e){var r=b.element(e).data("$binding");if(r){S(r,function(r){if(n){var a=new RegExp("(^|\\s)"+re(t)+"(\\s|\\||$)");if(a.test(r)){i.push(e)}}else{if(r.indexOf(t)!=-1){i.push(e)}}})}});return i};r.findModels=function(e,t,n){var r=["ng-","data-ng-","ng\\:"];for(var i=0;i<r.length;++i){var a=n?"=":"*=";var o="["+r[i]+"model"+a+'"'+t+'"]';var s=e.querySelectorAll(o);if(s.length){return s}}};r.getLocation=function(){return n.url()};r.setLocation=function(t){if(t!==n.url()){n.url(t);e.$digest()}};r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)};return r}]}function di(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){var a={};function o(o,s,u){if(!z(o)){u=s;s=o;o=H}var l=ve(arguments,3),c=V(u)&&!u,f=(c?r:n).defer(),d=f.promise,h;h=t.defer(function(){try{f.resolve(o.apply(null,l))}catch(t){f.reject(t);i(t)}finally{delete a[d.$$timeoutId]}if(!c)e.$apply()},s);d.$$timeoutId=h;a[h]=f;return d}o.cancel=function(e){if(e&&e.$$timeoutId in a){a[e.$$timeoutId].reject("canceled");delete a[e.$$timeoutId];return t.defer.cancel(e.$$timeoutId)}return false};return o}]}var hi=t.createElement("a");var pi=vi(e.location.href);function vi(e){var t=e;if(f){hi.setAttribute("href",t);t=hi.href}hi.setAttribute("href",t);return{href:hi.href,protocol:hi.protocol?hi.protocol.replace(/:$/,""):"",host:hi.host,search:hi.search?hi.search.replace(/^\?/,""):"",hash:hi.hash?hi.hash.replace(/^#/,""):"",hostname:hi.hostname,port:hi.port,pathname:hi.pathname.charAt(0)==="/"?hi.pathname:"/"+hi.pathname}}function $i(e){var t=B(e)?vi(e):e;return t.protocol===pi.protocol&&t.host===pi.host}function mi(){this.$get=j(e)}function gi(e){var t=e[0]||{};var r={};var i="";function a(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,o,s,u,l;var c=t.cookie||"";if(c!==i){i=c;e=i.split("; ");r={};for(s=0;s<e.length;s++){o=e[s];u=o.indexOf("=");if(u>0){l=a(o.substring(0,u));if(r[l]===n){r[l]=a(o.substring(u+1))}}}}return r}}gi.$inject=["$document"];function yi(){this.$get=gi}bi.$inject=["$provide"];function bi(e){var t="Filter";function n(r,i){if(P(r)){var a={};S(r,function(e,t){a[t]=n(t,e)});return a}else{return e.factory(r+t,i)}}this.register=n;this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}];n("currency",Ci);n("date",Fi);n("filter",wi);n("json",Ui);n("limitTo",Gi);n("lowercase",zi);n("number",Ai);n("orderBy",Ji);n("uppercase",Wi)}function wi(){return function(e,t,n){if(!k(e)){if(e==null){return e}else{throw r("filter")("notarray","Expected array but received: {0}",e)}}var i=Ei(t);var a;var o;switch(i){case"function":a=t;break;case"boolean":case"null":case"number":case"string":o=true;case"object":a=ki(t,n,o);break;default:return e}return Array.prototype.filter.call(e,a)}}function xi(e){return z(e.toString)&&e.toString!==Object.prototype.toString}function ki(e,t,n){var r=P(e)&&"$"in e;var i;if(t===true){t=fe}else if(!z(t)){t=function(e,t){if(R(e)){return false}if(e===null||t===null){return e===t}if(P(t)||P(e)&&!xi(e)){return false}e=o(""+e);t=o(""+t);return e.indexOf(t)!==-1}}i=function(i){if(r&&!P(i)){return Si(i,e.$,t,false)}return Si(i,e,t,n)};return i}function Si(e,t,n,r,i){var a=Ei(e);var o=Ei(t);if(o==="string"&&t.charAt(0)==="!"){return!Si(e,t.substring(1),n,r)}else if(U(e)){return e.some(function(e){return Si(e,t,n,r)})}switch(a){case"object":var s;if(r){for(s in e){if(s.charAt(0)!=="$"&&Si(e[s],t,n,true)){return true}}return i?false:Si(e,t,n,false)}else if(o==="object"){for(s in t){var u=t[s];if(z(u)||R(u)){continue}var l=s==="$";var c=l?e:e[s];if(!Si(c,u,n,l,l)){return false}}return true}else{return n(e,t)}break;case"function":return false;default:return n(e,t)}}function Ei(e){return e===null?"null":typeof e}Ci.$inject=["$locale"];function Ci(e){var t=e.NUMBER_FORMATS;return function(e,n,r){if(R(n)){n=t.CURRENCY_SYM}if(R(r)){r=t.PATTERNS[1].maxFrac}return e==null?e:Ti(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}Ai.$inject=["$locale"];function Ai(e){var t=e.NUMBER_FORMATS;return function(e,n){return e==null?e:Ti(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}var Mi=".";function Ti(e,t,n,r,i){if(P(e))return"";var a=e<0;e=Math.abs(e);var o=e===Infinity;if(!o&&!isFinite(e))return"";var s=e+"",u="",l=false,c=[];if(o)u="";if(!o&&s.indexOf("e")!==-1){var f=s.match(/([\d\.]+)e(-?)(\d+)/);if(f&&f[2]=="-"&&f[3]>i+1){e=0}else{u=s;l=true}}if(!o&&!l){var d=(s.split(Mi)[1]||"").length;if(R(i)){i=Math.min(Math.max(t.minFrac,d),t.maxFrac)}e=+(Math.round(+(e.toString()+"e"+i)).toString()+"e"+-i);var h=(""+e).split(Mi);var p=h[0];h=h[1]||"";var v,$=0,m=t.lgSize,g=t.gSize;if(p.length>=m+g){$=p.length-m;for(v=0;v<$;v++){if(($-v)%g===0&&v!==0){u+=n}u+=p.charAt(v)}}for(v=$;v<p.length;v++){if((p.length-v)%m===0&&v!==0){u+=n}u+=p.charAt(v)}while(h.length<i){h+="0"}if(i&&i!=="0")u+=r+h.substr(0,i)}else{if(i>0&&e<1){u=e.toFixed(i);e=parseFloat(u)}}if(e===0){a=false}c.push(a?t.negPre:t.posPre,u,a?t.negSuf:t.posSuf);return c.join("")}function Oi(e,t,n){var r="";if(e<0){r="-";e=-e}e=""+e;while(e.length<t)e="0"+e;if(n){e=e.substr(e.length-t)}return r+e}function Ni(e,t,n,r){n=n||0;return function(i){var a=i["get"+e]();if(n>0||a>-n){a+=n}if(a===0&&n==-12)a=12;return Oi(a,t,r)}}function _i(e,t){return function(n,r){var i=n["get"+e]();var a=u(t?"SHORT"+e:e);return r[a][i]}}function Li(e,t,n){var r=-1*n;var i=r>=0?"+":"";i+=Oi(Math[r>0?"floor":"ceil"](r/60),2)+Oi(Math.abs(r%60),2);return i}function Hi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Ii(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ji(e){return function(t){var n=Hi(t.getFullYear()),r=Ii(t);var i=+r-+n,a=1+Math.round(i/6048e5);return Oi(a,e)}}function Ri(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Vi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Pi(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}var Di={yyyy:Ni("FullYear",4),yy:Ni("FullYear",2,0,true),y:Ni("FullYear",1),MMMM:_i("Month"),MMM:_i("Month",true),MM:Ni("Month",2,1),M:Ni("Month",1,1),dd:Ni("Date",2),d:Ni("Date",1),HH:Ni("Hours",2),H:Ni("Hours",1),hh:Ni("Hours",2,-12),h:Ni("Hours",1,-12),mm:Ni("Minutes",2),m:Ni("Minutes",1),ss:Ni("Seconds",2),s:Ni("Seconds",1),sss:Ni("Milliseconds",3),EEEE:_i("Day"),EEE:_i("Day",true),a:Ri,Z:Li,ww:ji(2),w:ji(1),G:Vi,GG:Vi,GGG:Vi,GGGG:Pi};var Bi=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,qi=/^\-?\d+$/;Fi.$inject=["$locale"];function Fi(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function n(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,a=0,o=n[8]?r.setUTCFullYear:r.setFullYear,s=n[8]?r.setUTCHours:r.setHours;if(n[9]){i=_(n[9]+n[10]);a=_(n[9]+n[11])}o.call(r,_(n[1]),_(n[2])-1,_(n[3]));var u=_(n[4]||0)-i;var l=_(n[5]||0)-a;var c=_(n[6]||0);var f=Math.round(parseFloat("0."+(n[7]||0))*1e3);s.call(r,u,l,c,f);return r}return e}return function(t,r,i){var a="",o=[],s,u;r=r||"mediumDate";r=e.DATETIME_FORMATS[r]||r;if(B(t)){t=qi.test(t)?_(t):n(t)}if(q(t)){t=new Date(t)}if(!F(t)||!isFinite(t.getTime())){return t}while(r){u=Bi.exec(r);if(u){o=pe(o,u,1);r=o.pop()}else{o.push(r);r=null}}var l=t.getTimezoneOffset();if(i){l=be(i,t.getTimezoneOffset());t=xe(t,i,true)}S(o,function(n){s=Di[n];a+=s?s(t,e.DATETIME_FORMATS,l):n.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return a}}function Ui(){return function(e,t){if(R(t)){t=2}return ge(e,t)}}var zi=j(o);var Wi=j(u);function Gi(){return function(e,t,n){if(Math.abs(Number(t))===Infinity){t=Number(t)}else{t=_(t)}if(isNaN(t))return e;if(q(e))e=e.toString();if(!U(e)&&!B(e))return e;n=!n||isNaN(n)?0:_(n);n=n<0&&n>=-e.length?e.length+n:n;if(t>=0){return e.slice(n,n+t)}else{if(n===0){return e.slice(t,e.length)}else{return e.slice(Math.max(0,n+t),n)}}}}Ji.$inject=["$parse"];function Ji(e){return function(t,n,r){if(!k(t))return t;n=U(n)?n:[n];if(n.length===0){n=["+"]}n=n.map(function(t){var n=false,r=t||I;if(B(t)){if(t.charAt(0)=="+"||t.charAt(0)=="-"){n=t.charAt(0)=="-";t=t.substring(1)}if(t===""){return a(u,n)}r=e(t);if(r.constant){var i=r();return a(function(e,t){return u(e[i],t[i])},n)}}return a(function(e,t){return u(r(e),r(t))},n)});return p.call(t).sort(a(i,r));function i(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i!==0)return i}return 0}function a(e,t){return t?function(t,n){return e(n,t)}:e}function o(e){switch(typeof e){case"number":case"boolean":case"string":return true;default:return false}}function s(e){if(e===null)return"null";if(typeof e.valueOf==="function"){e=e.valueOf();if(o(e))return e}if(typeof e.toString==="function"){e=e.toString();if(o(e))return e}return""}function u(e,t){var n=typeof e;var r=typeof t;if(n===r&&n==="object"){e=s(e);t=s(t)}if(n===r){if(n==="string"){e=e.toLowerCase();t=t.toLowerCase()}if(e===t)return 0;return e<t?-1:1}else{return n<r?-1:1}}}}function Yi(e){if(z(e)){e={link:e}}e.restrict=e.restrict||"AC";return j(e)}var Zi=j({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref){return function(e,t){if(t[0].nodeName.toLowerCase()!=="a")return;var n=m.call(t.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";t.on("click",function(e){if(!t.attr(n)){e.preventDefault()}})}}}});var Ki={};S(Pt,function(e,t){if(e=="multiple")return;function n(e,n,i){e.$watch(i[r],function a(e){i.$set(t,!!e)})}var r=kn("ng-"+t);var i=n;if(e==="checked"){i=function(e,t,i){if(i.ngModel!==i[r]){n(e,t,i)}}}Ki[r]=function(){return{restrict:"A",priority:100,link:i}}});S(Bt,function(e,t){Ki[t]=function(){return{priority:100,link:function(e,n,r){if(t==="ngPattern"&&r.ngPattern.charAt(0)=="/"){var a=r.ngPattern.match(i);if(a){r.$set("ngPattern",new RegExp(a[1],a[2]));return}}e.$watch(r[t],function o(e){r.$set(t,e)})}}}});S(["src","srcset","href"],function(e){var t=kn("ng-"+e);Ki[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;if(e==="href"&&m.call(r.prop("href"))==="[object SVGAnimatedString]"){o="xlinkHref";i.$attr[o]="xlink:href";a=null}i.$observe(t,function(t){if(!t){if(e==="href"){i.$set(o,null)}return}i.$set(o,t);if(f&&a)r.prop(a,i[o])})}}}});var Xi={$addControl:H,$$renameControl:ea,$removeControl:H,$setValidity:H,$setDirty:H,$setPristine:H,$setSubmitted:H},Qi="ng-submitted";function ea(e,t){e.$name=t}ta.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function ta(e,t,r,i,a){var o=this,s=[];var u=o.$$parentForm=e.parent().controller("form")||Xi;o.$error={};o.$$success={};o.$pending=n;o.$name=a(t.name||t.ngForm||"")(r);o.$dirty=false;o.$pristine=true;o.$valid=true;o.$invalid=false;o.$submitted=false;u.$addControl(o);o.$rollbackViewValue=function(){S(s,function(e){e.$rollbackViewValue()})};o.$commitViewValue=function(){S(s,function(e){e.$commitViewValue()})};o.$addControl=function(e){qe(e.$name,"input");s.push(e);if(e.$name){o[e.$name]=e}};o.$$renameControl=function(e,t){var n=e.$name;if(o[n]===e){delete o[n]}o[t]=e;e.$name=t};o.$removeControl=function(e){if(e.$name&&o[e.$name]===e){delete o[e.$name]}S(o.$pending,function(t,n){o.$setValidity(n,null,e)});S(o.$error,function(t,n){o.$setValidity(n,null,e)});S(o.$$success,function(t,n){o.$setValidity(n,null,e)});ue(s,e)};oo({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(!r){e[t]=[n]}else{var i=r.indexOf(n);if(i===-1){r.push(n)}}},unset:function(e,t,n){var r=e[t];if(!r){return}ue(r,n);if(r.length===0){delete e[t]}},parentForm:u,$animate:i});o.$setDirty=function(){i.removeClass(e,Za);i.addClass(e,Ka);o.$dirty=true;o.$pristine=false;u.$setDirty()};o.$setPristine=function(){i.setClass(e,Za,Ka+" "+Qi);o.$dirty=false;o.$pristine=true;o.$submitted=false;S(s,function(e){e.$setPristine()})};o.$setUntouched=function(){S(s,function(e){e.$setUntouched()})};o.$setSubmitted=function(){i.addClass(e,Qi);o.$submitted=true;u.$setSubmitted()}}var na=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:ta,compile:function i(r,a){r.addClass(Za).addClass(Ja);var o=a.name?"name":e&&a.ngForm?"ngForm":false;return{pre:function s(e,r,i,a){if(!("action"in i)){var s=function(t){e.$apply(function(){a.$commitViewValue();a.$setSubmitted()});t.preventDefault()};at(r[0],"submit",s);r.on("$destroy",function(){t(function(){ot(r[0],"submit",s)},0,false);
})}var u=a.$$parentForm;if(o){Ur(e,a.$name,a,a.$name);i.$observe(o,function(t){if(a.$name===t)return;Ur(e,a.$name,n,a.$name);u.$$renameControl(a,t);Ur(e,a.$name,a,a.$name)})}r.on("$destroy",function(){u.$removeControl(a);if(o){Ur(e,i[o],n,a.$name)}O(a,Xi)})}}}};return r}]};var ra=na();var ia=na(true);var aa=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;var oa=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;var sa=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;var ua=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;var la=/^(\d{4})-(\d{2})-(\d{2})$/;var ca=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var fa=/^(\d{4})-W(\d\d)$/;var da=/^(\d{4})-(\d\d)$/;var ha=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var pa={text:$a,date:ba("date",la,ya(la,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ba("datetimelocal",ca,ya(ca,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ba("time",ha,ya(ha,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ba("week",fa,ga,"yyyy-Www"),month:ba("month",da,ya(da,["yyyy","MM"]),"yyyy-MM"),number:xa,url:ka,email:Sa,radio:Ea,checkbox:Aa,hidden:H,button:H,submit:H,reset:H,file:H};function va(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function $a(e,t,n,r,i,a){ma(e,t,n,r,i,a);va(r)}function ma(e,t,n,r,i,a){var s=o(t[0].type);if(!i.android){var u=false;t.on("compositionstart",function(e){u=true});t.on("compositionend",function(){u=false;l()})}var l=function(e){if(c){a.defer.cancel(c);c=null}if(u)return;var i=t.val(),o=e&&e.type;if(s!=="password"&&(!n.ngTrim||n.ngTrim!=="false")){i=ne(i)}if(r.$viewValue!==i||i===""&&r.$$hasNativeValidators){r.$setViewValue(i,o)}};if(i.hasEvent("input")){t.on("input",l)}else{var c;var f=function(e,t,n){if(!c){c=a.defer(function(){c=null;if(!t||t.value!==n){l(e)}})}};t.on("keydown",function(e){var t=e.keyCode;if(t===91||15<t&&t<19||37<=t&&t<=40)return;f(e,this,this.value)});if(i.hasEvent("paste")){t.on("paste cut",f)}}t.on("change",l);r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function ga(e,t){if(F(e)){return e}if(B(e)){fa.lastIndex=0;var n=fa.exec(e);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,u=0,l=Hi(r),c=(i-1)*7;if(t){a=t.getHours();o=t.getMinutes();s=t.getSeconds();u=t.getMilliseconds()}return new Date(r,0,l.getDate()+c,a,o,s,u)}}return NaN}function ya(e,t){return function(n,r){var i,a;if(F(n)){return n}if(B(n)){if(n.charAt(0)=='"'&&n.charAt(n.length-1)=='"'){n=n.substring(1,n.length-1)}if(aa.test(n)){return new Date(n)}e.lastIndex=0;i=e.exec(n);if(i){i.shift();if(r){a={yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}}else{a={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}S(i,function(e,n){if(n<t.length){a[t[n]]=+e}});return new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,a.sss*1e3||0)}}return NaN}}function ba(e,t,r,i){return function a(o,s,u,l,c,f,d){wa(o,s,u,l);ma(o,s,u,l,c,f);var h=l&&l.$options&&l.$options.timezone;var p;l.$$parserName=e;l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=r(e,p);if(h){i=xe(i,h)}return i}return n});l.$formatters.push(function(e){if(e&&!F(e)){throw to("datefmt","Expected `{0}` to be a date",e)}if(m(e)){p=e;if(p&&h){p=xe(p,h,true)}return d("date")(e,i,h)}else{p=null;return""}});if(V(u.min)||u.ngMin){var v;l.$validators.min=function(e){return!m(e)||R(v)||r(e)>=v};u.$observe("min",function(e){v=g(e);l.$validate()})}if(V(u.max)||u.ngMax){var $;l.$validators.max=function(e){return!m(e)||R($)||r(e)<=$};u.$observe("max",function(e){$=g(e);l.$validate()})}function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function g(e){return V(e)?F(e)?e:r(e):n}}}function wa(e,t,r,i){var o=t[0];var s=i.$$hasNativeValidators=P(o.validity);if(s){i.$parsers.push(function(e){var r=t.prop(a)||{};return r.badInput&&!r.typeMismatch?n:e})}}function xa(e,t,r,i,a,o){wa(e,t,r,i);ma(e,t,r,i,a,o);i.$$parserName="number";i.$parsers.push(function(e){if(i.$isEmpty(e))return null;if(ua.test(e))return parseFloat(e);return n});i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!q(e)){throw to("numfmt","Expected `{0}` to be a number",e)}e=e.toString()}return e});if(V(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||R(s)||e>=s};r.$observe("min",function(e){if(V(e)&&!q(e)){e=parseFloat(e,10)}s=q(e)&&!isNaN(e)?e:n;i.$validate()})}if(V(r.max)||r.ngMax){var u;i.$validators.max=function(e){return i.$isEmpty(e)||R(u)||e<=u};r.$observe("max",function(e){if(V(e)&&!q(e)){e=parseFloat(e,10)}u=q(e)&&!isNaN(e)?e:n;i.$validate()})}}function ka(e,t,n,r,i,a){ma(e,t,n,r,i,a);va(r);r.$$parserName="url";r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||oa.test(n)}}function Sa(e,t,n,r,i,a){ma(e,t,n,r,i,a);va(r);r.$$parserName="email";r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||sa.test(n)}}function Ea(e,t,n,r){if(R(n.name)){t.attr("name",A())}var i=function(e){if(t[0].checked){r.$setViewValue(n.value,e&&e.type)}};t.on("click",i);r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue};n.$observe("value",r.$render)}function Ca(e,t,n,i,a){var o;if(V(i)){o=e(i);if(!o.constant){throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",n,i)}return o(t)}return a}function Aa(e,t,n,r,i,a,o,s){var u=Ca(s,e,"ngTrueValue",n.ngTrueValue,true);var l=Ca(s,e,"ngFalseValue",n.ngFalseValue,false);var c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c);r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(e){return e===false};r.$formatters.push(function(e){return fe(e,u)});r.$parsers.push(function(e){return e?u:l})}var Ma=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,s,u){if(u[0]){(pa[o(s.type)]||pa.text)(i,a,s,u[0],t,e,n,r)}}}}}];var Ta=/^(true|false|\d+)$/;var Oa=function(){return{restrict:"A",priority:100,compile:function(e,t){if(Ta.test(t.ngValue)){return function n(e,t,r){r.$set("value",e.$eval(r.ngValue))}}else{return function r(e,t,n){e.$watch(n.ngValue,function r(e){n.$set("value",e)})}}}}};var Na=["$compile",function(e){return{restrict:"AC",compile:function t(r){e.$$addBindingClass(r);return function i(t,r,a){e.$$addBindingInfo(r,a.ngBind);r=r[0];t.$watch(a.ngBind,function o(e){r.textContent=e===n?"":e})}}}}];var _a=["$interpolate","$compile",function(e,t){return{compile:function r(i){t.$$addBindingClass(i);return function a(r,i,o){var s=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,s.expressions);i=i[0];o.$observe("ngBindTemplate",function(e){i.textContent=e===n?"":e})}}}}];var La=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function r(i,a){var o=t(a.ngBindHtml);var s=t(a.ngBindHtml,function u(e){return(e||"").toString()});n.$$addBindingClass(i);return function l(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml);t.$watch(s,function a(){r.html(e.getTrustedHtml(o(t))||"")})}}}}];var Ha=j({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function Ia(e,t){e="ngClass"+e;return["$animate",function(n){return{restrict:"AC",link:function(a,o,s){var u;a.$watch(s[e],h,true);s.$observe("class",function(t){h(a.$eval(s[e]))});if(e!=="ngClass"){a.$watch("$index",function(n,r){var o=n&1;if(o!==(r&1)){var u=i(a.$eval(s[e]));o===t?l(u):c(u)}})}function l(e){var t=f(e,1);s.$addClass(t)}function c(e){var t=f(e,-1);s.$removeClass(t)}function f(e,t){var n=o.data("$classCounts")||ze();var r=[];S(e,function(e){if(t>0||n[e]){n[e]=(n[e]||0)+t;if(n[e]===+(t>0)){r.push(e)}}});o.data("$classCounts",n);return r.join(" ")}function d(e,t){var i=r(t,e);var a=r(e,t);i=f(i,1);a=f(a,-1);if(i&&i.length){n.addClass(o,i)}if(a&&a.length){n.removeClass(o,a)}}function h(e){if(t===true||a.$index%2===t){var n=i(e||[]);if(!u){l(n)}else if(!fe(e,u)){var r=i(u);d(r,n)}}u=ce(e)}}};function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){var i=e[r];for(var a=0;a<t.length;a++){if(i==t[a])continue e}n.push(i)}return n}function i(e){var t=[];if(U(e)){S(e,function(e){t=t.concat(i(e))});return t}else if(B(e)){return e.split(" ")}else if(P(e)){S(e,function(e,n){if(e){t=t.concat(n.split(" "))}});return t}return e}}]}var ja=Ia("",true);var Ra=Ia("Odd",0);var Va=Ia("Even",1);var Pa=Yi({compile:function(e,t){t.$set("ngCloak",n);e.removeClass("ng-cloak")}});var Da=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var Ba={};var qa={blur:true,focus:true};S("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=kn("ng-"+e);Ba[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,true);return function s(t,n){n.on(e,function(n){var i=function(){o(t,{$event:n})};if(qa[e]&&r.$$phase){t.$evalAsync(i)}else{t.$apply(i)}})}}}}]});var Fa=["$animate",function(e){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function(n,r,i,a,o){var s,u,l;n.$watch(i.ngIf,function c(n){if(n){if(!u){o(function(n,a){u=a;n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" ");s={clone:n};e.enter(n,r.parent(),r)})}}else{if(l){l.remove();l=null}if(u){u.$destroy();u=null}if(s){l=Ue(s.clone);e.leave(l).then(function(){l=null});s=null}}})}}}];var Ua=["$templateRequest","$anchorScroll","$animate","$sce",function(e,t,n,r){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:b.noop,compile:function(i,a){var o=a.ngInclude||a.src,s=a.onload||"",u=a.autoscroll;return function(i,a,l,c,f){var d=0,h,p,v;var $=function(){if(p){p.remove();p=null}if(h){h.$destroy();h=null}if(v){n.leave(v).then(function(){p=null});p=v;v=null}};i.$watch(r.parseAsResourceUrl(o),function m(r){var o=function(){if(V(u)&&(!u||i.$eval(u))){t()}};var l=++d;if(r){e(r,true).then(function(e){if(l!==d)return;var t=i.$new();c.template=e;var u=f(t,function(e){$();n.enter(e,null,a).then(o)});h=t;v=u;h.$emit("$includeContentLoaded",r);i.$eval(s)},function(){if(l===d){$();i.$emit("$includeContentError",r)}});i.$emit("$includeContentRequested",r)}else{$();c.template=null}})}}}}];var za=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){if(/SVG/.test(r[0].toString())){r.empty();e(bt(a.template,t).childNodes)(n,function o(e){r.append(e)},{futureParentElement:r});return}r.html(a.template);e(r.contents())(n)}}}];var Wa=Yi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}});var Ga=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ";var o=r.ngTrim!=="false";var s=o?ne(a):a;var u=function(e){if(R(e))return;var t=[];if(e){S(e.split(s),function(e){if(e)t.push(o?ne(e):e)})}return t};i.$parsers.push(u);i.$formatters.push(function(e){if(U(e)){return e.join(a)}return n});i.$isEmpty=function(e){return!e||!e.length}}}};var Ja="ng-valid",Ya="ng-invalid",Za="ng-pristine",Ka="ng-dirty",Xa="ng-untouched",Qa="ng-touched",eo="ng-pending";var to=new r("ngModel");var no=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,o,s,u,l,c){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=n;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=n;this.$name=c(r.name||"",false)(e);var f=a(r.ngModel),d=f.assign,h=f,p=d,v=null,$,m=this;this.$$setOptions=function(e){m.$options=e;if(e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");h=function(e){var n=f(e);if(z(n)){n=t(e)}return n};p=function(e,t){if(z(f(e))){n(e,{$$$p:m.$modelValue})}else{d(e,m.$modelValue)}}}else if(!f.assign){throw to("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,ke(i))}};this.$render=H;this.$isEmpty=function(e){return R(e)||e===""||e===null||e!==e};var g=i.inheritedData("$formController")||Xi,y=0;oo({ctrl:this,$element:i,set:function(e,t){e[t]=true},unset:function(e,t){delete e[t]},parentForm:g,$animate:o});this.$setPristine=function(){m.$dirty=false;m.$pristine=true;o.removeClass(i,Ka);o.addClass(i,Za)};this.$setDirty=function(){m.$dirty=true;m.$pristine=false;o.removeClass(i,Za);o.addClass(i,Ka);g.$setDirty()};this.$setUntouched=function(){m.$touched=false;m.$untouched=true;o.setClass(i,Xa,Qa)};this.$setTouched=function(){m.$touched=true;m.$untouched=false;o.setClass(i,Qa,Xa)};this.$rollbackViewValue=function(){s.cancel(v);m.$viewValue=m.$$lastCommittedViewValue;m.$render()};this.$validate=function(){if(q(m.$modelValue)&&isNaN(m.$modelValue)){return}var e=m.$$lastCommittedViewValue;var t=m.$$rawModelValue;var r=m.$valid;var i=m.$modelValue;var a=m.$options&&m.$options.allowInvalid;m.$$runValidators(t,e,function(e){if(!a&&r!==e){m.$modelValue=e?t:n;if(m.$modelValue!==i){m.$$writeModelToScope()}}})};this.$$runValidators=function(e,t,r){y++;var i=y;if(!a()){c(false);return}if(!o()){c(false);return}s();function a(){var e=m.$$parserName||"parse";if($===n){u(e,null)}else{if(!$){S(m.$validators,function(e,t){u(t,null)});S(m.$asyncValidators,function(e,t){u(t,null)})}u(e,$);return $}return true}function o(){var n=true;S(m.$validators,function(r,i){var a=r(e,t);n=n&&a;u(i,a)});if(!n){S(m.$asyncValidators,function(e,t){u(t,null)});return false}return true}function s(){var r=[];var i=true;S(m.$asyncValidators,function(a,o){var s=a(e,t);if(!Q(s)){throw to("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s)}u(o,n);r.push(s.then(function(){u(o,true)},function(e){i=false;u(o,false)}))});if(!r.length){c(true)}else{l.all(r).then(function(){c(i)},H)}}function u(e,t){if(i===y){m.$setValidity(e,t)}}function c(e){if(i===y){r(e)}}};this.$commitViewValue=function(){var e=m.$viewValue;s.cancel(v);if(m.$$lastCommittedViewValue===e&&(e!==""||!m.$$hasNativeValidators)){return}m.$$lastCommittedViewValue=e;if(m.$pristine){this.$setDirty()}this.$$parseAndValidate()};this.$$parseAndValidate=function(){var t=m.$$lastCommittedViewValue;var r=t;$=R(r)?n:true;if($){for(var i=0;i<m.$parsers.length;i++){r=m.$parsers[i](r);if(R(r)){$=false;break}}}if(q(m.$modelValue)&&isNaN(m.$modelValue)){m.$modelValue=h(e)}var a=m.$modelValue;var o=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=r;if(o){m.$modelValue=r;s()}m.$$runValidators(r,m.$$lastCommittedViewValue,function(e){if(!o){m.$modelValue=e?r:n;s()}});function s(){if(m.$modelValue!==a){m.$$writeModelToScope()}}};this.$$writeModelToScope=function(){p(e,m.$modelValue);S(m.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})};this.$setViewValue=function(e,t){m.$viewValue=e;if(!m.$options||m.$options.updateOnDefault){m.$$debounceViewValueCommit(t)}};this.$$debounceViewValueCommit=function(t){var n=0,r=m.$options,i;if(r&&V(r.debounce)){i=r.debounce;if(q(i)){n=i}else if(q(i[t])){n=i[t]}else if(q(i["default"])){n=i["default"]}}s.cancel(v);if(n){v=s(function(){m.$commitViewValue()},n)}else if(u.$$phase){m.$commitViewValue()}else{e.$apply(function(){m.$commitViewValue()})}};e.$watch(function b(){var t=h(e);if(t!==m.$modelValue&&(m.$modelValue===m.$modelValue||t===t)){m.$modelValue=m.$$rawModelValue=t;$=n;var r=m.$formatters,i=r.length;var a=t;while(i--){a=r[i](a)}if(m.$viewValue!==a){m.$viewValue=m.$$lastCommittedViewValue=a;m.$render();m.$$runValidators(t,a,H)}}return t})}];var ro=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:no,priority:1,compile:function t(n){n.addClass(Za).addClass(Xa).addClass(Ja);return{pre:function r(e,t,n,i){var a=i[0],o=i[1]||Xi;a.$$setOptions(i[2]&&i[2].$options);o.$addControl(a);n.$observe("name",function(e){if(a.$name!==e){o.$$renameControl(a,e)}});e.$on("$destroy",function(){o.$removeControl(a)})},post:function i(t,n,r,a){var o=a[0];if(o.$options&&o.$options.updateOn){n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)})}n.on("blur",function(n){if(o.$touched)return;if(e.$$phase){t.$evalAsync(o.$setTouched)}else{t.$apply(o.$setTouched)}})}}}}}];var io=/(\s+|^)default(\s+|$)/;var ao=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=le(e.$eval(t.ngModelOptions));if(this.$options.updateOn!==n){this.$options.updateOnDefault=false;this.$options.updateOn=ne(this.$options.updateOn.replace(io,function(){r.$options.updateOnDefault=true;return" "}))}else{this.$options.updateOnDefault=true}}]}};function oo(e){var t=e.ctrl,r=e.$element,i={},a=e.set,o=e.unset,s=e.parentForm,u=e.$animate;i[Ya]=!(i[Ja]=r.hasClass(Ja));t.$setValidity=l;function l(e,r,i){if(r===n){c("$pending",e,i)}else{f("$pending",e,i)}if(!X(r)){o(t.$error,e,i);o(t.$$success,e,i)}else{if(r){o(t.$error,e,i);a(t.$$success,e,i)}else{a(t.$error,e,i);o(t.$$success,e,i)}}if(t.$pending){d(eo,true);t.$valid=t.$invalid=n;h("",null)}else{d(eo,false);t.$valid=so(t.$error);t.$invalid=!t.$valid;h("",t.$valid)}var u;if(t.$pending&&t.$pending[e]){u=n}else if(t.$error[e]){u=false}else if(t.$$success[e]){u=true}else{u=null}h(e,u);s.$setValidity(e,u,t)}function c(e,n,r){if(!t[e]){t[e]={}}a(t[e],n,r)}function f(e,r,i){if(t[e]){o(t[e],r,i)}if(so(t[e])){t[e]=n}}function d(e,t){if(t&&!i[e]){u.addClass(r,e);i[e]=true}else if(!t&&i[e]){u.removeClass(r,e);i[e]=false}}function h(e,t){e=e?"-"+je(e,"-"):"";d(Ja+e,t===true);d(Ya+e,t===false)}}function so(e){if(e){for(var t in e){return false}}return true}var uo=Yi({terminal:true,priority:1e3});var lo=r("ngOptions");var co=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var fo=["$compile","$parse",function(e,n){function r(e,t,r){var i=e.match(co);if(!i){throw lo("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",e,ke(t))}var a=i[5]||i[7];var o=i[6];var s=/ as /.test(i[0])&&i[1];var u=i[9];var l=n(i[2]?i[1]:a);var c=s&&n(s);var f=c||l;var d=u&&n(u);var h=u?function(e,t){return d(r,t)}:function S(e){return Wt(e)};var p=function(e,t){return h(e,w(e,t))};var v=n(i[2]||i[1]);var $=n(i[3]||"");var m=n(i[4]||"");var g=n(i[8]);var y={};var w=o?function(e,t){y[o]=t;y[a]=e;return y}:function(e){y[a]=e;return y};function x(e,t,n,r,i){this.selectValue=e;this.viewValue=t;this.label=n;this.group=r;this.disabled=i}return{trackBy:u,getTrackByValue:p,getWatchables:n(g,function(e){var t=[];e=e||[];Object.keys(e).forEach(function n(a){var o=w(e[a],a);var s=h(e[a],o);t.push(s);if(i[2]||i[1]){var u=v(r,o);t.push(u)}if(i[4]){var l=m(r,o);t.push(l)}});return t}),getOptions:function(){var e=[];var t={};var n=g(r)||[];var i;if(!o&&k(n)){i=n}else{i=[];for(var a in n){if(n.hasOwnProperty(a)&&a.charAt(0)!=="$"){i.push(a)}}}var s=i.length;for(var l=0;l<s;l++){var c=n===i?l:i[l];var d=n[c];var y=w(d,c);var S=f(r,y);var E=h(S,y);var C=v(r,y);var A=$(r,y);var M=m(r,y);var T=new x(E,S,C,A,M);e.push(T);t[E]=T}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return u?b.copy(e.viewValue):e.viewValue}}}}}var i=t.createElement("option"),a=t.createElement("optgroup");return{restrict:"A",terminal:true,require:["select","?ngModel"],link:function(t,n,s,u){var l=u[1];if(!l)return;var c=u[0];var f=s.multiple;var h;for(var p=0,v=n.children(),$=v.length;p<$;p++){if(v[p].value===""){h=v.eq(p);break}}var m=!!h;var g=d(i.cloneNode(false));g.val("?");var y;var b=r(s.ngOptions,n,t);var w=function(){if(!m){n.prepend(h)}n.val("");h.prop("selected",true);h.attr("selected",true)};var x=function(){if(!m){h.remove()}};var k=function(){n.prepend(g);n.val("?");g.prop("selected",true);g.attr("selected",true)};var E=function(){g.remove()};if(!f){c.writeValue=function N(e){var t=y.getOptionFromViewValue(e);if(t&&!t.disabled){if(n[0].value!==t.selectValue){E();x();n[0].value=t.selectValue;t.element.selected=true;t.element.setAttribute("selected","selected")}}else{if(e===null||m){E();w()}else{x();k()}}};c.readValue=function _(){var e=y.selectValueMap[n.val()];if(e&&!e.disabled){x();E();return y.getViewValueFromOption(e)}return null};if(b.trackBy){t.$watch(function(){return b.getTrackByValue(l.$viewValue)},function(){l.$render()})}}else{l.$isEmpty=function(e){return!e||e.length===0};c.writeValue=function L(e){y.items.forEach(function(e){e.element.selected=false});if(e){e.forEach(function(e){var t=y.getOptionFromViewValue(e);if(t&&!t.disabled)t.element.selected=true})}};c.readValue=function H(){var e=n.val()||[],t=[];S(e,function(e){var n=y.selectValueMap[e];if(!n.disabled)t.push(y.getViewValueFromOption(n))});return t};if(b.trackBy){t.$watchCollection(function(){if(U(l.$viewValue)){return l.$viewValue.map(function(e){return b.getTrackByValue(e)})}},function(){l.$render()})}}if(m){h.remove();e(h)(t);h.removeClass("ng-scope")}else{h=d(i.cloneNode(false))}O();t.$watchCollection(b.getWatchables,O);function C(e,t){e.element=t;t.disabled=e.disabled;if(e.value!==t.value)t.value=e.selectValue;if(e.label!==t.label){t.label=e.label;t.textContent=e.label}}function A(e,t,n,r){var i;if(t&&o(t.nodeName)===n){i=t}else{i=r.cloneNode(false);if(!t){e.appendChild(i)}else{e.insertBefore(i,t)}}return i}function M(e){var t;while(e){t=e.nextSibling;jt(e);e=t}}function T(e){var t=h&&h[0];var n=g&&g[0];if(t||n){while(e&&(e===t||e===n)){e=e.nextSibling}}return e}function O(){var e=y&&c.readValue();y=b.getOptions();var t={};var r=n[0].firstChild;if(m){n.prepend(h)}r=T(r);y.items.forEach(function s(e){var o;var s;var u;if(e.group){o=t[e.group];if(!o){s=A(n[0],r,"optgroup",a);r=s.nextSibling;s.label=e.group;o=t[e.group]={groupElement:s,currentOptionElement:s.firstChild}}u=A(o.groupElement,o.currentOptionElement,"option",i);C(e,u);o.currentOptionElement=u.nextSibling}else{u=A(n[0],r,"option",i);C(e,u);r=u.nextSibling}});Object.keys(t).forEach(function(e){M(t[e].currentOptionElement)});M(r);l.$render();if(!l.$isEmpty(e)){var o=c.readValue();if(b.trackBy&&!fe(e,o)||e!==o){l.$setViewValue(o);l.$render()}}}}}}];var ho=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){var l=u.count,c=u.$attr.when&&s.attr(u.$attr.when),f=u.offset||0,d=a.$eval(c)||{},h={},p=t.startSymbol(),v=t.endSymbol(),$=p+l+"-"+f+v,m=b.noop,g;S(u,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+o(n[2]);d[r]=s.attr(u.$attr[t])}});S(d,function(e,n){h[n]=t(e.replace(r,$))});a.$watch(l,function w(t){var r=parseFloat(t);var i=isNaN(r);if(!i&&!(r in d)){r=e.pluralCat(r-f)}if(r!==g&&!(i&&q(g)&&isNaN(g))){m();var o=h[r];if(R(o)){if(t!=null){n.debug("ngPluralize: no rule defined for '"+r+"' in "+c)}m=H;y()}else{m=a.$watch(o,y)}g=r}});function y(e){s.text(e||"")}}}}];var po=["$parse","$animate",function(e,i){var a="$$NG_REMOVED";var o=r("ngRepeat");var s=function(e,t,n,r,i,a,o){e[n]=r;if(i)e[i]=a;e.$index=t;e.$first=t===0;e.$last=t===o-1;e.$middle=!(e.$first||e.$last);e.$odd=!(e.$even=(t&1)===0)};var u=function(e){return e.clone[0]};var l=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function c(r,f){var h=f.ngRepeat;var p=t.createComment(" end ngRepeat: "+h+" ");var v=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!v){throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h)}var $=v[1];var m=v[2];var g=v[3];var y=v[4];v=$.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!v){throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",$)}var b=v[3]||v[1];var w=v[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g))){throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g)}var x,E,C,A;var M={$id:Wt};if(y){x=e(y)}else{C=function(e,t){return Wt(t)};A=function(e){return e}}return function T(e,t,r,c,f){if(x){E=function(t,n,r){if(w)M[w]=t;M[b]=n;M.$index=r;return x(e,M)}}var v=ze();e.$watchCollection(m,function $(r){var c,$,m=t[0],y,x=ze(),M,T,O,N,_,L,H,I,j;if(g){e[g]=r}if(k(r)){L=r;_=E||C}else{_=E||A;L=[];for(var R in r){if(r.hasOwnProperty(R)&&R.charAt(0)!=="$"){L.push(R)}}}M=L.length;I=new Array(M);for(c=0;c<M;c++){T=r===L?c:L[c];O=r[T];N=_(T,O,c);if(v[N]){H=v[N];delete v[N];x[N]=H;I[c]=H}else if(x[N]){S(I,function(e){if(e&&e.scope)v[e.id]=e});throw o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,N,O)}else{I[c]={id:N,scope:n,clone:n};x[N]=true}}for(var V in v){H=v[V];j=Ue(H.clone);i.leave(j);if(j[0].parentNode){for(c=0,$=j.length;c<$;c++){j[c][a]=true}}H.scope.$destroy()}for(c=0;c<M;c++){T=r===L?c:L[c];O=r[T];H=I[c];if(H.scope){y=m;do{y=y.nextSibling}while(y&&y[a]);if(u(H)!=y){i.move(Ue(H.clone),null,d(m))}m=l(H);s(H.scope,c,b,O,w,T,M)}else{f(function P(e,t){H.scope=t;var n=p.cloneNode(false);e[e.length++]=n;i.enter(e,null,d(m));m=n;H.clone=e;x[H.id]=H;s(H.scope,c,b,O,w,T,M)})}}v=x})}}}}];var vo="ng-hide";var $o="ng-hide-animate";var mo=["$animate",function(e){return{restrict:"A",multiElement:true,link:function(t,n,r){t.$watch(r.ngShow,function i(t){e[t?"removeClass":"addClass"](n,vo,{tempClasses:$o})})}}}];var go=["$animate",function(e){return{restrict:"A",multiElement:true,link:function(t,n,r){t.$watch(r.ngHide,function i(t){e[t?"addClass":"removeClass"](n,vo,{tempClasses:$o})})}}}];var yo=Yi(function(e,t,n){e.$watch(n.ngStyle,function r(e,n){if(n&&e!==n){S(n,function(e,n){t.css(n,"")})}if(e)t.css(e)},true)});var bo=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function n(){this.cases={}}],link:function(n,r,i,a){var o=i.ngSwitch||i.on,s=[],u=[],l=[],c=[];var f=function(e,t){return function(){e.splice(t,1)}};n.$watch(o,function d(n){var r,i;for(r=0,i=l.length;r<i;++r){e.cancel(l[r])}l.length=0;for(r=0,i=c.length;r<i;++r){var o=Ue(u[r].clone);c[r].$destroy();var d=l[r]=e.leave(o);d.then(f(l,r))}u.length=0;c.length=0;if(s=a.cases["!"+n]||a.cases["?"]){S(s,function(n){n.transclude(function(r,i){c.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var o={clone:r};u.push(o);e.enter(r,a.parent(),a)})})}})}}}];var wo=Yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[];r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}});var xo=Yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:i,element:t})}});var ko=Yi({restrict:"EAC",link:function(e,t,n,i,a){if(!a){throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",ke(t))}a(function(e){t.empty();t.append(e)})}});var So=["$templateCache",function(e){return{restrict:"E",terminal:true,compile:function(t,n){if(n.type=="text/ng-template"){var r=n.id,i=t[0].text;e.put(r,i)}}}}];var Eo={$setViewValue:H,$render:H};var Co=["$element","$scope","$attrs",function(e,r,i){var a=this,o=new Gt;a.ngModelCtrl=Eo;a.unknownOption=d(t.createElement("option"));a.renderUnknownOption=function(t){var n="? "+Wt(t)+" ?";a.unknownOption.val(n);e.prepend(a.unknownOption);e.val(n)};r.$on("$destroy",function(){a.renderUnknownOption=H});a.removeUnknownOption=function(){if(a.unknownOption.parent())a.unknownOption.remove()};a.readValue=function s(){a.removeUnknownOption();return e.val()};a.writeValue=function u(t){if(a.hasOption(t)){a.removeUnknownOption();e.val(t);if(t==="")a.emptyOption.prop("selected",true)}else{if(t==null&&a.emptyOption){a.removeUnknownOption();e.val("")}else{a.renderUnknownOption(t)}}};a.addOption=function(e,t){qe(e,'"option value"');if(e===""){a.emptyOption=t}var n=o.get(e)||0;o.put(e,n+1)};a.removeOption=function(e){var t=o.get(e);if(t){if(t===1){o.remove(e);if(e===""){a.emptyOption=n}}else{o.put(e,t-1)}}};a.hasOption=function(e){return!!o.get(e)}}];var Ao=function(){return{restrict:"E",require:["select","?ngModel"],controller:Co,link:function(e,t,n,r){var i=r[1];if(!i)return;var a=r[0];a.ngModelCtrl=i;i.$render=function(){a.writeValue(i.$viewValue)};t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())})});if(n.multiple){a.readValue=function u(){var e=[];S(t.find("option"),function(t){if(t.selected){e.push(t.value)}});return e};a.writeValue=function l(e){var n=new Gt(e);S(t.find("option"),function(e){e.selected=V(n.get(e.value))})};var o,s=NaN;e.$watch(function c(){if(s===i.$viewValue&&!fe(o,i.$viewValue)){o=ce(i.$viewValue);i.$render()}s=i.$viewValue});i.$isEmpty=function(e){return!e||e.length===0}}}}};var Mo=["$interpolate",function(e){function t(e){if(e[0].hasAttribute("selected")){e[0].selected=true}}return{restrict:"E",priority:100,compile:function(n,r){if(R(r.value)){var i=e(n.text(),true);if(!i){r.$set("value",n.text())}}return function(e,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);if(s&&s.ngModelCtrl){if(i){e.$watch(i,function u(e,i){r.$set("value",e);if(i!==e){s.removeOption(i)}s.addOption(e,n);s.ngModelCtrl.$render();t(n)})}else{s.addOption(r.value,n);s.ngModelCtrl.$render();t(n)}n.on("$destroy",function(){s.removeOption(r.value);s.ngModelCtrl.$render()})}}}}}];var To=j({restrict:"E",terminal:false});var Oo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;n.required=true;r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)};n.$observe("required",function(){r.$validate()})}}};var No=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(!a)return;var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(B(e)&&e.length>0){e=new RegExp("^"+e+"$")}if(e&&!e.test){throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,ke(t))}o=e||n;a.$validate()});a.$validators.pattern=function(e){return a.$isEmpty(e)||R(o)||o.test(e)}}}};var _o=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;var i=-1;n.$observe("maxlength",function(e){var t=_(e);i=isNaN(t)?-1:t;r.$validate()});r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}};var Lo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(!r)return;var i=0;n.$observe("minlength",function(e){i=_(e)||0;r.$validate()});r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}};if(e.angular.bootstrap){console.log("WARNING: Tried to load angular more than once.");return}Pe();nt(b);d(t).ready(function(){Ne(t,_e)})})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');(function(e,t,n){"use strict";var r=t.$$minErr("$sanitize");function i(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];O(t,H(n,function(t,n){return!/^unsafe/.test(e(t,n))}));return n.join("")}}]}function a(e){var n=[];var r=H(n,t.noop);r.chars(e);return n.join("")}var o=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,s=/^<\/\s*([\w:-]+)[^>]*>/,u=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,l=/^</,c=/^<\//,f=/<!--(.*?)-->/g,d=/<!DOCTYPE([^>]*?)>/i,h=/<!\[CDATA\[(.*?)]]>/g,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/([^\#-~| |!])/g;
var $=T("area,br,col,hr,img,wbr");var m=T("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g=T("rp,rt"),y=t.extend({},g,m);var b=t.extend({},m,T("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var w=t.extend({},g,T("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var x=T("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan,use");var k=T("script,style");var S=t.extend({},$,b,w,y,x);var E=T("background,cite,href,longdesc,src,usemap,xlink:href");var C=T("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,target,title,type,"+"valign,value,vspace,width");var A=T("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var M=t.extend({},E,A,C);function T(e,n){var r={},i=e.split(","),a;for(a=0;a<i.length;a++){r[n?t.lowercase(i[a]):i[a]]=true}return r}function O(e,n){if(typeof e!=="string"){if(e===null||typeof e==="undefined"){e=""}else{e=""+e}}var i,a,p,v=[],m=e,g;v.last=function(){return v[v.length-1]};while(e){g="";a=true;if(!v.last()||!k[v.last()]){if(e.indexOf("<!--")===0){i=e.indexOf("--",4);if(i>=0&&e.lastIndexOf("-->",i)===i){if(n.comment)n.comment(e.substring(4,i));e=e.substring(i+3);a=false}}else if(d.test(e)){p=e.match(d);if(p){e=e.replace(p[0],"");a=false}}else if(c.test(e)){p=e.match(s);if(p){e=e.substring(p[0].length);p[0].replace(s,S);a=false}}else if(l.test(e)){p=e.match(o);if(p){if(p[4]){e=e.substring(p[0].length);p[0].replace(o,x)}a=false}else{g+="<";e=e.substring(1)}}if(a){i=e.indexOf("<");g+=i<0?e:e.substring(0,i);e=i<0?"":e.substring(i);if(n.chars)n.chars(_(g))}}else{e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+v.last()+"[^>]*>","i"),function(e,t){t=t.replace(f,"$1").replace(h,"$1");if(n.chars)n.chars(_(t));return""});S("",v.last())}if(e==m){throw r("badparse","The sanitizer was unable to parse the following block "+"of html: {0}",e)}m=e}S();function x(e,r,i,a){r=t.lowercase(r);if(b[r]){while(v.last()&&w[v.last()]){S("",v.last())}}if(y[r]&&v.last()==r){S("",r)}a=$[r]||!!a;if(!a){v.push(r)}var o={};i.replace(u,function(e,t,n,r,i){var a=n||r||i||"";o[t]=_(a)});if(n.start)n.start(r,o,a)}function S(e,r){var i=0,a;r=t.lowercase(r);if(r){for(i=v.length-1;i>=0;i--){if(v[i]==r)break}}if(i>=0){for(a=v.length-1;a>=i;a--)if(n.end)n.end(v[a]);v.length=i}}}var N=document.createElement("pre");function _(e){if(!e){return""}N.innerHTML=e.replace(/</g,"&lt;");return N.textContent}function L(e){return e.replace(/&/g,"&amp;").replace(p,function(e){var t=e.charCodeAt(0);var n=e.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(v,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function H(e,n){var r=false;var i=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e);if(!r&&k[e]){r=e}if(!r&&S[e]===true){i("<");i(e);t.forEach(a,function(r,a){var o=t.lowercase(a);var s=e==="img"&&o==="src"||o==="background";if(M[o]===true&&(E[o]!==true||n(r,s))){i(" ");i(a);i('="');i(L(r));i('"')}});i(o?"/>":">")}},end:function(e){e=t.lowercase(e);if(!r&&S[e]===true){i("</");i(e);i(">")}if(e==r){r=false}},chars:function(e){if(!r){i(L(e))}}}}t.module("ngSanitize",[]).provider("$sanitize",i);t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,r=/^mailto:/;return function(i,o){if(!i)return i;var s;var u=i;var l=[];var c;var f;while(s=u.match(n)){c=s[0];if(!s[2]&&!s[4]){c=(s[3]?"http://":"mailto:")+c}f=s.index;d(u.substr(0,f));h(c,s[0].replace(r,""));u=u.substring(f+s[0].length)}d(u);return e(l.join(""));function d(e){if(!e){return}l.push(a(e))}function h(e,n){l.push("<a ");if(t.isDefined(o)){l.push('target="',o,'" ')}l.push('href="',e.replace(/"/g,"&quot;"),'">');d(n);l.push("</a>")}}}])})(window,window.angular);(function(){var supWysiwygEditor,indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};supWysiwygEditor=function(){var $btn_indent,$btn_outdent,$currentImage,$currentLink,$current_step,$document,$editor,$history,$options,$property,$toolbar,BFBL,assertParam,baseEventHanlder,blowupHtml,blurHandler,blurHook,btnList,childOf,clearStyles,closeHTMLHook,createToolbarBtns,defaultToolbarBtns,destroySpan,destroy_editor,editImgHook,editLinkHook,endRange,error,evtManager,execCmd,execFormatBlock,execInsertContent,execInsertImage,execInsertLink,execRemoveImage,execRemoveLink,execReplaceImage,execReplaceLink,findSibling,findStylesParent,focusHandler,focusHook,getCurrentSelection,getSameParent,getSelectionHtml,get_name,get_options,get_order,get_property,historyManager,inEditor,inElement,indentText,init_editor,insertA,insertCode,insertHR,insertImg,insertImgHook,insertLinkHook,insertOrderedList,insertUnorderedList,isDescendant,isHTMLElement,isJsonString,justifyCenter,justifyFull,justifyLeft,justifyRight,load_options,log,makeBold,makeH1,makeH2,makeH3,makeH4,makeH5,makeH6,makeItalic,makeP,makePre,makeQuote,makeStrike,makeSub,makeSup,makeUnderline,mergeJSON,methods,now,openHTMLHook,outdentText,pasteHtmlAtCaret,placeCaretAfterNode,reDo,readyA,removeTag,resetCurrentImage,resetCurrentLink,restoreSelection,richEditorModel,saveSelection,savedRange,selectHandler,selectedNode,selectedOrigin,setKeyboard,setRange,set_blur_hook,set_edit_image_hook,set_edit_link_hook,set_focus_hook,set_html_on_close_hook,set_html_on_open_hook,set_insert_img_hook,set_insert_link_hook,set_toolbar,smartFormatBlock,startRange,styleTags,switchIndentOutdentBtns,targetA,targetImg,testBlackList,toggleHtml,unDo,unset_toolbar,ver,watcher,wildClear;ver="1.1.0";now=Date.now();$options={nontoolbar:false,history:100};$property={name:"",order:0};$document=void 0;$editor=void 0;$toolbar=void 0;selectedNode=void 0;selectedOrigin=void 0;startRange=void 0;endRange=void 0;savedRange=void 0;richEditorModel=true;focusHook=void 0;blurHook=void 0;insertLinkHook=void 0;editLinkHook=void 0;insertImgHook=void 0;editImgHook=void 0;openHTMLHook=void 0;closeHTMLHook=void 0;$currentImage={element:void 0,link:void 0};$currentLink={element:void 0};$history=[];$current_step=0;defaultToolbarBtns=[["h1","h2","h3","h4","h5","h6","p","quote","pre","code"],["i","b","strike","underline","sub","sup"],["ol","ul","outdent","indent","hr","img","a","jleft","jcenter","jright","jfull"],["ud","rd","clear"],["html"]];$btn_indent=void 0;$btn_outdent=void 0;btnList=[{name:"h1",handler:"makeH1",ico:null,status:""},{name:"h2",handler:"makeH2",ico:null,status:""},{name:"h3",handler:"makeH3",ico:null,status:""},{name:"h4",handler:"makeH4",ico:null,status:""},{name:"h5",handler:"makeH5",ico:null,status:""},{name:"h6",handler:"makeH6",ico:null,status:""},{name:"p",handler:"makeP",ico:"paragraph"},{name:"quote",handler:"makeQuote",ico:"quote-right",status:""},{name:"pre",handler:"makePre",ico:null,status:""},{name:"code",handler:"insertCode",ico:null,status:""},{name:"i",handler:"makeItalic",ico:"italic",status:""},{name:"b",handler:"makeBold",ico:"bold",status:""},{name:"strike",handler:"makeStrike",ico:"strikethrough",status:""},{name:"underline",handler:"makeUnderline",ico:"underline",status:""},{name:"sub",handler:"makeSub",ico:"subscript",status:""},{name:"sup",handler:"makeSup",ico:"superscript",status:""},{name:"ol",handler:"insertOrderedList",ico:"list-ol",status:""},{name:"ul",handler:"insertUnorderedList",ico:"list-ul",status:""},{name:"outdent",handler:"outdentText",ico:"outdent",status:""},{name:"indent",handler:"indentText",ico:"indent",status:""},{name:"hr",handler:"insertHR",ico:"arrows-h",status:""},{name:"img",handler:"insertImg",ico:"picture-o",status:""},{name:"a",handler:"insertA",ico:"link",status:""},{name:"jleft",handler:"justifyLeft",ico:"align-left",status:""},{name:"jcenter",handler:"justifyCenter",ico:"align-center",status:""},{name:"jright",handler:"justifyRight",ico:"align-right",status:""},{name:"jfull",handler:"justifyFull",ico:"align-justify",status:""},{name:"redo",handler:"reDo",ico:"redo",status:""},{name:"undo",handler:"unDo",ico:"undo",status:""},{name:"clear",handler:"clearStyles",ico:"eraser",status:""},{name:"html",handler:"toggleHtml",ico:"code",status:""}];BFBL=["OL","UL","LI","TD","TH","TR","TBODY","TABLE","THEAD","TFOOT","DL","DD","DT"];styleTags=["b","i","u","strong","sup","sub","strike","font","span"];selectHandler=function(e){getCurrentSelection();watcher()};focusHandler=function(e){savedRange=saveSelection();if(!childOf(e.target,$toolbar,true)){if(typeof focusHook==="function"){focusHook()}}watcher();historyManager("record")};blurHandler=function(e){if(!inEditor(e.target,true)&&!childOf(e.target,$toolbar,true)&&typeof blurHook==="function"){blurHook()}};targetImg=function(e){var t,n,r,i,a;t=e.target;if(!t||!inEditor(t)){e.preventDefault();return false}if(t.tagName!=="IMG"){return}if(typeof editImgHook==="function"){$currentImage.element=t;r={src:t.getAttribute("src"),title:t.getAttribute("alt"),alt:t.getAttribute("alt")};n=t.parentElement;if(n&&inEditor(n)&&n.tagName==="A"){$currentImage.link=n;r.link=n.getAttribute("href");r.target=n.getAttribute("target")}else{$currentImage.link=null}editImgHook(r)}else{a=t.getAttribute("src");i=prompt("Img:",a);if(i){t.setAttribute("src",i)}else if(i!==null){t.parentElement.removeChild(t)}historyManager("record")}e.preventDefault();return false};readyA=null;targetA=function(e){var t,n,r,i;t=e.target;if(!t||!inEditor(t)){e.preventDefault();return false}if(t.tagName==="IMG"||t.tagName!=="A"){return}if(t.children.length===1){n=t.children[0];if(n.tagName==="IMG"){return}}if(!readyA||readyA!==t){readyA=t;return}readyA=null;if(typeof editLinkHook==="function"){$currentLink.element=t;r={href:t.getAttribute("href"),target:t.getAttribute("target")};editLinkHook(r)}else{i=prompt("Link:",url);if(i){t.setAttribute("href",i)}else if(i!==null){t.outerHTML=t.innerHTML}historyManager("record")}e.preventDefault();return false};insertOrderedList=function(e){var t,n,r;if(!inEditor(selectedNode,true)){return}if(inEditor(selectedNode)){execCmd("insertorderedlist");getCurrentSelection();r=selectedNode.parentElement.parentElement;destroySpan(r,true);if(r.parentElement&&r.parentElement.tagName==="P"){r.parentElement.outerHTML=r.parentElement.innerHTML}}else{t=selectedNode.innerHTML;selectedNode.innerHTML="<ol><li>"+t+"</li></ol>";n=selectedNode.querySelector("li");setRange(n)}switchIndentOutdentBtns();historyManager("record");return getCurrentSelection()};insertUnorderedList=function(e){var t,n,r;if(!inEditor(selectedNode,true)){return}if(inEditor(selectedNode)){execCmd("insertunorderedlist");getCurrentSelection();r=selectedNode.parentElement.parentElement;destroySpan(r,true);if(r.parentElement&&r.parentElement.tagName==="P"){r.parentElement.outerHTML=r.parentElement.innerHTML}}else{t=selectedNode.innerHTML;selectedNode.innerHTML="<ul><li>"+t+"</li></ul>";n=selectedNode.querySelector("li");setRange(n)}switchIndentOutdentBtns();historyManager("record");return getCurrentSelection()};outdentText=function(e){if(inElement(selectedNode,"LI")||inElement(selectedNode,"OL")){execCmd("outdent");return switchIndentOutdentBtns()}};indentText=function(e){if(inElement(selectedNode,"LI")||inElement(selectedNode,"OL")){execCmd("indent");return switchIndentOutdentBtns()}};makeH1=function(e){return smartFormatBlock("h1")};makeH2=function(e){return smartFormatBlock("h2")};makeH3=function(e){return smartFormatBlock("h3")};makeH4=function(e){return smartFormatBlock("h4")};makeH5=function(e){return smartFormatBlock("h5")};makeH6=function(e){return smartFormatBlock("h6")};makePre=function(e){return smartFormatBlock("pre")};makeQuote=function(e){return smartFormatBlock("blockquote")};makeP=function(e){return smartFormatBlock("p")};makeBold=function(e){return execCmd("bold")};makeItalic=function(e){return execCmd("italic")};justifyLeft=function(e){return execCmd("justifyLeft")};justifyRight=function(e){return execCmd("justifyRight")};justifyCenter=function(e){return execCmd("justifyCenter")};justifyFull=function(e){return execCmd("justifyFull")};makeStrike=function(e){return execCmd("strikeThrough")};makeUnderline=function(e){return execCmd("underline")};makeSup=function(e){return execCmd("superscript")};makeSub=function(e){return execCmd("subscript")};reDo=function(e){return historyManager("redo")};unDo=function(e){return historyManager("undo")};insertCode=function(e){var t;if(!inEditor(selectedNode)){return}t=inElement(selectedNode,"CODE");if(!t){if(!testBlackList(selectedNode)){selectedNode.outerHTML="<code>"+selectedNode.innerHTML+"</code>";selObj.extend(selectedNode,0)}}else{t.outerHTML="<div>"+t.innerHTML+"</div>";selObj.extend(t,0)}return historyManager("record")};findStylesParent=function(e){var t,n;if(e.parentElement){t=e.parentElement.tagName;if(n=t.toLowerCase(),indexOf.call(styleTags,n)>=0){e=findStylesParent(e.parentElement)}else{e=e.parentElement}}return e};clearStyles=function(e){var t,n,r;getCurrentSelection();if(!inEditor(selectedNode,true)){return}if(!inEditor(selectedNode)){n=selectedNode}else{n=findStylesParent(selectedNode)}if(!n.innerHTML){return}t=n.innerHTML;r=0;while(r<styleTags.length){t=removeTag(t,styleTags[r],true);r++}console.log(t);n.innerHTML=t;n.removeAttribute("style");historyManager("record");return getCurrentSelection()};blowupHtml=function(e){return wildClear()};insertHR=function(e){return execCmd("insertHorizontalRule")};insertA=function(e){var t;if(inEditor(selectedNode,true)){if(typeof insertLinkHook==="function"){savedRange=saveSelection();insertLinkHook()}else{t=prompt("Link:","#");execCmd("createLink",false,t)}return historyManager("record")}};insertImg=function(e){var t;if(inEditor(selectedNode,true)){if(typeof insertImgHook==="function"){savedRange=saveSelection();insertImgHook()}else{t=prompt("Img:","http://");if(t!==""&&t!=="http://"){execCmd("insertImage",false,t);watcher()}}return historyManager("record")}};toggleHtml=function(e){var t;if(!inEditor(selectedNode,true)){return}historyManager("record");if(typeof openHTMLHook==="function"){savedRange=saveSelection();return openHTMLHook()}else{if($editor.tagName!=="textarea"){t=$editor.innerHTML;$editor.outerHTML="<textarea>"+t+"</textarea>";richEditorModel=false}else{t=$editor.value;$editor.outerHTML="<div>"+t+"</div>";richEditorModel=true}if(!$toolbar){return}if(richEditorModel){return $toolbar.removeAttribute("disabled")}else{return $toolbar.setAttribute("disabled",true)}}};getCurrentSelection=function(){var e,t,n;e=void 0;t=window.getSelection();if(t.type!=="None"&&t.rangeCount>0){n=t.getRangeAt(0);startRange=n.startContainer;endRange=n.endContainer;e=t.anchorNode;selectedOrigin=e;while(e.nodeType!==1){e=e.parentNode}return selectedNode=e}};setRange=function(e){var t,n;t=document.createRange();t.selectNode(e);n=window.getSelection();n.removeAllRanges();return n.addRange(t)};inEditor=function(e,t){return childOf(e,$editor,t)};childOf=function(e,t,n){while(e!==null){if(n){if(e===t){return true}}else{if(e.parentNode===t){return true}}e=e.parentNode}return false};watcher=function(){var e,t,n,r;t=void 0;r=void 0;t=$editor.querySelectorAll("img");e=0;while(e<t.length){t[e].addEventListener("click",targetImg);e++}r=$editor.querySelectorAll("a");n=0;while(n<r.length){r[n].addEventListener("click",targetA);n++}return switchIndentOutdentBtns()};switchIndentOutdentBtns=function(){getCurrentSelection();if(inElement(selectedNode,"LI")||inElement(selectedNode,"OL")){if($btn_indent){$btn_indent.removeAttribute("disabled")}if($btn_outdent){$btn_outdent.removeAttribute("disabled")}}else{if($btn_indent){$btn_indent.setAttribute("disabled",true)}if($btn_outdent){$btn_outdent.setAttribute("disabled",true)}}};saveSelection=function(){var e;if(window.getSelection){e=window.getSelection();if(e.getRangeAt&&e.rangeCount){return e.getRangeAt(0)}}else if(document.selection&&document.selection.createRange){return document.selection.createRange()}return null};restoreSelection=function(e){var t;if(!e){return}if(window.getSelection){t=window.getSelection();t.removeAllRanges();return t.addRange(e)}else if(document.selection&&e.select){return e.select()}};isHTMLElement=function(e){var t,n,r;if(!e){return false}t=e&&typeof e==="object"&&e!==null;n=e.nodeType===1&&typeof e.nodeName==="string";r=t&&n;return r};inElement=function(e,t){if(!e||typeof t!=="string"){return false}t=t.toUpperCase();if(e.tagName&&e.tagName===t){return e}else{if(e.parentElement||e===$editor){return inElement(e.parentElement,t)}else{return false}}};pasteHtmlAtCaret=function(e,t){var n,r,i,a,o,s,u,l;if(window.getSelection){l=window.getSelection();if(l.getRangeAt&&l.rangeCount>0){u=l.getRangeAt(0);u.deleteContents();n=document.createElement("div");n.innerHTML=e;i=document.createDocumentFragment();o=void 0;a=void 0;while(o=n.firstChild){a=i.appendChild(o)}r=i.firstChild;u.insertNode(i);if(a){u=u.cloneRange();u.setStartAfter(a);if(t){u.setStartBefore(r)}else{u.collapse(true)}l.removeAllRanges();l.addRange(u)}}}else if((l=document.selection)&&l.type!=="Control"){s=l.createRange();s.collapse(true);l.createRange().pasteHTML(e);if(t){u=l.createRange();u.setEndPoint("StartToStart",s);u.select()}}};removeTag=function(e,t,n){var r,i;if(typeof t!=="string"){return}t=t.toLowerCase();r=new RegExp("<"+t+".*?>(.*?)</"+t+">","ig");while(r.test(e)){e=e.replace(r,"$1")}if(n){i=new RegExp("(<"+t+".*?>)|(</"+t+">)","ig");while(i.test(e)){e=e.replace(i,"")}}return e};placeCaretAfterNode=function(e){var t,n;if(typeof window.getSelection==="undefined"||!e.parentNode){return}t=document.createRange();t.setStartAfter(e);t.collapse(true);n=window.getSelection();n.removeAllRanges();return n.addRange(t)};wildClear=function(){var e,t,n,r,i,a,o,s;if(inEditor(selectedNode)){a=startRange.parentElement;t=endRange.parentElement;if(a!==t){r=getSameParent(a,t);i=r.point.childNodes;n=0;while(n<i.length){if(i[n].nodeType===1){o=false;if(i[n]===r.start||i[n]===r.end){if(s){o=false}else{s=true;o=s}}if(s){i[n].outerHTML="<div>"+i[n].innerText+"</dvi>"}s=o}n++}}else{e=testBlackList(selectedNode);if(e){e=e.outerHTML="<div>"+e.innerText+"</div>"}else{selectedNode.outerHTML="<div>"+selectedNode.innerText+"</div>"}}}else if(inEditor(selectedNode,true)){$editor.innerHTML=$editor.innerText}return historyManager("record")};getSameParent=function(e,t){var n,r;r=e;while(r!==null){n=findSibling(r.parentNode,t);if(n){return{point:r.parentNode,start:r,end:n}}else{r=r.parentNode}}};findSibling=function(e,t){var n;n=t;while(n!==null){if(n.parentNode===e){return n}n=n.parentNode}return false};isDescendant=function(e,t){var n;n=t.parentNode;while(n!==null){if(n===e){return true}n=n.parentNode}return false};testBlackList=function(e){if(!e||e===$editor){return false}if(BFBL.indexOf(e.tagName)>=0){return e}else{return testBlackList(e.parentElement)}};smartFormatBlock=function(e){var t;if(typeof e!=="string"){return}getCurrentSelection();if(inEditor(selectedOrigin)&&selectedOrigin.nodeType!==1){execFormatBlock(e,true);return historyManager("record")}else if(inEditor(selectedNode)){if(selectedNode.tagName!==e.toUpperCase()){t=testBlackList(selectedNode);if(t){if(t.innerText!==""){t.innerHTML="<"+e+">"+t.innerText+"</"+e+">";placeCaretAfterNode(t.childNodes[0])}}else{execFormatBlock(e)}}else{if(selectedNode.parentNode.tagName==="DIV"){execFormatBlock("div")}else{selectedNode.outerHTML=selectedNode.innerHTML;placeCaretAfterNode(selectedNode)}}return historyManager("record")}};execFormatBlock=function(e,t){if(typeof e!=="string"){return}if(inEditor(selectedNode)||t){e=e.toLowerCase();if(startRange.parentElement===endRange.parentElement){document.execCommand("formatBlock",false,e)}return historyManager("record")}};execCmd=function(e,t,n){getCurrentSelection();if(!(inEditor(selectedOrigin)&&selectedOrigin.nodeType!==1)){return}if(!inEditor(selectedNode,true)){return}if(typeof t!=="boolean"){t=false}if(typeof n!=="string"){n=""}document.execCommand(e,t,n);return historyManager("record")};destroySpan=function(e,t){var n,r,i;n=e.childNodes;r=0;i=[];while(r<n.length){if(n[r].tagName==="SPAN"&&n[r].getAttribute("style")){n[r].outerHTML=n[r].innerHTML}else if(n[r].tagName==="BR"&&t){n[r].outerHTML=""}else{if(n[r].childNodes){destroySpan(n[r],t)}}i.push(r++)}return i};setKeyboard=function(e){var t;t=[];t["shift"]=false;t["enter"]=false;e.addEventListener("keydown",function(e){if(e.keyCode===16){t["shift"]=true}if(e.keyCode===8||e.keyCode===46||e.keyCode===17||e.keyCode===91||e.keyCode===88){historyManager("record")}if(e.keyCode===13){t["enter"]=true;historyManager("record")}if(t["shift"]&&t["enter"]){e.preventDefault();return pasteHtmlAtCaret("<br>")}});e.addEventListener("keyup",function(e){if(e.keyCode===16){t["shift"]=false}if(e.keyCode===13){t["enter"]=false}})};getSelectionHtml=function(e){var t,n,r,i,a;n="";if(typeof window.getSelection!=="undefined"){a=window.getSelection();if(!e){if(a.rangeCount){t=document.createElement("div");r=0;i=a.rangeCount;while(r<i){t.appendChild(a.getRangeAt(r).cloneContents());++r}n=t.innerHTML}}else{n=a.toString()}}else if(typeof document.selection!=="undefined"){if(document.selection.type==="Text"){n=document.selection.createRange().htmlText}}return n};historyManager=function(e){switch(e){case"redo":if($current_step<$history.length-1){$current_step++;$editor.innerHTML=$history[$current_step]}break;case"undo":if($current_step>0){$current_step--;$editor.innerHTML=$history[$current_step]}break;case"record":if($editor.innerHTML===$history[$current_step]){return}$history.splice($current_step+1,Number.MAX_VALUE);$current_step++;if($current_step>=$options.history){$current_step=$options.history;$history.shift()}$history.push($editor.innerHTML);break}};log=function(e){var t;console.log("---------------------------");console.log("SAW Editor Log: ("+$property.name+")");for(t in arguments){if(arguments.hasOwnProperty(t)){console.log(arguments[t])}}return console.log("---------------------------")};error=function(e){var t;console.log("---------------------------");console.log("SAW Editor Error: ("+$property.name+")");for(t in arguments){if(arguments.hasOwnProperty(t)){console.error(arguments[t])}}return console.log("---------------------------")};assertParam=function(e,t,n){var r;if(!n){n=""}if(!t){t="string"}r=typeof e===t?e:n;return r};isJsonString=function(e){var t;try{JSON.parse(e)}catch(n){t=n;return false}return true};mergeJSON=function(e,t){var n,r;r=Object.create(t);for(n in e){if(r.hasOwnProperty(n)){if(e[n]!==null&&e[n].constructor===Object){r[n]=zrd3.utils.mergeJSON(e[n],r[n])}}else{r[n]=e[n]}}return r};createToolbarBtns=function(e){var t,n,r,i,a,o,s,u,l;t=e.getAttribute("toolbar-btns");if(!t){return e}u=t.replace(/'/g,'"');if(isJsonString(u)){u=JSON.parse(u)}if(typeof u!=="object"||!u.length||u.length===0){u=defaultToolbarBtns}i=0;while(i<u.length){r=document.createElement("div");o=0;while(o<u[i].length){l=u[i][o];if(e.querySelector(".btn-"+l)){o++;continue}n=document.createElement("button");n.className="btn btn-"+l;a=void 0;for(s in btnList){if(btnList[s].name===l){a=btnList[s].ico;break}}if(a){n.innerHTML='<i class="ico-'+a+'"></i>'}else{n.innerHTML=l.toUpperCase()}r.appendChild(n);o++}if(r.childNodes.length>1){r.className="btn-group";e.appendChild(r)}else{r=null}i++}return e};baseEventHanlder=function(e){var t;t=new Event("saw");return $editor.dispatchEvent(t)};evtManager={register:function(e,t,n){if(typeof n!=="string"){n="click"}if(typeof e==="object"){e.addEventListener(n,t);e.addEventListener(n,baseEventHanlder)}},remove:function(e,t,n){if(typeof n!=="string"){n="click"}if(typeof e==="object"){if(typeof t==="function"){e.removeEventListener(n,t);e.removeEventListener(n,baseEventHanlder)}}}};resetCurrentImage=function(){return $currentImage={link:void 0,element:void 0}};resetCurrentLink=function(){return $currentLink={element:void 0}};execInsertImage=function(e){var t,n,r,i,a,o;if(!savedRange||!e){return}i=assertParam(e.src);t=assertParam(e.title);n=assertParam(e.href);a=assertParam(e.target);restoreSelection(savedRange);if(n){if(a){o='target="'+a+'"'}else{o=""}r="<a "+o+' href="'+n+'">'+'<img src="'+i+'" alt="'+t+'"></a>'}else{r='<img src="'+i+'" alt="'+t+'" />'}pasteHtmlAtCaret(r);watcher();return historyManager("record")};execRemoveImage=function(){var e;e=$currentImage.element;if(!e){return}e.outerHTML="";if($currentImage.link){$currentImage.link.outerHTML=""}resetCurrentImage();return historyManager("record")};execReplaceImage=function(e){var t,n,r,i,a,o;r=$currentImage.element;if(!r||!e){return}i=assertParam(e.src,null);t=assertParam(e.title,null);n=assertParam(e.href,null);a=assertParam(e.target,null);if(i){r.setAttribute("src",i);r.removeAttribute("ng-src")}if(t){r.setAttribute("alt",t)}if(n){if($currentImage.link){$currentImage.link.setAttribute("href",n);$currentImage.link.removeAttribute("ng-href");if(a){$currentImage.link.setAttribute("target",a)}else{$currentImage.link.removeAttribute("target")}}else{if(a){o='target="'+a+'"'}else{o=""}r.outerHTML="<a "+o+' href="'+n+'">'+'<img src="'+i+'" alt="'+t+'"></a>'}}else{if($currentImage.link){$currentImage.link.outerHTML=$currentImage.link.innerHTML}}resetCurrentImage();return historyManager("record")};execInsertLink=function(e){var t,n,r,i,a;if(!savedRange||!e){return}n=assertParam(e.href);i=assertParam(e.target);restoreSelection(savedRange);if(savedRange.endOffset>0){execCmd("createLink",false,n);getCurrentSelection();t=selectedNode;if(t.tagName==="A"&&i){t.setAttribute("target",i)}}else{if(i){a='target="'+i+'"'}else{a=""}r="<a "+a+' href="'+n+'">'+n+"</a>";pasteHtmlAtCaret(r)}watcher();return historyManager("record")};execReplaceLink=function(e){var t,n,r;t=$currentLink.element;if(!t||!e){return}n=assertParam(e.href,null);r=assertParam(e.target,null);if(n){t.setAttribute("href",n);t.removeAttribute("ng-href")}if(r){t.setAttribute("target",r)}else{t.removeAttribute("target")}resetCurrentLink();watcher();return historyManager("record")};execRemoveLink=function(){var e;e=$currentLink.element;if(!e){return}e.outerHTML=e.innerHTML;resetCurrentLink();return historyManager("record")};execInsertContent=function(e){if(!savedRange||typeof e!=="string"){return}restoreSelection(savedRange);pasteHtmlAtCaret(e);watcher();return historyManager("record")};init_editor=function(e,t,n){var r,i;load_options(n);$document=document;if(typeof e==="string"&&e!==""){$editor=$document.querySelector("[name="+e+"]")}else if(isHTMLElement(e)){$editor=e}if(!$editor){return error("Init editor failed !!")}if(!$options.nontoolbar){if(typeof t==="string"&&t!==""){$toolbar=$document.querySelector("[name="+t+"]")}else if(isHTMLElement(t)){$toolbar=t}if(!$toolbar){return error("Init toolbar failed !!")}}if(typeof $options.history!=="number"){r=$options.history>0?parseInt($options.history):100;$options.history=Math.max(r,999)}$editor.setAttribute("contenteditable","true");if($toolbar){$toolbar=createToolbarBtns($toolbar)}if($editor.getAttribute("order")){i=parseInt($editor.getAttribute("order"));$property.order=i?i:0}$editor.addEventListener("mouseup",selectHandler);$editor.addEventListener("mousedown",focusHandler);if($toolbar){$toolbar.addEventListener("mousedown",focusHandler)}$editor.addEventListener("keyup",selectHandler);window.addEventListener("mouseup",selectHandler);$document.addEventListener("click",selectHandler);window.addEventListener("mousedown",blurHandler);set_toolbar();setKeyboard($editor);console.log("---- supAngularWysiwyg init ----")};destroy_editor=function(){$editor.removeEventListener("mouseup",selectHandler);$editor.removeEventListener("mousedown",focusHandler);if($toolbar){$toolbar.removeEventListener("mousedown",focusHandler)}$editor.removeEventListener("keyup",selectHandler);window.removeEventListener("mouseup",selectHandler);$document.removeEventListener("click",selectHandler);window.removeEventListener("mousedown",blurHandler);unset_toolbar();console.log("---- supAngularWysiwyg destroyed ----")};set_toolbar=function(){var i,obj,results;if(!$toolbar){return}i=0;results=[];while(i<btnList.length){obj=$toolbar.querySelector(".btn-"+btnList[i].name);if(obj){if(btnList[i].name==="indent"){$btn_indent=obj}if(btnList[i].name==="outdent"){$btn_outdent=obj}evtManager.register(obj,eval(btnList[i].handler))}results.push(i++)}return results};unset_toolbar=function(){var i,obj,results;if(!$toolbar){return}i=0;results=[];while(i<btnList.length){obj=$toolbar.querySelector(".btn-"+btnList[i].name);if(obj){evtManager.remove(obj,eval(btnList[i].handler))}results.push(i++)}return results};load_options=function(e){var t;if(typeof e==="string"){e=e.replace(/'/g,'"');try{e=JSON.parse(e)}catch(n){t=n;e={}}}if(!e||typeof e!=="object"){e={}}$options=mergeJSON(e,$options);return $options||{}};get_options=function(){return $options};set_insert_link_hook=function(e){if(typeof e==="function"){return insertLinkHook=e}else{return false}};set_edit_link_hook=function(e){if(typeof e==="function"){return editLinkHook=e}else{return false}};set_edit_image_hook=function(e){if(typeof e==="function"){return editImgHook=e}else{return false}};set_insert_img_hook=function(e){if(typeof e==="function"){return insertImgHook=e}else{return false}};set_focus_hook=function(e){if(typeof e==="function"){return focusHook=e}else{return false}};set_blur_hook=function(e){if(typeof e==="function"){return blurHook=e}else{return false}};set_html_on_open_hook=function(e){if(typeof e==="function"){return openHTMLHook=e}else{return false}};set_html_on_close_hook=function(e){if(typeof e==="function"){return closeHTMLHook=e}else{return false}};get_property=function(){return $property};get_name=function(){return $property.name};get_order=function(){return $property.order};methods={version:ver,init:init_editor,destroy:destroy_editor,property:get_property,name:get_name,order:get_order,options:get_options,hooks:{insert_link:set_insert_link_hook,edit_link:set_edit_link_hook,insert_image:set_insert_img_hook,edit_image:set_edit_image_hook,focus:set_focus_hook,blur:set_blur_hook,html_on_open:set_html_on_open_hook,html_on_close:set_html_on_close_hook},insertImage:execInsertImage,replaceImage:execReplaceImage,removeImage:execRemoveImage,insertLink:execInsertLink,replaceLink:execReplaceLink,removeLink:execRemoveLink,insert:execInsertContent};return methods};angular.module("supAngularWysiwyg",[]).directive("supAngularWysiwyg",["$rootScope","$interval","$timeout",function(e,t,n){
return{restrict:"EA",require:"?ngModel",scope:{toolbar:"@",options:"@",skipIframe:"@","default":"@"},link:function(t,r,i,a){var o,s,u,l,c,f,d,h,p;if(!a){return}u=new supWysiwygEditor;c="sup-editor";l=r[0];if(i.name){c=i.name}else if(i.supAngularWysiwyg){c=i.supAngularWysiwyg;l.setAttribute("name",c)}if(!t.toolbar){p=c+"-toolbar"}try{f=t.options.replace(/'/g,'"');f=JSON.parse(f)}catch(v){s=v;f={}}h=e;if(!t.skipIframe&&window.parent&&parent.document!==document){h=parent.angular.element(parent.document).scope();p=parent.document.querySelector("[name="+p+"]")}n(function(){return u.init(l,p,f)},0);u.hooks.insert_link(function(){return h.$emit("editor.insert_link",u)});u.hooks.edit_link(function(e){return h.$emit("editor.edit_link",u,e)});u.hooks.insert_image(function(){return h.$emit("editor.insert_image",u)});u.hooks.edit_image(function(e){return h.$emit("editor.edit_image",u,e)});u.hooks.focus(function(){return h.$emit("editor.focus",u)});u.hooks.blur(function(){return h.$emit("editor.blur",u)});u.hooks.html_on_open(function(){return h.$emit("editor.html.open",u,a.$viewValue)});u.hooks.html_on_close(function(){return h.$emit("editor.html.close",u,a.$viewValue)});e.$emit("editor.complete",u);if(h!==e){h.$emit("editor.complete",u)}t.$on("$destroy",function(){return u.destroy()});o=false;if(!t["default"]){t["default"]=r.html()}d=function(){var e;e=r.html();if(e==="<br>"){e=""}return a.$setViewValue(e)};a.$render=function(){var e;if(!a.$viewValue&&!o){r.html(t["default"]);e=n(function(){d();return n.cancel(e)},0)}else{r.html(a.$viewValue||"")}return o=true};return r.on("blur keyup change mousedown cut paste saw",function(e){d();e.stopPropagation()})}}}])}).call(this);(function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++){if(t in this&&this[t]===e)return t}return-1};angular.date2str=function(e,t){var n,r,i,a,o,s,u;if(!(e instanceof Date)){return false}if(!t){t="YYYY-MM-DD"}r=e.getDate();o=e.getMonth()+1;u=e.getFullYear();i=e.getHours();a=e.getMinutes();s=e.getSeconds();if(r<10){r="0"+r}if(o<10){o="0"+o}if(i<10){i="0"+i}if(a<10){a="0"+a}if(s<10){s="0"+s}n=t.replace("YYYY",u).replace("MM",o).replace("DD",r).replace("hh",i).replace("mm",a).replace("ss",s);return n};angular.str2date=function(e){var t,n;if(typeof e!=="string"){return false}try{t=new Date(e)}catch(r){n=r;return false}return t};angular.sortby=function(e,t,n){var r,i;if(typeof t==="string"){t=[t]}if(!t instanceof Array){return e}r=function(e,n){var r,i,a,o;for(r=0,o=t.length;r<o;r++){a=t[r];i=1;if(a.charAt(0)==="-"){a=a.substr(1);i=-1}else if(a.charAt(0)==="+"){a=a.substr(1)}if(e[a]<n[a]){return-1*i}if(e[a]>n[a]){return 1*i}}return 0};i=e.sort(r);if(n){i=i.reverse()}return i};angular.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};angular.str2list=function(t,n,r,i){var a,o,s,u,l,c;if(typeof t!=="string"){return[]}if(!r){r=",";t=t.replace(/[]/g,",")}try{l=t.split(",")}catch(f){a=f;l=[]}u=[];for(o=0,s=l.length;o<s;o++){c=l[o];if(c){if(!i){c=c.trim()}if(n&&e.call(u,c)>=0){continue}u.push(c)}}return u};angular.list2str=function(e,t){var n,r;if(!e instanceof Array){return""}if(!t){t=", "}try{r=e.join(t)}catch(i){n=i;r=""}return r};angular.toggleList=function(e,t){var n;n=e.indexOf(t);if(n>-1){e.splice(n,1)}else{e.unshift(t)}return e};angular.inList=function(e,t){return e.indexOf(t)>-1};angular.shiftFromList=function(e,t,n){var r;r=e[n];e[n]=e[t];e[t]=r;return e};angular.removeFromList=function(e,t,n){var r,i,a,o,s,u,l,c,f;r=function(e,t){if(n){return e[n]===t[n]}else{return angular.equals(e,t)}};o=[];for(s=0,l=e.length;s<l;s++){f=e[s];if(r(f,t)){a=e.indexOf(f);o.push(a)}}for(u=0,c=o.length;u<c;u++){i=o[u];e.splice(i,1)}return e};angular.obj2jsonstr=function(e,t){var n,r,i,a;i=void 0;if(typeof e!=="object"){return e}r=0;for(a in e){if(e.hasOwnProperty(a)){r++}}if(r===0){i=""}else{try{if(!t){i=JSON.stringify(e,null,2)}else{i=JSON.stringify(e)}}catch(o){n=o;i=false}}return i};angular.jsonstr2obj=function(e){var t,n;if(!e){return{}}n=void 0;try{n=JSON.parse(e)}catch(r){t=r;n=false}return n};angular.cleanSpace=function(e,t){if(!t){return e.replace(/\s{2,}/g," ").trim()}else{return e.replace(" ","").trim()}};angular.cleanNgAttr=function(e){return e.replace(/ng-[a-zA-Z0-9_\-]+=["\'].*?["\']/gi,"")};angular.isUrl=function(e){if(type(e)!=="string"){return false}if(e.match(/^[\w]+:/)){return true}else{return false}};angular.setURLParam=function(e,t,n){var r,i,a;a=n;if(a.indexOf(e+"=")>=0){r=a.substring(0,a.indexOf(e));i=a.substring(a.indexOf(e));i=i.substring(i.indexOf("=")+1);i=i.indexOf("&")>=0?i.substring(i.indexOf("&")):"";a=r+e+"="+t+i}else{if(a.indexOf("?")<0){a+="?"+e+"="+t}else{a+="&"+e+"="+t}}return a};angular.dataURLToBlob=function(e){var t,n,r,i,a,o,s;t=";base64,";if(e.indexOf(t)===-1){i=e.split(",");n=i[0].split(":")[1];a=i[1];return new Blob([a],{type:n})}i=e.split(t);n=i[0].split(":")[1];a=window.atob(i[1]);o=a.length;s=new Uint8Array(o);r=0;while(r<o){s[r]=a.charCodeAt(r);++r}return new Blob([s],{type:n})};console.apiError=function(e,t){var n,r;console.log("---------------API Error--------------");for(n in e){r=e[n];if(r){console.error(n,":",r)}}if(t){console.log(t)}console.log("--------------------------------------")}}).call(this);
